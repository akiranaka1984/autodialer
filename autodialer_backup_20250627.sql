-- MySQL dump 10.13  Distrib 8.0.42, for Linux (x86_64)
--
-- Host: localhost    Database: autodialer
-- ------------------------------------------------------
-- Server version	8.0.42-0ubuntu0.24.04.1

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `audio_files`
--

DROP TABLE IF EXISTS `audio_files`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `audio_files` (
  `id` varchar(36) COLLATE utf8mb4_unicode_ci NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `filename` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `path` varchar(500) COLLATE utf8mb4_unicode_ci NOT NULL,
  `mimetype` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `size` int NOT NULL,
  `duration` int DEFAULT NULL,
  `description` text COLLATE utf8mb4_unicode_ci,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `audio_files`
--

LOCK TABLES `audio_files` WRITE;
/*!40000 ALTER TABLE `audio_files` DISABLE KEYS */;
INSERT INTO `audio_files` VALUES ('04e53015-8590-4a2d-8182-8d1f18d4e6bd','wガイダンステスト用','1748923304805-wã¬ã¤ãã³ã¹ãã¹ãç¨.wav','/var/www/autodialer/backend/uploads/audio/1748923304805-wã¬ã¤ãã³ã¹ãã¹ãç¨.wav','audio/wav',1109560,NULL,'アップロード: 2025/6/3 13:01:43','2025-06-03 04:01:44'),('11019289-4f07-4127-9a61-6080c3b4d562','549444996463302','11019289-4f07-4127-9a61-6080c3b4d562-549444996463302.wav','/var/www/autodialer/backend/audio-files/11019289-4f07-4127-9a61-6080c3b4d562-549444996463302.wav','audio/wav',600478,NULL,'','2025-06-13 07:27:38'),('1b3d6b39-a740-42ba-84fe-9916b5edb0db','549444996463302','1b3d6b39-a740-42ba-84fe-9916b5edb0db-549444996463302.wav','/var/www/autodialer/backend/audio-files/1b3d6b39-a740-42ba-84fe-9916b5edb0db-549444996463302.wav','audio/wav',600478,NULL,'','2025-06-13 06:59:30'),('2a12d1ec-fd80-437d-83ff-0c59cb2cbb3d','ガイダンス①修正前テスト用','2a12d1ec-fd80-437d-83ff-0c59cb2cbb3d-ã¬ã¤ãã³ã¹â_ä¿®æ­£åãã¹ãç¨.wav','/var/www/autodialer/backend/audio-files/2a12d1ec-fd80-437d-83ff-0c59cb2cbb3d-ã¬ã¤ãã³ã¹â_ä¿®æ­£åãã¹ãç¨.wav','audio/wav',1396762,NULL,'','2025-06-06 16:08:56'),('719d588e-04ae-4868-9431-d6042fd33022','wガイダンス②','1748876646596-wã¬ã¤ãã³ã¹â¢.wav','/var/www/autodialer/backend/uploads/audio/1748876646596-wã¬ã¤ãã³ã¹â¢.wav','audio/wav',1531448,NULL,'アップロード: 2025/6/3 0:04:05','2025-06-02 15:04:06'),('75c0852d-f8fb-48ef-92d7-63ae167a5f67','ガイダンス①修正前テスト用','1749225920507-ã¬ã¤ãã³ã¹â_ä¿®æ­£åãã¹ãç¨.wav','/var/www/autodialer/backend/uploads/audio/1749225920507-ã¬ã¤ãã³ã¹â_ä¿®æ­£åãã¹ãç¨.wav','audio/wav',1396762,NULL,'アップロード: 2025/6/7 1:05:18','2025-06-06 16:05:20'),('823b60ce-e4dd-44bd-b738-e0164da4eb98','549444996463302','823b60ce-e4dd-44bd-b738-e0164da4eb98-549444996463302.wav','/var/www/autodialer/backend/audio-files/823b60ce-e4dd-44bd-b738-e0164da4eb98-549444996463302.wav','audio/wav',600478,NULL,'','2025-06-16 04:55:20'),('94d8ddb8-bc4f-488b-b258-0e0960366a33','549444996463302','94d8ddb8-bc4f-488b-b258-0e0960366a33-549444996463302.wav','/var/www/autodialer/backend/audio-files/94d8ddb8-bc4f-488b-b258-0e0960366a33-549444996463302.wav','audio/wav',600478,NULL,'','2025-06-14 09:32:07'),('979360f6-6480-4de9-8244-a7092e66bd30','549444996463302','979360f6-6480-4de9-8244-a7092e66bd30-549444996463302.wav','/var/www/autodialer/backend/audio-files/979360f6-6480-4de9-8244-a7092e66bd30-549444996463302.wav','audio/wav',600478,NULL,'','2025-06-16 07:13:35'),('a1d9e8fb-2dcc-4a09-84dd-92a4da62ae8a','549444996463302','a1d9e8fb-2dcc-4a09-84dd-92a4da62ae8a-549444996463302.wav','/var/www/autodialer/backend/audio-files/a1d9e8fb-2dcc-4a09-84dd-92a4da62ae8a-549444996463302.wav','audio/wav',600478,NULL,'','2025-06-13 07:28:53'),('a7884b50-ebf5-4d54-98b5-1aac662cf229','549444996463302','a7884b50-ebf5-4d54-98b5-1aac662cf229-549444996463302.wav','/var/www/autodialer/backend/audio-files/a7884b50-ebf5-4d54-98b5-1aac662cf229-549444996463302.wav','audio/wav',600478,NULL,'','2025-06-13 07:18:05'),('ca5fc1db-81c0-445c-8d43-b8cba10a9022','549444996463302','ca5fc1db-81c0-445c-8d43-b8cba10a9022-549444996463302.wav','/var/www/autodialer/backend/audio-files/ca5fc1db-81c0-445c-8d43-b8cba10a9022-549444996463302.wav','audio/wav',600478,NULL,'','2025-06-10 14:06:02'),('d88ddd84-e82c-4985-a7bb-d9b936cf3f46','549444996463302','d88ddd84-e82c-4985-a7bb-d9b936cf3f46-549444996463302.wav','/var/www/autodialer/backend/audio-files/d88ddd84-e82c-4985-a7bb-d9b936cf3f46-549444996463302.wav','audio/wav',600478,NULL,'','2025-06-16 07:58:32'),('e568593e-5e71-4403-a729-a930908d763a','ガイダンス①修正前テスト用','e568593e-5e71-4403-a729-a930908d763a-ã¬ã¤ãã³ã¹â_ä¿®æ­£åãã¹ãç¨.wav','/var/www/autodialer/backend/audio-files/e568593e-5e71-4403-a729-a930908d763a-ã¬ã¤ãã³ã¹â_ä¿®æ­£åãã¹ãç¨.wav','audio/wav',1396762,NULL,'','2025-06-07 03:48:48'),('test-audio-001','テスト音声ファイル','welcome-test.wav','/var/www/autodialer/backend/audio-files/welcome-test.wav','audio/wav',8000,NULL,'テスト用音声メッセージ','2025-05-31 01:21:17');
/*!40000 ALTER TABLE `audio_files` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `audio_playback_logs`
--

DROP TABLE IF EXISTS `audio_playback_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `audio_playback_logs` (
  `id` int NOT NULL AUTO_INCREMENT,
  `call_id` varchar(255) NOT NULL,
  `audio_file_id` varchar(255) DEFAULT NULL,
  `audio_type` enum('welcome','menu','goodbye','error') NOT NULL,
  `played_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `status` enum('played','failed','skipped') DEFAULT 'played',
  `duration_ms` int DEFAULT '0',
  `error_message` text,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_call_id` (`call_id`),
  KEY `idx_audio_file_id` (`audio_file_id`),
  KEY `idx_played_at` (`played_at`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `audio_playback_logs`
--

LOCK TABLES `audio_playback_logs` WRITE;
/*!40000 ALTER TABLE `audio_playback_logs` DISABLE KEYS */;
/*!40000 ALTER TABLE `audio_playback_logs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `call_logs`
--

DROP TABLE IF EXISTS `call_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `call_logs` (
  `id` int NOT NULL AUTO_INCREMENT,
  `call_id` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `campaign_id` int DEFAULT NULL,
  `contact_id` int DEFAULT NULL,
  `caller_id_id` int DEFAULT NULL,
  `phone_number` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `start_time` datetime DEFAULT NULL,
  `end_time` datetime DEFAULT NULL,
  `duration` int DEFAULT '0',
  `status` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `keypress` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `call_provider` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT 'sip',
  `has_audio` tinyint(1) DEFAULT '0',
  `audio_file_count` int DEFAULT '0',
  `audio_played_at` timestamp NULL DEFAULT NULL,
  `test_call` tinyint(1) DEFAULT '0',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `transfer_attempted` tinyint(1) NOT NULL DEFAULT '0',
  `transfer_successful` tinyint(1) NOT NULL DEFAULT '0',
  `transfer_target` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `transfer_duration` int NOT NULL DEFAULT '0',
  `ivr_menu_reached` tinyint(1) NOT NULL DEFAULT '0',
  `is_transfer` tinyint(1) DEFAULT '0' COMMENT '転送通話フラグ',
  `transfer_id` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '転送ID',
  `transfer_type` enum('customer','operator') COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '通話種別',
  PRIMARY KEY (`id`),
  UNIQUE KEY `call_id` (`call_id`),
  KEY `campaign_id` (`campaign_id`),
  KEY `contact_id` (`contact_id`),
  KEY `caller_id_id` (`caller_id_id`),
  CONSTRAINT `call_logs_ibfk_1` FOREIGN KEY (`campaign_id`) REFERENCES `campaigns` (`id`),
  CONSTRAINT `call_logs_ibfk_2` FOREIGN KEY (`contact_id`) REFERENCES `contacts` (`id`),
  CONSTRAINT `call_logs_ibfk_3` FOREIGN KEY (`caller_id_id`) REFERENCES `caller_ids` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=660 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `call_logs`
--

LOCK TABLES `call_logs` WRITE;
/*!40000 ALTER TABLE `call_logs` DISABLE KEYS */;
INSERT INTO `call_logs` VALUES (1,'sip-1748576013660-5306',NULL,NULL,NULL,'05018086649','2025-05-30 03:33:38','2025-05-30 03:34:06',10,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-30 03:33:38',0,0,NULL,0,0,0,NULL,NULL),(2,'sip-1748577083746-9086',NULL,NULL,NULL,'05018086649','2025-05-30 03:51:23','2025-05-30 03:51:24',10,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-30 03:51:23',0,0,NULL,0,0,0,NULL,NULL),(3,'sip-mock-1748580367171',NULL,NULL,NULL,'09012345678','2025-05-30 04:46:07','2025-05-30 04:46:17',10,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-30 04:46:07',0,0,NULL,0,0,0,NULL,NULL),(4,'sip-mock-1748580403208',NULL,NULL,NULL,'09012345678','2025-05-30 04:46:43','2025-05-30 04:46:53',10,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-30 04:46:43',0,0,NULL,0,0,0,NULL,NULL),(5,'sip-mock-1748580404215',NULL,NULL,NULL,'09012345678','2025-05-30 04:46:44','2025-05-30 04:46:54',10,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-30 04:46:44',0,0,NULL,0,0,0,NULL,NULL),(6,'sip-1748580494255-3353',NULL,NULL,NULL,'05018086649','2025-05-30 04:48:14','2025-05-30 04:48:15',10,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-30 04:48:14',0,0,NULL,0,0,0,NULL,NULL),(9,'sip-1748611763715-2573',NULL,NULL,NULL,'05018086649','2025-05-30 13:29:24','2025-05-30 13:29:25',10,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-30 13:29:24',0,0,NULL,0,0,0,NULL,NULL),(10,'sip-1748612606422-4887',NULL,NULL,NULL,'05018086649','2025-05-30 13:43:27','2025-05-30 13:43:28',10,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-30 13:43:27',0,0,NULL,0,0,0,NULL,NULL),(16,'sip-1748615041477-1764',NULL,NULL,NULL,'05018086649','2025-05-30 14:24:02','2025-05-30 14:24:03',10,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-30 14:24:02',0,0,NULL,0,0,0,NULL,NULL),(19,'sip-1748616702929-626',NULL,NULL,NULL,'05018086649','2025-05-30 14:51:43','2025-05-30 14:51:44',10,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-30 14:51:43',0,0,NULL,0,0,0,NULL,NULL),(23,'sip-1748619949318-7025',NULL,NULL,5,'05018086649','2025-05-30 15:45:50','2025-05-30 15:45:51',10,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-30 15:45:50',0,0,NULL,0,0,0,NULL,NULL),(25,'sip-1748620172240-3678',NULL,NULL,NULL,'05018086649','2025-05-30 15:49:33','2025-05-30 15:49:34',10,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-30 15:49:33',0,0,NULL,0,0,0,NULL,NULL),(26,'sip-1748620387983-2418',NULL,NULL,NULL,'05018086649','2025-05-30 15:53:09','2025-05-30 15:53:10',10,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-30 15:53:09',0,0,NULL,0,0,0,NULL,NULL),(28,'sip-1748652730578-261',NULL,NULL,NULL,'05018086649','2025-05-31 00:52:15','2025-05-31 00:52:56',0,'FAILED',NULL,'sip',0,0,NULL,1,'2025-05-31 00:52:15',0,0,NULL,0,0,0,NULL,NULL),(29,'sip-1748653332198-2501',NULL,NULL,NULL,'05018086649','2025-05-31 01:02:17','2025-05-31 01:02:58',0,'FAILED',NULL,'sip',0,0,NULL,1,'2025-05-31 01:02:17',0,0,NULL,0,0,0,NULL,NULL),(30,'sip-1748654047375-8613',NULL,NULL,5,'05018086649','2025-05-31 01:14:12','2025-05-31 01:14:53',0,'FAILED',NULL,'sip',0,0,NULL,1,'2025-05-31 01:14:12',0,0,NULL,0,0,0,NULL,NULL),(31,'sip-1748654173733-7237',NULL,NULL,5,'05018086649','2025-05-31 01:16:18','2025-05-31 01:16:59',0,'FAILED',NULL,'sip',0,0,NULL,1,'2025-05-31 01:16:18',0,0,NULL,0,0,0,NULL,NULL),(32,'sip-1748654315368-749',NULL,NULL,5,'05018086649','2025-05-31 01:18:40','2025-05-31 01:19:21',0,'FAILED',NULL,'sip',0,0,NULL,1,'2025-05-31 01:18:40',0,0,NULL,0,0,0,NULL,NULL),(33,'sip-1748654504518-7824',NULL,NULL,5,'05018086649','2025-05-31 01:21:49','2025-05-31 01:22:30',0,'FAILED',NULL,'sip',0,0,NULL,1,'2025-05-31 01:21:49',0,0,NULL,0,0,0,NULL,NULL),(34,'sip-1748654526478-484',NULL,NULL,5,'05018086649','2025-05-31 01:22:07','2025-05-31 01:22:08',30,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 01:22:07',0,0,NULL,0,0,0,NULL,NULL),(35,'sip-1748655471198-9911',NULL,NULL,5,'05018086649','2025-05-31 01:37:56','2025-05-31 01:38:37',0,'FAILED',NULL,'sip',0,0,NULL,1,'2025-05-31 01:37:56',0,0,NULL,0,0,0,NULL,NULL),(36,'sip-1748655566299-1053',NULL,NULL,NULL,'05018086649','2025-05-31 01:39:31','2025-05-31 01:40:12',0,'FAILED',NULL,'sip',0,0,NULL,1,'2025-05-31 01:39:31',0,0,NULL,0,0,0,NULL,NULL),(37,'sip-1748655628842-3193',NULL,NULL,NULL,'05018086649','2025-05-31 01:40:33','2025-05-31 01:41:14',0,'FAILED',NULL,'sip',0,0,NULL,1,'2025-05-31 01:40:33',0,0,NULL,0,0,0,NULL,NULL),(38,'sip-1748656199866-6941',NULL,NULL,5,'05018086649','2025-05-31 01:50:04','2025-05-31 01:50:45',0,'FAILED',NULL,'sip',0,0,NULL,1,'2025-05-31 01:50:04',0,0,NULL,0,0,0,NULL,NULL),(44,'sip-1748658788044-3471',NULL,NULL,5,'05018086649','2025-05-31 02:33:13','2025-05-31 02:33:54',0,'FAILED',NULL,'sip',0,0,NULL,1,'2025-05-31 02:33:13',0,0,NULL,0,0,0,NULL,NULL),(48,'sip-1748662048292-2688',NULL,NULL,5,'05018086649','2025-05-31 03:27:30','2025-05-31 03:27:46',15,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 03:27:30',0,0,NULL,0,0,0,NULL,NULL),(49,'sip-1748662355169-6048',NULL,NULL,5,'05018086649','2025-05-31 03:32:36','2025-05-31 03:32:38',15,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 03:32:36',0,0,NULL,0,0,0,NULL,NULL),(52,'sip-1748664828762-5461',NULL,NULL,NULL,'05018086649','2025-05-31 04:13:50','2025-05-31 04:13:50',0,'FAILED',NULL,'sip',0,0,NULL,1,'2025-05-31 04:13:50',0,0,NULL,0,0,0,NULL,NULL),(53,'sip-1748664850124-9100',NULL,NULL,NULL,'05018086649','2025-05-31 04:14:12','2025-05-31 04:14:28',15,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 04:14:12',0,0,NULL,0,0,0,NULL,NULL),(55,'sip-1748665461084-2130',NULL,NULL,NULL,'05018086649','2025-05-31 04:24:23','2025-05-31 04:24:39',15,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 04:24:23',0,0,NULL,0,0,0,NULL,NULL),(58,'sip-1748668136530-9632',NULL,NULL,NULL,'09012345678','2025-05-31 05:08:58','2025-05-31 05:09:14',15,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 05:08:58',0,0,NULL,0,0,0,NULL,NULL),(61,'sip-1748669737488-7493',NULL,NULL,NULL,'09012345678','2025-05-31 05:35:39','2025-05-31 05:35:55',15,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 05:35:39',0,0,NULL,0,0,0,NULL,NULL),(62,'sip-1748669901668-7058',NULL,NULL,NULL,'05018086649','2025-05-31 05:38:23','2025-05-31 05:38:39',15,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 05:38:23',0,0,NULL,0,0,0,NULL,NULL),(63,'sip-1748672398769-1110',NULL,NULL,NULL,'05018086649','2025-05-31 06:20:00','2025-05-31 06:20:16',15,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 06:20:00',0,0,NULL,0,0,0,NULL,NULL),(64,'sip-1748675082986-8901',NULL,NULL,NULL,'05018086649','2025-05-31 07:04:44','2025-05-31 07:05:00',15,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 07:04:44',0,0,NULL,0,0,0,NULL,NULL),(65,'sip-1748676051395-2985',NULL,NULL,NULL,'05018086649','2025-05-31 07:20:53','2025-05-31 07:21:09',15,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 07:20:53',0,0,NULL,0,0,0,NULL,NULL),(66,'sip-1748676164776-3424',NULL,NULL,NULL,'05018086649','2025-05-31 07:22:46','2025-05-31 07:23:02',15,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 07:22:46',0,0,NULL,0,0,0,NULL,NULL),(67,'sip-1748676653333-4439',NULL,NULL,NULL,'05018086649','2025-05-31 07:30:55','2025-05-31 07:31:11',15,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 07:30:55',0,0,NULL,0,0,0,NULL,NULL),(68,'sip-1748676723131-5754',NULL,NULL,NULL,'05018086649','2025-05-31 07:32:05','2025-05-31 07:32:21',15,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 07:32:05',0,0,NULL,0,0,0,NULL,NULL),(69,'sip-1748676857163-3321',NULL,NULL,NULL,'05018086649','2025-05-31 07:34:19','2025-05-31 07:34:35',15,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 07:34:19',0,0,NULL,0,0,0,NULL,NULL),(72,'sip-1748684703245-815',NULL,NULL,NULL,'05018086649','2025-05-31 09:45:05','2025-05-31 09:45:21',15,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 09:45:05',0,0,NULL,0,0,0,NULL,NULL),(74,'sip-1748686103004-2954',NULL,NULL,NULL,'05018086649','2025-05-31 10:08:26','2025-05-31 10:08:27',30,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 10:08:26',0,0,NULL,0,0,0,NULL,NULL),(75,'sip-1748686813013-7142',NULL,NULL,NULL,'05018086649','2025-05-31 10:20:16','2025-05-31 10:20:17',30,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 10:20:16',0,0,NULL,0,0,0,NULL,NULL),(76,'sip-1748686958350-1804',NULL,NULL,NULL,'05018086649','2025-05-31 10:22:41','2025-05-31 10:22:42',30,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 10:22:41',0,0,NULL,0,0,0,NULL,NULL),(80,'sip-1748687698869-4902',NULL,NULL,NULL,'05018086649','2025-05-31 10:34:59',NULL,0,'ORIGINATING',NULL,'sip',0,0,NULL,1,'2025-05-31 10:34:59',0,0,NULL,0,0,0,NULL,NULL),(83,'sip-1748688376373-8620',NULL,NULL,NULL,'05018086649','2025-05-31 10:46:20',NULL,0,'ORIGINATING',NULL,'sip',0,0,NULL,1,'2025-05-31 10:46:20',0,0,NULL,0,0,0,NULL,NULL),(88,'sip-1748707273218-4508',NULL,NULL,5,'08012345678','2025-05-31 16:01:23','2025-05-31 16:01:53',35,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-05-31 16:01:23',0,0,NULL,0,0,0,NULL,NULL),(93,'sip-1748737746709-7755',NULL,NULL,5,'05018086649','2025-06-01 00:29:16','2025-06-01 00:29:46',35,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-06-01 00:29:16',0,0,NULL,0,0,0,NULL,NULL),(94,'sip-1748737898771-102',NULL,NULL,5,'05018086649','2025-06-01 00:31:48','2025-06-01 00:32:18',35,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-06-01 00:31:48',0,0,NULL,0,0,0,NULL,NULL),(95,'sip-1748739540307-5780',NULL,NULL,5,'05018086649','2025-06-01 00:59:10','2025-06-01 00:59:40',35,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-06-01 00:59:10',0,0,NULL,0,0,0,NULL,NULL),(96,'sip-1748740754750-5352',NULL,NULL,5,'05018086649','2025-06-01 01:19:24','2025-06-01 01:19:54',35,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-06-01 01:19:24',0,0,NULL,0,0,0,NULL,NULL),(97,'sip-1748740769199-8913',NULL,NULL,5,'05018086649','2025-06-01 01:19:30',NULL,0,'ORIGINATING',NULL,'sip',0,0,NULL,1,'2025-06-01 01:19:30',0,0,NULL,0,0,0,NULL,NULL),(112,'sip-1748914563758-5257',NULL,NULL,6,'0335289359','2025-06-03 01:36:13','2025-06-03 01:36:43',35,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-06-03 01:36:13',0,0,NULL,0,0,0,NULL,NULL),(184,'sip-1748915688220-7316',NULL,NULL,6,'0335289359','2025-06-03 01:54:49',NULL,0,'ORIGINATING',NULL,'sip',0,0,NULL,1,'2025-06-03 01:54:49',0,0,NULL,0,0,0,NULL,NULL),(511,'sip-1749036657350-1655',NULL,NULL,6,'0335289359','2025-06-04 11:31:07','2025-06-04 11:31:37',35,'ANSWERED',NULL,'sip',0,0,NULL,1,'2025-06-04 11:31:07',0,0,NULL,0,0,0,NULL,NULL),(594,'sip-1749896715872-6395',76,10071,8,'05018086649','2025-06-14 10:25:20','2025-06-14 10:25:47',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-14 10:25:20',0,0,NULL,0,0,0,NULL,NULL),(595,'sip-1750049757232-2082',77,10072,8,'05018086649','2025-06-16 04:56:01','2025-06-16 04:56:29',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-16 04:56:01',0,0,NULL,0,0,0,NULL,NULL),(597,'sip-1750058028660-7395',79,10074,8,'05018086649','2025-06-16 07:13:52','2025-06-16 07:14:48',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-16 07:13:52',0,0,NULL,0,0,0,NULL,NULL),(598,'sip-1750060720648-9083',80,10075,8,'05018086649','2025-06-16 07:58:44','2025-06-16 07:59:40',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-16 07:58:44',0,0,NULL,0,0,0,NULL,NULL),(599,'sip-1750066217362-1451',81,10076,8,'05018086649','2025-06-16 09:30:27','2025-06-16 09:31:17',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-16 09:30:27',0,0,NULL,0,0,0,NULL,NULL),(600,'sip-1750067127446-1307',82,10077,8,'05018086649','2025-06-16 09:45:37','2025-06-16 09:46:27',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-16 09:45:37',0,0,NULL,0,0,0,NULL,NULL),(601,'sip-1750067420675-6136',83,10078,8,'05018086649','2025-06-16 09:50:30','2025-06-16 09:51:20',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-16 09:50:30',0,0,NULL,0,0,0,NULL,NULL),(602,'sip-1750068571121-8415',84,10079,8,'05018086649','2025-06-16 10:09:31','2025-06-16 10:10:31',0,'FAILED',NULL,'sip',1,1,NULL,0,'2025-06-16 10:09:31',0,0,NULL,0,0,0,NULL,NULL),(603,'sip-1750068802880-1358',85,10080,8,'05018086649','2025-06-16 10:13:32','2025-06-16 10:14:22',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-16 10:13:32',0,0,NULL,0,0,0,NULL,NULL),(604,'sip-1750069032898-2368',86,10081,8,'05018086649','2025-06-16 10:17:22','2025-06-16 10:18:12',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-16 10:17:22',0,0,NULL,0,0,0,NULL,NULL),(605,'sip-1750069392901-7588',87,10082,8,'05018086649','2025-06-16 10:23:13','2025-06-16 10:24:12',0,'FAILED',NULL,'sip',1,1,NULL,0,'2025-06-16 10:23:13',0,0,NULL,0,0,0,NULL,NULL),(606,'sip-1750073309646-540',88,10083,8,'05018086649','2025-06-16 11:28:30','2025-06-16 11:29:01',0,'FAILED',NULL,'sip',1,1,NULL,0,'2025-06-16 11:28:30',0,0,NULL,0,0,0,NULL,NULL),(607,'sip-1750073554678-2093',89,10084,8,'05018086649','2025-06-16 11:32:35','2025-06-16 11:33:06',0,'FAILED',NULL,'sip',1,1,NULL,0,'2025-06-16 11:32:35',0,0,NULL,0,0,0,NULL,NULL),(608,'sip-1750073887254-5174',90,10085,8,'05018086649','2025-06-16 11:38:17','2025-06-16 11:38:39',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-16 11:38:17',0,0,NULL,0,0,0,NULL,NULL),(609,'sip-1750075140792-2677',91,10086,8,'05018086649','2025-06-16 11:59:10','2025-06-16 11:59:32',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-16 11:59:10',0,0,NULL,0,0,0,NULL,NULL),(610,'sip-1750075765887-5977',92,10087,8,'05018086649','2025-06-16 12:09:35','2025-06-16 12:09:57',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-16 12:09:35',0,0,NULL,0,0,0,NULL,NULL),(620,'sip-1750085344725-5787',102,10097,8,'05018086649','2025-06-16 14:49:14','2025-06-16 14:49:36',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-16 14:49:14',0,0,NULL,0,0,0,NULL,NULL),(621,'sip-1750087964949-8909',103,10098,8,'05018086649','2025-06-16 15:32:54','2025-06-16 15:33:16',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-16 15:32:54',0,0,NULL,0,0,0,NULL,NULL),(622,'sip-1750088538440-9908',104,10099,8,'05018086649','2025-06-16 15:42:28','2025-06-16 15:42:50',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-16 15:42:28',0,0,NULL,0,0,0,NULL,NULL),(623,'sip-1750141441189-932',105,10100,8,'05018086649','2025-06-17 06:24:02','2025-06-17 06:24:33',0,'FAILED',NULL,'sip',1,1,NULL,0,'2025-06-17 06:24:02',0,0,NULL,0,0,0,NULL,NULL),(624,'sip-1750141516208-7119',106,10101,8,'05018086649','2025-06-17 06:25:17','2025-06-17 06:25:48',0,'FAILED',NULL,'sip',1,1,NULL,0,'2025-06-17 06:25:17',0,0,NULL,0,0,0,NULL,NULL),(626,'sip-1750142552641-3563',108,10103,8,'05018086649','2025-06-17 06:42:33','2025-06-17 06:43:04',0,'FAILED',NULL,'sip',1,1,NULL,0,'2025-06-17 06:42:33',0,0,NULL,0,0,0,NULL,NULL),(627,'sip-1750143866138-2062',110,10105,8,'05018086649','2025-06-17 07:04:36','2025-06-17 07:04:58',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-17 07:04:36',0,0,NULL,0,0,0,NULL,NULL),(628,'sip-1750144691175-9631',111,10106,8,'05018086649','2025-06-17 07:18:21','2025-06-17 07:18:43',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-17 07:18:21',0,0,NULL,0,0,0,NULL,NULL),(630,'sip-1750151447963-8223',113,10108,8,'05018086649','2025-06-17 09:10:48','2025-06-17 09:11:19',0,'FAILED',NULL,'sip',1,1,NULL,0,'2025-06-17 09:10:48',0,0,NULL,0,0,0,NULL,NULL),(632,'sip-1750152150861-7719',115,10110,8,'05018086649','2025-06-17 09:22:40','2025-06-17 09:23:02',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-17 09:22:40',0,0,NULL,0,0,0,NULL,NULL),(633,'sip-1750152940306-6629',116,10111,8,'05018086649','2025-06-17 09:35:50','2025-06-17 09:36:12',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-17 09:35:50',0,0,NULL,0,0,0,NULL,NULL),(634,'sip-1750153721153-3436',117,10112,8,'05018086649','2025-06-17 09:48:42','2025-06-17 09:49:13',0,'FAILED',NULL,'sip',1,1,NULL,0,'2025-06-17 09:48:42',0,0,NULL,0,0,0,NULL,NULL),(635,'sip-1750210004435-5507',118,10113,8,'05018086649','2025-06-18 01:26:45','2025-06-18 01:27:16',0,'FAILED',NULL,'sip',1,1,NULL,0,'2025-06-18 01:26:45',0,0,NULL,0,0,0,NULL,NULL),(636,'ivr-1750211429925-2243',118,NULL,8,'05018086649','2025-06-18 01:50:29',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,1,'2025-06-18 01:50:29',0,0,NULL,0,0,0,NULL,NULL),(637,'ivr-1750213865702-4493',118,NULL,8,'05018086649','2025-06-18 02:31:05',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,1,'2025-06-18 02:31:05',0,0,NULL,0,0,0,NULL,NULL),(638,'ivr-1750224948306-4363',119,NULL,8,'05018086649','2025-06-18 05:35:48',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,1,'2025-06-18 05:35:48',0,0,NULL,0,0,0,NULL,NULL),(639,'sip-1750226930477-1264',120,10115,8,'05018086649','2025-06-18 06:09:00','2025-06-18 06:09:22',30,'ANSWERED',NULL,'sip',1,1,NULL,0,'2025-06-18 06:09:00',0,0,NULL,0,0,0,NULL,NULL),(640,'ivr-1750307074618-9429',134,NULL,8,'09012345678','2025-06-19 04:24:34',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,1,'2025-06-19 04:24:34',0,0,NULL,0,0,0,NULL,NULL),(641,'ivr-1750307302843-4854',134,NULL,8,'05018086649','2025-06-19 04:28:22',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,1,'2025-06-19 04:28:22',0,0,NULL,0,0,0,NULL,NULL),(642,'ivr-1750307348519-3334',134,NULL,8,'05018086649','2025-06-19 04:29:08',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,1,'2025-06-19 04:29:08',0,0,NULL,0,0,0,NULL,NULL),(643,'ivr-1750313163522-4754',134,NULL,8,'09012345678','2025-06-19 06:06:03',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,1,'2025-06-19 06:06:03',0,0,NULL,0,0,0,NULL,NULL),(644,'ami-1750322108020-5241',137,10132,8,'05018086649','2025-06-19 08:35:08',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,0,'2025-06-19 08:35:08',0,0,NULL,0,0,0,NULL,NULL),(645,'ami-1750322743815-2776',138,10133,8,'05018086649','2025-06-19 08:45:43',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,0,'2025-06-19 08:45:43',0,0,NULL,0,0,0,NULL,NULL),(646,'ivr-1750325221553-7647',138,NULL,8,'05018086649','2025-06-19 09:27:01',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,1,'2025-06-19 09:27:01',0,0,NULL,0,0,0,NULL,NULL),(647,'ivr-1750325258721-4417',138,NULL,8,'05018086649','2025-06-19 09:27:38',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,1,'2025-06-19 09:27:38',0,0,NULL,0,0,0,NULL,NULL),(648,'ami-1750325769137-955',139,10134,8,'05018086649','2025-06-19 09:36:09',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,0,'2025-06-19 09:36:09',0,0,NULL,0,0,0,NULL,NULL),(649,'ami-1750329700054-3122',140,10135,8,'05018086649','2025-06-19 10:41:40',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,0,'2025-06-19 10:41:40',0,0,NULL,0,0,0,NULL,NULL),(650,'ami-1750339776498-75',119,10114,8,'05018086649','2025-06-19 13:29:36',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,0,'2025-06-19 13:29:36',0,0,NULL,0,0,0,NULL,NULL),(651,'ami-1750344526850-4357',141,10136,8,'05018086649','2025-06-19 14:48:46',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,0,'2025-06-19 14:48:46',0,0,NULL,0,0,0,NULL,NULL),(652,'ami-1750344841896-8856',142,10137,8,'05018086649','2025-06-19 14:54:01',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,0,'2025-06-19 14:54:01',0,0,NULL,0,0,0,NULL,NULL),(653,'ami-1750344976688-4695',143,10138,8,'05018086649','2025-06-19 14:56:16',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,0,'2025-06-19 14:56:16',0,0,NULL,0,0,0,NULL,NULL),(654,'ami-1750355662802-7237',144,10139,8,'05018086649','2025-06-19 17:54:22',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,0,'2025-06-19 17:54:22',0,0,NULL,0,0,0,NULL,NULL),(655,'ami-1750355857832-9333',145,10140,8,'05018086649','2025-06-19 17:57:37',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,0,'2025-06-19 17:57:37',0,0,NULL,0,0,0,NULL,NULL),(656,'ami-1750356172860-3907',146,10141,8,'05018086649','2025-06-19 18:02:52',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,0,'2025-06-19 18:02:52',0,0,NULL,0,0,0,NULL,NULL),(657,'ami-1750391593761-536',147,10142,8,'05018086649','2025-06-20 03:53:13',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,0,'2025-06-20 03:53:13',0,0,NULL,0,0,0,NULL,NULL),(658,'ami-1750391927282-457',148,10143,8,'05018086649','2025-06-20 03:58:47',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,0,'2025-06-20 03:58:47',0,0,NULL,0,0,0,NULL,NULL),(659,'ami-1750398442214-7593',149,10144,8,'05018086649','2025-06-20 05:47:22',NULL,0,'ORIGINATING',NULL,'sip',1,1,NULL,0,'2025-06-20 05:47:22',0,0,NULL,0,0,0,NULL,NULL);
/*!40000 ALTER TABLE `call_logs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `caller_channels`
--

DROP TABLE IF EXISTS `caller_channels`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `caller_channels` (
  `id` int NOT NULL AUTO_INCREMENT,
  `caller_id_id` int NOT NULL,
  `username` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `password` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `channel_type` enum('outbound','inbound','both') COLLATE utf8mb4_unicode_ci DEFAULT 'both',
  `status` enum('available','busy','error') COLLATE utf8mb4_unicode_ci DEFAULT 'available',
  `last_used` datetime DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `caller_id_id` (`caller_id_id`),
  CONSTRAINT `caller_channels_ibfk_1` FOREIGN KEY (`caller_id_id`) REFERENCES `caller_ids` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=101 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `caller_channels`
--

LOCK TABLES `caller_channels` WRITE;
/*!40000 ALTER TABLE `caller_channels` DISABLE KEYS */;
INSERT INTO `caller_channels` VALUES (76,8,'03500001','20111627','both','available',NULL,'2025-06-14 10:03:11','2025-06-14 10:03:11'),(77,8,'03500002','73891719','both','available',NULL,'2025-06-14 10:03:24','2025-06-14 10:03:24'),(78,8,'03500003','91100072','both','available',NULL,'2025-06-14 10:03:37','2025-06-14 10:03:37'),(79,8,'03500004','77751552','both','available',NULL,'2025-06-14 10:03:54','2025-06-14 10:03:54'),(80,8,'03500005','52546583','both','available',NULL,'2025-06-14 10:04:07','2025-06-14 10:04:07'),(81,8,'03500006','97474118','both','available',NULL,'2025-06-14 10:04:20','2025-06-14 10:04:20'),(82,8,'03500007','73578548','both','available',NULL,'2025-06-14 10:04:32','2025-06-14 10:04:32'),(83,8,'03500008','81357766','both','available',NULL,'2025-06-14 10:04:45','2025-06-14 10:04:45'),(84,8,'03500009','90164756','both','available',NULL,'2025-06-14 10:04:58','2025-06-14 10:04:58'),(85,8,'03500010','88502593','both','available',NULL,'2025-06-14 10:05:10','2025-06-14 10:05:10'),(86,8,'03500011','67172110','both','available',NULL,'2025-06-14 10:05:22','2025-06-14 10:05:22'),(87,8,'03500012','33266664','both','available',NULL,'2025-06-14 10:05:36','2025-06-14 10:05:36'),(88,8,'03500013','87756512','both','available',NULL,'2025-06-14 10:05:48','2025-06-14 10:05:48'),(89,8,'03500014','79019564','both','available',NULL,'2025-06-14 10:06:00','2025-06-14 10:06:00'),(90,8,'03500015','47353035','both','available',NULL,'2025-06-14 10:06:12','2025-06-14 10:06:12'),(91,8,'03500016','87837347','both','available',NULL,'2025-06-14 10:06:22','2025-06-14 10:06:22'),(92,8,'03500017','27414037','both','available',NULL,'2025-06-14 10:06:35','2025-06-14 10:06:35'),(93,8,'03500018','00953616','both','available',NULL,'2025-06-14 10:06:45','2025-06-14 10:06:45'),(94,8,'03500019','16473532','both','available',NULL,'2025-06-14 10:06:56','2025-06-14 10:06:56'),(95,8,'03500020','52993240','both','available',NULL,'2025-06-14 10:07:07','2025-06-14 10:07:07'),(96,8,'03500021','78395241','both','available',NULL,'2025-06-14 10:07:18','2025-06-14 10:07:18'),(97,8,'03500022','94098776','both','available',NULL,'2025-06-14 10:07:30','2025-06-14 10:07:30'),(98,8,'03500023','40124291','both','available',NULL,'2025-06-14 10:07:41','2025-06-14 10:07:41'),(99,8,'03500024','89893573','both','available',NULL,'2025-06-14 10:07:52','2025-06-14 10:07:52'),(100,8,'03500025','00794801','both','available',NULL,'2025-06-14 10:08:05','2025-06-14 10:08:05');
/*!40000 ALTER TABLE `caller_channels` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `caller_channels_backup`
--

DROP TABLE IF EXISTS `caller_channels_backup`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `caller_channels_backup` (
  `id` int NOT NULL DEFAULT '0',
  `caller_id_id` int NOT NULL,
  `username` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `password` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `channel_type` enum('outbound','inbound','both') COLLATE utf8mb4_unicode_ci DEFAULT 'both',
  `status` enum('available','busy','error') COLLATE utf8mb4_unicode_ci DEFAULT 'available',
  `last_used` datetime DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `caller_channels_backup`
--

LOCK TABLES `caller_channels_backup` WRITE;
/*!40000 ALTER TABLE `caller_channels_backup` DISABLE KEYS */;
/*!40000 ALTER TABLE `caller_channels_backup` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `caller_ids`
--

DROP TABLE IF EXISTS `caller_ids`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `caller_ids` (
  `id` int NOT NULL AUTO_INCREMENT,
  `number` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL,
  `description` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `provider` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `domain` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `active` tinyint(1) DEFAULT '1',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `caller_ids`
--

LOCK TABLES `caller_ids` WRITE;
/*!40000 ALTER TABLE `caller_ids` DISABLE KEYS */;
INSERT INTO `caller_ids` VALUES (5,'03-5579-2716','PBX②初期テスト','PBX','ito258258.site',1,'2025-05-30 15:44:16'),(6,'03-3528-9359','PBX①D社テスト','PBX','test.site',1,'2025-06-02 14:11:02'),(7,'03-5946-8411','PBX③未使用','PBX','test.example.com',1,'2025-06-05 03:28:26'),(8,'0369087851','6/9 契約開始　1番号（25U、23CH）','外部','pantex.online',1,'2025-06-14 10:02:51');
/*!40000 ALTER TABLE `caller_ids` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `campaign_audio`
--

DROP TABLE IF EXISTS `campaign_audio`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `campaign_audio` (
  `id` int NOT NULL AUTO_INCREMENT,
  `campaign_id` int NOT NULL,
  `audio_file_id` varchar(36) COLLATE utf8mb4_unicode_ci NOT NULL,
  `audio_type` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_campaign_audio_type` (`campaign_id`,`audio_type`),
  KEY `audio_file_id` (`audio_file_id`),
  CONSTRAINT `campaign_audio_ibfk_1` FOREIGN KEY (`campaign_id`) REFERENCES `campaigns` (`id`) ON DELETE CASCADE,
  CONSTRAINT `campaign_audio_ibfk_2` FOREIGN KEY (`audio_file_id`) REFERENCES `audio_files` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=154 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `campaign_audio`
--

LOCK TABLES `campaign_audio` WRITE;
/*!40000 ALTER TABLE `campaign_audio` DISABLE KEYS */;
INSERT INTO `campaign_audio` VALUES (77,75,'11019289-4f07-4127-9a61-6080c3b4d562','welcome','2025-06-14 10:09:10'),(78,76,'a1d9e8fb-2dcc-4a09-84dd-92a4da62ae8a','welcome','2025-06-14 10:25:03'),(79,77,'823b60ce-e4dd-44bd-b738-e0164da4eb98','welcome','2025-06-16 04:55:20'),(81,79,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-16 07:13:35'),(83,80,'d88ddd84-e82c-4985-a7bb-d9b936cf3f46','welcome','2025-06-16 07:58:32'),(84,81,'823b60ce-e4dd-44bd-b738-e0164da4eb98','welcome','2025-06-16 09:29:58'),(85,82,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-16 09:45:11'),(86,83,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-16 09:49:59'),(87,84,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-16 10:09:05'),(88,85,'823b60ce-e4dd-44bd-b738-e0164da4eb98','welcome','2025-06-16 10:13:15'),(89,86,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-16 10:17:06'),(90,87,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-16 10:23:05'),(91,88,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-16 11:28:22'),(92,89,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-16 11:32:25'),(93,90,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-16 11:37:57'),(94,91,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-16 11:58:51'),(95,92,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-16 12:09:18'),(105,102,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-16 14:48:58'),(106,103,'d88ddd84-e82c-4985-a7bb-d9b936cf3f46','welcome','2025-06-16 15:32:30'),(107,104,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-16 15:42:11'),(108,105,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-17 06:23:52'),(109,106,'d88ddd84-e82c-4985-a7bb-d9b936cf3f46','welcome','2025-06-17 06:25:10'),(111,108,'823b60ce-e4dd-44bd-b738-e0164da4eb98','welcome','2025-06-17 06:42:18'),(113,110,'04e53015-8590-4a2d-8182-8d1f18d4e6bd','welcome','2025-06-17 07:04:10'),(114,111,'823b60ce-e4dd-44bd-b738-e0164da4eb98','welcome','2025-06-17 07:17:57'),(116,113,'04e53015-8590-4a2d-8182-8d1f18d4e6bd','welcome','2025-06-17 09:10:31'),(118,115,'719d588e-04ae-4868-9431-d6042fd33022','welcome','2025-06-17 09:22:18'),(119,116,'719d588e-04ae-4868-9431-d6042fd33022','welcome','2025-06-17 09:35:28'),(120,117,'719d588e-04ae-4868-9431-d6042fd33022','welcome','2025-06-17 09:48:28'),(121,118,'719d588e-04ae-4868-9431-d6042fd33022','welcome','2025-06-18 01:25:36'),(122,119,'719d588e-04ae-4868-9431-d6042fd33022','welcome','2025-06-18 05:32:45'),(123,120,'719d588e-04ae-4868-9431-d6042fd33022','welcome','2025-06-18 06:06:05'),(124,121,'e568593e-5e71-4403-a729-a930908d763a','welcome','2025-06-18 07:03:07'),(125,122,'04e53015-8590-4a2d-8182-8d1f18d4e6bd','welcome','2025-06-18 07:12:10'),(126,123,'719d588e-04ae-4868-9431-d6042fd33022','welcome','2025-06-18 07:24:23'),(127,124,'e568593e-5e71-4403-a729-a930908d763a','welcome','2025-06-18 08:17:57'),(128,125,'719d588e-04ae-4868-9431-d6042fd33022','welcome','2025-06-18 08:19:55'),(129,126,'04e53015-8590-4a2d-8182-8d1f18d4e6bd','welcome','2025-06-18 09:49:43'),(130,127,'719d588e-04ae-4868-9431-d6042fd33022','welcome','2025-06-18 10:12:26'),(131,128,'719d588e-04ae-4868-9431-d6042fd33022','welcome','2025-06-18 10:26:20'),(132,129,'719d588e-04ae-4868-9431-d6042fd33022','welcome','2025-06-18 11:07:29'),(133,130,'04e53015-8590-4a2d-8182-8d1f18d4e6bd','welcome','2025-06-18 11:25:52'),(134,131,'719d588e-04ae-4868-9431-d6042fd33022','welcome','2025-06-18 13:22:57'),(135,132,'a7884b50-ebf5-4d54-98b5-1aac662cf229','welcome','2025-06-18 13:28:54'),(136,133,'75c0852d-f8fb-48ef-92d7-63ae167a5f67','welcome','2025-06-19 03:10:35'),(137,134,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-19 03:33:17'),(138,135,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-19 06:26:24'),(139,136,'719d588e-04ae-4868-9431-d6042fd33022','welcome','2025-06-19 06:32:27'),(140,137,'719d588e-04ae-4868-9431-d6042fd33022','welcome','2025-06-19 08:34:51'),(141,138,'719d588e-04ae-4868-9431-d6042fd33022','welcome','2025-06-19 08:45:36'),(142,139,'823b60ce-e4dd-44bd-b738-e0164da4eb98','welcome','2025-06-19 09:36:01'),(143,140,'e568593e-5e71-4403-a729-a930908d763a','welcome','2025-06-19 10:41:29'),(144,141,'04e53015-8590-4a2d-8182-8d1f18d4e6bd','welcome','2025-06-19 14:45:50'),(145,142,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-19 14:53:54'),(146,143,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-19 14:56:08'),(147,144,'823b60ce-e4dd-44bd-b738-e0164da4eb98','welcome','2025-06-19 17:54:14'),(148,145,'823b60ce-e4dd-44bd-b738-e0164da4eb98','welcome','2025-06-19 17:57:31'),(149,146,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-19 18:02:36'),(150,147,'979360f6-6480-4de9-8244-a7092e66bd30','welcome','2025-06-20 03:53:06'),(151,148,'04e53015-8590-4a2d-8182-8d1f18d4e6bd','welcome','2025-06-20 03:58:40'),(152,149,'a7884b50-ebf5-4d54-98b5-1aac662cf229','welcome','2025-06-20 05:47:14'),(153,150,'1b3d6b39-a740-42ba-84fe-9916b5edb0db','welcome','2025-06-20 08:06:36');
/*!40000 ALTER TABLE `campaign_audio` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `campaign_ivr_config`
--

DROP TABLE IF EXISTS `campaign_ivr_config`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `campaign_ivr_config` (
  `id` int NOT NULL AUTO_INCREMENT,
  `campaign_id` int NOT NULL,
  `config` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_campaign_ivr_config` (`campaign_id`),
  CONSTRAINT `campaign_ivr_config_ibfk_1` FOREIGN KEY (`campaign_id`) REFERENCES `campaigns` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `campaign_ivr_config`
--

LOCK TABLES `campaign_ivr_config` WRITE;
/*!40000 ALTER TABLE `campaign_ivr_config` DISABLE KEYS */;
INSERT INTO `campaign_ivr_config` VALUES (1,117,'{\"welcomeMessage\":\"テスト\"}','2025-06-17 12:22:56','2025-06-17 12:23:26');
/*!40000 ALTER TABLE `campaign_ivr_config` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `campaign_transfer_destinations`
--

DROP TABLE IF EXISTS `campaign_transfer_destinations`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `campaign_transfer_destinations` (
  `id` int NOT NULL AUTO_INCREMENT,
  `campaign_id` int NOT NULL,
  `dtmf_key` varchar(1) COLLATE utf8mb4_unicode_ci NOT NULL,
  `sip_username` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `active` tinyint(1) DEFAULT '1',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_campaign_key` (`campaign_id`,`dtmf_key`),
  CONSTRAINT `campaign_transfer_destinations_ibfk_1` FOREIGN KEY (`campaign_id`) REFERENCES `campaigns` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `campaign_transfer_destinations`
--

LOCK TABLES `campaign_transfer_destinations` WRITE;
/*!40000 ALTER TABLE `campaign_transfer_destinations` DISABLE KEYS */;
/*!40000 ALTER TABLE `campaign_transfer_destinations` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `campaigns`
--

DROP TABLE IF EXISTS `campaigns`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `campaigns` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `description` text COLLATE utf8mb4_unicode_ci,
  `status` enum('draft','active','paused','completed') COLLATE utf8mb4_unicode_ci DEFAULT 'draft',
  `caller_id_id` int DEFAULT NULL,
  `script` text COLLATE utf8mb4_unicode_ci,
  `retry_attempts` int DEFAULT '0',
  `max_concurrent_calls` int DEFAULT '5',
  `schedule_start` datetime DEFAULT NULL,
  `schedule_end` datetime DEFAULT NULL,
  `working_hours_start` time DEFAULT '09:00:00',
  `working_hours_end` time DEFAULT '18:00:00',
  `progress` int DEFAULT '0',
  `ivr_deployed` tinyint(1) DEFAULT '0',
  `ivr_deploy_time` timestamp NULL DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `transfer_enabled` tinyint(1) DEFAULT '1' COMMENT '転送機能有効/無効',
  `operator_number` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'オペレーター番号（転送先）',
  `transfer_message` text COLLATE utf8mb4_unicode_ci COMMENT 'カスタム転送メッセージ',
  PRIMARY KEY (`id`),
  KEY `caller_id_id` (`caller_id_id`),
  CONSTRAINT `campaigns_ibfk_1` FOREIGN KEY (`caller_id_id`) REFERENCES `caller_ids` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=151 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `campaigns`
--

LOCK TABLES `campaigns` WRITE;
/*!40000 ALTER TABLE `campaigns` DISABLE KEYS */;
INSERT INTO `campaigns` VALUES (75,'テスト','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-14 10:08:52','2025-06-14 10:09:33',1,NULL,NULL),(76,'テスト2','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-14 10:24:48','2025-06-14 10:25:10',1,NULL,NULL),(77,'テスト','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-16 04:54:49','2025-06-16 04:55:52',1,NULL,NULL),(79,'テスト3','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-16 07:13:13','2025-06-16 07:16:30',1,NULL,NULL),(80,'テスト4','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-16 07:58:08','2025-06-16 07:58:38',1,NULL,NULL),(81,'テスト5','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-16 09:29:21','2025-06-16 09:30:12',1,NULL,NULL),(82,'テスト6','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-16 09:44:54','2025-06-16 09:45:24',1,NULL,NULL),(83,'テスト7','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-16 09:49:43','2025-06-16 09:50:15',1,NULL,NULL),(84,'テスト8','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-16 09:55:44','2025-06-16 10:09:26',1,NULL,NULL),(85,'テスト9','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-16 10:13:01','2025-06-16 10:13:17',1,NULL,NULL),(86,'テスト10','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-16 10:16:28','2025-06-16 10:17:10',1,NULL,NULL),(87,'テスト11','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-16 10:22:52','2025-06-16 10:23:07',1,NULL,NULL),(88,'テスト12','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-16 11:28:08','2025-06-16 11:28:24',1,NULL,NULL),(89,'test','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-16 11:32:11','2025-06-16 11:32:31',1,NULL,NULL),(90,'test2','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-16 11:37:41','2025-06-16 11:38:02',1,NULL,NULL),(91,'test3','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-16 11:58:36','2025-06-16 11:58:55',1,NULL,NULL),(92,'test7','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-16 12:09:01','2025-06-16 12:09:20',1,NULL,NULL),(102,'テスト7777','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-16 14:48:43','2025-06-16 14:48:59',1,NULL,NULL),(103,'テスト77','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-16 15:32:17','2025-06-16 15:32:39',1,NULL,NULL),(104,'テスト17','','paused',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-16 15:41:55','2025-06-18 09:48:32',1,NULL,NULL),(105,'テスト18','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-17 06:23:36','2025-06-17 06:23:56',1,NULL,NULL),(106,'テスト19','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-17 06:24:53','2025-06-17 06:25:14',1,NULL,NULL),(108,'テスト16','','paused',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-17 06:42:04','2025-06-17 06:56:12',1,NULL,NULL),(110,'テスト81','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-17 07:03:54','2025-06-17 07:04:21',1,NULL,NULL),(111,'テスト99','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-17 07:17:41','2025-06-17 07:18:06',1,NULL,NULL),(113,'テスト','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-17 09:10:14','2025-06-17 09:10:42',1,NULL,NULL),(115,'テスト','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-17 09:22:01','2025-06-17 09:22:25',1,NULL,NULL),(116,'テスト','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-17 09:34:58','2025-06-17 09:35:35',1,NULL,NULL),(117,'テスト','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-17 09:48:15','2025-06-17 09:48:36',1,NULL,NULL),(118,'テスト','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-18 01:25:20','2025-06-18 01:48:23',1,NULL,NULL),(119,'テスト119','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,1,'2025-06-19 13:29:35','2025-06-18 05:32:27','2025-06-19 13:29:35',1,NULL,NULL),(120,'テストNo1','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-18 06:05:49','2025-06-18 06:08:45',1,NULL,NULL),(121,'テストAsterisk','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-18 07:02:50','2025-06-18 07:03:17',1,NULL,NULL),(122,'Asterisk2','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-18 07:11:46','2025-06-18 07:12:14',1,NULL,NULL),(123,'Asterisk3','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-18 07:21:30','2025-06-18 07:24:27',1,NULL,NULL),(124,'Asterisk5','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-18 08:17:38','2025-06-18 08:18:10',1,NULL,NULL),(125,'Asterisk6','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-18 08:19:41','2025-06-18 08:20:04',1,NULL,NULL),(126,'テスト','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-18 09:49:26','2025-06-18 09:49:58',1,NULL,NULL),(127,'Astarisk test','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-18 10:12:07','2025-06-18 10:12:30',1,NULL,NULL),(128,'アスタリスク','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-18 10:26:06','2025-06-18 10:26:41',1,NULL,NULL),(129,'Asterisk5','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-18 11:07:07','2025-06-18 11:07:40',1,NULL,NULL),(130,'Asterisk77','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,1,'2025-06-18 13:15:10','2025-06-18 11:25:35','2025-06-18 13:15:10',1,NULL,NULL),(131,'Asterisk11','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-18 13:22:37','2025-06-18 13:23:03',1,NULL,NULL),(132,'Asterisk22','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-18 13:28:38','2025-06-18 13:29:04',1,NULL,NULL),(133,'Asterisk33','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-19 03:10:20','2025-06-19 03:10:52',1,NULL,NULL),(134,'テスト','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,1,'2025-06-19 05:39:51','2025-06-19 03:33:03','2025-06-19 05:39:51',1,NULL,NULL),(135,'テスト','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,0,NULL,'2025-06-19 06:26:10','2025-06-19 06:26:26',1,NULL,NULL),(136,'T','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,1,'2025-06-19 07:30:08','2025-06-19 06:32:13','2025-06-19 07:30:08',1,NULL,NULL),(137,'R2','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,1,'2025-06-19 08:35:02','2025-06-19 08:34:37','2025-06-19 08:35:02',1,NULL,NULL),(138,'R3','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,1,'2025-06-19 10:39:15','2025-06-19 08:45:22','2025-06-19 10:39:15',1,NULL,NULL),(139,'R4','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,1,'2025-06-19 09:36:04','2025-06-19 09:35:48','2025-06-19 09:36:04',1,NULL,NULL),(140,'R5','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,1,'2025-06-19 13:27:01','2025-06-19 10:41:14','2025-06-19 13:27:01',1,NULL,NULL),(141,'R6','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,1,'2025-06-19 14:48:41','2025-06-19 14:45:26','2025-06-19 14:48:41',1,NULL,NULL),(142,'R7','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,1,'2025-06-19 14:53:58','2025-06-19 14:53:39','2025-06-19 14:53:58',1,NULL,NULL),(143,'R77','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,1,'2025-06-19 14:56:11','2025-06-19 14:55:53','2025-06-19 14:56:11',1,NULL,NULL),(144,'RR','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,1,'2025-06-19 17:54:17','2025-06-19 17:53:59','2025-06-19 17:54:17',1,NULL,NULL),(145,'RRR','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,1,'2025-06-19 17:57:33','2025-06-19 17:57:13','2025-06-19 17:57:33',1,NULL,NULL),(146,'TT','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,1,'2025-06-19 18:02:50','2025-06-19 18:02:19','2025-06-19 18:02:50',1,NULL,NULL),(147,'RRR','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,1,'2025-06-20 03:53:08','2025-06-20 03:52:50','2025-06-20 03:53:08',1,NULL,NULL),(148,'D','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,1,'2025-06-20 03:58:42','2025-06-20 03:58:27','2025-06-20 03:58:42',1,NULL,NULL),(149,'E','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,1,'2025-06-20 05:47:17','2025-06-20 05:46:56','2025-06-20 05:47:17',1,NULL,NULL),(150,'A','','active',8,'',0,5,NULL,NULL,'09:00:00','18:00:00',0,1,'2025-06-20 08:06:38','2025-06-20 08:06:17','2025-06-20 08:06:38',1,NULL,NULL);
/*!40000 ALTER TABLE `campaigns` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `contacts`
--

DROP TABLE IF EXISTS `contacts`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `contacts` (
  `id` int NOT NULL AUTO_INCREMENT,
  `campaign_id` int DEFAULT NULL,
  `phone` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `name` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `company` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `status` enum('pending','called','completed','failed','dnc') COLLATE utf8mb4_unicode_ci DEFAULT 'pending',
  `last_attempt` datetime DEFAULT NULL,
  `attempt_count` int DEFAULT '0',
  `notes` text COLLATE utf8mb4_unicode_ci,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `campaign_id` (`campaign_id`),
  CONSTRAINT `contacts_ibfk_1` FOREIGN KEY (`campaign_id`) REFERENCES `campaigns` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=10146 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `contacts`
--

LOCK TABLES `contacts` WRITE;
/*!40000 ALTER TABLE `contacts` DISABLE KEYS */;
INSERT INTO `contacts` VALUES (10070,75,'05018086649','','','failed','2025-06-14 10:09:48',3,NULL,'2025-06-14 10:09:06','2025-06-14 10:09:48'),(10071,76,'05018086649','','','called','2025-06-14 10:25:15',1,NULL,'2025-06-14 10:25:00','2025-06-14 10:25:15'),(10072,77,'05018086649','','','called','2025-06-16 04:55:57',1,NULL,'2025-06-16 04:55:03','2025-06-16 04:55:57'),(10074,79,'05018086649','','','called','2025-06-16 07:13:48',1,NULL,'2025-06-16 07:13:25','2025-06-16 07:13:48'),(10075,80,'05018086649','','','called','2025-06-16 07:58:40',1,NULL,'2025-06-16 07:58:23','2025-06-16 07:58:40'),(10076,81,'05018086649','','','called','2025-06-16 09:30:17',1,NULL,'2025-06-16 09:29:48','2025-06-16 09:30:17'),(10077,82,'05018086649','','','called','2025-06-16 09:45:27',1,NULL,'2025-06-16 09:45:06','2025-06-16 09:45:27'),(10078,83,'05018086649','','','called','2025-06-16 09:50:20',1,NULL,'2025-06-16 09:49:56','2025-06-16 09:50:20'),(10079,84,'05018086649','','','called','2025-06-16 10:09:31',1,NULL,'2025-06-16 10:09:01','2025-06-16 10:09:31'),(10080,85,'05018086649','','','called','2025-06-16 10:13:22',1,NULL,'2025-06-16 10:13:11','2025-06-16 10:13:22'),(10081,86,'05018086649','','','called','2025-06-16 10:17:12',1,NULL,'2025-06-16 10:16:37','2025-06-16 10:17:12'),(10082,87,'05018086649','','','called','2025-06-16 10:23:12',1,NULL,'2025-06-16 10:23:02','2025-06-16 10:23:12'),(10083,88,'05018086649','','','called','2025-06-16 11:28:29',1,NULL,'2025-06-16 11:28:19','2025-06-16 11:28:29'),(10084,89,'05018086649','','','called','2025-06-16 11:32:34',1,NULL,'2025-06-16 11:32:22','2025-06-16 11:32:34'),(10085,90,'05018086649','','','called','2025-06-16 11:38:07',1,NULL,'2025-06-16 11:37:54','2025-06-16 11:38:07'),(10086,91,'05018086649','','','called','2025-06-16 11:59:00',1,NULL,'2025-06-16 11:58:48','2025-06-16 11:59:00'),(10087,92,'05018086649','','','called','2025-06-16 12:09:25',1,NULL,'2025-06-16 12:09:14','2025-06-16 12:09:25'),(10097,102,'05018086649','','','called','2025-06-16 14:49:04',1,NULL,'2025-06-16 14:48:54','2025-06-16 14:49:04'),(10098,103,'05018086649','','','called','2025-06-16 15:32:44',1,NULL,'2025-06-16 15:32:26','2025-06-16 15:32:44'),(10099,104,'05018086649','','','called','2025-06-16 15:42:18',1,NULL,'2025-06-16 15:42:07','2025-06-16 15:42:18'),(10100,105,'05018086649','','','called','2025-06-17 06:24:01',1,NULL,'2025-06-17 06:23:48','2025-06-17 06:24:01'),(10101,106,'05018086649','','','called','2025-06-17 06:25:16',1,NULL,'2025-06-17 06:25:04','2025-06-17 06:25:16'),(10103,108,'05018086649','','','called','2025-06-17 06:42:32',1,NULL,'2025-06-17 06:42:15','2025-06-17 06:42:32'),(10105,110,'05018086649','','','called','2025-06-17 07:04:26',1,NULL,'2025-06-17 07:04:05','2025-06-17 07:04:26'),(10106,111,'05018086649','','','called','2025-06-17 07:18:11',1,NULL,'2025-06-17 07:17:52','2025-06-17 07:18:11'),(10108,113,'05018086649','','','called','2025-06-17 09:10:47',1,NULL,'2025-06-17 09:10:27','2025-06-17 09:10:47'),(10110,115,'05018086649','','','called','2025-06-17 09:22:30',1,NULL,'2025-06-17 09:22:13','2025-06-17 09:22:30'),(10111,116,'05018086649','','','called','2025-06-17 09:35:40',1,NULL,'2025-06-17 09:35:24','2025-06-17 09:35:40'),(10112,117,'05018086649','','','called','2025-06-17 09:48:41',1,NULL,'2025-06-17 09:48:24','2025-06-17 09:48:41'),(10113,118,'05018086649','','','called','2025-06-18 01:26:44',1,NULL,'2025-06-18 01:25:32','2025-06-18 01:26:44'),(10114,119,'05018086649','','','called','2025-06-19 13:29:36',1,NULL,'2025-06-18 05:32:41','2025-06-19 13:29:36'),(10115,120,'05018086649','','','called','2025-06-18 06:08:50',1,NULL,'2025-06-18 06:06:00','2025-06-18 06:08:50'),(10116,121,'05018086649','','','failed','2025-06-18 07:03:32',3,NULL,'2025-06-18 07:03:01','2025-06-18 07:03:32'),(10117,122,'05018086649','','','failed','2025-06-18 07:12:29',3,NULL,'2025-06-18 07:12:00','2025-06-18 07:12:29'),(10118,123,'05018086649','','','failed','2025-06-18 07:24:42',3,NULL,'2025-06-18 07:24:14','2025-06-18 07:24:42'),(10119,124,'05018086649','','','failed','2025-06-18 08:18:23',3,NULL,'2025-06-18 08:17:52','2025-06-18 08:18:23'),(10120,125,'05018086649','','','failed','2025-06-18 08:20:19',3,NULL,'2025-06-18 08:19:51','2025-06-18 08:20:19'),(10121,126,'05018086649','','','failed','2025-06-18 09:50:13',3,NULL,'2025-06-18 09:49:37','2025-06-18 09:50:13'),(10122,127,'05018086649','','','failed','2025-06-18 10:12:45',3,NULL,'2025-06-18 10:12:22','2025-06-18 10:12:45'),(10123,128,'05018086649','','','failed','2025-06-18 10:26:56',3,NULL,'2025-06-18 10:26:15','2025-06-18 10:26:56'),(10124,129,'05018086649','','','failed','2025-06-18 11:07:52',3,NULL,'2025-06-18 11:07:22','2025-06-18 11:07:52'),(10125,130,'05018086649','','','failed','2025-06-18 11:26:14',3,NULL,'2025-06-18 11:25:47','2025-06-18 11:26:14'),(10126,131,'05018086649','','','failed','2025-06-18 13:23:18',3,NULL,'2025-06-18 13:22:49','2025-06-18 13:23:18'),(10127,132,'05018086649','','','failed','2025-06-18 13:29:19',3,NULL,'2025-06-18 13:28:49','2025-06-18 13:29:19'),(10128,133,'05018086649','','','failed','2025-06-19 03:11:07',3,NULL,'2025-06-19 03:10:31','2025-06-19 03:11:07'),(10129,134,'05018086649','','','failed','2025-06-19 03:33:49',3,NULL,'2025-06-19 03:33:13','2025-06-19 03:33:49'),(10130,135,'05018086649','','','failed','2025-06-19 06:26:41',3,NULL,'2025-06-19 06:26:20','2025-06-19 06:26:41'),(10131,136,'05018086649','','','failed','2025-06-19 06:32:45',3,NULL,'2025-06-19 06:32:23','2025-06-19 06:32:45'),(10132,137,'05018086649','','','called','2025-06-19 08:35:08',1,NULL,'2025-06-19 08:34:46','2025-06-19 08:35:08'),(10133,138,'05018086649','','','called','2025-06-19 08:45:43',1,NULL,'2025-06-19 08:45:32','2025-06-19 08:45:43'),(10134,139,'05018086649','','','called','2025-06-19 09:36:09',1,NULL,'2025-06-19 09:35:58','2025-06-19 09:36:09'),(10135,140,'05018086649','','','called','2025-06-19 10:41:40',1,NULL,'2025-06-19 10:41:25','2025-06-19 10:41:40'),(10136,141,'05018086649','','','called','2025-06-19 14:48:46',1,NULL,'2025-06-19 14:45:45','2025-06-19 14:48:46'),(10137,142,'05018086649','','','called','2025-06-19 14:54:01',1,NULL,'2025-06-19 14:53:50','2025-06-19 14:54:01'),(10138,143,'05018086649','','','called','2025-06-19 14:56:16',1,NULL,'2025-06-19 14:56:03','2025-06-19 14:56:16'),(10139,144,'05018086649','','','called','2025-06-19 17:54:22',1,NULL,'2025-06-19 17:54:10','2025-06-19 17:54:22'),(10140,145,'05018086649','','','called','2025-06-19 17:57:37',1,NULL,'2025-06-19 17:57:26','2025-06-19 17:57:37'),(10141,146,'05018086649','','','called','2025-06-19 18:02:52',1,NULL,'2025-06-19 18:02:31','2025-06-19 18:02:52'),(10142,147,'05018086649','','','called','2025-06-20 03:53:13',1,NULL,'2025-06-20 03:53:03','2025-06-20 03:53:13'),(10143,148,'05018086649','','','called','2025-06-20 03:58:47',1,NULL,'2025-06-20 03:58:36','2025-06-20 03:58:47'),(10144,149,'05018086649','','','called','2025-06-20 05:47:22',1,NULL,'2025-06-20 05:47:07','2025-06-20 05:47:22'),(10145,150,'05018086649','','','failed','2025-06-20 08:07:13',3,NULL,'2025-06-20 08:06:32','2025-06-20 08:07:23');
/*!40000 ALTER TABLE `contacts` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `dnc_list`
--

DROP TABLE IF EXISTS `dnc_list`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `dnc_list` (
  `id` int NOT NULL AUTO_INCREMENT,
  `phone` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `reason` text COLLATE utf8mb4_unicode_ci,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `phone` (`phone`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `dnc_list`
--

LOCK TABLES `dnc_list` WRITE;
/*!40000 ALTER TABLE `dnc_list` DISABLE KEYS */;
INSERT INTO `dnc_list` VALUES (1,'05018086649','ユーザーリクエスト（9キー）','2025-06-06 11:04:01','2025-06-06 11:04:01');
/*!40000 ALTER TABLE `dnc_list` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `operator_call_logs`
--

DROP TABLE IF EXISTS `operator_call_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `operator_call_logs` (
  `id` int NOT NULL AUTO_INCREMENT,
  `operator_id` int NOT NULL,
  `call_log_id` int NOT NULL,
  `start_time` datetime NOT NULL,
  `end_time` datetime DEFAULT NULL,
  `duration` int DEFAULT NULL,
  `disposition` enum('completed','transferred','dropped','voicemail') COLLATE utf8mb4_unicode_ci DEFAULT 'completed',
  `notes` text COLLATE utf8mb4_unicode_ci,
  `customer_satisfaction` int DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `operator_id` (`operator_id`),
  KEY `call_log_id` (`call_log_id`),
  CONSTRAINT `operator_call_logs_ibfk_1` FOREIGN KEY (`operator_id`) REFERENCES `operators` (`id`),
  CONSTRAINT `operator_call_logs_ibfk_2` FOREIGN KEY (`call_log_id`) REFERENCES `call_logs` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `operator_call_logs`
--

LOCK TABLES `operator_call_logs` WRITE;
/*!40000 ALTER TABLE `operator_call_logs` DISABLE KEYS */;
/*!40000 ALTER TABLE `operator_call_logs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `operator_shifts`
--

DROP TABLE IF EXISTS `operator_shifts`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `operator_shifts` (
  `id` int NOT NULL AUTO_INCREMENT,
  `operator_id` int NOT NULL,
  `shift_date` date NOT NULL,
  `start_time` time NOT NULL,
  `end_time` time NOT NULL,
  `break_start` time DEFAULT NULL,
  `break_end` time DEFAULT NULL,
  `status` enum('scheduled','active','completed','cancelled') COLLATE utf8mb4_unicode_ci DEFAULT 'scheduled',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_shift` (`operator_id`,`shift_date`,`start_time`),
  CONSTRAINT `operator_shifts_ibfk_1` FOREIGN KEY (`operator_id`) REFERENCES `operators` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `operator_shifts`
--

LOCK TABLES `operator_shifts` WRITE;
/*!40000 ALTER TABLE `operator_shifts` DISABLE KEYS */;
/*!40000 ALTER TABLE `operator_shifts` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `operator_status_logs`
--

DROP TABLE IF EXISTS `operator_status_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `operator_status_logs` (
  `id` int NOT NULL AUTO_INCREMENT,
  `operator_id` int NOT NULL,
  `old_status` enum('available','busy','offline','break') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `new_status` enum('available','busy','offline','break') COLLATE utf8mb4_unicode_ci NOT NULL,
  `reason` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `changed_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `operator_id` (`operator_id`),
  CONSTRAINT `operator_status_logs_ibfk_1` FOREIGN KEY (`operator_id`) REFERENCES `operators` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `operator_status_logs`
--

LOCK TABLES `operator_status_logs` WRITE;
/*!40000 ALTER TABLE `operator_status_logs` DISABLE KEYS */;
/*!40000 ALTER TABLE `operator_status_logs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `operators`
--

DROP TABLE IF EXISTS `operators`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `operators` (
  `id` int NOT NULL AUTO_INCREMENT,
  `user_id` int NOT NULL,
  `operator_id` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL,
  `status` enum('available','busy','offline','break') COLLATE utf8mb4_unicode_ci DEFAULT 'offline',
  `current_call_id` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `skills` json DEFAULT NULL,
  `max_concurrent_calls` int DEFAULT '1',
  `priority` int DEFAULT '1',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `operator_id` (`operator_id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `operators_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `operators`
--

LOCK TABLES `operators` WRITE;
/*!40000 ALTER TABLE `operators` DISABLE KEYS */;
/*!40000 ALTER TABLE `operators` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ps_aors`
--

DROP TABLE IF EXISTS `ps_aors`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ps_aors` (
  `id` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `max_contacts` int DEFAULT NULL,
  `qualify_frequency` int DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ps_aors`
--

LOCK TABLES `ps_aors` WRITE;
/*!40000 ALTER TABLE `ps_aors` DISABLE KEYS */;
INSERT INTO `ps_aors` VALUES ('03500001',1,60),('03500002',1,60),('03500003',1,60),('03500004',1,60),('03500005',1,60),('03500006',1,60),('03500007',1,60),('03500008',1,60),('03500009',1,60),('03500010',1,60),('03500011',1,60),('03500012',1,60),('03500013',1,60),('03500014',1,60),('03500015',1,60),('03500016',1,60),('03500017',1,60),('03500018',1,60),('03500019',1,60),('03500020',1,60),('03500021',1,60),('03500022',1,60),('03500023',1,60),('03500024',1,60),('03500025',1,60);
/*!40000 ALTER TABLE `ps_aors` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ps_auths`
--

DROP TABLE IF EXISTS `ps_auths`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ps_auths` (
  `id` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `auth_type` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `password` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `username` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ps_auths`
--

LOCK TABLES `ps_auths` WRITE;
/*!40000 ALTER TABLE `ps_auths` DISABLE KEYS */;
INSERT INTO `ps_auths` VALUES ('03500001','userpass','20111627','03500001'),('03500002','userpass','73891719','03500002'),('03500003','userpass','91100072','03500003'),('03500004','userpass','77751552','03500004'),('03500005','userpass','52546583','03500005'),('03500006','userpass','97474118','03500006'),('03500007','userpass','73578548','03500007'),('03500008','userpass','81357766','03500008'),('03500009','userpass','90164756','03500009'),('03500010','userpass','88502593','03500010'),('03500011','userpass','67172110','03500011'),('03500012','userpass','33266664','03500012'),('03500013','userpass','87756512','03500013'),('03500014','userpass','79019564','03500014'),('03500015','userpass','47353035','03500015'),('03500016','userpass','87837347','03500016'),('03500017','userpass','27414037','03500017'),('03500018','userpass','00953616','03500018'),('03500019','userpass','16473532','03500019'),('03500020','userpass','52993240','03500020'),('03500021','userpass','78395241','03500021'),('03500022','userpass','94098776','03500022'),('03500023','userpass','40124291','03500023'),('03500024','userpass','89893573','03500024'),('03500025','userpass','00794801','03500025');
/*!40000 ALTER TABLE `ps_auths` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ps_domain_aliases`
--

DROP TABLE IF EXISTS `ps_domain_aliases`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ps_domain_aliases` (
  `id` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `domain` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ps_domain_aliases`
--

LOCK TABLES `ps_domain_aliases` WRITE;
/*!40000 ALTER TABLE `ps_domain_aliases` DISABLE KEYS */;
/*!40000 ALTER TABLE `ps_domain_aliases` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ps_endpoints`
--

DROP TABLE IF EXISTS `ps_endpoints`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ps_endpoints` (
  `id` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `transport` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `aors` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `auth` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `context` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `dtmf_mode` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `allow` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `outbound_auth` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `mailboxes` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `device_state_busy_at` int DEFAULT NULL,
  `mwi_subscribe_replaces_unsolicited` varchar(3) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ps_endpoints`
--

LOCK TABLES `ps_endpoints` WRITE;
/*!40000 ALTER TABLE `ps_endpoints` DISABLE KEYS */;
INSERT INTO `ps_endpoints` VALUES ('03500001','transport-udp','03500001','03500001','autodialer','rfc4733','ulaw,alaw','03500001',NULL,NULL,NULL),('03500002','transport-udp','03500002','03500002','autodialer','rfc4733','ulaw,alaw','03500002',NULL,NULL,NULL),('03500003','transport-udp','03500003','03500003','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500004','transport-udp','03500004','03500004','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500005','transport-udp','03500005','03500005','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500006','transport-udp','03500006','03500006','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500007','transport-udp','03500007','03500007','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500008','transport-udp','03500008','03500008','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500009','transport-udp','03500009','03500009','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500010','transport-udp','03500010','03500010','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500011','transport-udp','03500011','03500011','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500012','transport-udp','03500012','03500012','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500013','transport-udp','03500013','03500013','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500014','transport-udp','03500014','03500014','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500015','transport-udp','03500015','03500015','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500016','transport-udp','03500016','03500016','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500017','transport-udp','03500017','03500017','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500018','transport-udp','03500018','03500018','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500019','transport-udp','03500019','03500019','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500020','transport-udp','03500020','03500020','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500021','transport-udp','03500021','03500021','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500022','transport-udp','03500022','03500022','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500023','transport-udp','03500023','03500023','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500024','transport-udp','03500024','03500024','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL),('03500025','transport-udp','03500025','03500025','autodialer','rfc4733','ulaw,alaw',NULL,NULL,NULL,NULL);
/*!40000 ALTER TABLE `ps_endpoints` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ps_registrations`
--

DROP TABLE IF EXISTS `ps_registrations`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ps_registrations` (
  `id` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `auth_rejection_permanent` varchar(5) COLLATE utf8mb4_unicode_ci DEFAULT 'yes',
  `client_uri` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `contact_user` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `expiration` int DEFAULT '3600',
  `max_retries` int DEFAULT '10',
  `outbound_auth` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `outbound_proxy` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `retry_interval` int DEFAULT '60',
  `forbidden_retry_interval` int DEFAULT '0',
  `server_uri` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `transport` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `line` varchar(5) COLLATE utf8mb4_unicode_ci DEFAULT 'yes',
  `endpoint` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ps_registrations`
--

LOCK TABLES `ps_registrations` WRITE;
/*!40000 ALTER TABLE `ps_registrations` DISABLE KEYS */;
INSERT INTO `ps_registrations` VALUES ('03500001','yes','sip:03500001@202.171.155.47',NULL,3600,10,'03500001',NULL,60,0,'sip:202.171.155.47','transport-udp','yes','03500001');
/*!40000 ALTER TABLE `ps_registrations` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ps_registrations_new`
--

DROP TABLE IF EXISTS `ps_registrations_new`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ps_registrations_new` (
  `id` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `auth_rejection_permanent` enum('yes','no') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `client_uri` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `contact_user` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `expiration` int DEFAULT NULL,
  `max_retries` int DEFAULT NULL,
  `outbound_auth` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `outbound_proxy` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `retry_interval` int DEFAULT NULL,
  `forbidden_retry_interval` int DEFAULT NULL,
  `server_uri` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `transport` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `support_path` enum('yes','no') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `fatal_retry_interval` int DEFAULT NULL,
  `line` enum('yes','no') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `endpoint` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `support_outbound` enum('0','1','off','on','false','true','no','yes') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `contact_header_params` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `max_random_initial_delay` int DEFAULT NULL,
  `security_negotiation` enum('no','mediasec') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `security_mechanisms` varchar(512) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ps_registrations_new`
--

LOCK TABLES `ps_registrations_new` WRITE;
/*!40000 ALTER TABLE `ps_registrations_new` DISABLE KEYS */;
INSERT INTO `ps_registrations_new` VALUES ('03500001','yes','sip:03500001@202.171.155.47',NULL,3600,10,'03500001',NULL,60,0,'sip:202.171.155.47','transport-udp','no',0,'yes','03500001','no',NULL,0,'no',NULL);
/*!40000 ALTER TABLE `ps_registrations_new` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `system_logs`
--

DROP TABLE IF EXISTS `system_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `system_logs` (
  `id` int NOT NULL AUTO_INCREMENT,
  `level` enum('DEBUG','INFO','WARN','ERROR','FATAL') DEFAULT 'INFO',
  `component` varchar(50) NOT NULL COMMENT 'ログ出力元（dialerService, sipService等）',
  `message` text NOT NULL,
  `details` json DEFAULT NULL COMMENT '詳細情報',
  `user_id` int DEFAULT NULL,
  `session_id` varchar(100) DEFAULT NULL,
  `ip_address` varchar(45) DEFAULT NULL,
  `user_agent` text,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `user_id` (`user_id`),
  KEY `idx_level` (`level`),
  KEY `idx_component` (`component`),
  KEY `idx_created_at` (`created_at`),
  CONSTRAINT `system_logs_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='システムログテーブル';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `system_logs`
--

LOCK TABLES `system_logs` WRITE;
/*!40000 ALTER TABLE `system_logs` DISABLE KEYS */;
/*!40000 ALTER TABLE `system_logs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `system_settings`
--

DROP TABLE IF EXISTS `system_settings`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `system_settings` (
  `id` int NOT NULL AUTO_INCREMENT,
  `setting_key` varchar(100) NOT NULL,
  `setting_value` text,
  `setting_type` enum('string','integer','boolean','json') DEFAULT 'string',
  `description` text,
  `is_public` tinyint(1) DEFAULT '0' COMMENT '一般ユーザーに表示するか',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `setting_key` (`setting_key`),
  KEY `idx_setting_key` (`setting_key`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='システム設定テーブル';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `system_settings`
--

LOCK TABLES `system_settings` WRITE;
/*!40000 ALTER TABLE `system_settings` DISABLE KEYS */;
/*!40000 ALTER TABLE `system_settings` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Temporary view structure for view `transfer_key_capacity`
--

DROP TABLE IF EXISTS `transfer_key_capacity`;
