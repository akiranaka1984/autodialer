[2025-06-03T06:47:10.066Z] INFO  [PID:489181] ログファイルをローテーションしました: /var/www/autodialer/backend/logs/combined.log -> /var/www/autodialer/backend/logs/combined.log.1748933230066.bak {"level":"INFO"}
[2025-06-03T06:47:10.186Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T06:48:10.186Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T06:49:10.187Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T06:50:10.187Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T06:51:10.201Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T06:52:10.202Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T06:53:10.201Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T06:54:10.203Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T06:55:10.204Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T06:56:10.205Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T06:57:10.206Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T06:58:10.206Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T06:59:10.208Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:00:10.210Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:01:10.210Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:02:10.211Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:03:10.211Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:04:10.211Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:05:10.211Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:06:10.213Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:07:10.213Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:08:10.213Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:09:10.215Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:10:10.217Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:11:10.216Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:12:10.248Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:13:10.237Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:14:10.237Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:15:10.239Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:16:10.238Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:17:10.239Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:18:10.239Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:19:10.241Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:20:10.241Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:21:10.242Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:22:10.243Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:23:10.242Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:24:10.243Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:25:10.243Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:26:10.244Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:27:10.245Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:28:10.245Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:29:10.246Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:30:10.247Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:31:10.246Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:32:10.247Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:33:10.247Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:34:10.246Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:35:10.249Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:36:10.250Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:37:10.251Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:38:10.250Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:39:10.251Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:40:10.252Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:41:10.252Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:42:10.252Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:43:10.254Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:44:10.254Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:45:10.256Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:46:10.257Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:47:10.258Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:48:10.259Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:49:10.259Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:50:10.261Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:51:10.262Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:52:10.263Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:53:10.264Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:54:10.264Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:55:10.265Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:56:10.264Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:57:10.263Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:58:10.265Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T07:59:10.265Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:00:10.267Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:01:10.266Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:02:10.268Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:03:10.268Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:04:10.269Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:05:10.268Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:06:10.268Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:07:10.270Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:08:10.271Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:09:10.272Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:10:10.272Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:11:10.272Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:12:10.273Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:13:10.273Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:14:10.273Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:15:10.273Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:16:10.274Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:17:10.276Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:18:10.276Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:19:10.277Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:20:10.278Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:21:10.279Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:22:10.280Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:23:10.280Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:24:10.280Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:25:10.280Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:26:10.280Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:27:10.281Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:28:10.281Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:29:10.282Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:30:10.284Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:31:10.285Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:32:10.286Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:33:10.286Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:34:10.287Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:35:10.287Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:36:10.288Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:37:10.287Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:38:10.287Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:39:10.289Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:40:10.288Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:41:10.288Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:42:10.288Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:43:10.289Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:44:10.290Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:45:10.291Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:46:10.292Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:47:10.293Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:48:10.293Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:49:10.294Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:50:10.296Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:51:10.297Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:52:10.297Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:53:10.298Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:54:10.297Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:55:10.298Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:56:10.298Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:57:10.299Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:58:10.299Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T08:59:10.299Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:00:10.301Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:01:10.301Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:02:10.301Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:03:10.301Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:04:10.303Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:05:10.303Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:06:10.304Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:07:10.305Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:08:10.306Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:09:10.307Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:10:10.307Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:11:00.125Z] INFO  [PID:489181] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
[2025-06-03T09:11:00.133Z] INFO  [PID:489181] キャンペーン取得結果: 2/2件 {"level":"INFO"}
[2025-06-03T09:11:10.307Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:12:10.308Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:13:10.308Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:14:10.308Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:15:10.309Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:16:10.309Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:17:10.310Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:18:10.311Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:19:10.311Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:20:10.312Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:21:10.313Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:22:10.314Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:23:10.314Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:24:10.314Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:25:10.314Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:26:10.315Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:27:10.315Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:28:10.315Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:29:10.315Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:30:10.316Z] INFO  [PID:489181] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:30:45.106Z] INFO  [PID:489181] SIGINT受信 - DialerService安全停止 {"level":"INFO"}
[2025-06-03T09:30:45.106Z] INFO  [PID:489181] 🚨 DialerService停止処理開始... {"level":"INFO"}
[2025-06-03T09:30:45.106Z] INFO  [PID:489181] ✅ DialerService停止完了 {"level":"INFO"}
[2025-06-03T09:30:45.106Z] INFO  [PID:489181] SIGINT受信 - SIPサービス安全切断 {"level":"INFO"}
[2025-06-03T09:30:45.107Z] INFO  [PID:489181] SIPサービスを切断しています... {"level":"INFO"}
[2025-06-03T09:30:45.107Z] INFO  [PID:489181] ✅ SIPサービス切断完了 {"level":"INFO"}
[2025-06-03T09:30:45.118Z] INFO  [PID:489181] アプリケーション終了 {"level":"INFO"}
[2025-06-03T09:30:45.658Z] INFO  [PID:490896] Logger初期化完了 {"logLevel":"info","enableConsole":true,"enableFile":true,"logDir":"/var/www/autodialer/backend/logs","level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.658Z] INFO  [PID:490896][0m Logger初期化完了 {"logLevel":"info","enableConsole":true,"enableFile":true,"logDir":"/var/www/autodialer/backend/logs","level":"INFO"}
2025-06-03T09:30:45: 🚀 ルーター登録開始...
[2025-06-03T09:30:45.784Z] INFO  [PID:490896] 🚀 DialerService初期化: 自動連動システム=有効 {"level":"INFO"}
[2025-06-03T09:30:45.785Z] INFO  [PID:490896] 🎯 自動システム開始試行 1/5 {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.784Z] INFO  [PID:490896][0m 🚀 DialerService初期化: 自動連動システム=有効 {"level":"INFO"}
[2025-06-03T09:30:45.785Z] INFO  [PID:490896] 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.785Z] INFO  [PID:490896][0m 🎯 自動システム開始試行 1/5 {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.785Z] INFO  [PID:490896][0m 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-03T09:30:45: プールが存在しないため再初期化します
2025-06-03T09:30:45: データベース接続試行 1/5...
2025-06-03T09:30:45: データベース接続設定: {
2025-06-03T09:30:45:   host: '127.0.0.1',
2025-06-03T09:30:45:   user: 'autodialer',
2025-06-03T09:30:45:   database: 'autodialer',
2025-06-03T09:30:45:   password: '***'
2025-06-03T09:30:45: }
[2025-06-03T09:30:45.815Z] INFO  [PID:490896] AsteriskService初期化: mockMode=false, timeout=15000ms {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.815Z] INFO  [PID:490896][0m AsteriskService初期化: mockMode=false, timeout=15000ms {"level":"INFO"}
[2025-06-03T09:30:45.818Z] INFO  [PID:490896] SipService初期化: mockMode=false, sipcmdPath=/usr/local/bin/sipcmd-working {"level":"INFO"}
[2025-06-03T09:30:45.818Z] INFO  [PID:490896] 💗 SIPヘルスチェック開始: 60000ms間隔 {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.818Z] INFO  [PID:490896][0m SipService初期化: mockMode=false, sipcmdPath=/usr/local/bin/sipcmd-working {"level":"INFO"}
[2025-06-03T09:30:45.819Z] INFO  [PID:490896] コールサービスを初期化しました。デフォルトプロバイダ: sip, フォールバック: 無効, モックモード: 無効 {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.818Z] INFO  [PID:490896][0m 💗 SIPヘルスチェック開始: 60000ms間隔 {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.819Z] INFO  [PID:490896][0m コールサービスを初期化しました。デフォルトプロバイダ: sip, フォールバック: 無効, モックモード: 無効 {"level":"INFO"}
2025-06-03T09:30:45: ✅ system router 登録成功
2025-06-03T09:30:45: ✅ contacts router 登録成功
2025-06-03T09:30:45: ✅ campaigns router 登録成功
2025-06-03T09:30:45: ✅ caller-ids router 登録成功
2025-06-03T09:30:45: ✅ calls router 登録成功
2025-06-03T09:30:45: ✅ audio router 登録成功
2025-06-03T09:30:45: ✅ ivr router 登録成功
2025-06-03T09:30:45: 📊 ルーター登録状況: {
2025-06-03T09:30:45:   system: true,
2025-06-03T09:30:45:   contacts: true,
2025-06-03T09:30:45:   campaigns: true,
2025-06-03T09:30:45:   callerIds: true,
2025-06-03T09:30:45:   calls: true,
2025-06-03T09:30:45:   audio: true,
2025-06-03T09:30:45:   ivr: true
2025-06-03T09:30:45: }
2025-06-03T09:30:45: 🚀 サーバー初期化開始...
2025-06-03T09:30:45: SQL実行: SELECT 1... 
[2025-06-03T09:30:45.933Z] INFO  [PID:490896] 音声ファイルディレクトリを初期化しました: /var/www/autodialer/backend/audio-files {"level":"INFO"}
[2025-06-03T09:30:45.935Z] INFO  [PID:490896] IVRスクリプトディレクトリを初期化しました: /var/www/autodialer/backend/ivr-scripts {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.933Z] INFO  [PID:490896][0m 音声ファイルディレクトリを初期化しました: /var/www/autodialer/backend/audio-files {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.935Z] INFO  [PID:490896][0m IVRスクリプトディレクトリを初期化しました: /var/www/autodialer/backend/ivr-scripts {"level":"INFO"}
2025-06-03T09:30:45: SQL実行成功: 結果行数=1
2025-06-03T09:30:45: ✅ データベース接続成功
2025-06-03T09:30:45: 🔧 SIPサービス初期化中...
[2025-06-03T09:30:45.980Z] INFO  [PID:490896] 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.980Z] INFO  [PID:490896][0m 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
[2025-06-03T09:30:45.981Z] INFO  [PID:490896] ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.981Z] INFO  [PID:490896][0m ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T09:30:45: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:30:45.985Z] INFO  [PID:490896] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:30:45: SQL実行成功: 結果行数=1
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.985Z] INFO  [PID:490896][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:30:45.986Z] INFO  [PID:490896] 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.986Z] INFO  [PID:490896][0m 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
[2025-06-03T09:30:45.986Z] INFO  [PID:490896] 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.986Z] INFO  [PID:490896][0m 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-03T09:30:45: SQL実行: 
2025-06-03T09:30:45:         SELECT 
2025-06-03T09:30:45:           cc.id,
2025-06-03T09:30:45:           cc.caller_id_id,
2025-06-03T09:30:45:           cc.username,
2025-06-03T09:30:45:           cc.pas... 
[2025-06-03T09:30:45.989Z] INFO  [PID:490896] データベース接続プールを作成しました {"level":"INFO"}
2025-06-03T09:30:45: データベース接続テスト成功: {
2025-06-03T09:30:45:   test: '1',
2025-06-03T09:30:45:   current_user_name: 'autodialer@localhost',
2025-06-03T09:30:45:   current_db: 'autodialer'
2025-06-03T09:30:45: }
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.989Z] INFO  [PID:490896][0m データベース接続プールを作成しました {"level":"INFO"}
2025-06-03T09:30:45: SQL実行: SELECT 1 as test... 
[2025-06-03T09:30:45.992Z] INFO  [PID:490896] 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
2025-06-03T09:30:45: SQL実行成功: 結果行数=22
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.992Z] INFO  [PID:490896][0m 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
[2025-06-03T09:30:45.993Z] INFO  [PID:490896] ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.993Z] INFO  [PID:490896][0m ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
[2025-06-03T09:30:45.994Z] INFO  [PID:490896] ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.994Z] INFO  [PID:490896][0m ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
[2025-06-03T09:30:45.994Z] INFO  [PID:490896] 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T09:30:45.995Z] INFO  [PID:490896] 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.994Z] INFO  [PID:490896][0m 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T09:30:45.995Z] INFO  [PID:490896] ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.995Z] INFO  [PID:490896][0m 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.995Z] INFO  [PID:490896][0m ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
[2025-06-03T09:30:45.995Z] INFO  [PID:490896] 📊 SIPアカウント概要: {"level":"INFO"}
[2025-06-03T09:30:45.995Z] INFO  [PID:490896]   - 総アカウント数: 22 {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.995Z] INFO  [PID:490896][0m 📊 SIPアカウント概要: {"level":"INFO"}
[2025-06-03T09:30:45.995Z] INFO  [PID:490896]   - 利用可能: 22 {"level":"INFO"}
[2025-06-03T09:30:45.995Z] INFO  [PID:490896]   - 使用中: 0 {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.995Z] INFO  [PID:490896][0m   - 総アカウント数: 22 {"level":"INFO"}
[2025-06-03T09:30:45.996Z] INFO  [PID:490896]   - エラー: 0 {"level":"INFO"}
[2025-06-03T09:30:45.996Z] INFO  [PID:490896]   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T09:30:45.996Z] INFO  [PID:490896]   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.995Z] INFO  [PID:490896][0m   - 利用可能: 22 {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.995Z] INFO  [PID:490896][0m   - 使用中: 0 {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.996Z] INFO  [PID:490896][0m   - エラー: 0 {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.996Z] INFO  [PID:490896][0m   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.996Z] INFO  [PID:490896][0m   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T09:30:45: 📞 SIP初期化結果: true
2025-06-03T09:30:45: 📞 SIPアカウント数: 22
[2025-06-03T09:30:45.997Z] INFO  [PID:490896] コールサービスの初期化を開始します {"level":"INFO"}
[2025-06-03T09:30:45.997Z] INFO  [PID:490896] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T09:30:45.997Z] INFO  [PID:490896] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:30:45: 🔧 CallService初期化中...
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.997Z] INFO  [PID:490896][0m コールサービスの初期化を開始します {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.997Z] INFO  [PID:490896][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T09:30:45: [36m[2025-06-03T09:30:45.997Z] INFO  [PID:490896][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
[2025-06-03T09:30:46.003Z] INFO  [PID:490896] 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.003Z] INFO  [PID:490896][0m 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
[2025-06-03T09:30:46.006Z] INFO  [PID:490896] ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-03T09:30:46: SQL実行成功: 結果行数=1
[2025-06-03T09:30:46.008Z] INFO  [PID:490896] ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.006Z] INFO  [PID:490896][0m ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-03T09:30:46: SQL実行: 
2025-06-03T09:30:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:30:46:                ci.number as ca... 
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.008Z] INFO  [PID:490896][0m ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T09:30:46: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:30:46.010Z] INFO  [PID:490896] 📋 初期キャンペーンロード: 0件検出 {"level":"INFO"}
2025-06-03T09:30:46: SQL実行成功: 結果行数=0
[2025-06-03T09:30:46.011Z] INFO  [PID:490896] ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.010Z] INFO  [PID:490896][0m 📋 初期キャンペーンロード: 0件検出 {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.011Z] INFO  [PID:490896][0m ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
[2025-06-03T09:30:46.011Z] INFO  [PID:490896] 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.011Z] INFO  [PID:490896][0m 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
[2025-06-03T09:30:46.011Z] INFO  [PID:490896] 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
[2025-06-03T09:30:46.011Z] INFO  [PID:490896] 🚀 自動発信システム開始: 8000ms間隔 {"level":"INFO"}
[2025-06-03T09:30:46.012Z] INFO  [PID:490896] ✅ 完全自動連動システム起動完了 {"level":"INFO"}
[2025-06-03T09:30:46.012Z] INFO  [PID:490896] ✅ DialerService自動システム起動完了 - 安定版 {"level":"INFO"}
[2025-06-03T09:30:46.012Z] INFO  [PID:490896] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:30:46.012Z] INFO  [PID:490896] 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
[2025-06-03T09:30:46.012Z] INFO  [PID:490896] 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.011Z] INFO  [PID:490896][0m 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.011Z] INFO  [PID:490896][0m 🚀 自動発信システム開始: 8000ms間隔 {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.012Z] INFO  [PID:490896][0m ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.012Z] INFO  [PID:490896][0m ✅ DialerService自動システム起動完了 - 安定版 {"level":"INFO"}
2025-06-03T09:30:46: SQL実行成功: 結果行数=1
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.012Z] INFO  [PID:490896][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.012Z] INFO  [PID:490896][0m 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.012Z] INFO  [PID:490896][0m 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-03T09:30:46: SQL実行: 
2025-06-03T09:30:46:         SELECT 
2025-06-03T09:30:46:           cc.id,
2025-06-03T09:30:46:           cc.caller_id_id,
2025-06-03T09:30:46:           cc.username,
2025-06-03T09:30:46:           cc.pas... 
[2025-06-03T09:30:46.014Z] INFO  [PID:490896] 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
[2025-06-03T09:30:46.015Z] INFO  [PID:490896] ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
[2025-06-03T09:30:46.015Z] INFO  [PID:490896] ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
[2025-06-03T09:30:46.015Z] INFO  [PID:490896] 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T09:30:46.015Z] INFO  [PID:490896] 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
[2025-06-03T09:30:46.015Z] INFO  [PID:490896] ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
[2025-06-03T09:30:46.015Z] INFO  [PID:490896] 📊 SIPアカウント概要: {"level":"INFO"}
[2025-06-03T09:30:46.015Z] INFO  [PID:490896]   - 総アカウント数: 22 {"level":"INFO"}
[2025-06-03T09:30:46.015Z] INFO  [PID:490896]   - 利用可能: 22 {"level":"INFO"}
[2025-06-03T09:30:46.015Z] INFO  [PID:490896]   - 使用中: 0 {"level":"INFO"}
[2025-06-03T09:30:46.015Z] INFO  [PID:490896]   - エラー: 0 {"level":"INFO"}
[2025-06-03T09:30:46.015Z] INFO  [PID:490896]   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T09:30:46.015Z] INFO  [PID:490896]   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T09:30:46: SQL実行成功: 結果行数=22
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.014Z] INFO  [PID:490896][0m 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.015Z] INFO  [PID:490896][0m ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.015Z] INFO  [PID:490896][0m ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.015Z] INFO  [PID:490896][0m 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.015Z] INFO  [PID:490896][0m 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.015Z] INFO  [PID:490896][0m ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.015Z] INFO  [PID:490896][0m 📊 SIPアカウント概要: {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.015Z] INFO  [PID:490896][0m   - 総アカウント数: 22 {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.015Z] INFO  [PID:490896][0m   - 利用可能: 22 {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.015Z] INFO  [PID:490896][0m   - 使用中: 0 {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.015Z] INFO  [PID:490896][0m   - エラー: 0 {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.015Z] INFO  [PID:490896][0m   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
2025-06-03T09:30:46: [36m[2025-06-03T09:30:46.015Z] INFO  [PID:490896][0m   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
[2025-06-03T09:31:01.002Z] WARN  [PID:490896] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T09:31:01.003Z] ERROR [PID:490896] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
[2025-06-03T09:31:01.004Z] WARN  [PID:490896] Asterisk接続リトライ 1/3 を5秒後に実行 {"level":"WARN"}
[2025-06-03T09:31:01.004Z] INFO  [PID:490896] コールサービスの初期化が完了しました {"level":"INFO"}
2025-06-03T09:31:01: [33m[2025-06-03T09:31:01.002Z] WARN  [PID:490896][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
2025-06-03T09:31:01: [31m[2025-06-03T09:31:01.003Z] ERROR [PID:490896][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T09:31:01: [33m[2025-06-03T09:31:01.004Z] WARN  [PID:490896][0m Asterisk接続リトライ 1/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T09:31:01: [36m[2025-06-03T09:31:01.004Z] INFO  [PID:490896][0m コールサービスの初期化が完了しました {"level":"INFO"}
2025-06-03T09:31:01: 📞 CallService初期化結果: true
2025-06-03T09:31:01: 🔧 DialerService手動初期化中...
2025-06-03T09:31:01: ✅ DialerService手動初期化完了
2025-06-03T09:31:01: 🔧 DialerService強制自動開始...
2025-06-03T09:31:01: ✅ サーバーが起動しました: http://0.0.0.0:5000
2025-06-03T09:31:01: 🎯 自動発信システム準備完了
2025-06-03T09:31:01: 🔗 利用可能なエンドポイント:
2025-06-03T09:31:01:   - GET  /health
2025-06-03T09:31:01:   - GET  /api/campaigns
2025-06-03T09:31:01:   - POST /api/campaigns/:id/start
2025-06-03T09:31:01:   - POST /api/calls/test
2025-06-03T09:31:01: SQL実行: 
2025-06-03T09:31:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:31:01:                ci.number as ca... 
[2025-06-03T09:31:01.015Z] INFO  [PID:490896] 🛑 自動発信システム停止 {"level":"INFO"}
[2025-06-03T09:31:01.015Z] INFO  [PID:490896] 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-03T09:31:01: SQL実行成功: 結果行数=0
2025-06-03T09:31:01: [36m[2025-06-03T09:31:01.015Z] INFO  [PID:490896][0m 🛑 自動発信システム停止 {"level":"INFO"}
2025-06-03T09:31:01: [36m[2025-06-03T09:31:01.015Z] INFO  [PID:490896][0m 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
[2025-06-03T09:31:06.004Z] INFO  [PID:490896] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T09:31:06.004Z] INFO  [PID:490896] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:31:06: [36m[2025-06-03T09:31:06.004Z] INFO  [PID:490896][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T09:31:06: [36m[2025-06-03T09:31:06.004Z] INFO  [PID:490896][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:31:06: SQL実行: 
2025-06-03T09:31:06:             SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:31:06:                    ci.numb... 
2025-06-03T09:31:06: SQL実行成功: 結果行数=0
2025-06-03T09:31:06: 📊 アクティブキャンペーン検出: 0件
2025-06-03T09:31:09: GET /api/campaigns - Origin: http://146.190.83.205:3003
[2025-06-03T09:31:09.886Z] INFO  [PID:490896] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T09:31:09: [36m[2025-06-03T09:31:09.886Z] INFO  [PID:490896][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T09:31:09: SQL実行: 
2025-06-03T09:31:09:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-03T09:31:09:        ... 
2025-06-03T09:31:09: SQL実行成功: 結果行数=2
2025-06-03T09:31:09: SQL実行: 
2025-06-03T09:31:09:       SELECT COUNT(*) as total
2025-06-03T09:31:09:       FROM campaigns c
2025-06-03T09:31:09:       WHERE 1=1
2025-06-03T09:31:09:     ... 
[2025-06-03T09:31:09.897Z] INFO  [PID:490896] キャンペーン取得結果: 2/2件 {"level":"INFO"}
2025-06-03T09:31:09: SQL実行成功: 結果行数=1
2025-06-03T09:31:09: [36m[2025-06-03T09:31:09.897Z] INFO  [PID:490896][0m キャンペーン取得結果: 2/2件 {"level":"INFO"}
[2025-06-03T09:31:11.006Z] INFO  [PID:490896] 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-03T09:31:11: [36m[2025-06-03T09:31:11.006Z] INFO  [PID:490896][0m 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-03T09:31:11: SQL実行: SELECT 1 as test... 
[2025-06-03T09:31:11.008Z] INFO  [PID:490896] ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-03T09:31:11: SQL実行成功: 結果行数=1
2025-06-03T09:31:11: [36m[2025-06-03T09:31:11.008Z] INFO  [PID:490896][0m ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-03T09:31:11: SQL実行: 
2025-06-03T09:31:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:31:11:                ci.number as ca... 
[2025-06-03T09:31:11.010Z] INFO  [PID:490896] 📋 初期キャンペーンロード: 0件検出 {"level":"INFO"}
[2025-06-03T09:31:11.010Z] INFO  [PID:490896] ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
[2025-06-03T09:31:11.010Z] INFO  [PID:490896] 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
[2025-06-03T09:31:11.010Z] INFO  [PID:490896] 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
[2025-06-03T09:31:11.010Z] INFO  [PID:490896] 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
[2025-06-03T09:31:11.010Z] INFO  [PID:490896] ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-03T09:31:11: SQL実行成功: 結果行数=0
2025-06-03T09:31:11: [36m[2025-06-03T09:31:11.010Z] INFO  [PID:490896][0m 📋 初期キャンペーンロード: 0件検出 {"level":"INFO"}
2025-06-03T09:31:11: [36m[2025-06-03T09:31:11.010Z] INFO  [PID:490896][0m ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
2025-06-03T09:31:11: [36m[2025-06-03T09:31:11.010Z] INFO  [PID:490896][0m 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
2025-06-03T09:31:11: [36m[2025-06-03T09:31:11.010Z] INFO  [PID:490896][0m 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
2025-06-03T09:31:11: [36m[2025-06-03T09:31:11.010Z] INFO  [PID:490896][0m 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
2025-06-03T09:31:11: [36m[2025-06-03T09:31:11.010Z] INFO  [PID:490896][0m ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-03T09:31:11: ✅ DialerService自動システム開始完了
2025-06-03T09:31:11: GET /api/caller-ids - Origin: http://146.190.83.205:3003
2025-06-03T09:31:11: 発信者番号一覧取得開始
2025-06-03T09:31:11: SQL実行: SELECT 1 as healthy, NOW() as timestamp, USER() as user, DATABASE() as db... 
2025-06-03T09:31:11: SQL実行成功: 結果行数=1
2025-06-03T09:31:11: データベース接続確認完了
2025-06-03T09:31:11: クエリ実行開始
2025-06-03T09:31:11: SQL実行: 
2025-06-03T09:31:11:       SELECT 
2025-06-03T09:31:11:         ci.id,
2025-06-03T09:31:11:         ci.number,
2025-06-03T09:31:11:         ci.description,
2025-06-03T09:31:11:         ci.provider,
2025-06-03T09:31:11:       ... 
2025-06-03T09:31:11: SQL実行成功: 結果行数=2
2025-06-03T09:31:11: クエリ実行完了: 2件取得
2025-06-03T09:31:11: 発信者番号一覧取得成功: 2
[2025-06-03T09:31:21.006Z] WARN  [PID:490896] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
2025-06-03T09:31:21: [33m[2025-06-03T09:31:21.006Z] WARN  [PID:490896][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T09:31:21.007Z] ERROR [PID:490896] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
[2025-06-03T09:31:21.007Z] WARN  [PID:490896] Asterisk接続リトライ 2/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T09:31:21: [31m[2025-06-03T09:31:21.007Z] ERROR [PID:490896][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T09:31:21: [33m[2025-06-03T09:31:21.007Z] WARN  [PID:490896][0m Asterisk接続リトライ 2/3 を5秒後に実行 {"level":"WARN"}
[2025-06-03T09:31:26.007Z] INFO  [PID:490896] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T09:31:26.008Z] INFO  [PID:490896] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:31:26: [36m[2025-06-03T09:31:26.007Z] INFO  [PID:490896][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T09:31:26: [36m[2025-06-03T09:31:26.008Z] INFO  [PID:490896][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:31:26: SQL実行: 
2025-06-03T09:31:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:31:26:                ci.number as ca... 
[2025-06-03T09:31:26.028Z] INFO  [PID:490896] 🛑 自動発信システム停止 {"level":"INFO"}
2025-06-03T09:31:26: SQL実行成功: 結果行数=0
[2025-06-03T09:31:26.029Z] INFO  [PID:490896] 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-03T09:31:26: [36m[2025-06-03T09:31:26.028Z] INFO  [PID:490896][0m 🛑 自動発信システム停止 {"level":"INFO"}
2025-06-03T09:31:26: [36m[2025-06-03T09:31:26.029Z] INFO  [PID:490896][0m 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-03T09:31:26: POST /api/campaigns - Origin: http://146.190.83.205:3003
[2025-06-03T09:31:26.304Z] INFO  [PID:490896] キャンペーン作成: Name=テスト {"level":"INFO"}
2025-06-03T09:31:26: [36m[2025-06-03T09:31:26.304Z] INFO  [PID:490896][0m キャンペーン作成: Name=テスト {"level":"INFO"}
2025-06-03T09:31:26: SQL実行: INSERT INTO campaigns (name, description, caller_id_id, script, status, created_at) VALUES (?, ?, ?,... パラメータ数: 5
[2025-06-03T09:31:26.311Z] INFO  [PID:490896] キャンペーン作成完了: ID=57, Name=テスト {"level":"INFO"}
2025-06-03T09:31:26: SQL実行成功: 結果行数=不明
2025-06-03T09:31:26: [36m[2025-06-03T09:31:26.311Z] INFO  [PID:490896][0m キャンペーン作成完了: ID=57, Name=テスト {"level":"INFO"}
[2025-06-03T09:31:27.372Z] INFO  [PID:490896] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T09:31:27: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-03T09:31:27: [36m[2025-06-03T09:31:27.372Z] INFO  [PID:490896][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T09:31:27: SQL実行: 
2025-06-03T09:31:27:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-03T09:31:27:        ... 
2025-06-03T09:31:27: SQL実行成功: 結果行数=3
2025-06-03T09:31:27: SQL実行: 
2025-06-03T09:31:27:       SELECT COUNT(*) as total
2025-06-03T09:31:27:       FROM campaigns c
2025-06-03T09:31:27:       WHERE 1=1
2025-06-03T09:31:27:     ... 
2025-06-03T09:31:27: SQL実行成功: 結果行数=1
[2025-06-03T09:31:27.378Z] INFO  [PID:490896] キャンペーン取得結果: 3/3件 {"level":"INFO"}
2025-06-03T09:31:27: [36m[2025-06-03T09:31:27.378Z] INFO  [PID:490896][0m キャンペーン取得結果: 3/3件 {"level":"INFO"}
2025-06-03T09:31:28: GET /api/campaigns/57 - Origin: http://146.190.83.205:3003
[2025-06-03T09:31:28.937Z] INFO  [PID:490896] キャンペーン詳細取得: ID=57 {"level":"INFO"}
2025-06-03T09:31:28: [36m[2025-06-03T09:31:28.937Z] INFO  [PID:490896][0m キャンペーン詳細取得: ID=57 {"level":"INFO"}
2025-06-03T09:31:28: SQL実行: 
2025-06-03T09:31:28:       SELECT c.*, 
2025-06-03T09:31:28:              ci.number as caller_id_number,
2025-06-03T09:31:28:              ci.description as calle... パラメータ数: 1
[2025-06-03T09:31:28.941Z] INFO  [PID:490896] キャンペーン詳細取得: ID=57 {"level":"INFO"}
2025-06-03T09:31:28: SQL実行成功: 結果行数=1
2025-06-03T09:31:28: [36m[2025-06-03T09:31:28.941Z] INFO  [PID:490896][0m キャンペーン詳細取得: ID=57 {"level":"INFO"}
2025-06-03T09:31:28: GET /api/campaigns/57/stats - Origin: http://146.190.83.205:3003
[2025-06-03T09:31:28.996Z] INFO  [PID:490896] キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:31:28: [36m[2025-06-03T09:31:28.996Z] INFO  [PID:490896][0m キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:31:28: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:31:28: SQL実行成功: 結果行数=1
2025-06-03T09:31:28: SQL実行: 
2025-06-03T09:31:28:       SELECT 
2025-06-03T09:31:28:         COUNT(*) as total,
2025-06-03T09:31:28:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:31:29: SQL実行成功: 結果行数=1
2025-06-03T09:31:29: SQL実行: 
2025-06-03T09:31:29:       SELECT 
2025-06-03T09:31:29:         COUNT(*) as total_calls,
2025-06-03T09:31:29:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:31:29: SQL実行成功: 結果行数=1
[2025-06-03T09:31:29.001Z] INFO  [PID:490896] キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
2025-06-03T09:31:29: 進捗計算デバッグ: total=0, processed=0, progress=0%
2025-06-03T09:31:29: [36m[2025-06-03T09:31:29.001Z] INFO  [PID:490896][0m キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
2025-06-03T09:31:30: GET /api/campaigns/57/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
[2025-06-03T09:31:30.407Z] INFO  [PID:490896] 連絡先一覧取得: Campaign=57, Page=1, Limit=20 {"level":"INFO"}
2025-06-03T09:31:30: [36m[2025-06-03T09:31:30.407Z] INFO  [PID:490896][0m 連絡先一覧取得: Campaign=57, Page=1, Limit=20 {"level":"INFO"}
2025-06-03T09:31:30: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:31:30: SQL実行成功: 結果行数=1
2025-06-03T09:31:30: SQL実行: 
2025-06-03T09:31:30:       SELECT c.*
2025-06-03T09:31:30:       FROM contacts c
2025-06-03T09:31:30:       WHERE c.campaign_id = ?
2025-06-03T09:31:30:      ORDER BY c.created_at DES... パラメータ数: 1
2025-06-03T09:31:30: SQL実行成功: 結果行数=0
2025-06-03T09:31:30: SQL実行: 
2025-06-03T09:31:30:       SELECT COUNT(*) as total
2025-06-03T09:31:30:       FROM contacts c
2025-06-03T09:31:30:       WHERE c.campaign_id = ?
2025-06-03T09:31:30:     ... パラメータ数: 1
2025-06-03T09:31:30: SQL実行成功: 結果行数=1
[2025-06-03T09:31:30.412Z] INFO  [PID:490896] 連絡先取得結果: Campaign=57, 件数=0, 全体=0 {"level":"INFO"}
2025-06-03T09:31:30: [36m[2025-06-03T09:31:30.412Z] INFO  [PID:490896][0m 連絡先取得結果: Campaign=57, 件数=0, 全体=0 {"level":"INFO"}
[2025-06-03T09:31:41.009Z] WARN  [PID:490896] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T09:31:41.009Z] ERROR [PID:490896] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T09:31:41: [33m[2025-06-03T09:31:41.009Z] WARN  [PID:490896][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T09:31:41.010Z] WARN  [PID:490896] Asterisk接続リトライ 3/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T09:31:41: [31m[2025-06-03T09:31:41.009Z] ERROR [PID:490896][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T09:31:41: [33m[2025-06-03T09:31:41.010Z] WARN  [PID:490896][0m Asterisk接続リトライ 3/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T09:31:41: SQL実行: SELECT 1... 
2025-06-03T09:31:41: SQL実行成功: 結果行数=1
2025-06-03T09:31:41: SQL実行: 
2025-06-03T09:31:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:31:41:                ci.number as ca... 
2025-06-03T09:31:41: SQL実行成功: 結果行数=0
2025-06-03T09:31:41: POST /api/campaigns/57/contacts/upload - Origin: http://146.190.83.205:3003
[2025-06-03T09:31:41.542Z] INFO  [PID:490896] 🚀 CSVアップロード開始 {"campaignId":"57","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-03T09:31:41.542Z","level":"INFO"}
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.542Z] INFO  [PID:490896][0m 🚀 CSVアップロード開始 {"campaignId":"57","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-03T09:31:41.542Z","level":"INFO"}
2025-06-03T09:31:41: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-03T09:31:41.544Z] INFO  [PID:490896] 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
2025-06-03T09:31:41: SQL実行成功: 結果行数=1
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.544Z] INFO  [PID:490896][0m 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
[2025-06-03T09:31:41.548Z] WARN  [PID:490896] CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
[2025-06-03T09:31:41.548Z] INFO  [PID:490896] CSV解析完了: 1行のデータ {"level":"INFO"}
[2025-06-03T09:31:41.548Z] INFO  [PID:490896] 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
2025-06-03T09:31:41: [33m[2025-06-03T09:31:41.548Z] WARN  [PID:490896][0m CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.548Z] INFO  [PID:490896][0m CSV解析完了: 1行のデータ {"level":"INFO"}
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.548Z] INFO  [PID:490896][0m 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
[2025-06-03T09:31:41.549Z] INFO  [PID:490896] 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.549Z] INFO  [PID:490896][0m 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
[2025-06-03T09:31:41.549Z] INFO  [PID:490896] 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.549Z] INFO  [PID:490896][0m 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
[2025-06-03T09:31:41.549Z] INFO  [PID:490896] 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
[2025-06-03T09:31:41.549Z] INFO  [PID:490896] バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
[2025-06-03T09:31:41.549Z] INFO  [PID:490896] 🔍 重複チェック開始... {"level":"INFO"}
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.549Z] INFO  [PID:490896][0m 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.549Z] INFO  [PID:490896][0m バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.549Z] INFO  [PID:490896][0m 🔍 重複チェック開始... {"level":"INFO"}
2025-06-03T09:31:41: SQL実行: SELECT phone FROM contacts WHERE campaign_id = ?... パラメータ数: 1
[2025-06-03T09:31:41.551Z] INFO  [PID:490896] 既存電話番号数: 0 {"level":"INFO"}
2025-06-03T09:31:41: SQL実行成功: 結果行数=0
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.551Z] INFO  [PID:490896][0m 既存電話番号数: 0 {"level":"INFO"}
[2025-06-03T09:31:41.551Z] INFO  [PID:490896] 新規データ追加: 05018086649 {"level":"INFO"}
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.551Z] INFO  [PID:490896][0m 新規データ追加: 05018086649 {"level":"INFO"}
[2025-06-03T09:31:41.551Z] INFO  [PID:490896] 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
[2025-06-03T09:31:41.551Z] INFO  [PID:490896] 💾 データベース挿入開始: 1件 {"level":"INFO"}
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.551Z] INFO  [PID:490896][0m 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.551Z] INFO  [PID:490896][0m 💾 データベース挿入開始: 1件 {"level":"INFO"}
2025-06-03T09:31:41: SQL実行: START TRANSACTION... 
2025-06-03T09:31:41: SQL実行成功: 結果行数=不明
2025-06-03T09:31:41: SQL実行: INSERT INTO contacts (campaign_id, phone, name, company, status, created_at) VALUES (?, ?, ?, ?, ?, ... パラメータ数: 5
2025-06-03T09:31:41: SQL実行成功: 結果行数=不明
[2025-06-03T09:31:41.553Z] INFO  [PID:490896] 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.553Z] INFO  [PID:490896][0m 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
2025-06-03T09:31:41: SQL実行: COMMIT... 
[2025-06-03T09:31:41.557Z] INFO  [PID:490896] ✅ 全件挿入完了: 1件 {"level":"INFO"}
2025-06-03T09:31:41: SQL実行成功: 結果行数=不明
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.557Z] INFO  [PID:490896][0m ✅ 全件挿入完了: 1件 {"level":"INFO"}
2025-06-03T09:31:41: SQL実行: SELECT COUNT(*) as total FROM contacts WHERE campaign_id = ?... パラメータ数: 1
2025-06-03T09:31:41: SQL実行成功: 結果行数=1
2025-06-03T09:31:41: SQL実行: SELECT COUNT(*) as completed FROM contacts WHERE campaign_id = ? AND status IN ("completed", "failed... パラメータ数: 1
2025-06-03T09:31:41: SQL実行成功: 結果行数=1
2025-06-03T09:31:41: SQL実行: UPDATE campaigns SET progress = ?, updated_at = NOW() WHERE id = ?... パラメータ数: 2
2025-06-03T09:31:41: SQL実行成功: 結果行数=不明
[2025-06-03T09:31:41.564Z] INFO  [PID:490896] CSVアップロード完了 {"campaignId":"57","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.564Z] INFO  [PID:490896][0m CSVアップロード完了 {"campaignId":"57","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
[2025-06-03T09:31:41.618Z] INFO  [PID:490896] キャンペーン詳細取得: ID=57 {"level":"INFO"}
2025-06-03T09:31:41: GET /api/campaigns/57 - Origin: http://146.190.83.205:3003
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.618Z] INFO  [PID:490896][0m キャンペーン詳細取得: ID=57 {"level":"INFO"}
2025-06-03T09:31:41: SQL実行: 
2025-06-03T09:31:41:       SELECT c.*, 
2025-06-03T09:31:41:              ci.number as caller_id_number,
2025-06-03T09:31:41:              ci.description as calle... パラメータ数: 1
[2025-06-03T09:31:41.621Z] INFO  [PID:490896] キャンペーン詳細取得: ID=57 {"level":"INFO"}
2025-06-03T09:31:41: SQL実行成功: 結果行数=1
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.621Z] INFO  [PID:490896][0m キャンペーン詳細取得: ID=57 {"level":"INFO"}
2025-06-03T09:31:41: GET /api/campaigns/57/stats - Origin: http://146.190.83.205:3003
[2025-06-03T09:31:41.677Z] INFO  [PID:490896] キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.677Z] INFO  [PID:490896][0m キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:31:41: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:31:41: SQL実行成功: 結果行数=1
2025-06-03T09:31:41: SQL実行: 
2025-06-03T09:31:41:       SELECT 
2025-06-03T09:31:41:         COUNT(*) as total,
2025-06-03T09:31:41:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:31:41: SQL実行成功: 結果行数=1
2025-06-03T09:31:41: SQL実行: 
2025-06-03T09:31:41:       SELECT 
2025-06-03T09:31:41:         COUNT(*) as total_calls,
2025-06-03T09:31:41:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:31:41.683Z] INFO  [PID:490896] キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
2025-06-03T09:31:41: SQL実行成功: 結果行数=1
2025-06-03T09:31:41: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.683Z] INFO  [PID:490896][0m キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
2025-06-03T09:31:41: GET /api/campaigns/57/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
[2025-06-03T09:31:41.757Z] INFO  [PID:490896] 連絡先一覧取得: Campaign=57, Page=1, Limit=20 {"level":"INFO"}
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.757Z] INFO  [PID:490896][0m 連絡先一覧取得: Campaign=57, Page=1, Limit=20 {"level":"INFO"}
2025-06-03T09:31:41: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:31:41: SQL実行成功: 結果行数=1
2025-06-03T09:31:41: SQL実行: 
2025-06-03T09:31:41:       SELECT c.*
2025-06-03T09:31:41:       FROM contacts c
2025-06-03T09:31:41:       WHERE c.campaign_id = ?
2025-06-03T09:31:41:      ORDER BY c.created_at DES... パラメータ数: 1
2025-06-03T09:31:41: SQL実行成功: 結果行数=1
2025-06-03T09:31:41: SQL実行: 
2025-06-03T09:31:41:       SELECT COUNT(*) as total
2025-06-03T09:31:41:       FROM contacts c
2025-06-03T09:31:41:       WHERE c.campaign_id = ?
2025-06-03T09:31:41:     ... パラメータ数: 1
[2025-06-03T09:31:41.762Z] INFO  [PID:490896] 連絡先取得結果: Campaign=57, 件数=1, 全体=1 {"level":"INFO"}
2025-06-03T09:31:41: SQL実行成功: 結果行数=1
2025-06-03T09:31:41: [36m[2025-06-03T09:31:41.762Z] INFO  [PID:490896][0m 連絡先取得結果: Campaign=57, 件数=1, 全体=1 {"level":"INFO"}
2025-06-03T09:31:45: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:31:45.820Z] INFO  [PID:490896] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:31:45: SQL実行成功: 結果行数=1
2025-06-03T09:31:45: [36m[2025-06-03T09:31:45.820Z] INFO  [PID:490896][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:31:46.010Z] INFO  [PID:490896] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T09:31:46.010Z] INFO  [PID:490896] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:31:46: [36m[2025-06-03T09:31:46.010Z] INFO  [PID:490896][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T09:31:46: [36m[2025-06-03T09:31:46.010Z] INFO  [PID:490896][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:31:46: GET /api/ivr/campaigns/57 - Origin: http://146.190.83.205:3003
2025-06-03T09:31:46: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:31:46: SQL実行成功: 結果行数=1
[2025-06-03T09:31:46.030Z] INFO  [PID:490896] キャンペーン音声取得開始: Campaign=57 {"level":"INFO"}
2025-06-03T09:31:46: [36m[2025-06-03T09:31:46.030Z] INFO  [PID:490896][0m キャンペーン音声取得開始: Campaign=57 {"level":"INFO"}
2025-06-03T09:31:46: SQL実行: 
2025-06-03T09:31:46:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T09:31:46:    ... パラメータ数: 1
[2025-06-03T09:31:46.031Z] INFO  [PID:490896] キャンペーン音声取得結果: Campaign=57, 件数=0 {"level":"INFO"}
[2025-06-03T09:31:46.031Z] WARN  [PID:490896] キャンペーン 57 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-03T09:31:46: SQL実行成功: 結果行数=0
2025-06-03T09:31:46: [36m[2025-06-03T09:31:46.031Z] INFO  [PID:490896][0m キャンペーン音声取得結果: Campaign=57, 件数=0 {"level":"INFO"}
2025-06-03T09:31:46: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-03T09:31:46: [33m[2025-06-03T09:31:46.031Z] WARN  [PID:490896][0m キャンペーン 57 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-03T09:31:46: SQL実行成功: 結果行数=0
2025-06-03T09:31:46: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:31:46: SQL実行成功: 結果行数=1
[2025-06-03T09:31:46.035Z] INFO  [PID:490896] キャンペーン音声取得開始: Campaign=57 {"level":"INFO"}
2025-06-03T09:31:46: [36m[2025-06-03T09:31:46.035Z] INFO  [PID:490896][0m キャンペーン音声取得開始: Campaign=57 {"level":"INFO"}
2025-06-03T09:31:46: SQL実行: 
2025-06-03T09:31:46:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T09:31:46:    ... パラメータ数: 1
[2025-06-03T09:31:46.036Z] INFO  [PID:490896] キャンペーン音声取得結果: Campaign=57, 件数=0 {"level":"INFO"}
2025-06-03T09:31:46: SQL実行成功: 結果行数=0
2025-06-03T09:31:46: [36m[2025-06-03T09:31:46.036Z] INFO  [PID:490896][0m キャンペーン音声取得結果: Campaign=57, 件数=0 {"level":"INFO"}
[2025-06-03T09:31:46.036Z] WARN  [PID:490896] キャンペーン 57 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-03T09:31:46: [33m[2025-06-03T09:31:46.036Z] WARN  [PID:490896][0m キャンペーン 57 に音声ファイルが見つかりません {"level":"WARN"}
[2025-06-03T09:31:46.039Z] INFO  [PID:490896] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-57.conf {"level":"INFO"}
2025-06-03T09:31:46: [36m[2025-06-03T09:31:46.039Z] INFO  [PID:490896][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-57.conf {"level":"INFO"}
2025-06-03T09:31:46: GET /api/audio - Origin: http://146.190.83.205:3003
[2025-06-03T09:31:46.181Z] INFO  [PID:490896] 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-03T09:31:46: [36m[2025-06-03T09:31:46.181Z] INFO  [PID:490896][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-03T09:31:46: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
[2025-06-03T09:31:46.183Z] INFO  [PID:490896] 7件の音声ファイルを取得しました {"level":"INFO"}
2025-06-03T09:31:46: SQL実行成功: 結果行数=7
2025-06-03T09:31:46: [36m[2025-06-03T09:31:46.183Z] INFO  [PID:490896][0m 7件の音声ファイルを取得しました {"level":"INFO"}
2025-06-03T09:31:53: POST /api/audio/assign - Origin: http://146.190.83.205:3003
[2025-06-03T09:31:53.644Z] INFO  [PID:490896] 音声ファイル割り当て: キャンペーンID=57, 音声ID=1eafe0ce-cfd5-4bd7-944b-fb5288171f71, タイプ=welcome {"level":"INFO"}
2025-06-03T09:31:53: [36m[2025-06-03T09:31:53.644Z] INFO  [PID:490896][0m 音声ファイル割り当て: キャンペーンID=57, 音声ID=1eafe0ce-cfd5-4bd7-944b-fb5288171f71, タイプ=welcome {"level":"INFO"}
2025-06-03T09:31:53: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:31:53: SQL実行成功: 結果行数=1
2025-06-03T09:31:53: SQL実行: SELECT id FROM audio_files WHERE id = ?... パラメータ数: 1
2025-06-03T09:31:53: SQL実行成功: 結果行数=1
2025-06-03T09:31:53: SQL実行: SELECT * FROM campaign_audio WHERE campaign_id = ? AND audio_type = ?... パラメータ数: 2
2025-06-03T09:31:53: SQL実行成功: 結果行数=0
2025-06-03T09:31:53: SQL実行: INSERT INTO campaign_audio (campaign_id, audio_file_id, audio_type, created_at) VALUES (?, ?, ?, NOW... パラメータ数: 3
[2025-06-03T09:31:53.655Z] INFO  [PID:490896] 新規割り当てを作成しました: キャンペーンID=57, タイプ=welcome {"level":"INFO"}
2025-06-03T09:31:53: SQL実行成功: 結果行数=不明
2025-06-03T09:31:53: [36m[2025-06-03T09:31:53.655Z] INFO  [PID:490896][0m 新規割り当てを作成しました: キャンペーンID=57, タイプ=welcome {"level":"INFO"}
2025-06-03T09:31:53: GET /api/ivr/campaigns/57 - Origin: http://146.190.83.205:3003
2025-06-03T09:31:53: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-03T09:31:53.707Z] INFO  [PID:490896] キャンペーン音声取得開始: Campaign=57 {"level":"INFO"}
2025-06-03T09:31:53: SQL実行成功: 結果行数=1
2025-06-03T09:31:53: [36m[2025-06-03T09:31:53.707Z] INFO  [PID:490896][0m キャンペーン音声取得開始: Campaign=57 {"level":"INFO"}
2025-06-03T09:31:53: SQL実行: 
2025-06-03T09:31:53:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T09:31:53:    ... パラメータ数: 1
[2025-06-03T09:31:53.708Z] INFO  [PID:490896] キャンペーン音声取得結果: Campaign=57, 件数=1 {"level":"INFO"}
2025-06-03T09:31:53: SQL実行成功: 結果行数=1
[2025-06-03T09:31:53.709Z] INFO  [PID:490896] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T09:31:53: [36m[2025-06-03T09:31:53.708Z] INFO  [PID:490896][0m キャンペーン音声取得結果: Campaign=57, 件数=1 {"level":"INFO"}
2025-06-03T09:31:53: [36m[2025-06-03T09:31:53.709Z] INFO  [PID:490896][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T09:31:53: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-03T09:31:53: SQL実行成功: 結果行数=0
2025-06-03T09:31:53: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-03T09:31:53.711Z] INFO  [PID:490896] キャンペーン音声取得開始: Campaign=57 {"level":"INFO"}
2025-06-03T09:31:53: SQL実行成功: 結果行数=1
2025-06-03T09:31:53: [36m[2025-06-03T09:31:53.711Z] INFO  [PID:490896][0m キャンペーン音声取得開始: Campaign=57 {"level":"INFO"}
2025-06-03T09:31:53: SQL実行: 
2025-06-03T09:31:53:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T09:31:53:    ... パラメータ数: 1
[2025-06-03T09:31:53.712Z] INFO  [PID:490896] キャンペーン音声取得結果: Campaign=57, 件数=1 {"level":"INFO"}
2025-06-03T09:31:53: SQL実行成功: 結果行数=1
2025-06-03T09:31:53: [36m[2025-06-03T09:31:53.712Z] INFO  [PID:490896][0m キャンペーン音声取得結果: Campaign=57, 件数=1 {"level":"INFO"}
[2025-06-03T09:31:53.712Z] INFO  [PID:490896] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T09:31:53: [36m[2025-06-03T09:31:53.712Z] INFO  [PID:490896][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
[2025-06-03T09:31:53.713Z] INFO  [PID:490896] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-57.conf {"level":"INFO"}
2025-06-03T09:31:53: [36m[2025-06-03T09:31:53.713Z] INFO  [PID:490896][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-57.conf {"level":"INFO"}
2025-06-03T09:31:55: POST /api/campaigns/57/start - Origin: http://146.190.83.205:3003
[2025-06-03T09:31:55.794Z] INFO  [PID:490896] キャンペーン開始: ID=57 {"level":"INFO"}
2025-06-03T09:31:55: [36m[2025-06-03T09:31:55.794Z] INFO  [PID:490896][0m キャンペーン開始: ID=57 {"level":"INFO"}
2025-06-03T09:31:55: SQL実行: UPDATE campaigns SET status = "active", updated_at = NOW() WHERE id = ? AND status != "active"... パラメータ数: 1
[2025-06-03T09:31:55.798Z] INFO  [PID:490896] キャンペーン開始完了: ID=57 {"level":"INFO"}
2025-06-03T09:31:55: SQL実行成功: 結果行数=不明
2025-06-03T09:31:55: [36m[2025-06-03T09:31:55.798Z] INFO  [PID:490896][0m キャンペーン開始完了: ID=57 {"level":"INFO"}
[2025-06-03T09:31:55.848Z] INFO  [PID:490896] キャンペーン詳細取得: ID=57 {"level":"INFO"}
2025-06-03T09:31:55: GET /api/campaigns/57 - Origin: http://146.190.83.205:3003
2025-06-03T09:31:55: [36m[2025-06-03T09:31:55.848Z] INFO  [PID:490896][0m キャンペーン詳細取得: ID=57 {"level":"INFO"}
2025-06-03T09:31:55: SQL実行: 
2025-06-03T09:31:55:       SELECT c.*, 
2025-06-03T09:31:55:              ci.number as caller_id_number,
2025-06-03T09:31:55:              ci.description as calle... パラメータ数: 1
[2025-06-03T09:31:55.850Z] INFO  [PID:490896] キャンペーン詳細取得: ID=57 {"level":"INFO"}
2025-06-03T09:31:55: SQL実行成功: 結果行数=1
2025-06-03T09:31:55: [36m[2025-06-03T09:31:55.850Z] INFO  [PID:490896][0m キャンペーン詳細取得: ID=57 {"level":"INFO"}
[2025-06-03T09:31:55.899Z] INFO  [PID:490896] キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:31:55: GET /api/campaigns/57/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:31:55: [36m[2025-06-03T09:31:55.899Z] INFO  [PID:490896][0m キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:31:55: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:31:55: SQL実行成功: 結果行数=1
2025-06-03T09:31:55: SQL実行: 
2025-06-03T09:31:55:       SELECT 
2025-06-03T09:31:55:         COUNT(*) as total,
2025-06-03T09:31:55:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:31:55: SQL実行成功: 結果行数=1
2025-06-03T09:31:55: SQL実行: 
2025-06-03T09:31:55:       SELECT 
2025-06-03T09:31:55:         COUNT(*) as total_calls,
2025-06-03T09:31:55:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:31:55: SQL実行成功: 結果行数=1
2025-06-03T09:31:55: 進捗計算デバッグ: total=1, processed=000, progress=0%
[2025-06-03T09:31:55.904Z] INFO  [PID:490896] キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
2025-06-03T09:31:55: [36m[2025-06-03T09:31:55.904Z] INFO  [PID:490896][0m キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
2025-06-03T09:31:55: GET /api/ivr/campaigns/57 - Origin: http://146.190.83.205:3003
2025-06-03T09:31:55: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-03T09:31:55.958Z] INFO  [PID:490896] 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-03T09:31:55: GET /api/audio - Origin: http://146.190.83.205:3003
2025-06-03T09:31:55: [36m[2025-06-03T09:31:55.958Z] INFO  [PID:490896][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-03T09:31:55: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
[2025-06-03T09:31:55.960Z] INFO  [PID:490896] キャンペーン音声取得開始: Campaign=57 {"level":"INFO"}
2025-06-03T09:31:55: SQL実行成功: 結果行数=1
2025-06-03T09:31:55: [36m[2025-06-03T09:31:55.960Z] INFO  [PID:490896][0m キャンペーン音声取得開始: Campaign=57 {"level":"INFO"}
2025-06-03T09:31:55: SQL実行: 
2025-06-03T09:31:55:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T09:31:55:    ... パラメータ数: 1
[2025-06-03T09:31:55.962Z] INFO  [PID:490896] 7件の音声ファイルを取得しました {"level":"INFO"}
2025-06-03T09:31:55: SQL実行成功: 結果行数=7
2025-06-03T09:31:55: [36m[2025-06-03T09:31:55.962Z] INFO  [PID:490896][0m 7件の音声ファイルを取得しました {"level":"INFO"}
[2025-06-03T09:31:55.963Z] INFO  [PID:490896] キャンペーン音声取得結果: Campaign=57, 件数=1 {"level":"INFO"}
2025-06-03T09:31:55: SQL実行成功: 結果行数=1
[2025-06-03T09:31:55.964Z] INFO  [PID:490896] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T09:31:55: [36m[2025-06-03T09:31:55.963Z] INFO  [PID:490896][0m キャンペーン音声取得結果: Campaign=57, 件数=1 {"level":"INFO"}
2025-06-03T09:31:55: [36m[2025-06-03T09:31:55.964Z] INFO  [PID:490896][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T09:31:55: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-03T09:31:55: SQL実行成功: 結果行数=0
2025-06-03T09:31:55: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:31:55: SQL実行成功: 結果行数=1
[2025-06-03T09:31:55.966Z] INFO  [PID:490896] キャンペーン音声取得開始: Campaign=57 {"level":"INFO"}
2025-06-03T09:31:55: [36m[2025-06-03T09:31:55.966Z] INFO  [PID:490896][0m キャンペーン音声取得開始: Campaign=57 {"level":"INFO"}
2025-06-03T09:31:55: SQL実行: 
2025-06-03T09:31:55:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T09:31:55:    ... パラメータ数: 1
[2025-06-03T09:31:55.967Z] INFO  [PID:490896] キャンペーン音声取得結果: Campaign=57, 件数=1 {"level":"INFO"}
2025-06-03T09:31:55: SQL実行成功: 結果行数=1
[2025-06-03T09:31:55.967Z] INFO  [PID:490896] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T09:31:55: [36m[2025-06-03T09:31:55.967Z] INFO  [PID:490896][0m キャンペーン音声取得結果: Campaign=57, 件数=1 {"level":"INFO"}
2025-06-03T09:31:55: [36m[2025-06-03T09:31:55.967Z] INFO  [PID:490896][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
[2025-06-03T09:31:55.968Z] INFO  [PID:490896] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-57.conf {"level":"INFO"}
2025-06-03T09:31:55: [36m[2025-06-03T09:31:55.968Z] INFO  [PID:490896][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-57.conf {"level":"INFO"}
2025-06-03T09:31:56: SQL実行: 
2025-06-03T09:31:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:31:56:                ci.number as ca... 
2025-06-03T09:31:56: SQL実行成功: 結果行数=1
[2025-06-03T09:31:56.035Z] INFO  [PID:490896] 🎉 イベント: キャンペーン追加 - テスト (ID: 57) {"level":"INFO"}
2025-06-03T09:31:56: [36m[2025-06-03T09:31:56.035Z] INFO  [PID:490896][0m 🎉 イベント: キャンペーン追加 - テスト (ID: 57) {"level":"INFO"}
[2025-06-03T09:31:56.036Z] INFO  [PID:490896] ✅ キャンペーン自動追加: "テスト" (未処理: 1件) {"level":"INFO"}
2025-06-03T09:31:56: [36m[2025-06-03T09:31:56.036Z] INFO  [PID:490896][0m ✅ キャンペーン自動追加: "テスト" (未処理: 1件) {"level":"INFO"}
[2025-06-03T09:31:56.036Z] INFO  [PID:490896] 🆕 新しいキャンペーンを自動検知: "テスト" (ID: 57) {"level":"INFO"}
2025-06-03T09:31:56: [36m[2025-06-03T09:31:56.036Z] INFO  [PID:490896][0m 🆕 新しいキャンペーンを自動検知: "テスト" (ID: 57) {"level":"INFO"}
[2025-06-03T09:31:56.036Z] INFO  [PID:490896] 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
2025-06-03T09:31:56: [36m[2025-06-03T09:31:56.036Z] INFO  [PID:490896][0m 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
[2025-06-03T09:31:56.036Z] INFO  [PID:490896] 🚀 アクティブキャンペーン検知により自動発信開始 {"level":"INFO"}
2025-06-03T09:31:56: [36m[2025-06-03T09:31:56.036Z] INFO  [PID:490896][0m 🚀 アクティブキャンペーン検知により自動発信開始 {"level":"INFO"}
[2025-06-03T09:32:00.902Z] INFO  [PID:490896] キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:32:00: GET /api/campaigns/57/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:32:00: [36m[2025-06-03T09:32:00.902Z] INFO  [PID:490896][0m キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:32:00: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:32:00: SQL実行成功: 結果行数=1
2025-06-03T09:32:00: SQL実行: 
2025-06-03T09:32:00:       SELECT 
2025-06-03T09:32:00:         COUNT(*) as total,
2025-06-03T09:32:00:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:32:00: SQL実行成功: 結果行数=1
2025-06-03T09:32:00: SQL実行: 
2025-06-03T09:32:00:       SELECT 
2025-06-03T09:32:00:         COUNT(*) as total_calls,
2025-06-03T09:32:00:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:32:00: SQL実行成功: 結果行数=1
[2025-06-03T09:32:00.906Z] INFO  [PID:490896] キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
2025-06-03T09:32:00: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:32:00: [36m[2025-06-03T09:32:00.906Z] INFO  [PID:490896][0m キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
[2025-06-03T09:32:01.011Z] WARN  [PID:490896] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
2025-06-03T09:32:01: [33m[2025-06-03T09:32:01.011Z] WARN  [PID:490896][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T09:32:01.012Z] ERROR [PID:490896] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T09:32:01: [31m[2025-06-03T09:32:01.012Z] ERROR [PID:490896][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
[2025-06-03T09:32:01.012Z] ERROR [PID:490896] Asterisk接続の最大リトライ回数に達しました。Asterisk機能は無効になります。 {"level":"ERROR"}
2025-06-03T09:32:01: [31m[2025-06-03T09:32:01.012Z] ERROR [PID:490896][0m Asterisk接続の最大リトライ回数に達しました。Asterisk機能は無効になります。 {"level":"ERROR"}
2025-06-03T09:32:01: SQL実行: 
2025-06-03T09:32:01:           SELECT id, phone, name, company, attempt_count
2025-06-03T09:32:01:           FROM contacts 
2025-06-03T09:32:01:           WHERE c... パラメータ数: 1
[2025-06-03T09:32:01.039Z] INFO  [PID:490896] 📞 発信準備: 05018086649 (Campaign: テスト, 試行回数: 0) {"level":"INFO"}
2025-06-03T09:32:01: SQL実行成功: 結果行数=1
2025-06-03T09:32:01: [36m[2025-06-03T09:32:01.039Z] INFO  [PID:490896][0m 📞 発信準備: 05018086649 (Campaign: テスト, 試行回数: 0) {"level":"INFO"}
[2025-06-03T09:32:01.040Z] INFO  [PID:490896] 🔧 発信診断開始: 05018086649 {"level":"INFO"}
2025-06-03T09:32:01: [36m[2025-06-03T09:32:01.040Z] INFO  [PID:490896][0m 🔧 発信診断開始: 05018086649 {"level":"INFO"}
2025-06-03T09:32:01: SQL実行: UPDATE contacts SET status = ?, last_attempt = NOW(), attempt_count = attempt_count + 1 WHERE id = ?... パラメータ数: 2
2025-06-03T09:32:01: SQL実行成功: 結果行数=不明
2025-06-03T09:32:01: SQL実行: SELECT * FROM caller_ids WHERE id = ? AND active = true... パラメータ数: 1
2025-06-03T09:32:01: SQL実行成功: 結果行数=1
[2025-06-03T09:32:01.049Z] INFO  [PID:490896] キャンペーン音声取得開始: Campaign=57 {"level":"INFO"}
2025-06-03T09:32:01: [36m[2025-06-03T09:32:01.049Z] INFO  [PID:490896][0m キャンペーン音声取得開始: Campaign=57 {"level":"INFO"}
2025-06-03T09:32:01: SQL実行: 
2025-06-03T09:32:01:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T09:32:01:    ... パラメータ数: 1
[2025-06-03T09:32:01.050Z] INFO  [PID:490896] キャンペーン音声取得結果: Campaign=57, 件数=1 {"level":"INFO"}
[2025-06-03T09:32:01.051Z] INFO  [PID:490896] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
[2025-06-03T09:32:01.051Z] INFO  [PID:490896] 🎵 自動発信で音声ファイル取得成功: 1件 (Campaign: 57) {"level":"INFO"}
2025-06-03T09:32:01: SQL実行成功: 結果行数=1
2025-06-03T09:32:01: [36m[2025-06-03T09:32:01.050Z] INFO  [PID:490896][0m キャンペーン音声取得結果: Campaign=57, 件数=1 {"level":"INFO"}
2025-06-03T09:32:01: [36m[2025-06-03T09:32:01.051Z] INFO  [PID:490896][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T09:32:01: [36m[2025-06-03T09:32:01.051Z] INFO  [PID:490896][0m 🎵 自動発信で音声ファイル取得成功: 1件 (Campaign: 57) {"level":"INFO"}
[2025-06-03T09:32:01.051Z] INFO  [PID:490896] 🎵 音声1: welcome - 549444996463302 (1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav) {"level":"INFO"}
2025-06-03T09:32:01: [36m[2025-06-03T09:32:01.051Z] INFO  [PID:490896][0m 🎵 音声1: welcome - 549444996463302 (1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav) {"level":"INFO"}
[2025-06-03T09:32:01.051Z] INFO  [PID:490896] 🚀 音声付き自動発信実行: 05018086649 {"campaignId":57,"contactId":10052,"callerID":"\"PBX2\" <0359468411>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":1,"hasAudio":true,"level":"INFO"}
2025-06-03T09:32:01: [36m[2025-06-03T09:32:01.051Z] INFO  [PID:490896][0m 🚀 音声付き自動発信実行: 05018086649 {"campaignId":57,"contactId":10052,"callerID":"\"PBX2\" <0359468411>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":1,"hasAudio":true,"level":"INFO"}
[2025-06-03T09:32:01.052Z] INFO  [PID:490896] sipプロバイダを使用して発信します: 05018086649 {"level":"INFO"}
2025-06-03T09:32:01: [36m[2025-06-03T09:32:01.052Z] INFO  [PID:490896][0m sipプロバイダを使用して発信します: 05018086649 {"level":"INFO"}
[2025-06-03T09:32:01.052Z] INFO  [PID:490896] 🔥 SIP発信を開始: 発信先=05018086649 {"level":"INFO"}
2025-06-03T09:32:01: [36m[2025-06-03T09:32:01.052Z] INFO  [PID:490896][0m 🔥 SIP発信を開始: 発信先=05018086649 {"level":"INFO"}
[2025-06-03T09:32:01.053Z] INFO  [PID:490896] 選択されたSIPアカウント: 03760003 (失敗回数: 0) {"level":"INFO"}
2025-06-03T09:32:01: [36m[2025-06-03T09:32:01.053Z] INFO  [PID:490896][0m 選択されたSIPアカウント: 03760003 (失敗回数: 0) {"level":"INFO"}
[2025-06-03T09:32:01.053Z] INFO  [PID:490896] 📞 SIP発信詳細: {"account":"03760003","server":"ito258258.site","number":"05018086649","callerID":"0359468411","hasAudio":true,"level":"INFO"}
2025-06-03T09:32:01: [36m[2025-06-03T09:32:01.053Z] INFO  [PID:490896][0m 📞 SIP発信詳細: {"account":"03760003","server":"ito258258.site","number":"05018086649","callerID":"0359468411","hasAudio":true,"level":"INFO"}
[2025-06-03T09:32:01.054Z] INFO  [PID:490896] 🎵 キャンペーン音声使用: /var/www/autodialer/backend/audio-files/1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
[2025-06-03T09:32:01.054Z] INFO  [PID:490896] 🚀 SIP発信（修正版）: 03760003 -> 05018086649 {"level":"INFO"}
[2025-06-03T09:32:01.054Z] INFO  [PID:490896] 🎵 使用音声: /var/www/autodialer/backend/audio-files/1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
[2025-06-03T09:32:01.054Z] INFO  [PID:490896] 📞 実行コマンド: pjsua --null-audio --wav-player --play-file=/var/www/autodialer/backend/audio-files/1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav --auto-play --auto-loop --duration=35 --disable-sound --max-calls=1 --auto-answer=200 --no-tcp --log-level=3 --id=sip:03760003@ito258258.site --registrar=sip:ito258258.site --realm=asterisk --username=03760003 --password=*** sip:05018086649@ito258258.site {"level":"INFO"}
2025-06-03T09:32:01: [36m[2025-06-03T09:32:01.054Z] INFO  [PID:490896][0m 🎵 キャンペーン音声使用: /var/www/autodialer/backend/audio-files/1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T09:32:01: [36m[2025-06-03T09:32:01.054Z] INFO  [PID:490896][0m 🚀 SIP発信（修正版）: 03760003 -> 05018086649 {"level":"INFO"}
2025-06-03T09:32:01: [36m[2025-06-03T09:32:01.054Z] INFO  [PID:490896][0m 🎵 使用音声: /var/www/autodialer/backend/audio-files/1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T09:32:01: [36m[2025-06-03T09:32:01.054Z] INFO  [PID:490896][0m 📞 実行コマンド: pjsua --null-audio --wav-player --play-file=/var/www/autodialer/backend/audio-files/1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav --auto-play --auto-loop --duration=35 --disable-sound --max-calls=1 --auto-answer=200 --no-tcp --log-level=3 --id=sip:03760003@ito258258.site --registrar=sip:ito258258.site --realm=asterisk --username=03760003 --password=*** sip:05018086649@ito258258.site {"level":"INFO"}
[2025-06-03T09:32:01.061Z] INFO  [PID:490896] ✅ SIPプロセス開始成功: PID=490918, CallID=sip-1748943121053-7727 {"level":"INFO"}
2025-06-03T09:32:01: [36m[2025-06-03T09:32:01.061Z] INFO  [PID:490896][0m ✅ SIPプロセス開始成功: PID=490918, CallID=sip-1748943121053-7727 {"level":"INFO"}
2025-06-03T09:32:02: 09:32:01.065     pjsua_app_config.c !Argument "--wav-player" is not valid. Use --help to see help
2025-06-03T09:32:02: [36m[2025-06-03T09:32:02.072Z] INFO  [PID:490896][0m SIPプロセス終了 [sip-1748943121053-7727]: code=0, signal=null, connected=false {"level":"INFO"}
[2025-06-03T09:32:02.072Z] INFO  [PID:490896] SIPプロセス終了 [sip-1748943121053-7727]: code=0, signal=null, connected=false {"level":"INFO"}
[2025-06-03T09:32:02.073Z] INFO  [PID:490896] 通話終了イベント処理: sip-1748943121053-7727, status=FAILED, keypress=none {"level":"INFO"}
2025-06-03T09:32:02: [36m[2025-06-03T09:32:02.073Z] INFO  [PID:490896][0m 通話終了イベント処理: sip-1748943121053-7727, status=FAILED, keypress=none {"level":"INFO"}
2025-06-03T09:32:02: SQL実行: 
2025-06-03T09:32:02:         UPDATE call_logs
2025-06-03T09:32:02:         SET status = ?, end_time = NOW(), duration = ?
2025-06-03T09:32:02:         WHERE call_... パラメータ数: 3
[2025-06-03T09:32:02.074Z] INFO  [PID:490896] ✅ 音声付き自動発信成功: 05018086649 → CallID: sip-1748943121053-7727, Provider: sip, Audio: 1件 {"level":"INFO"}
2025-06-03T09:32:02: [36m[2025-06-03T09:32:02.074Z] INFO  [PID:490896][0m ✅ 音声付き自動発信成功: 05018086649 → CallID: sip-1748943121053-7727, Provider: sip, Audio: 1件 {"level":"INFO"}
2025-06-03T09:32:02: SQL実行: 
2025-06-03T09:32:02:         INSERT INTO call_logs 
2025-06-03T09:32:02:         (contact_id, campaign_id, caller_id_id, call_id, phone_numbe... パラメータ数: 8
[2025-06-03T09:32:02.075Z] WARN  [PID:490896] 通話ログが見つかりません: callId=sip-1748943121053-7727 {"level":"WARN"}
2025-06-03T09:32:02: SQL実行成功: 結果行数=不明
2025-06-03T09:32:02: [33m[2025-06-03T09:32:02.075Z] WARN  [PID:490896][0m 通話ログが見つかりません: callId=sip-1748943121053-7727 {"level":"WARN"}
[2025-06-03T09:32:02.080Z] INFO  [PID:490896] 🎯 音声付き発信診断完了: 05018086649 (処理時間: 1040ms, 音声: 1件) {"level":"INFO"}
2025-06-03T09:32:02: SQL実行成功: 結果行数=不明
2025-06-03T09:32:02: [36m[2025-06-03T09:32:02.080Z] INFO  [PID:490896][0m 🎯 音声付き発信診断完了: 05018086649 (処理時間: 1040ms, 音声: 1件) {"level":"INFO"}
[2025-06-03T09:32:04.081Z] INFO  [PID:490896] 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
2025-06-03T09:32:04: [36m[2025-06-03T09:32:04.081Z] INFO  [PID:490896][0m 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
[2025-06-03T09:32:05.907Z] INFO  [PID:490896] キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:32:05: GET /api/campaigns/57/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:32:05: [36m[2025-06-03T09:32:05.907Z] INFO  [PID:490896][0m キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:32:05: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:32:05: SQL実行成功: 結果行数=1
2025-06-03T09:32:05: SQL実行: 
2025-06-03T09:32:05:       SELECT 
2025-06-03T09:32:05:         COUNT(*) as total,
2025-06-03T09:32:05:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:32:05: SQL実行成功: 結果行数=1
2025-06-03T09:32:05: SQL実行: 
2025-06-03T09:32:05:       SELECT 
2025-06-03T09:32:05:         COUNT(*) as total_calls,
2025-06-03T09:32:05:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:32:05.913Z] INFO  [PID:490896] キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
2025-06-03T09:32:05: SQL実行成功: 結果行数=1
2025-06-03T09:32:05: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:32:05: [36m[2025-06-03T09:32:05.913Z] INFO  [PID:490896][0m キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
2025-06-03T09:32:06: SQL実行: 
2025-06-03T09:32:06:           SELECT id, phone, name, company, attempt_count
2025-06-03T09:32:06:           FROM contacts 
2025-06-03T09:32:06:           WHERE c... パラメータ数: 1
2025-06-03T09:32:06: SQL実行成功: 結果行数=0
2025-06-03T09:32:06: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T09:32:06: SQL実行成功: 結果行数=1
2025-06-03T09:32:10: GET /api/campaigns/57/stats - Origin: http://146.190.83.205:3003
[2025-06-03T09:32:10.904Z] INFO  [PID:490896] キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:32:10: [36m[2025-06-03T09:32:10.904Z] INFO  [PID:490896][0m キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:32:10: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:32:10: SQL実行成功: 結果行数=1
2025-06-03T09:32:10: SQL実行: 
2025-06-03T09:32:10:       SELECT 
2025-06-03T09:32:10:         COUNT(*) as total,
2025-06-03T09:32:10:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:32:10: SQL実行成功: 結果行数=1
2025-06-03T09:32:10: SQL実行: 
2025-06-03T09:32:10:       SELECT 
2025-06-03T09:32:10:         COUNT(*) as total_calls,
2025-06-03T09:32:10:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:32:10.909Z] INFO  [PID:490896] キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
2025-06-03T09:32:10: SQL実行成功: 結果行数=1
2025-06-03T09:32:10: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:32:10: [36m[2025-06-03T09:32:10.909Z] INFO  [PID:490896][0m キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
2025-06-03T09:32:11: SQL実行: SELECT 1... 
2025-06-03T09:32:11: SQL実行成功: 結果行数=1
2025-06-03T09:32:11: SQL実行: 
2025-06-03T09:32:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:32:11:                ci.number as ca... 
2025-06-03T09:32:11: SQL実行成功: 結果行数=1
2025-06-03T09:32:11: SQL実行: 
2025-06-03T09:32:11:           SELECT id, phone, name, company, attempt_count
2025-06-03T09:32:11:           FROM contacts 
2025-06-03T09:32:11:           WHERE c... パラメータ数: 1
2025-06-03T09:32:11: SQL実行成功: 結果行数=0
2025-06-03T09:32:11: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T09:32:11: SQL実行成功: 結果行数=1
2025-06-03T09:32:15: GET /api/auth/profile - Origin: http://146.190.83.205:3003
2025-06-03T09:32:15: GET /api/campaigns/57 - Origin: http://146.190.83.205:3003
[2025-06-03T09:32:15.169Z] INFO  [PID:490896] キャンペーン詳細取得: ID=57 {"level":"INFO"}
2025-06-03T09:32:15: [36m[2025-06-03T09:32:15.169Z] INFO  [PID:490896][0m キャンペーン詳細取得: ID=57 {"level":"INFO"}
2025-06-03T09:32:15: SQL実行: 
2025-06-03T09:32:15:       SELECT c.*, 
2025-06-03T09:32:15:              ci.number as caller_id_number,
2025-06-03T09:32:15:              ci.description as calle... パラメータ数: 1
[2025-06-03T09:32:15.174Z] INFO  [PID:490896] キャンペーン詳細取得: ID=57 {"level":"INFO"}
2025-06-03T09:32:15: SQL実行成功: 結果行数=1
2025-06-03T09:32:15: [36m[2025-06-03T09:32:15.174Z] INFO  [PID:490896][0m キャンペーン詳細取得: ID=57 {"level":"INFO"}
[2025-06-03T09:32:15.226Z] INFO  [PID:490896] キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:32:15: GET /api/campaigns/57/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:32:15: [36m[2025-06-03T09:32:15.226Z] INFO  [PID:490896][0m キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:32:15: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:32:15: SQL実行成功: 結果行数=1
2025-06-03T09:32:15: SQL実行: 
2025-06-03T09:32:15:       SELECT 
2025-06-03T09:32:15:         COUNT(*) as total,
2025-06-03T09:32:15:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:32:15: SQL実行成功: 結果行数=1
2025-06-03T09:32:15: SQL実行: 
2025-06-03T09:32:15:       SELECT 
2025-06-03T09:32:15:         COUNT(*) as total_calls,
2025-06-03T09:32:15:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:32:15: SQL実行成功: 結果行数=1
[2025-06-03T09:32:15.230Z] INFO  [PID:490896] キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
2025-06-03T09:32:15: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:32:15: [36m[2025-06-03T09:32:15.230Z] INFO  [PID:490896][0m キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
[2025-06-03T09:32:15.806Z] INFO  [PID:490896] 連絡先一覧取得: Campaign=57, Page=1, Limit=20 {"level":"INFO"}
2025-06-03T09:32:15: GET /api/campaigns/57/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
2025-06-03T09:32:15: [36m[2025-06-03T09:32:15.806Z] INFO  [PID:490896][0m 連絡先一覧取得: Campaign=57, Page=1, Limit=20 {"level":"INFO"}
2025-06-03T09:32:15: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:32:15: SQL実行成功: 結果行数=1
2025-06-03T09:32:15: SQL実行: 
2025-06-03T09:32:15:       SELECT c.*
2025-06-03T09:32:15:       FROM contacts c
2025-06-03T09:32:15:       WHERE c.campaign_id = ?
2025-06-03T09:32:15:      ORDER BY c.created_at DES... パラメータ数: 1
2025-06-03T09:32:15: SQL実行成功: 結果行数=1
2025-06-03T09:32:15: SQL実行: 
2025-06-03T09:32:15:       SELECT COUNT(*) as total
2025-06-03T09:32:15:       FROM contacts c
2025-06-03T09:32:15:       WHERE c.campaign_id = ?
2025-06-03T09:32:15:     ... パラメータ数: 1
[2025-06-03T09:32:15.810Z] INFO  [PID:490896] 連絡先取得結果: Campaign=57, 件数=1, 全体=1 {"level":"INFO"}
2025-06-03T09:32:15: SQL実行成功: 結果行数=1
2025-06-03T09:32:15: [36m[2025-06-03T09:32:15.810Z] INFO  [PID:490896][0m 連絡先取得結果: Campaign=57, 件数=1, 全体=1 {"level":"INFO"}
2025-06-03T09:32:16: SQL実行: 
2025-06-03T09:32:16:           SELECT id, phone, name, company, attempt_count
2025-06-03T09:32:16:           FROM contacts 
2025-06-03T09:32:16:           WHERE c... パラメータ数: 1
2025-06-03T09:32:16: SQL実行成功: 結果行数=0
2025-06-03T09:32:16: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T09:32:16: SQL実行成功: 結果行数=1
[2025-06-03T09:32:20.230Z] INFO  [PID:490896] キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:32:20: GET /api/campaigns/57/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:32:20: [36m[2025-06-03T09:32:20.230Z] INFO  [PID:490896][0m キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:32:20: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:32:20: SQL実行成功: 結果行数=1
2025-06-03T09:32:20: SQL実行: 
2025-06-03T09:32:20:       SELECT 
2025-06-03T09:32:20:         COUNT(*) as total,
2025-06-03T09:32:20:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:32:20: SQL実行成功: 結果行数=1
2025-06-03T09:32:20: SQL実行: 
2025-06-03T09:32:20:       SELECT 
2025-06-03T09:32:20:         COUNT(*) as total_calls,
2025-06-03T09:32:20:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:32:20.234Z] INFO  [PID:490896] キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
2025-06-03T09:32:20: SQL実行成功: 結果行数=1
2025-06-03T09:32:20: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:32:20: [36m[2025-06-03T09:32:20.234Z] INFO  [PID:490896][0m キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
2025-06-03T09:32:21: SQL実行: 
2025-06-03T09:32:21:           SELECT id, phone, name, company, attempt_count
2025-06-03T09:32:21:           FROM contacts 
2025-06-03T09:32:21:           WHERE c... パラメータ数: 1
2025-06-03T09:32:21: SQL実行成功: 結果行数=0
2025-06-03T09:32:21: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T09:32:21: SQL実行成功: 結果行数=1
[2025-06-03T09:32:26.016Z] INFO  [PID:490896] キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:32:26: GET /api/campaigns/57/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:32:26: [36m[2025-06-03T09:32:26.016Z] INFO  [PID:490896][0m キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:32:26: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:32:26: SQL実行成功: 結果行数=1
2025-06-03T09:32:26: SQL実行: 
2025-06-03T09:32:26:       SELECT 
2025-06-03T09:32:26:         COUNT(*) as total,
2025-06-03T09:32:26:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:32:26: SQL実行成功: 結果行数=1
2025-06-03T09:32:26: SQL実行: 
2025-06-03T09:32:26:       SELECT 
2025-06-03T09:32:26:         COUNT(*) as total_calls,
2025-06-03T09:32:26:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:32:26.021Z] INFO  [PID:490896] キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
2025-06-03T09:32:26: SQL実行成功: 結果行数=1
2025-06-03T09:32:26: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:32:26: [36m[2025-06-03T09:32:26.021Z] INFO  [PID:490896][0m キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
2025-06-03T09:32:26: SQL実行: 
2025-06-03T09:32:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:32:26:                ci.number as ca... 
2025-06-03T09:32:26: SQL実行成功: 結果行数=1
2025-06-03T09:32:26: SQL実行: 
2025-06-03T09:32:26:           SELECT id, phone, name, company, attempt_count
2025-06-03T09:32:26:           FROM contacts 
2025-06-03T09:32:26:           WHERE c... パラメータ数: 1
2025-06-03T09:32:26: SQL実行成功: 結果行数=0
2025-06-03T09:32:26: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T09:32:26: SQL実行成功: 結果行数=1
[2025-06-03T09:32:31.015Z] INFO  [PID:490896] キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:32:31: GET /api/campaigns/57/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:32:31: [36m[2025-06-03T09:32:31.015Z] INFO  [PID:490896][0m キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:32:31: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:32:31: SQL実行成功: 結果行数=1
2025-06-03T09:32:31: SQL実行: 
2025-06-03T09:32:31:       SELECT 
2025-06-03T09:32:31:         COUNT(*) as total,
2025-06-03T09:32:31:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:32:31: SQL実行成功: 結果行数=1
2025-06-03T09:32:31: SQL実行: 
2025-06-03T09:32:31:       SELECT 
2025-06-03T09:32:31:         COUNT(*) as total_calls,
2025-06-03T09:32:31:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:32:31: SQL実行成功: 結果行数=1
[2025-06-03T09:32:31.019Z] INFO  [PID:490896] キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
2025-06-03T09:32:31: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:32:31: [36m[2025-06-03T09:32:31.019Z] INFO  [PID:490896][0m キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
2025-06-03T09:32:31: SQL実行: 
2025-06-03T09:32:31:           SELECT id, phone, name, company, attempt_count
2025-06-03T09:32:31:           FROM contacts 
2025-06-03T09:32:31:           WHERE c... パラメータ数: 1
2025-06-03T09:32:31: SQL実行成功: 結果行数=0
2025-06-03T09:32:31: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T09:32:31: SQL実行成功: 結果行数=1
2025-06-03T09:32:35: GET /api/campaigns/57/stats - Origin: http://146.190.83.205:3003
[2025-06-03T09:32:35.228Z] INFO  [PID:490896] キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:32:35: [36m[2025-06-03T09:32:35.228Z] INFO  [PID:490896][0m キャンペーン統計取得: ID=57 {"level":"INFO"}
2025-06-03T09:32:35: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:32:35: SQL実行成功: 結果行数=1
2025-06-03T09:32:35: SQL実行: 
2025-06-03T09:32:35:       SELECT 
2025-06-03T09:32:35:         COUNT(*) as total,
2025-06-03T09:32:35:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:32:35: SQL実行成功: 結果行数=1
2025-06-03T09:32:35: SQL実行: 
2025-06-03T09:32:35:       SELECT 
2025-06-03T09:32:35:         COUNT(*) as total_calls,
2025-06-03T09:32:35:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:32:35.233Z] INFO  [PID:490896] キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
2025-06-03T09:32:35: SQL実行成功: 結果行数=1
2025-06-03T09:32:35: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:32:35: [36m[2025-06-03T09:32:35.233Z] INFO  [PID:490896][0m キャンペーン統計取得完了: ID=57, Progress=0% {"level":"INFO"}
[2025-06-03T09:32:35.859Z] INFO  [PID:490896] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T09:32:35: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-03T09:32:35: [36m[2025-06-03T09:32:35.859Z] INFO  [PID:490896][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T09:32:35: SQL実行: 
2025-06-03T09:32:35:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-03T09:32:35:        ... 
2025-06-03T09:32:35: SQL実行成功: 結果行数=3
2025-06-03T09:32:35: SQL実行: 
2025-06-03T09:32:35:       SELECT COUNT(*) as total
2025-06-03T09:32:35:       FROM campaigns c
2025-06-03T09:32:35:       WHERE 1=1
2025-06-03T09:32:35:     ... 
2025-06-03T09:32:35: SQL実行成功: 結果行数=1
[2025-06-03T09:32:35.867Z] INFO  [PID:490896] キャンペーン取得結果: 3/3件 {"level":"INFO"}
2025-06-03T09:32:35: [36m[2025-06-03T09:32:35.867Z] INFO  [PID:490896][0m キャンペーン取得結果: 3/3件 {"level":"INFO"}
2025-06-03T09:32:36: SQL実行: 
2025-06-03T09:32:36:           SELECT id, phone, name, company, attempt_count
2025-06-03T09:32:36:           FROM contacts 
2025-06-03T09:32:36:           WHERE c... パラメータ数: 1
2025-06-03T09:32:36: SQL実行成功: 結果行数=0
2025-06-03T09:32:36: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T09:32:36: SQL実行成功: 結果行数=1
2025-06-03T09:32:37: POST /api/campaigns/57/stop - Origin: http://146.190.83.205:3003
[2025-06-03T09:32:37.493Z] INFO  [PID:490896] キャンペーン停止: ID=57 {"level":"INFO"}
2025-06-03T09:32:37: [36m[2025-06-03T09:32:37.493Z] INFO  [PID:490896][0m キャンペーン停止: ID=57 {"level":"INFO"}
2025-06-03T09:32:37: SQL実行: UPDATE campaigns SET status = "paused", updated_at = NOW() WHERE id = ? AND status = "active"... パラメータ数: 1
[2025-06-03T09:32:37.498Z] INFO  [PID:490896] キャンペーン停止完了: ID=57 {"level":"INFO"}
2025-06-03T09:32:37: SQL実行成功: 結果行数=不明
2025-06-03T09:32:37: [36m[2025-06-03T09:32:37.498Z] INFO  [PID:490896][0m キャンペーン停止完了: ID=57 {"level":"INFO"}
[2025-06-03T09:32:37.549Z] INFO  [PID:490896] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T09:32:37: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-03T09:32:37: [36m[2025-06-03T09:32:37.549Z] INFO  [PID:490896][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T09:32:37: SQL実行: 
2025-06-03T09:32:37:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-03T09:32:37:        ... 
2025-06-03T09:32:37: SQL実行成功: 結果行数=3
2025-06-03T09:32:37: SQL実行: 
2025-06-03T09:32:37:       SELECT COUNT(*) as total
2025-06-03T09:32:37:       FROM campaigns c
2025-06-03T09:32:37:       WHERE 1=1
2025-06-03T09:32:37:     ... 
2025-06-03T09:32:37: SQL実行成功: 結果行数=1
[2025-06-03T09:32:37.557Z] INFO  [PID:490896] キャンペーン取得結果: 3/3件 {"level":"INFO"}
2025-06-03T09:32:37: [36m[2025-06-03T09:32:37.557Z] INFO  [PID:490896][0m キャンペーン取得結果: 3/3件 {"level":"INFO"}
2025-06-03T09:32:38: DELETE /api/campaigns/57 - Origin: http://146.190.83.205:3003
[2025-06-03T09:32:38.425Z] INFO  [PID:490896] 🗑️ キャンペーン削除開始: ID=57 {"level":"INFO"}
2025-06-03T09:32:38: [36m[2025-06-03T09:32:38.425Z] INFO  [PID:490896][0m 🗑️ キャンペーン削除開始: ID=57 {"level":"INFO"}
2025-06-03T09:32:38: SQL実行: SELECT id, name, status FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:32:38: SQL実行成功: 結果行数=1
2025-06-03T09:32:38: SQL実行: SELECT COUNT(*) as total FROM contacts WHERE campaign_id = ?... パラメータ数: 1
2025-06-03T09:32:38: SQL実行成功: 結果行数=1
2025-06-03T09:32:38: SQL実行: SELECT COUNT(*) as total FROM call_logs WHERE campaign_id = ?... パラメータ数: 1
[2025-06-03T09:32:38.429Z] INFO  [PID:490896] 削除対象データ: Campaign=テスト, Contacts=1, CallLogs=1 {"level":"INFO"}
2025-06-03T09:32:38: SQL実行成功: 結果行数=1
2025-06-03T09:32:38: [36m[2025-06-03T09:32:38.429Z] INFO  [PID:490896][0m 削除対象データ: Campaign=テスト, Contacts=1, CallLogs=1 {"level":"INFO"}
2025-06-03T09:32:38: SQL実行: START TRANSACTION... 
2025-06-03T09:32:38: SQL実行成功: 結果行数=不明
2025-06-03T09:32:38: SQL実行: DELETE FROM campaign_audio WHERE campaign_id = ?... パラメータ数: 1
[2025-06-03T09:32:38.431Z] INFO  [PID:490896] キャンペーン音声関連付けを削除: 57 {"level":"INFO"}
2025-06-03T09:32:38: SQL実行成功: 結果行数=不明
2025-06-03T09:32:38: [36m[2025-06-03T09:32:38.431Z] INFO  [PID:490896][0m キャンペーン音声関連付けを削除: 57 {"level":"INFO"}
2025-06-03T09:32:38: SQL実行: DELETE FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
[2025-06-03T09:32:38.432Z] INFO  [PID:490896] IVR設定を削除: 57 {"level":"INFO"}
2025-06-03T09:32:38: SQL実行成功: 結果行数=不明
2025-06-03T09:32:38: [36m[2025-06-03T09:32:38.432Z] INFO  [PID:490896][0m IVR設定を削除: 57 {"level":"INFO"}
2025-06-03T09:32:38: SQL実行: DELETE FROM call_logs WHERE campaign_id = ?... パラメータ数: 1
[2025-06-03T09:32:38.432Z] INFO  [PID:490896] 通話ログを削除: 1件 {"level":"INFO"}
2025-06-03T09:32:38: SQL実行成功: 結果行数=不明
2025-06-03T09:32:38: [36m[2025-06-03T09:32:38.432Z] INFO  [PID:490896][0m 通話ログを削除: 1件 {"level":"INFO"}
2025-06-03T09:32:38: SQL実行: DELETE FROM contacts WHERE campaign_id = ?... パラメータ数: 1
[2025-06-03T09:32:38.433Z] INFO  [PID:490896] 連絡先を削除: 1件 {"level":"INFO"}
2025-06-03T09:32:38: SQL実行成功: 結果行数=不明
2025-06-03T09:32:38: [36m[2025-06-03T09:32:38.433Z] INFO  [PID:490896][0m 連絡先を削除: 1件 {"level":"INFO"}
2025-06-03T09:32:38: SQL実行: DELETE FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:32:38: SQL実行成功: 結果行数=不明
2025-06-03T09:32:38: SQL実行: COMMIT... 
[2025-06-03T09:32:38.442Z] INFO  [PID:490896] ✅ キャンペーン削除完了: ID=57, Name=テスト {"level":"INFO"}
2025-06-03T09:32:38: SQL実行成功: 結果行数=不明
2025-06-03T09:32:38: [36m[2025-06-03T09:32:38.442Z] INFO  [PID:490896][0m ✅ キャンペーン削除完了: ID=57, Name=テスト {"level":"INFO"}
[2025-06-03T09:32:38.494Z] INFO  [PID:490896] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T09:32:38: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-03T09:32:38: [36m[2025-06-03T09:32:38.494Z] INFO  [PID:490896][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T09:32:38: SQL実行: 
2025-06-03T09:32:38:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-03T09:32:38:        ... 
2025-06-03T09:32:38: SQL実行成功: 結果行数=2
2025-06-03T09:32:38: SQL実行: 
2025-06-03T09:32:38:       SELECT COUNT(*) as total
2025-06-03T09:32:38:       FROM campaigns c
2025-06-03T09:32:38:       WHERE 1=1
2025-06-03T09:32:38:     ... 
[2025-06-03T09:32:38.503Z] INFO  [PID:490896] キャンペーン取得結果: 2/2件 {"level":"INFO"}
2025-06-03T09:32:38: SQL実行成功: 結果行数=1
2025-06-03T09:32:38: [36m[2025-06-03T09:32:38.503Z] INFO  [PID:490896][0m キャンペーン取得結果: 2/2件 {"level":"INFO"}
2025-06-03T09:32:41: SQL実行: SELECT 1... 
2025-06-03T09:32:41: SQL実行成功: 結果行数=1
2025-06-03T09:32:41: SQL実行: 
2025-06-03T09:32:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:32:41:                ci.number as ca... 
2025-06-03T09:32:41: SQL実行成功: 結果行数=0
[2025-06-03T09:32:41.030Z] INFO  [PID:490896] 🗑️ イベント: キャンペーン削除 - テスト (ID: 57) {"level":"INFO"}
2025-06-03T09:32:41: [36m[2025-06-03T09:32:41.030Z] INFO  [PID:490896][0m 🗑️ イベント: キャンペーン削除 - テスト (ID: 57) {"level":"INFO"}
[2025-06-03T09:32:41.031Z] INFO  [PID:490896] 🗑️ キャンペーン自動削除: "テスト" (ID: 57) {"level":"INFO"}
[2025-06-03T09:32:41.031Z] INFO  [PID:490896] ❌ 停止されたキャンペーンを自動検知: ID 57 {"level":"INFO"}
2025-06-03T09:32:41: [36m[2025-06-03T09:32:41.031Z] INFO  [PID:490896][0m 🗑️ キャンペーン自動削除: "テスト" (ID: 57) {"level":"INFO"}
2025-06-03T09:32:41: [36m[2025-06-03T09:32:41.031Z] INFO  [PID:490896][0m ❌ 停止されたキャンペーンを自動検知: ID 57 {"level":"INFO"}
[2025-06-03T09:32:41.031Z] INFO  [PID:490896] 🛑 自動発信システム停止 {"level":"INFO"}
[2025-06-03T09:32:41.031Z] INFO  [PID:490896] 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-03T09:32:41: [36m[2025-06-03T09:32:41.031Z] INFO  [PID:490896][0m 🛑 自動発信システム停止 {"level":"INFO"}
2025-06-03T09:32:41: [36m[2025-06-03T09:32:41.031Z] INFO  [PID:490896][0m 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-03T09:32:45: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:32:45.819Z] INFO  [PID:490896] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:32:45: SQL実行成功: 結果行数=1
2025-06-03T09:32:45: [36m[2025-06-03T09:32:45.819Z] INFO  [PID:490896][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:32:56: SQL実行: 
2025-06-03T09:32:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:32:56:                ci.number as ca... 
2025-06-03T09:32:56: SQL実行成功: 結果行数=0
[2025-06-03T09:33:01.808Z] INFO  [PID:490896] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T09:33:01: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-03T09:33:01: [36m[2025-06-03T09:33:01.808Z] INFO  [PID:490896][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T09:33:01: SQL実行: 
2025-06-03T09:33:01:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-03T09:33:01:        ... 
2025-06-03T09:33:01: SQL実行成功: 結果行数=2
2025-06-03T09:33:01: SQL実行: 
2025-06-03T09:33:01:       SELECT COUNT(*) as total
2025-06-03T09:33:01:       FROM campaigns c
2025-06-03T09:33:01:       WHERE 1=1
2025-06-03T09:33:01:     ... 
[2025-06-03T09:33:01.814Z] INFO  [PID:490896] キャンペーン取得結果: 2/2件 {"level":"INFO"}
2025-06-03T09:33:01: SQL実行成功: 結果行数=1
2025-06-03T09:33:01: [36m[2025-06-03T09:33:01.814Z] INFO  [PID:490896][0m キャンペーン取得結果: 2/2件 {"level":"INFO"}
2025-06-03T09:33:11: SQL実行: SELECT 1... 
2025-06-03T09:33:11: SQL実行成功: 結果行数=1
2025-06-03T09:33:11: SQL実行: 
2025-06-03T09:33:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:33:11:                ci.number as ca... 
2025-06-03T09:33:11: SQL実行成功: 結果行数=0
2025-06-03T09:33:26: SQL実行: 
2025-06-03T09:33:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:33:26:                ci.number as ca... 
2025-06-03T09:33:26: SQL実行成功: 結果行数=0
2025-06-03T09:33:41: SQL実行: SELECT 1... 
2025-06-03T09:33:41: SQL実行成功: 結果行数=1
2025-06-03T09:33:41: SQL実行: 
2025-06-03T09:33:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:33:41:                ci.number as ca... 
2025-06-03T09:33:41: SQL実行成功: 結果行数=0
2025-06-03T09:33:45: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:33:45.822Z] INFO  [PID:490896] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:33:45: SQL実行成功: 結果行数=1
2025-06-03T09:33:45: [36m[2025-06-03T09:33:45.822Z] INFO  [PID:490896][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:33:56: SQL実行: 
2025-06-03T09:33:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:33:56:                ci.number as ca... 
2025-06-03T09:33:56: SQL実行成功: 結果行数=0
2025-06-03T09:34:11: SQL実行: SELECT 1... 
2025-06-03T09:34:11: SQL実行成功: 結果行数=1
2025-06-03T09:34:11: SQL実行: 
2025-06-03T09:34:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:34:11:                ci.number as ca... 
2025-06-03T09:34:11: SQL実行成功: 結果行数=0
2025-06-03T09:34:26: SQL実行: 
2025-06-03T09:34:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:34:26:                ci.number as ca... 
2025-06-03T09:34:26: SQL実行成功: 結果行数=0
2025-06-03T09:34:41: SQL実行: SELECT 1... 
2025-06-03T09:34:41: SQL実行成功: 結果行数=1
2025-06-03T09:34:41: SQL実行: 
2025-06-03T09:34:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:34:41:                ci.number as ca... 
2025-06-03T09:34:41: SQL実行成功: 結果行数=0
2025-06-03T09:34:45: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:34:45.819Z] INFO  [PID:490896] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:34:45: SQL実行成功: 結果行数=1
2025-06-03T09:34:45: [36m[2025-06-03T09:34:45.819Z] INFO  [PID:490896][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:34:56: SQL実行: 
2025-06-03T09:34:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:34:56:                ci.number as ca... 
2025-06-03T09:34:56: SQL実行成功: 結果行数=0
2025-06-03T09:35:11: SQL実行: SELECT 1... 
2025-06-03T09:35:11: SQL実行成功: 結果行数=1
2025-06-03T09:35:11: SQL実行: 
2025-06-03T09:35:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:35:11:                ci.number as ca... 
2025-06-03T09:35:11: SQL実行成功: 結果行数=0
2025-06-03T09:35:26: SQL実行: 
2025-06-03T09:35:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:35:26:                ci.number as ca... 
2025-06-03T09:35:26: SQL実行成功: 結果行数=0
2025-06-03T09:35:41: SQL実行: SELECT 1... 
2025-06-03T09:35:41: SQL実行成功: 結果行数=1
2025-06-03T09:35:41: SQL実行: 
2025-06-03T09:35:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:35:41:                ci.number as ca... 
2025-06-03T09:35:41: SQL実行成功: 結果行数=0
2025-06-03T09:35:45: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:35:45.820Z] INFO  [PID:490896] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:35:45: SQL実行成功: 結果行数=1
2025-06-03T09:35:45: [36m[2025-06-03T09:35:45.820Z] INFO  [PID:490896][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:35:56: SQL実行: 
2025-06-03T09:35:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:35:56:                ci.number as ca... 
2025-06-03T09:35:56: SQL実行成功: 結果行数=0
2025-06-03T09:36:11: SQL実行: SELECT 1... 
2025-06-03T09:36:11: SQL実行成功: 結果行数=1
2025-06-03T09:36:11: SQL実行: 
2025-06-03T09:36:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:36:11:                ci.number as ca... 
2025-06-03T09:36:11: SQL実行成功: 結果行数=0
2025-06-03T09:36:26: SQL実行: 
2025-06-03T09:36:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:36:26:                ci.number as ca... 
2025-06-03T09:36:26: SQL実行成功: 結果行数=0
2025-06-03T09:36:41: SQL実行: SELECT 1... 
2025-06-03T09:36:41: SQL実行成功: 結果行数=1
2025-06-03T09:36:41: SQL実行: 
2025-06-03T09:36:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:36:41:                ci.number as ca... 
2025-06-03T09:36:41: SQL実行成功: 結果行数=0
2025-06-03T09:36:45: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:36:45.821Z] INFO  [PID:490896] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:36:45: SQL実行成功: 結果行数=1
2025-06-03T09:36:45: [36m[2025-06-03T09:36:45.821Z] INFO  [PID:490896][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:36:56: SQL実行: 
2025-06-03T09:36:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:36:56:                ci.number as ca... 
2025-06-03T09:36:56: SQL実行成功: 結果行数=0
2025-06-03T09:37:11: SQL実行: SELECT 1... 
2025-06-03T09:37:11: SQL実行成功: 結果行数=1
2025-06-03T09:37:11: SQL実行: 
2025-06-03T09:37:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:37:11:                ci.number as ca... 
2025-06-03T09:37:11: SQL実行成功: 結果行数=0
2025-06-03T09:37:26: SQL実行: 
2025-06-03T09:37:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:37:26:                ci.number as ca... 
2025-06-03T09:37:26: SQL実行成功: 結果行数=0
2025-06-03T09:37:41: SQL実行: SELECT 1... 
2025-06-03T09:37:41: SQL実行成功: 結果行数=1
2025-06-03T09:37:41: SQL実行: 
2025-06-03T09:37:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:37:41:                ci.number as ca... 
2025-06-03T09:37:41: SQL実行成功: 結果行数=0
2025-06-03T09:37:45: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
2025-06-03T09:37:45: SQL実行成功: 結果行数=1
[2025-06-03T09:37:45.820Z] INFO  [PID:490896] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:37:45: [36m[2025-06-03T09:37:45.820Z] INFO  [PID:490896][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:37:56: SQL実行: 
2025-06-03T09:37:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:37:56:                ci.number as ca... 
2025-06-03T09:37:56: SQL実行成功: 結果行数=0
2025-06-03T09:38:11: SQL実行: SELECT 1... 
2025-06-03T09:38:11: SQL実行成功: 結果行数=1
2025-06-03T09:38:11: SQL実行: 
2025-06-03T09:38:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:38:11:                ci.number as ca... 
2025-06-03T09:38:11: SQL実行成功: 結果行数=0
[2025-06-03T09:38:24.953Z] INFO  [PID:490896] SIGINT受信 - DialerService安全停止 {"level":"INFO"}
[2025-06-03T09:38:24.954Z] INFO  [PID:490896] 🚨 DialerService停止処理開始... {"level":"INFO"}
2025-06-03T09:38:24: [36m[2025-06-03T09:38:24.953Z] INFO  [PID:490896][0m SIGINT受信 - DialerService安全停止 {"level":"INFO"}
[2025-06-03T09:38:24.954Z] INFO  [PID:490896] ✅ DialerService停止完了 {"level":"INFO"}
[2025-06-03T09:38:24.954Z] INFO  [PID:490896] SIGINT受信 - SIPサービス安全切断 {"level":"INFO"}
2025-06-03T09:38:24: [36m[2025-06-03T09:38:24.954Z] INFO  [PID:490896][0m 🚨 DialerService停止処理開始... {"level":"INFO"}
2025-06-03T09:38:24: [36m[2025-06-03T09:38:24.954Z] INFO  [PID:490896][0m ✅ DialerService停止完了 {"level":"INFO"}
2025-06-03T09:38:24: [36m[2025-06-03T09:38:24.954Z] INFO  [PID:490896][0m SIGINT受信 - SIPサービス安全切断 {"level":"INFO"}
[2025-06-03T09:38:24.954Z] INFO  [PID:490896] SIPサービスを切断しています... {"level":"INFO"}
2025-06-03T09:38:24: [36m[2025-06-03T09:38:24.954Z] INFO  [PID:490896][0m SIPサービスを切断しています... {"level":"INFO"}
[2025-06-03T09:38:24.955Z] INFO  [PID:490896] ✅ SIPサービス切断完了 {"level":"INFO"}
2025-06-03T09:38:24: [36m[2025-06-03T09:38:24.955Z] INFO  [PID:490896][0m ✅ SIPサービス切断完了 {"level":"INFO"}
2025-06-03T09:38:24: アプリケーションを終了します...
2025-06-03T09:38:24: データベースプールを閉じています...
2025-06-03T09:38:24: データベースプールを閉じました
2025-06-03T09:38:24: サーバーを正常に終了しました
[2025-06-03T09:38:24.956Z] INFO  [PID:490896] アプリケーション終了 {"level":"INFO"}
2025-06-03T09:38:24: [36m[2025-06-03T09:38:24.956Z] INFO  [PID:490896][0m アプリケーション終了 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.376Z] INFO  [PID:490961][0m Logger初期化完了 {"logLevel":"info","enableConsole":true,"enableFile":true,"logDir":"/var/www/autodialer/backend/logs","level":"INFO"}
[2025-06-03T09:38:25.376Z] INFO  [PID:490961] Logger初期化完了 {"logLevel":"info","enableConsole":true,"enableFile":true,"logDir":"/var/www/autodialer/backend/logs","level":"INFO"}
2025-06-03T09:38:25: 🚀 ルーター登録開始...
[2025-06-03T09:38:25.465Z] INFO  [PID:490961] 🚀 DialerService初期化: 自動連動システム=有効 {"level":"INFO"}
[2025-06-03T09:38:25.465Z] INFO  [PID:490961] 🎯 自動システム開始試行 1/5 {"level":"INFO"}
[2025-06-03T09:38:25.465Z] INFO  [PID:490961] 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.465Z] INFO  [PID:490961][0m 🚀 DialerService初期化: 自動連動システム=有効 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.465Z] INFO  [PID:490961][0m 🎯 自動システム開始試行 1/5 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.465Z] INFO  [PID:490961][0m 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-03T09:38:25: プールが存在しないため再初期化します
2025-06-03T09:38:25: データベース接続試行 1/5...
2025-06-03T09:38:25: データベース接続設定: {
2025-06-03T09:38:25:   host: '127.0.0.1',
2025-06-03T09:38:25:   user: 'autodialer',
2025-06-03T09:38:25:   database: 'autodialer',
2025-06-03T09:38:25:   password: '***'
2025-06-03T09:38:25: }
[2025-06-03T09:38:25.487Z] INFO  [PID:490961] AsteriskService初期化: mockMode=false, timeout=15000ms {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.487Z] INFO  [PID:490961][0m AsteriskService初期化: mockMode=false, timeout=15000ms {"level":"INFO"}
[2025-06-03T09:38:25.490Z] INFO  [PID:490961] SipService初期化: mockMode=false, sipcmdPath=/usr/local/bin/sipcmd-working {"level":"INFO"}
[2025-06-03T09:38:25.490Z] INFO  [PID:490961] 💗 SIPヘルスチェック開始: 60000ms間隔 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.490Z] INFO  [PID:490961][0m SipService初期化: mockMode=false, sipcmdPath=/usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.490Z] INFO  [PID:490961][0m 💗 SIPヘルスチェック開始: 60000ms間隔 {"level":"INFO"}
[2025-06-03T09:38:25.491Z] INFO  [PID:490961] コールサービスを初期化しました。デフォルトプロバイダ: sip, フォールバック: 無効, モックモード: 無効 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.491Z] INFO  [PID:490961][0m コールサービスを初期化しました。デフォルトプロバイダ: sip, フォールバック: 無効, モックモード: 無効 {"level":"INFO"}
2025-06-03T09:38:25: ✅ system router 登録成功
2025-06-03T09:38:25: ✅ contacts router 登録成功
2025-06-03T09:38:25: ✅ campaigns router 登録成功
2025-06-03T09:38:25: ✅ caller-ids router 登録成功
2025-06-03T09:38:25: ✅ calls router 登録成功
2025-06-03T09:38:25: ✅ audio router 登録成功
2025-06-03T09:38:25: ✅ ivr router 登録成功
2025-06-03T09:38:25: 📊 ルーター登録状況: {
2025-06-03T09:38:25:   system: true,
2025-06-03T09:38:25:   contacts: true,
2025-06-03T09:38:25:   campaigns: true,
2025-06-03T09:38:25:   callerIds: true,
2025-06-03T09:38:25:   calls: true,
2025-06-03T09:38:25:   audio: true,
2025-06-03T09:38:25:   ivr: true
2025-06-03T09:38:25: }
[2025-06-03T09:38:25.561Z] INFO  [PID:490961] 音声ファイルディレクトリを初期化しました: /var/www/autodialer/backend/audio-files {"level":"INFO"}
2025-06-03T09:38:25: 🚀 サーバー初期化開始...
2025-06-03T09:38:25: SQL実行: SELECT 1... 
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.561Z] INFO  [PID:490961][0m 音声ファイルディレクトリを初期化しました: /var/www/autodialer/backend/audio-files {"level":"INFO"}
[2025-06-03T09:38:25.576Z] INFO  [PID:490961] IVRスクリプトディレクトリを初期化しました: /var/www/autodialer/backend/ivr-scripts {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.576Z] INFO  [PID:490961][0m IVRスクリプトディレクトリを初期化しました: /var/www/autodialer/backend/ivr-scripts {"level":"INFO"}
2025-06-03T09:38:25: SQL実行成功: 結果行数=1
2025-06-03T09:38:25: ✅ データベース接続成功
[2025-06-03T09:38:25.589Z] INFO  [PID:490961] 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-03T09:38:25: 🔧 SIPサービス初期化中...
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.589Z] INFO  [PID:490961][0m 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
[2025-06-03T09:38:25.590Z] INFO  [PID:490961] ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.590Z] INFO  [PID:490961][0m ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T09:38:25: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:38:25.592Z] INFO  [PID:490961] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:38:25: SQL実行成功: 結果行数=1
[2025-06-03T09:38:25.592Z] INFO  [PID:490961] 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.592Z] INFO  [PID:490961][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.592Z] INFO  [PID:490961][0m 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
[2025-06-03T09:38:25.593Z] INFO  [PID:490961] 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.593Z] INFO  [PID:490961][0m 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-03T09:38:25: SQL実行: 
2025-06-03T09:38:25:         SELECT 
2025-06-03T09:38:25:           cc.id,
2025-06-03T09:38:25:           cc.caller_id_id,
2025-06-03T09:38:25:           cc.username,
2025-06-03T09:38:25:           cc.pas... 
[2025-06-03T09:38:25.594Z] INFO  [PID:490961] データベース接続プールを作成しました {"level":"INFO"}
2025-06-03T09:38:25: データベース接続テスト成功: {
2025-06-03T09:38:25:   test: '1',
2025-06-03T09:38:25:   current_user_name: 'autodialer@localhost',
2025-06-03T09:38:25:   current_db: 'autodialer'
2025-06-03T09:38:25: }
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.594Z] INFO  [PID:490961][0m データベース接続プールを作成しました {"level":"INFO"}
2025-06-03T09:38:25: SQL実行: SELECT 1 as test... 
[2025-06-03T09:38:25.596Z] INFO  [PID:490961] 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
2025-06-03T09:38:25: SQL実行成功: 結果行数=22
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.596Z] INFO  [PID:490961][0m 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
[2025-06-03T09:38:25.597Z] INFO  [PID:490961] ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.597Z] INFO  [PID:490961][0m ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
[2025-06-03T09:38:25.597Z] INFO  [PID:490961] ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.597Z] INFO  [PID:490961][0m ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
[2025-06-03T09:38:25.597Z] INFO  [PID:490961] 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T09:38:25.597Z] INFO  [PID:490961] 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
[2025-06-03T09:38:25.597Z] INFO  [PID:490961] ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.597Z] INFO  [PID:490961][0m 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.597Z] INFO  [PID:490961][0m 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
[2025-06-03T09:38:25.598Z] INFO  [PID:490961] 📊 SIPアカウント概要: {"level":"INFO"}
[2025-06-03T09:38:25.598Z] INFO  [PID:490961]   - 総アカウント数: 22 {"level":"INFO"}
[2025-06-03T09:38:25.598Z] INFO  [PID:490961]   - 利用可能: 22 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.597Z] INFO  [PID:490961][0m ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.598Z] INFO  [PID:490961][0m 📊 SIPアカウント概要: {"level":"INFO"}
[2025-06-03T09:38:25.598Z] INFO  [PID:490961]   - 使用中: 0 {"level":"INFO"}
[2025-06-03T09:38:25.598Z] INFO  [PID:490961]   - エラー: 0 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.598Z] INFO  [PID:490961][0m   - 総アカウント数: 22 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.598Z] INFO  [PID:490961][0m   - 利用可能: 22 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.598Z] INFO  [PID:490961][0m   - 使用中: 0 {"level":"INFO"}
[2025-06-03T09:38:25.598Z] INFO  [PID:490961]   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T09:38:25.598Z] INFO  [PID:490961]   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.598Z] INFO  [PID:490961][0m   - エラー: 0 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.598Z] INFO  [PID:490961][0m   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.598Z] INFO  [PID:490961][0m   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T09:38:25: 📞 SIP初期化結果: true
[2025-06-03T09:38:25.599Z] INFO  [PID:490961] コールサービスの初期化を開始します {"level":"INFO"}
[2025-06-03T09:38:25.599Z] INFO  [PID:490961] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T09:38:25.599Z] INFO  [PID:490961] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:38:25: 📞 SIPアカウント数: 22
2025-06-03T09:38:25: 🔧 CallService初期化中...
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.599Z] INFO  [PID:490961][0m コールサービスの初期化を開始します {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.599Z] INFO  [PID:490961][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.599Z] INFO  [PID:490961][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
[2025-06-03T09:38:25.606Z] INFO  [PID:490961] 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.606Z] INFO  [PID:490961][0m 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
[2025-06-03T09:38:25.608Z] INFO  [PID:490961] ✅ データベース接続確認完了 {"level":"INFO"}
[2025-06-03T09:38:25.608Z] INFO  [PID:490961] ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T09:38:25: SQL実行成功: 結果行数=1
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.608Z] INFO  [PID:490961][0m ✅ データベース接続確認完了 {"level":"INFO"}
[2025-06-03T09:38:25.610Z] INFO  [PID:490961] 📋 初期キャンペーンロード: 0件検出 {"level":"INFO"}
[2025-06-03T09:38:25.610Z] INFO  [PID:490961] ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
[2025-06-03T09:38:25.610Z] INFO  [PID:490961] 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
[2025-06-03T09:38:25.610Z] INFO  [PID:490961] 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
[2025-06-03T09:38:25.611Z] INFO  [PID:490961] 🚀 自動発信システム開始: 8000ms間隔 {"level":"INFO"}
[2025-06-03T09:38:25.611Z] INFO  [PID:490961] ✅ 完全自動連動システム起動完了 {"level":"INFO"}
[2025-06-03T09:38:25.611Z] INFO  [PID:490961] ✅ DialerService自動システム起動完了 - 安定版 {"level":"INFO"}
[2025-06-03T09:38:25.611Z] INFO  [PID:490961] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:38:25.611Z] INFO  [PID:490961] 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
[2025-06-03T09:38:25.611Z] INFO  [PID:490961] 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-03T09:38:25: SQL実行: 
2025-06-03T09:38:25:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:38:25:                ci.number as ca... 
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.608Z] INFO  [PID:490961][0m ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T09:38:25: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
2025-06-03T09:38:25: SQL実行成功: 結果行数=0
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.610Z] INFO  [PID:490961][0m 📋 初期キャンペーンロード: 0件検出 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.610Z] INFO  [PID:490961][0m ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.610Z] INFO  [PID:490961][0m 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.610Z] INFO  [PID:490961][0m 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.611Z] INFO  [PID:490961][0m 🚀 自動発信システム開始: 8000ms間隔 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.611Z] INFO  [PID:490961][0m ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.611Z] INFO  [PID:490961][0m ✅ DialerService自動システム起動完了 - 安定版 {"level":"INFO"}
2025-06-03T09:38:25: SQL実行成功: 結果行数=1
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.611Z] INFO  [PID:490961][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.611Z] INFO  [PID:490961][0m 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.611Z] INFO  [PID:490961][0m 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-03T09:38:25: SQL実行: 
2025-06-03T09:38:25:         SELECT 
2025-06-03T09:38:25:           cc.id,
2025-06-03T09:38:25:           cc.caller_id_id,
2025-06-03T09:38:25:           cc.username,
2025-06-03T09:38:25:           cc.pas... 
[2025-06-03T09:38:25.613Z] INFO  [PID:490961] 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
[2025-06-03T09:38:25.613Z] INFO  [PID:490961] ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
[2025-06-03T09:38:25.613Z] INFO  [PID:490961] ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
[2025-06-03T09:38:25.614Z] INFO  [PID:490961] 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T09:38:25.614Z] INFO  [PID:490961] 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
[2025-06-03T09:38:25.614Z] INFO  [PID:490961] ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
[2025-06-03T09:38:25.614Z] INFO  [PID:490961] 📊 SIPアカウント概要: {"level":"INFO"}
[2025-06-03T09:38:25.614Z] INFO  [PID:490961]   - 総アカウント数: 22 {"level":"INFO"}
[2025-06-03T09:38:25.614Z] INFO  [PID:490961]   - 利用可能: 22 {"level":"INFO"}
[2025-06-03T09:38:25.614Z] INFO  [PID:490961]   - 使用中: 0 {"level":"INFO"}
[2025-06-03T09:38:25.614Z] INFO  [PID:490961]   - エラー: 0 {"level":"INFO"}
[2025-06-03T09:38:25.614Z] INFO  [PID:490961]   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T09:38:25.614Z] INFO  [PID:490961]   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T09:38:25: SQL実行成功: 結果行数=22
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.613Z] INFO  [PID:490961][0m 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.613Z] INFO  [PID:490961][0m ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.613Z] INFO  [PID:490961][0m ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.614Z] INFO  [PID:490961][0m 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.614Z] INFO  [PID:490961][0m 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.614Z] INFO  [PID:490961][0m ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.614Z] INFO  [PID:490961][0m 📊 SIPアカウント概要: {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.614Z] INFO  [PID:490961][0m   - 総アカウント数: 22 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.614Z] INFO  [PID:490961][0m   - 利用可能: 22 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.614Z] INFO  [PID:490961][0m   - 使用中: 0 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.614Z] INFO  [PID:490961][0m   - エラー: 0 {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.614Z] INFO  [PID:490961][0m   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
2025-06-03T09:38:25: [36m[2025-06-03T09:38:25.614Z] INFO  [PID:490961][0m   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
[2025-06-03T09:38:40.606Z] WARN  [PID:490961] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T09:38:40.607Z] ERROR [PID:490961] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T09:38:40: [33m[2025-06-03T09:38:40.606Z] WARN  [PID:490961][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T09:38:40.607Z] WARN  [PID:490961] Asterisk接続リトライ 1/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T09:38:40: [31m[2025-06-03T09:38:40.607Z] ERROR [PID:490961][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T09:38:40: [33m[2025-06-03T09:38:40.607Z] WARN  [PID:490961][0m Asterisk接続リトライ 1/3 を5秒後に実行 {"level":"WARN"}
[2025-06-03T09:38:40.607Z] INFO  [PID:490961] コールサービスの初期化が完了しました {"level":"INFO"}
2025-06-03T09:38:40: [36m[2025-06-03T09:38:40.607Z] INFO  [PID:490961][0m コールサービスの初期化が完了しました {"level":"INFO"}
2025-06-03T09:38:40: 📞 CallService初期化結果: true
2025-06-03T09:38:40: 🔧 DialerService手動初期化中...
2025-06-03T09:38:40: ✅ DialerService手動初期化完了
2025-06-03T09:38:40: 🔧 DialerService強制自動開始...
2025-06-03T09:38:40: ✅ サーバーが起動しました: http://0.0.0.0:5000
2025-06-03T09:38:40: 🎯 自動発信システム準備完了
2025-06-03T09:38:40: 🔗 利用可能なエンドポイント:
2025-06-03T09:38:40:   - GET  /health
2025-06-03T09:38:40:   - GET  /api/campaigns
2025-06-03T09:38:40:   - POST /api/campaigns/:id/start
2025-06-03T09:38:40:   - POST /api/calls/test
2025-06-03T09:38:40: SQL実行: 
2025-06-03T09:38:40:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:38:40:                ci.number as ca... 
[2025-06-03T09:38:40.613Z] INFO  [PID:490961] 🛑 自動発信システム停止 {"level":"INFO"}
[2025-06-03T09:38:40.613Z] INFO  [PID:490961] 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-03T09:38:40: SQL実行成功: 結果行数=0
2025-06-03T09:38:40: [36m[2025-06-03T09:38:40.613Z] INFO  [PID:490961][0m 🛑 自動発信システム停止 {"level":"INFO"}
2025-06-03T09:38:40: [36m[2025-06-03T09:38:40.613Z] INFO  [PID:490961][0m 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-03T09:38:43: POST /api/auth/login - Origin: http://146.190.83.205:3003
2025-06-03T09:38:43: ログイン試行: info@genecli.co
2025-06-03T09:38:45: GET /api/campaigns - Origin: http://146.190.83.205:3003
[2025-06-03T09:38:45.283Z] INFO  [PID:490961] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T09:38:45: [36m[2025-06-03T09:38:45.283Z] INFO  [PID:490961][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T09:38:45: SQL実行: 
2025-06-03T09:38:45:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-03T09:38:45:        ... 
2025-06-03T09:38:45: SQL実行成功: 結果行数=2
2025-06-03T09:38:45: SQL実行: 
2025-06-03T09:38:45:       SELECT COUNT(*) as total
2025-06-03T09:38:45:       FROM campaigns c
2025-06-03T09:38:45:       WHERE 1=1
2025-06-03T09:38:45:     ... 
[2025-06-03T09:38:45.290Z] INFO  [PID:490961] キャンペーン取得結果: 2/2件 {"level":"INFO"}
2025-06-03T09:38:45: SQL実行成功: 結果行数=1
2025-06-03T09:38:45: [36m[2025-06-03T09:38:45.290Z] INFO  [PID:490961][0m キャンペーン取得結果: 2/2件 {"level":"INFO"}
[2025-06-03T09:38:45.608Z] INFO  [PID:490961] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T09:38:45.608Z] INFO  [PID:490961] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:38:45: [36m[2025-06-03T09:38:45.608Z] INFO  [PID:490961][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T09:38:45: [36m[2025-06-03T09:38:45.608Z] INFO  [PID:490961][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:38:45: SQL実行: 
2025-06-03T09:38:45:             SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:38:45:                    ci.numb... 
2025-06-03T09:38:45: SQL実行成功: 結果行数=0
2025-06-03T09:38:45: 📊 アクティブキャンペーン検出: 0件
2025-06-03T09:38:47: GET /api/caller-ids - Origin: http://146.190.83.205:3003
2025-06-03T09:38:47: 発信者番号一覧取得開始
2025-06-03T09:38:47: SQL実行: SELECT 1 as healthy, NOW() as timestamp, USER() as user, DATABASE() as db... 
2025-06-03T09:38:47: SQL実行成功: 結果行数=1
2025-06-03T09:38:47: データベース接続確認完了
2025-06-03T09:38:47: クエリ実行開始
2025-06-03T09:38:47: SQL実行: 
2025-06-03T09:38:47:       SELECT 
2025-06-03T09:38:47:         ci.id,
2025-06-03T09:38:47:         ci.number,
2025-06-03T09:38:47:         ci.description,
2025-06-03T09:38:47:         ci.provider,
2025-06-03T09:38:47:       ... 
2025-06-03T09:38:47: SQL実行成功: 結果行数=2
2025-06-03T09:38:47: クエリ実行完了: 2件取得
2025-06-03T09:38:47: 発信者番号一覧取得成功: 2
[2025-06-03T09:38:50.609Z] INFO  [PID:490961] 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-03T09:38:50: [36m[2025-06-03T09:38:50.609Z] INFO  [PID:490961][0m 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-03T09:38:50: SQL実行: SELECT 1 as test... 
[2025-06-03T09:38:50.610Z] INFO  [PID:490961] ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-03T09:38:50: SQL実行成功: 結果行数=1
2025-06-03T09:38:50: [36m[2025-06-03T09:38:50.610Z] INFO  [PID:490961][0m ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-03T09:38:50: SQL実行: 
2025-06-03T09:38:50:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:38:50:                ci.number as ca... 
[2025-06-03T09:38:50.612Z] INFO  [PID:490961] 📋 初期キャンペーンロード: 0件検出 {"level":"INFO"}
2025-06-03T09:38:50: SQL実行成功: 結果行数=0
[2025-06-03T09:38:50.612Z] INFO  [PID:490961] ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
[2025-06-03T09:38:50.612Z] INFO  [PID:490961] 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
[2025-06-03T09:38:50.612Z] INFO  [PID:490961] 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
[2025-06-03T09:38:50.612Z] INFO  [PID:490961] 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
[2025-06-03T09:38:50.612Z] INFO  [PID:490961] ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-03T09:38:50: [36m[2025-06-03T09:38:50.612Z] INFO  [PID:490961][0m 📋 初期キャンペーンロード: 0件検出 {"level":"INFO"}
2025-06-03T09:38:50: [36m[2025-06-03T09:38:50.612Z] INFO  [PID:490961][0m ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
2025-06-03T09:38:50: [36m[2025-06-03T09:38:50.612Z] INFO  [PID:490961][0m 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
2025-06-03T09:38:50: [36m[2025-06-03T09:38:50.612Z] INFO  [PID:490961][0m 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
2025-06-03T09:38:50: [36m[2025-06-03T09:38:50.612Z] INFO  [PID:490961][0m 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
2025-06-03T09:38:50: [36m[2025-06-03T09:38:50.612Z] INFO  [PID:490961][0m ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-03T09:38:50: ✅ DialerService自動システム開始完了
[2025-06-03T09:38:58.521Z] INFO  [PID:490961] キャンペーン作成: Name=テスト {"level":"INFO"}
2025-06-03T09:38:58: POST /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-03T09:38:58: [36m[2025-06-03T09:38:58.521Z] INFO  [PID:490961][0m キャンペーン作成: Name=テスト {"level":"INFO"}
2025-06-03T09:38:58: SQL実行: INSERT INTO campaigns (name, description, caller_id_id, script, status, created_at) VALUES (?, ?, ?,... パラメータ数: 5
[2025-06-03T09:38:58.527Z] INFO  [PID:490961] キャンペーン作成完了: ID=58, Name=テスト {"level":"INFO"}
2025-06-03T09:38:58: SQL実行成功: 結果行数=不明
2025-06-03T09:38:58: [36m[2025-06-03T09:38:58.527Z] INFO  [PID:490961][0m キャンペーン作成完了: ID=58, Name=テスト {"level":"INFO"}
[2025-06-03T09:38:59.603Z] INFO  [PID:490961] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T09:38:59: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-03T09:38:59: [36m[2025-06-03T09:38:59.603Z] INFO  [PID:490961][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T09:38:59: SQL実行: 
2025-06-03T09:38:59:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-03T09:38:59:        ... 
2025-06-03T09:38:59: SQL実行成功: 結果行数=3
2025-06-03T09:38:59: SQL実行: 
2025-06-03T09:38:59:       SELECT COUNT(*) as total
2025-06-03T09:38:59:       FROM campaigns c
2025-06-03T09:38:59:       WHERE 1=1
2025-06-03T09:38:59:     ... 
[2025-06-03T09:38:59.610Z] INFO  [PID:490961] キャンペーン取得結果: 3/3件 {"level":"INFO"}
2025-06-03T09:38:59: SQL実行成功: 結果行数=1
2025-06-03T09:38:59: [36m[2025-06-03T09:38:59.610Z] INFO  [PID:490961][0m キャンペーン取得結果: 3/3件 {"level":"INFO"}
[2025-06-03T09:39:00.609Z] WARN  [PID:490961] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
2025-06-03T09:39:00: [33m[2025-06-03T09:39:00.609Z] WARN  [PID:490961][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T09:39:00.610Z] ERROR [PID:490961] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
[2025-06-03T09:39:00.610Z] WARN  [PID:490961] Asterisk接続リトライ 2/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T09:39:00: [31m[2025-06-03T09:39:00.610Z] ERROR [PID:490961][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T09:39:00: [33m[2025-06-03T09:39:00.610Z] WARN  [PID:490961][0m Asterisk接続リトライ 2/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T09:39:00: GET /api/campaigns/58 - Origin: http://146.190.83.205:3003
[2025-06-03T09:39:00.706Z] INFO  [PID:490961] キャンペーン詳細取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:00: [36m[2025-06-03T09:39:00.706Z] INFO  [PID:490961][0m キャンペーン詳細取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:00: SQL実行: 
2025-06-03T09:39:00:       SELECT c.*, 
2025-06-03T09:39:00:              ci.number as caller_id_number,
2025-06-03T09:39:00:              ci.description as calle... パラメータ数: 1
[2025-06-03T09:39:00.709Z] INFO  [PID:490961] キャンペーン詳細取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:00: SQL実行成功: 結果行数=1
2025-06-03T09:39:00: [36m[2025-06-03T09:39:00.709Z] INFO  [PID:490961][0m キャンペーン詳細取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:00: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
[2025-06-03T09:39:00.767Z] INFO  [PID:490961] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:00: [36m[2025-06-03T09:39:00.767Z] INFO  [PID:490961][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:00: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:39:00: SQL実行成功: 結果行数=1
2025-06-03T09:39:00: SQL実行: 
2025-06-03T09:39:00:       SELECT 
2025-06-03T09:39:00:         COUNT(*) as total,
2025-06-03T09:39:00:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:39:00: SQL実行成功: 結果行数=1
2025-06-03T09:39:00: SQL実行: 
2025-06-03T09:39:00:       SELECT 
2025-06-03T09:39:00:         COUNT(*) as total_calls,
2025-06-03T09:39:00:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:39:00.774Z] INFO  [PID:490961] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:39:00: SQL実行成功: 結果行数=1
2025-06-03T09:39:00: 進捗計算デバッグ: total=0, processed=0, progress=0%
2025-06-03T09:39:00: [36m[2025-06-03T09:39:00.774Z] INFO  [PID:490961][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:39:02.067Z] INFO  [PID:490961] 連絡先一覧取得: Campaign=58, Page=1, Limit=20 {"level":"INFO"}
2025-06-03T09:39:02: GET /api/campaigns/58/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
2025-06-03T09:39:02: [36m[2025-06-03T09:39:02.067Z] INFO  [PID:490961][0m 連絡先一覧取得: Campaign=58, Page=1, Limit=20 {"level":"INFO"}
2025-06-03T09:39:02: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:39:02: SQL実行成功: 結果行数=1
2025-06-03T09:39:02: SQL実行: 
2025-06-03T09:39:02:       SELECT c.*
2025-06-03T09:39:02:       FROM contacts c
2025-06-03T09:39:02:       WHERE c.campaign_id = ?
2025-06-03T09:39:02:      ORDER BY c.created_at DES... パラメータ数: 1
[2025-06-03T09:39:02.077Z] INFO  [PID:490961] 連絡先取得結果: Campaign=58, 件数=0, 全体=0 {"level":"INFO"}
2025-06-03T09:39:02: SQL実行成功: 結果行数=0
2025-06-03T09:39:02: SQL実行: 
2025-06-03T09:39:02:       SELECT COUNT(*) as total
2025-06-03T09:39:02:       FROM contacts c
2025-06-03T09:39:02:       WHERE c.campaign_id = ?
2025-06-03T09:39:02:     ... パラメータ数: 1
2025-06-03T09:39:02: SQL実行成功: 結果行数=1
2025-06-03T09:39:02: [36m[2025-06-03T09:39:02.077Z] INFO  [PID:490961][0m 連絡先取得結果: Campaign=58, 件数=0, 全体=0 {"level":"INFO"}
[2025-06-03T09:39:05.610Z] INFO  [PID:490961] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T09:39:05.610Z] INFO  [PID:490961] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:39:05: [36m[2025-06-03T09:39:05.610Z] INFO  [PID:490961][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T09:39:05: [36m[2025-06-03T09:39:05.610Z] INFO  [PID:490961][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:39:05: SQL実行: 
2025-06-03T09:39:05:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:39:05:                ci.number as ca... 
[2025-06-03T09:39:05.615Z] INFO  [PID:490961] 🛑 自動発信システム停止 {"level":"INFO"}
2025-06-03T09:39:05: SQL実行成功: 結果行数=0
[2025-06-03T09:39:05.615Z] INFO  [PID:490961] 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-03T09:39:05: [36m[2025-06-03T09:39:05.615Z] INFO  [PID:490961][0m 🛑 自動発信システム停止 {"level":"INFO"}
2025-06-03T09:39:05: [36m[2025-06-03T09:39:05.615Z] INFO  [PID:490961][0m 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-03T09:39:11: POST /api/campaigns/58/contacts/upload - Origin: http://146.190.83.205:3003
[2025-06-03T09:39:11.103Z] INFO  [PID:490961] 🚀 CSVアップロード開始 {"campaignId":"58","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-03T09:39:11.103Z","level":"INFO"}
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.103Z] INFO  [PID:490961][0m 🚀 CSVアップロード開始 {"campaignId":"58","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-03T09:39:11.103Z","level":"INFO"}
2025-06-03T09:39:11: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-03T09:39:11.105Z] INFO  [PID:490961] 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
2025-06-03T09:39:11: SQL実行成功: 結果行数=1
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.105Z] INFO  [PID:490961][0m 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
[2025-06-03T09:39:11.108Z] WARN  [PID:490961] CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
[2025-06-03T09:39:11.108Z] INFO  [PID:490961] CSV解析完了: 1行のデータ {"level":"INFO"}
2025-06-03T09:39:11: [33m[2025-06-03T09:39:11.108Z] WARN  [PID:490961][0m CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
[2025-06-03T09:39:11.108Z] INFO  [PID:490961] 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.108Z] INFO  [PID:490961][0m CSV解析完了: 1行のデータ {"level":"INFO"}
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.108Z] INFO  [PID:490961][0m 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
[2025-06-03T09:39:11.109Z] INFO  [PID:490961] 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
[2025-06-03T09:39:11.109Z] INFO  [PID:490961] 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.109Z] INFO  [PID:490961][0m 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
[2025-06-03T09:39:11.109Z] INFO  [PID:490961] 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
[2025-06-03T09:39:11.109Z] INFO  [PID:490961] バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.109Z] INFO  [PID:490961][0m 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
[2025-06-03T09:39:11.109Z] INFO  [PID:490961] 🔍 重複チェック開始... {"level":"INFO"}
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.109Z] INFO  [PID:490961][0m 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.109Z] INFO  [PID:490961][0m バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.109Z] INFO  [PID:490961][0m 🔍 重複チェック開始... {"level":"INFO"}
2025-06-03T09:39:11: SQL実行: SELECT phone FROM contacts WHERE campaign_id = ?... パラメータ数: 1
[2025-06-03T09:39:11.110Z] INFO  [PID:490961] 既存電話番号数: 0 {"level":"INFO"}
2025-06-03T09:39:11: SQL実行成功: 結果行数=0
[2025-06-03T09:39:11.111Z] INFO  [PID:490961] 新規データ追加: 05018086649 {"level":"INFO"}
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.110Z] INFO  [PID:490961][0m 既存電話番号数: 0 {"level":"INFO"}
[2025-06-03T09:39:11.111Z] INFO  [PID:490961] 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
[2025-06-03T09:39:11.111Z] INFO  [PID:490961] 💾 データベース挿入開始: 1件 {"level":"INFO"}
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.111Z] INFO  [PID:490961][0m 新規データ追加: 05018086649 {"level":"INFO"}
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.111Z] INFO  [PID:490961][0m 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.111Z] INFO  [PID:490961][0m 💾 データベース挿入開始: 1件 {"level":"INFO"}
2025-06-03T09:39:11: SQL実行: START TRANSACTION... 
2025-06-03T09:39:11: SQL実行成功: 結果行数=不明
2025-06-03T09:39:11: SQL実行: INSERT INTO contacts (campaign_id, phone, name, company, status, created_at) VALUES (?, ?, ?, ?, ?, ... パラメータ数: 5
[2025-06-03T09:39:11.112Z] INFO  [PID:490961] 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
2025-06-03T09:39:11: SQL実行成功: 結果行数=不明
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.112Z] INFO  [PID:490961][0m 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
2025-06-03T09:39:11: SQL実行: COMMIT... 
[2025-06-03T09:39:11.116Z] INFO  [PID:490961] ✅ 全件挿入完了: 1件 {"level":"INFO"}
2025-06-03T09:39:11: SQL実行成功: 結果行数=不明
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.116Z] INFO  [PID:490961][0m ✅ 全件挿入完了: 1件 {"level":"INFO"}
2025-06-03T09:39:11: SQL実行: SELECT COUNT(*) as total FROM contacts WHERE campaign_id = ?... パラメータ数: 1
2025-06-03T09:39:11: SQL実行成功: 結果行数=1
2025-06-03T09:39:11: SQL実行: SELECT COUNT(*) as completed FROM contacts WHERE campaign_id = ? AND status IN ("completed", "failed... パラメータ数: 1
2025-06-03T09:39:11: SQL実行成功: 結果行数=1
2025-06-03T09:39:11: SQL実行: UPDATE campaigns SET progress = ?, updated_at = NOW() WHERE id = ?... パラメータ数: 2
[2025-06-03T09:39:11.124Z] INFO  [PID:490961] CSVアップロード完了 {"campaignId":"58","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
2025-06-03T09:39:11: SQL実行成功: 結果行数=不明
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.124Z] INFO  [PID:490961][0m CSVアップロード完了 {"campaignId":"58","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
[2025-06-03T09:39:11.218Z] INFO  [PID:490961] キャンペーン詳細取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:11: GET /api/campaigns/58 - Origin: http://146.190.83.205:3003
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.218Z] INFO  [PID:490961][0m キャンペーン詳細取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:11: SQL実行: 
2025-06-03T09:39:11:       SELECT c.*, 
2025-06-03T09:39:11:              ci.number as caller_id_number,
2025-06-03T09:39:11:              ci.description as calle... パラメータ数: 1
[2025-06-03T09:39:11.222Z] INFO  [PID:490961] キャンペーン詳細取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:11: SQL実行成功: 結果行数=1
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.222Z] INFO  [PID:490961][0m キャンペーン詳細取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:11: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
[2025-06-03T09:39:11.281Z] INFO  [PID:490961] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.281Z] INFO  [PID:490961][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:11: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:39:11: SQL実行成功: 結果行数=1
2025-06-03T09:39:11: SQL実行: 
2025-06-03T09:39:11:       SELECT 
2025-06-03T09:39:11:         COUNT(*) as total,
2025-06-03T09:39:11:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:39:11: SQL実行成功: 結果行数=1
2025-06-03T09:39:11: SQL実行: 
2025-06-03T09:39:11:       SELECT 
2025-06-03T09:39:11:         COUNT(*) as total_calls,
2025-06-03T09:39:11:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:39:11.285Z] INFO  [PID:490961] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:39:11: SQL実行成功: 結果行数=1
2025-06-03T09:39:11: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.285Z] INFO  [PID:490961][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:39:11.356Z] INFO  [PID:490961] 連絡先一覧取得: Campaign=58, Page=1, Limit=20 {"level":"INFO"}
2025-06-03T09:39:11: GET /api/campaigns/58/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.356Z] INFO  [PID:490961][0m 連絡先一覧取得: Campaign=58, Page=1, Limit=20 {"level":"INFO"}
2025-06-03T09:39:11: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:39:11: SQL実行成功: 結果行数=1
2025-06-03T09:39:11: SQL実行: 
2025-06-03T09:39:11:       SELECT c.*
2025-06-03T09:39:11:       FROM contacts c
2025-06-03T09:39:11:       WHERE c.campaign_id = ?
2025-06-03T09:39:11:      ORDER BY c.created_at DES... パラメータ数: 1
2025-06-03T09:39:11: SQL実行成功: 結果行数=1
2025-06-03T09:39:11: SQL実行: 
2025-06-03T09:39:11:       SELECT COUNT(*) as total
2025-06-03T09:39:11:       FROM contacts c
2025-06-03T09:39:11:       WHERE c.campaign_id = ?
2025-06-03T09:39:11:     ... パラメータ数: 1
2025-06-03T09:39:11: SQL実行成功: 結果行数=1
[2025-06-03T09:39:11.360Z] INFO  [PID:490961] 連絡先取得結果: Campaign=58, 件数=1, 全体=1 {"level":"INFO"}
2025-06-03T09:39:11: [36m[2025-06-03T09:39:11.360Z] INFO  [PID:490961][0m 連絡先取得結果: Campaign=58, 件数=1, 全体=1 {"level":"INFO"}
2025-06-03T09:39:12: GET /api/audio - Origin: http://146.190.83.205:3003
[2025-06-03T09:39:12.159Z] INFO  [PID:490961] 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-03T09:39:12: [36m[2025-06-03T09:39:12.159Z] INFO  [PID:490961][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-03T09:39:12: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
[2025-06-03T09:39:12.162Z] INFO  [PID:490961] 7件の音声ファイルを取得しました {"level":"INFO"}
2025-06-03T09:39:12: SQL実行成功: 結果行数=7
2025-06-03T09:39:12: [36m[2025-06-03T09:39:12.162Z] INFO  [PID:490961][0m 7件の音声ファイルを取得しました {"level":"INFO"}
2025-06-03T09:39:12: GET /api/ivr/campaigns/58 - Origin: http://146.190.83.205:3003
2025-06-03T09:39:12: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:39:12: SQL実行成功: 結果行数=1
[2025-06-03T09:39:12.187Z] INFO  [PID:490961] キャンペーン音声取得開始: Campaign=58 {"level":"INFO"}
2025-06-03T09:39:12: [36m[2025-06-03T09:39:12.187Z] INFO  [PID:490961][0m キャンペーン音声取得開始: Campaign=58 {"level":"INFO"}
2025-06-03T09:39:12: SQL実行: 
2025-06-03T09:39:12:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T09:39:12:    ... パラメータ数: 1
[2025-06-03T09:39:12.189Z] INFO  [PID:490961] キャンペーン音声取得結果: Campaign=58, 件数=0 {"level":"INFO"}
2025-06-03T09:39:12: SQL実行成功: 結果行数=0
[2025-06-03T09:39:12.189Z] WARN  [PID:490961] キャンペーン 58 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-03T09:39:12: [36m[2025-06-03T09:39:12.189Z] INFO  [PID:490961][0m キャンペーン音声取得結果: Campaign=58, 件数=0 {"level":"INFO"}
2025-06-03T09:39:12: [33m[2025-06-03T09:39:12.189Z] WARN  [PID:490961][0m キャンペーン 58 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-03T09:39:12: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-03T09:39:12: SQL実行成功: 結果行数=0
2025-06-03T09:39:12: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-03T09:39:12.191Z] INFO  [PID:490961] キャンペーン音声取得開始: Campaign=58 {"level":"INFO"}
2025-06-03T09:39:12: SQL実行成功: 結果行数=1
2025-06-03T09:39:12: [36m[2025-06-03T09:39:12.191Z] INFO  [PID:490961][0m キャンペーン音声取得開始: Campaign=58 {"level":"INFO"}
2025-06-03T09:39:12: SQL実行: 
2025-06-03T09:39:12:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T09:39:12:    ... パラメータ数: 1
[2025-06-03T09:39:12.192Z] INFO  [PID:490961] キャンペーン音声取得結果: Campaign=58, 件数=0 {"level":"INFO"}
2025-06-03T09:39:12: SQL実行成功: 結果行数=0
[2025-06-03T09:39:12.192Z] WARN  [PID:490961] キャンペーン 58 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-03T09:39:12: [36m[2025-06-03T09:39:12.192Z] INFO  [PID:490961][0m キャンペーン音声取得結果: Campaign=58, 件数=0 {"level":"INFO"}
2025-06-03T09:39:12: [33m[2025-06-03T09:39:12.192Z] WARN  [PID:490961][0m キャンペーン 58 に音声ファイルが見つかりません {"level":"WARN"}
[2025-06-03T09:39:12.194Z] INFO  [PID:490961] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-58.conf {"level":"INFO"}
2025-06-03T09:39:12: [36m[2025-06-03T09:39:12.194Z] INFO  [PID:490961][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-58.conf {"level":"INFO"}
2025-06-03T09:39:16: POST /api/audio/assign - Origin: http://146.190.83.205:3003
[2025-06-03T09:39:16.414Z] INFO  [PID:490961] 音声ファイル割り当て: キャンペーンID=58, 音声ID=1eafe0ce-cfd5-4bd7-944b-fb5288171f71, タイプ=welcome {"level":"INFO"}
2025-06-03T09:39:16: [36m[2025-06-03T09:39:16.414Z] INFO  [PID:490961][0m 音声ファイル割り当て: キャンペーンID=58, 音声ID=1eafe0ce-cfd5-4bd7-944b-fb5288171f71, タイプ=welcome {"level":"INFO"}
2025-06-03T09:39:16: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:39:16: SQL実行成功: 結果行数=1
2025-06-03T09:39:16: SQL実行: SELECT id FROM audio_files WHERE id = ?... パラメータ数: 1
2025-06-03T09:39:16: SQL実行成功: 結果行数=1
2025-06-03T09:39:16: SQL実行: SELECT * FROM campaign_audio WHERE campaign_id = ? AND audio_type = ?... パラメータ数: 2
2025-06-03T09:39:16: SQL実行成功: 結果行数=0
2025-06-03T09:39:16: SQL実行: INSERT INTO campaign_audio (campaign_id, audio_file_id, audio_type, created_at) VALUES (?, ?, ?, NOW... パラメータ数: 3
[2025-06-03T09:39:16.422Z] INFO  [PID:490961] 新規割り当てを作成しました: キャンペーンID=58, タイプ=welcome {"level":"INFO"}
2025-06-03T09:39:16: SQL実行成功: 結果行数=不明
2025-06-03T09:39:16: [36m[2025-06-03T09:39:16.422Z] INFO  [PID:490961][0m 新規割り当てを作成しました: キャンペーンID=58, タイプ=welcome {"level":"INFO"}
2025-06-03T09:39:16: GET /api/ivr/campaigns/58 - Origin: http://146.190.83.205:3003
2025-06-03T09:39:16: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-03T09:39:16.483Z] INFO  [PID:490961] キャンペーン音声取得開始: Campaign=58 {"level":"INFO"}
2025-06-03T09:39:16: SQL実行成功: 結果行数=1
2025-06-03T09:39:16: [36m[2025-06-03T09:39:16.483Z] INFO  [PID:490961][0m キャンペーン音声取得開始: Campaign=58 {"level":"INFO"}
2025-06-03T09:39:16: SQL実行: 
2025-06-03T09:39:16:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T09:39:16:    ... パラメータ数: 1
[2025-06-03T09:39:16.484Z] INFO  [PID:490961] キャンペーン音声取得結果: Campaign=58, 件数=1 {"level":"INFO"}
2025-06-03T09:39:16: SQL実行成功: 結果行数=1
[2025-06-03T09:39:16.484Z] INFO  [PID:490961] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T09:39:16: [36m[2025-06-03T09:39:16.484Z] INFO  [PID:490961][0m キャンペーン音声取得結果: Campaign=58, 件数=1 {"level":"INFO"}
2025-06-03T09:39:16: [36m[2025-06-03T09:39:16.484Z] INFO  [PID:490961][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T09:39:16: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-03T09:39:16: SQL実行成功: 結果行数=0
2025-06-03T09:39:16: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-03T09:39:16.486Z] INFO  [PID:490961] キャンペーン音声取得開始: Campaign=58 {"level":"INFO"}
2025-06-03T09:39:16: SQL実行成功: 結果行数=1
2025-06-03T09:39:16: [36m[2025-06-03T09:39:16.486Z] INFO  [PID:490961][0m キャンペーン音声取得開始: Campaign=58 {"level":"INFO"}
2025-06-03T09:39:16: SQL実行: 
2025-06-03T09:39:16:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T09:39:16:    ... パラメータ数: 1
[2025-06-03T09:39:16.487Z] INFO  [PID:490961] キャンペーン音声取得結果: Campaign=58, 件数=1 {"level":"INFO"}
[2025-06-03T09:39:16.487Z] INFO  [PID:490961] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T09:39:16: SQL実行成功: 結果行数=1
2025-06-03T09:39:16: [36m[2025-06-03T09:39:16.487Z] INFO  [PID:490961][0m キャンペーン音声取得結果: Campaign=58, 件数=1 {"level":"INFO"}
2025-06-03T09:39:16: [36m[2025-06-03T09:39:16.487Z] INFO  [PID:490961][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
[2025-06-03T09:39:16.488Z] INFO  [PID:490961] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-58.conf {"level":"INFO"}
2025-06-03T09:39:16: [36m[2025-06-03T09:39:16.488Z] INFO  [PID:490961][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-58.conf {"level":"INFO"}
2025-06-03T09:39:17: POST /api/campaigns/58/start - Origin: http://146.190.83.205:3003
[2025-06-03T09:39:17.692Z] INFO  [PID:490961] キャンペーン開始: ID=58 {"level":"INFO"}
2025-06-03T09:39:17: [36m[2025-06-03T09:39:17.692Z] INFO  [PID:490961][0m キャンペーン開始: ID=58 {"level":"INFO"}
2025-06-03T09:39:17: SQL実行: UPDATE campaigns SET status = "active", updated_at = NOW() WHERE id = ? AND status != "active"... パラメータ数: 1
[2025-06-03T09:39:17.696Z] INFO  [PID:490961] キャンペーン開始完了: ID=58 {"level":"INFO"}
2025-06-03T09:39:17: SQL実行成功: 結果行数=不明
2025-06-03T09:39:17: [36m[2025-06-03T09:39:17.696Z] INFO  [PID:490961][0m キャンペーン開始完了: ID=58 {"level":"INFO"}
[2025-06-03T09:39:17.757Z] INFO  [PID:490961] キャンペーン詳細取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:17: GET /api/campaigns/58 - Origin: http://146.190.83.205:3003
2025-06-03T09:39:17: [36m[2025-06-03T09:39:17.757Z] INFO  [PID:490961][0m キャンペーン詳細取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:17: SQL実行: 
2025-06-03T09:39:17:       SELECT c.*, 
2025-06-03T09:39:17:              ci.number as caller_id_number,
2025-06-03T09:39:17:              ci.description as calle... パラメータ数: 1
[2025-06-03T09:39:17.760Z] INFO  [PID:490961] キャンペーン詳細取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:17: SQL実行成功: 結果行数=1
2025-06-03T09:39:17: [36m[2025-06-03T09:39:17.760Z] INFO  [PID:490961][0m キャンペーン詳細取得: ID=58 {"level":"INFO"}
[2025-06-03T09:39:17.817Z] INFO  [PID:490961] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:17: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:39:17: [36m[2025-06-03T09:39:17.817Z] INFO  [PID:490961][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:17: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:39:17: SQL実行成功: 結果行数=1
2025-06-03T09:39:17: SQL実行: 
2025-06-03T09:39:17:       SELECT 
2025-06-03T09:39:17:         COUNT(*) as total,
2025-06-03T09:39:17:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:39:17: SQL実行成功: 結果行数=1
2025-06-03T09:39:17: SQL実行: 
2025-06-03T09:39:17:       SELECT 
2025-06-03T09:39:17:         COUNT(*) as total_calls,
2025-06-03T09:39:17:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:39:17.821Z] INFO  [PID:490961] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:39:17: SQL実行成功: 結果行数=1
2025-06-03T09:39:17: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:39:17: [36m[2025-06-03T09:39:17.821Z] INFO  [PID:490961][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:39:17.872Z] INFO  [PID:490961] 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-03T09:39:17: GET /api/audio - Origin: http://146.190.83.205:3003
2025-06-03T09:39:17: [36m[2025-06-03T09:39:17.872Z] INFO  [PID:490961][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-03T09:39:17: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
[2025-06-03T09:39:17.873Z] INFO  [PID:490961] 7件の音声ファイルを取得しました {"level":"INFO"}
2025-06-03T09:39:17: SQL実行成功: 結果行数=7
2025-06-03T09:39:17: [36m[2025-06-03T09:39:17.873Z] INFO  [PID:490961][0m 7件の音声ファイルを取得しました {"level":"INFO"}
2025-06-03T09:39:17: GET /api/ivr/campaigns/58 - Origin: http://146.190.83.205:3003
2025-06-03T09:39:17: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:39:17: SQL実行成功: 結果行数=1
[2025-06-03T09:39:17.880Z] INFO  [PID:490961] キャンペーン音声取得開始: Campaign=58 {"level":"INFO"}
2025-06-03T09:39:17: [36m[2025-06-03T09:39:17.880Z] INFO  [PID:490961][0m キャンペーン音声取得開始: Campaign=58 {"level":"INFO"}
2025-06-03T09:39:17: SQL実行: 
2025-06-03T09:39:17:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T09:39:17:    ... パラメータ数: 1
[2025-06-03T09:39:17.882Z] INFO  [PID:490961] キャンペーン音声取得結果: Campaign=58, 件数=1 {"level":"INFO"}
2025-06-03T09:39:17: SQL実行成功: 結果行数=1
[2025-06-03T09:39:17.882Z] INFO  [PID:490961] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T09:39:17: [36m[2025-06-03T09:39:17.882Z] INFO  [PID:490961][0m キャンペーン音声取得結果: Campaign=58, 件数=1 {"level":"INFO"}
2025-06-03T09:39:17: [36m[2025-06-03T09:39:17.882Z] INFO  [PID:490961][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T09:39:17: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-03T09:39:17: SQL実行成功: 結果行数=0
2025-06-03T09:39:17: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-03T09:39:17.884Z] INFO  [PID:490961] キャンペーン音声取得開始: Campaign=58 {"level":"INFO"}
2025-06-03T09:39:17: SQL実行成功: 結果行数=1
2025-06-03T09:39:17: [36m[2025-06-03T09:39:17.884Z] INFO  [PID:490961][0m キャンペーン音声取得開始: Campaign=58 {"level":"INFO"}
2025-06-03T09:39:17: SQL実行: 
2025-06-03T09:39:17:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T09:39:17:    ... パラメータ数: 1
[2025-06-03T09:39:17.886Z] INFO  [PID:490961] キャンペーン音声取得結果: Campaign=58, 件数=1 {"level":"INFO"}
2025-06-03T09:39:17: SQL実行成功: 結果行数=1
[2025-06-03T09:39:17.886Z] INFO  [PID:490961] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T09:39:17: [36m[2025-06-03T09:39:17.886Z] INFO  [PID:490961][0m キャンペーン音声取得結果: Campaign=58, 件数=1 {"level":"INFO"}
2025-06-03T09:39:17: [36m[2025-06-03T09:39:17.886Z] INFO  [PID:490961][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
[2025-06-03T09:39:17.887Z] INFO  [PID:490961] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-58.conf {"level":"INFO"}
2025-06-03T09:39:17: [36m[2025-06-03T09:39:17.887Z] INFO  [PID:490961][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-58.conf {"level":"INFO"}
[2025-06-03T09:39:20.611Z] WARN  [PID:490961] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T09:39:20.612Z] ERROR [PID:490961] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T09:39:20: [33m[2025-06-03T09:39:20.611Z] WARN  [PID:490961][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T09:39:20.612Z] WARN  [PID:490961] Asterisk接続リトライ 3/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T09:39:20: [31m[2025-06-03T09:39:20.612Z] ERROR [PID:490961][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T09:39:20: [33m[2025-06-03T09:39:20.612Z] WARN  [PID:490961][0m Asterisk接続リトライ 3/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T09:39:20: SQL実行: 
2025-06-03T09:39:20:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:39:20:                ci.number as ca... 
2025-06-03T09:39:20: SQL実行: SELECT 1... 
2025-06-03T09:39:20: SQL実行成功: 結果行数=1
[2025-06-03T09:39:20.619Z] INFO  [PID:490961] 🎉 イベント: キャンペーン追加 - テスト (ID: 58) {"level":"INFO"}
[2025-06-03T09:39:20.619Z] INFO  [PID:490961] ✅ キャンペーン自動追加: "テスト" (未処理: 1件) {"level":"INFO"}
[2025-06-03T09:39:20.619Z] INFO  [PID:490961] 🆕 新しいキャンペーンを自動検知: "テスト" (ID: 58) {"level":"INFO"}
[2025-06-03T09:39:20.619Z] INFO  [PID:490961] 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
[2025-06-03T09:39:20.620Z] INFO  [PID:490961] 🚀 アクティブキャンペーン検知により自動発信開始 {"level":"INFO"}
2025-06-03T09:39:20: SQL実行成功: 結果行数=1
2025-06-03T09:39:20: [36m[2025-06-03T09:39:20.619Z] INFO  [PID:490961][0m 🎉 イベント: キャンペーン追加 - テスト (ID: 58) {"level":"INFO"}
2025-06-03T09:39:20: [36m[2025-06-03T09:39:20.619Z] INFO  [PID:490961][0m ✅ キャンペーン自動追加: "テスト" (未処理: 1件) {"level":"INFO"}
2025-06-03T09:39:20: [36m[2025-06-03T09:39:20.619Z] INFO  [PID:490961][0m 🆕 新しいキャンペーンを自動検知: "テスト" (ID: 58) {"level":"INFO"}
2025-06-03T09:39:20: [36m[2025-06-03T09:39:20.619Z] INFO  [PID:490961][0m 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
2025-06-03T09:39:20: [36m[2025-06-03T09:39:20.620Z] INFO  [PID:490961][0m 🚀 アクティブキャンペーン検知により自動発信開始 {"level":"INFO"}
[2025-06-03T09:39:22.824Z] INFO  [PID:490961] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:22: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:39:22: [36m[2025-06-03T09:39:22.824Z] INFO  [PID:490961][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:22: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:39:22: SQL実行成功: 結果行数=1
2025-06-03T09:39:22: SQL実行: 
2025-06-03T09:39:22:       SELECT 
2025-06-03T09:39:22:         COUNT(*) as total,
2025-06-03T09:39:22:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:39:22: SQL実行成功: 結果行数=1
2025-06-03T09:39:22: SQL実行: 
2025-06-03T09:39:22:       SELECT 
2025-06-03T09:39:22:         COUNT(*) as total_calls,
2025-06-03T09:39:22:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:39:22: SQL実行成功: 結果行数=1
[2025-06-03T09:39:22.829Z] INFO  [PID:490961] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:39:22: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:39:22: [36m[2025-06-03T09:39:22.829Z] INFO  [PID:490961][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:39:25: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:39:25.492Z] INFO  [PID:490961] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:39:25: SQL実行成功: 結果行数=1
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.492Z] INFO  [PID:490961][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:39:25.613Z] INFO  [PID:490961] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T09:39:25.613Z] INFO  [PID:490961] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.613Z] INFO  [PID:490961][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.613Z] INFO  [PID:490961][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:39:25: SQL実行: 
2025-06-03T09:39:25:           SELECT id, phone, name, company, attempt_count
2025-06-03T09:39:25:           FROM contacts 
2025-06-03T09:39:25:           WHERE c... パラメータ数: 1
[2025-06-03T09:39:25.625Z] INFO  [PID:490961] 📞 発信準備: 05018086649 (Campaign: テスト, 試行回数: 0) {"level":"INFO"}
2025-06-03T09:39:25: SQL実行成功: 結果行数=1
[2025-06-03T09:39:25.626Z] INFO  [PID:490961] 🔧 発信診断開始: 05018086649 {"level":"INFO"}
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.625Z] INFO  [PID:490961][0m 📞 発信準備: 05018086649 (Campaign: テスト, 試行回数: 0) {"level":"INFO"}
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.626Z] INFO  [PID:490961][0m 🔧 発信診断開始: 05018086649 {"level":"INFO"}
2025-06-03T09:39:25: SQL実行: UPDATE contacts SET status = ?, last_attempt = NOW(), attempt_count = attempt_count + 1 WHERE id = ?... パラメータ数: 2
2025-06-03T09:39:25: SQL実行成功: 結果行数=不明
2025-06-03T09:39:25: SQL実行: SELECT * FROM caller_ids WHERE id = ? AND active = true... パラメータ数: 1
2025-06-03T09:39:25: SQL実行成功: 結果行数=1
[2025-06-03T09:39:25.635Z] INFO  [PID:490961] キャンペーン音声取得開始: Campaign=58 {"level":"INFO"}
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.635Z] INFO  [PID:490961][0m キャンペーン音声取得開始: Campaign=58 {"level":"INFO"}
2025-06-03T09:39:25: SQL実行: 
2025-06-03T09:39:25:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T09:39:25:    ... パラメータ数: 1
[2025-06-03T09:39:25.637Z] INFO  [PID:490961] キャンペーン音声取得結果: Campaign=58, 件数=1 {"level":"INFO"}
2025-06-03T09:39:25: SQL実行成功: 結果行数=1
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.637Z] INFO  [PID:490961][0m キャンペーン音声取得結果: Campaign=58, 件数=1 {"level":"INFO"}
[2025-06-03T09:39:25.637Z] INFO  [PID:490961] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
[2025-06-03T09:39:25.638Z] INFO  [PID:490961] 🎵 自動発信で音声ファイル取得成功: 1件 (Campaign: 58) {"level":"INFO"}
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.637Z] INFO  [PID:490961][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
[2025-06-03T09:39:25.638Z] INFO  [PID:490961] 🎵 音声1: welcome - 549444996463302 (1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav) {"level":"INFO"}
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.638Z] INFO  [PID:490961][0m 🎵 自動発信で音声ファイル取得成功: 1件 (Campaign: 58) {"level":"INFO"}
[2025-06-03T09:39:25.638Z] INFO  [PID:490961] 🚀 音声付き自動発信実行: 05018086649 {"campaignId":58,"contactId":10053,"callerID":"\"PBX2\" <0359468411>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":1,"hasAudio":true,"level":"INFO"}
[2025-06-03T09:39:25.638Z] INFO  [PID:490961] sipプロバイダを使用して発信します: 05018086649 {"level":"INFO"}
[2025-06-03T09:39:25.639Z] INFO  [PID:490961] 🔥 SIP発信を開始: 発信先=05018086649 {"level":"INFO"}
[2025-06-03T09:39:25.639Z] INFO  [PID:490961] 選択されたSIPアカウント: 03760003 (失敗回数: 0) {"level":"INFO"}
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.638Z] INFO  [PID:490961][0m 🎵 音声1: welcome - 549444996463302 (1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav) {"level":"INFO"}
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.638Z] INFO  [PID:490961][0m 🚀 音声付き自動発信実行: 05018086649 {"campaignId":58,"contactId":10053,"callerID":"\"PBX2\" <0359468411>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":1,"hasAudio":true,"level":"INFO"}
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.638Z] INFO  [PID:490961][0m sipプロバイダを使用して発信します: 05018086649 {"level":"INFO"}
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.639Z] INFO  [PID:490961][0m 🔥 SIP発信を開始: 発信先=05018086649 {"level":"INFO"}
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.639Z] INFO  [PID:490961][0m 選択されたSIPアカウント: 03760003 (失敗回数: 0) {"level":"INFO"}
[2025-06-03T09:39:25.640Z] INFO  [PID:490961] 📞 SIP発信詳細: {"account":"03760003","server":"ito258258.site","number":"05018086649","callerID":"0359468411","hasAudio":true,"level":"INFO"}
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.640Z] INFO  [PID:490961][0m 📞 SIP発信詳細: {"account":"03760003","server":"ito258258.site","number":"05018086649","callerID":"0359468411","hasAudio":true,"level":"INFO"}
[2025-06-03T09:39:25.640Z] INFO  [PID:490961] 🎵 キャンペーン音声使用: /var/www/autodialer/backend/audio-files/1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.640Z] INFO  [PID:490961][0m 🎵 キャンペーン音声使用: /var/www/autodialer/backend/audio-files/1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
[2025-06-03T09:39:25.640Z] INFO  [PID:490961] 🚀 SIP発信（修正版）: 03760003 -> 05018086649 {"level":"INFO"}
[2025-06-03T09:39:25.641Z] INFO  [PID:490961] 🎵 使用音声: /var/www/autodialer/backend/audio-files/1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
[2025-06-03T09:39:25.641Z] INFO  [PID:490961] 📞 実行コマンド: pjsua --null-audio --play-file=/var/www/autodialer/backend/audio-files/1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav --auto-play --auto-loop --duration=35 --max-calls=1 --auto-answer=200 --no-tcp --log-level=3 --id=sip:03760003@ito258258.site --registrar=sip:ito258258.site --realm=asterisk --username=03760003 --password=*** sip:05018086649@ito258258.site {"level":"INFO"}
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.640Z] INFO  [PID:490961][0m 🚀 SIP発信（修正版）: 03760003 -> 05018086649 {"level":"INFO"}
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.641Z] INFO  [PID:490961][0m 🎵 使用音声: /var/www/autodialer/backend/audio-files/1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.641Z] INFO  [PID:490961][0m 📞 実行コマンド: pjsua --null-audio --play-file=/var/www/autodialer/backend/audio-files/1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav --auto-play --auto-loop --duration=35 --max-calls=1 --auto-answer=200 --no-tcp --log-level=3 --id=sip:03760003@ito258258.site --registrar=sip:ito258258.site --realm=asterisk --username=03760003 --password=*** sip:05018086649@ito258258.site {"level":"INFO"}
[2025-06-03T09:39:25.647Z] INFO  [PID:490961] ✅ SIPプロセス開始成功: PID=490985, CallID=sip-1748943565640-378 {"level":"INFO"}
2025-06-03T09:39:25: [36m[2025-06-03T09:39:25.647Z] INFO  [PID:490961][0m ✅ SIPプロセス開始成功: PID=490985, CallID=sip-1748943565640-378 {"level":"INFO"}
2025-06-03T09:39:25: 09:39:25.652           pjsua_core.c !.pjsua version 2.14 for Linux-6.8.0.51/x86_64/glibc-2.39 initialized
2025-06-03T09:39:25: 09:39:25.653            pjsua_app.c  .Turning sound device -99 -99 ON
2025-06-03T09:39:25: 09:39:25.653                 main.c  Ready: Success
2025-06-03T09:39:25: 09:39:25.654            pjsua_app.c  .......Call 0 state changed to CALLING
2025-06-03T09:39:25: >>>>
2025-06-03T09:39:25: Account list:
2025-06-03T09:39:25:   [ 0] <sip:146.190.83.205:5060>: does not register
2025-06-03T09:39:25:        Online status: Online
2025-06-03T09:39:25:  *[ 1] sip:03760003@ito258258.site: 100/In Progress (expires=0)
2025-06-03T09:39:25:        Online status: Online
2025-06-03T09:39:25: Buddy list:
2025-06-03T09:39:25:  [ 1] <?>  sip:05018086649@ito258258.site
2025-06-03T09:39:25: 
2025-06-03T09:39:25: +=============================================================================+
2025-06-03T09:39:25: |       Call Commands:         |   Buddy, IM & Presence:  |     Account:      |
2025-06-03T09:39:25: |                              |                          |                   |
2025-06-03T09:39:25: |  m  Make new call            | +b  Add new buddy        | +a  Add new accnt.|
2025-06-03T09:39:25: |  M  Make multiple calls      | -b  Delete buddy         | -a  Delete accnt. |
2025-06-03T09:39:25: |  a  Answer call              |  i  Send IM              | !a  Modify accnt. |
2025-06-03T09:39:25: |  h  Hangup call  (ha=all)    |  s  Subscribe presence   | rr  (Re-)register |
2025-06-03T09:39:25: |  H  Hold call                |  u  Unsubscribe presence | ru  Unregister    |
2025-06-03T09:39:25: |  v  re-inVite (release hold) |  t  Toggle online status |  >  Cycle next ac.|
2025-06-03T09:39:25: |  U  send UPDATE              |  T  Set online status    |  <  Cycle prev ac.|
2025-06-03T09:39:25: | ],[ Select next/prev call    +--------------------------+-------------------+
2025-06-03T09:39:25: |  x  Xfer call                |      Media Commands:     |  Status & Config: |
2025-06-03T09:39:25: |  X  Xfer with Replaces       |                          |                   |
2025-06-03T09:39:25: |  #  Send RFC 2833 DTMF       | cl  List ports           |  d  Dump status   |
2025-06-03T09:39:25: |  *  Send DTMF with INFO      | cc  Connect port         | dd  Dump detailed |
2025-06-03T09:39:25: | dq  Dump curr. call quality  | cd  Disconnect port      | dc  Dump config   |
2025-06-03T09:39:25: |                              |  V  Adjust audio Volume  |  f  Save config   |
2025-06-03T09:39:25: |  S  Send arbitrary REQUEST   | Cp  Codec priorities     |                   |
2025-06-03T09:39:25: +-----------------------------------------------------------------------------+
2025-06-03T09:39:25: |  q  QUIT      L  ReLoad       I  IP change     n  detect NAT type           |
2025-06-03T09:39:25: |  sleep MS     echo [0|1|txt]                                                |
2025-06-03T09:39:25: +=============================================================================+
2025-06-03T09:39:25: You have 1 active call
2025-06-03T09:39:25: Current call id=0 to sip:05018086649@ito258258.site [CALLING]
[2025-06-03T09:39:27.819Z] INFO  [PID:490961] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:39:27: [36m[2025-06-03T09:39:27.819Z] INFO  [PID:490961][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:39:27: SQL実行成功: 結果行数=1
2025-06-03T09:39:27: SQL実行: 
2025-06-03T09:39:27:       SELECT 
2025-06-03T09:39:27:         COUNT(*) as total,
2025-06-03T09:39:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:39:27: SQL実行成功: 結果行数=1
2025-06-03T09:39:27: SQL実行: 
2025-06-03T09:39:27:       SELECT 
2025-06-03T09:39:27:         COUNT(*) as total_calls,
2025-06-03T09:39:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:39:27.826Z] INFO  [PID:490961] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:39:27: SQL実行成功: 結果行数=1
2025-06-03T09:39:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:39:27: [36m[2025-06-03T09:39:27.826Z] INFO  [PID:490961][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:39:32.828Z] INFO  [PID:490961] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:32: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:39:32: [36m[2025-06-03T09:39:32.828Z] INFO  [PID:490961][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:32: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:39:32: SQL実行成功: 結果行数=1
2025-06-03T09:39:32: SQL実行: 
2025-06-03T09:39:32:       SELECT 
2025-06-03T09:39:32:         COUNT(*) as total,
2025-06-03T09:39:32:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:39:32: SQL実行成功: 結果行数=1
[2025-06-03T09:39:32.833Z] INFO  [PID:490961] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:39:32: SQL実行: 
2025-06-03T09:39:32:       SELECT 
2025-06-03T09:39:32:         COUNT(*) as total_calls,
2025-06-03T09:39:32:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:39:32: SQL実行成功: 結果行数=1
2025-06-03T09:39:32: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:39:32: [36m[2025-06-03T09:39:32.833Z] INFO  [PID:490961][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:39:35: SQL実行: 
2025-06-03T09:39:35:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:39:35:                ci.number as ca... 
2025-06-03T09:39:35: SQL実行成功: 結果行数=1
[2025-06-03T09:39:35.647Z] INFO  [PID:490961] 📞 SIP接続成功と判定: sip-1748943565640-378 {"level":"INFO"}
[2025-06-03T09:39:35.648Z] INFO  [PID:490961] ✅ 音声付き自動発信成功: 05018086649 → CallID: sip-1748943565640-378, Provider: sip, Audio: 1件 {"level":"INFO"}
2025-06-03T09:39:35: [36m[2025-06-03T09:39:35.647Z] INFO  [PID:490961][0m 📞 SIP接続成功と判定: sip-1748943565640-378 {"level":"INFO"}
2025-06-03T09:39:35: [36m[2025-06-03T09:39:35.648Z] INFO  [PID:490961][0m ✅ 音声付き自動発信成功: 05018086649 → CallID: sip-1748943565640-378, Provider: sip, Audio: 1件 {"level":"INFO"}
2025-06-03T09:39:35: SQL実行: 
2025-06-03T09:39:35:         INSERT INTO call_logs 
2025-06-03T09:39:35:         (contact_id, campaign_id, caller_id_id, call_id, phone_numbe... パラメータ数: 8
[2025-06-03T09:39:35.653Z] INFO  [PID:490961] 🎯 音声付き発信診断完了: 05018086649 (処理時間: 10027ms, 音声: 1件) {"level":"INFO"}
2025-06-03T09:39:35: SQL実行成功: 結果行数=不明
2025-06-03T09:39:35: [36m[2025-06-03T09:39:35.653Z] INFO  [PID:490961][0m 🎯 音声付き発信診断完了: 05018086649 (処理時間: 10027ms, 音声: 1件) {"level":"INFO"}
[2025-06-03T09:39:37.654Z] INFO  [PID:490961] 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
2025-06-03T09:39:37: [36m[2025-06-03T09:39:37.654Z] INFO  [PID:490961][0m 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
[2025-06-03T09:39:37.828Z] INFO  [PID:490961] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:37: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:39:37: [36m[2025-06-03T09:39:37.828Z] INFO  [PID:490961][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:37: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:39:37: SQL実行成功: 結果行数=1
2025-06-03T09:39:37: SQL実行: 
2025-06-03T09:39:37:       SELECT 
2025-06-03T09:39:37:         COUNT(*) as total,
2025-06-03T09:39:37:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:39:37: SQL実行成功: 結果行数=1
2025-06-03T09:39:37: SQL実行: 
2025-06-03T09:39:37:       SELECT 
2025-06-03T09:39:37:         COUNT(*) as total_calls,
2025-06-03T09:39:37:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:39:37.833Z] INFO  [PID:490961] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:39:37: SQL実行成功: 結果行数=1
2025-06-03T09:39:37: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:39:37: [36m[2025-06-03T09:39:37.833Z] INFO  [PID:490961][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:39:40.614Z] WARN  [PID:490961] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T09:39:40.615Z] ERROR [PID:490961] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
[2025-06-03T09:39:40.615Z] ERROR [PID:490961] Asterisk接続の最大リトライ回数に達しました。Asterisk機能は無効になります。 {"level":"ERROR"}
2025-06-03T09:39:40: [33m[2025-06-03T09:39:40.614Z] WARN  [PID:490961][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
2025-06-03T09:39:40: [31m[2025-06-03T09:39:40.615Z] ERROR [PID:490961][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T09:39:40: [31m[2025-06-03T09:39:40.615Z] ERROR [PID:490961][0m Asterisk接続の最大リトライ回数に達しました。Asterisk機能は無効になります。 {"level":"ERROR"}
2025-06-03T09:39:40: SQL実行: 
2025-06-03T09:39:40:           SELECT id, phone, name, company, attempt_count
2025-06-03T09:39:40:           FROM contacts 
2025-06-03T09:39:40:           WHERE c... パラメータ数: 1
2025-06-03T09:39:40: SQL実行成功: 結果行数=0
2025-06-03T09:39:40: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T09:39:40: SQL実行成功: 結果行数=1
[2025-06-03T09:39:42.820Z] INFO  [PID:490961] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:42: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:39:42: [36m[2025-06-03T09:39:42.820Z] INFO  [PID:490961][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:42: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:39:42: SQL実行成功: 結果行数=1
2025-06-03T09:39:42: SQL実行: 
2025-06-03T09:39:42:       SELECT 
2025-06-03T09:39:42:         COUNT(*) as total,
2025-06-03T09:39:42:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:39:42: SQL実行成功: 結果行数=1
[2025-06-03T09:39:42.825Z] INFO  [PID:490961] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:39:42: SQL実行: 
2025-06-03T09:39:42:       SELECT 
2025-06-03T09:39:42:         COUNT(*) as total_calls,
2025-06-03T09:39:42:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:39:42: SQL実行成功: 結果行数=1
2025-06-03T09:39:42: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:39:42: [36m[2025-06-03T09:39:42.825Z] INFO  [PID:490961][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:39:45: SQL実行: 
2025-06-03T09:39:45:           SELECT id, phone, name, company, attempt_count
2025-06-03T09:39:45:           FROM contacts 
2025-06-03T09:39:45:           WHERE c... パラメータ数: 1
2025-06-03T09:39:45: SQL実行成功: 結果行数=0
2025-06-03T09:39:45: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T09:39:45: SQL実行成功: 結果行数=1
[2025-06-03T09:39:47.822Z] INFO  [PID:490961] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:47: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:39:47: [36m[2025-06-03T09:39:47.822Z] INFO  [PID:490961][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:47: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:39:47: SQL実行成功: 結果行数=1
2025-06-03T09:39:47: SQL実行: 
2025-06-03T09:39:47:       SELECT 
2025-06-03T09:39:47:         COUNT(*) as total,
2025-06-03T09:39:47:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-03T09:39:47.827Z] INFO  [PID:490961] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:39:47: SQL実行成功: 結果行数=1
2025-06-03T09:39:47: SQL実行: 
2025-06-03T09:39:47:       SELECT 
2025-06-03T09:39:47:         COUNT(*) as total_calls,
2025-06-03T09:39:47:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:39:47: SQL実行成功: 結果行数=1
2025-06-03T09:39:47: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:39:47: [36m[2025-06-03T09:39:47.827Z] INFO  [PID:490961][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:39:50: SQL実行: SELECT 1... 
2025-06-03T09:39:50: SQL実行: 
2025-06-03T09:39:50:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:39:50:                ci.number as ca... 
2025-06-03T09:39:50: SQL実行成功: 結果行数=1
2025-06-03T09:39:50: SQL実行成功: 結果行数=1
2025-06-03T09:39:50: SQL実行: 
2025-06-03T09:39:50:           SELECT id, phone, name, company, attempt_count
2025-06-03T09:39:50:           FROM contacts 
2025-06-03T09:39:50:           WHERE c... パラメータ数: 1
2025-06-03T09:39:50: SQL実行成功: 結果行数=0
2025-06-03T09:39:50: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T09:39:50: SQL実行成功: 結果行数=1
[2025-06-03T09:39:52.825Z] INFO  [PID:490961] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:52: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:39:52: [36m[2025-06-03T09:39:52.825Z] INFO  [PID:490961][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:52: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:39:52: SQL実行成功: 結果行数=1
2025-06-03T09:39:52: SQL実行: 
2025-06-03T09:39:52:       SELECT 
2025-06-03T09:39:52:         COUNT(*) as total,
2025-06-03T09:39:52:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:39:52: SQL実行成功: 結果行数=1
2025-06-03T09:39:52: SQL実行: 
2025-06-03T09:39:52:       SELECT 
2025-06-03T09:39:52:         COUNT(*) as total_calls,
2025-06-03T09:39:52:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:39:52.831Z] INFO  [PID:490961] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:39:52: SQL実行成功: 結果行数=1
2025-06-03T09:39:52: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:39:52: [36m[2025-06-03T09:39:52.831Z] INFO  [PID:490961][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:39:55: SQL実行: 
2025-06-03T09:39:55:           SELECT id, phone, name, company, attempt_count
2025-06-03T09:39:55:           FROM contacts 
2025-06-03T09:39:55:           WHERE c... パラメータ数: 1
2025-06-03T09:39:55: SQL実行成功: 結果行数=0
2025-06-03T09:39:55: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T09:39:55: SQL実行成功: 結果行数=1
[2025-06-03T09:39:57.825Z] INFO  [PID:490961] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:57: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:39:57: [36m[2025-06-03T09:39:57.825Z] INFO  [PID:490961][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:39:57: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:39:57: SQL実行成功: 結果行数=1
2025-06-03T09:39:57: SQL実行: 
2025-06-03T09:39:57:       SELECT 
2025-06-03T09:39:57:         COUNT(*) as total,
2025-06-03T09:39:57:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:39:57: SQL実行成功: 結果行数=1
2025-06-03T09:39:57: SQL実行: 
2025-06-03T09:39:57:       SELECT 
2025-06-03T09:39:57:         COUNT(*) as total_calls,
2025-06-03T09:39:57:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:39:57.830Z] INFO  [PID:490961] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:39:57: SQL実行成功: 結果行数=1
2025-06-03T09:39:57: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:39:57: [36m[2025-06-03T09:39:57.830Z] INFO  [PID:490961][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:40:00: SQL実行: 
2025-06-03T09:40:00:           SELECT id, phone, name, company, attempt_count
2025-06-03T09:40:00:           FROM contacts 
2025-06-03T09:40:00:           WHERE c... パラメータ数: 1
2025-06-03T09:40:00: SQL実行成功: 結果行数=0
2025-06-03T09:40:00: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T09:40:00: SQL実行成功: 結果行数=1
[2025-06-03T09:40:02.822Z] INFO  [PID:490961] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:40:02: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:40:02: [36m[2025-06-03T09:40:02.822Z] INFO  [PID:490961][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:40:02: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:40:02: SQL実行成功: 結果行数=1
2025-06-03T09:40:02: SQL実行: 
2025-06-03T09:40:02:       SELECT 
2025-06-03T09:40:02:         COUNT(*) as total,
2025-06-03T09:40:02:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:40:02: SQL実行成功: 結果行数=1
[2025-06-03T09:40:02.829Z] INFO  [PID:490961] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:40:02: SQL実行: 
2025-06-03T09:40:02:       SELECT 
2025-06-03T09:40:02:         COUNT(*) as total_calls,
2025-06-03T09:40:02:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:40:02: SQL実行成功: 結果行数=1
2025-06-03T09:40:02: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:40:02: [36m[2025-06-03T09:40:02.829Z] INFO  [PID:490961][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:40:05: SQL実行: 
2025-06-03T09:40:05:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:40:05:                ci.number as ca... 
2025-06-03T09:40:05: SQL実行成功: 結果行数=1
2025-06-03T09:40:05: SQL実行: 
2025-06-03T09:40:05:           SELECT id, phone, name, company, attempt_count
2025-06-03T09:40:05:           FROM contacts 
2025-06-03T09:40:05:           WHERE c... パラメータ数: 1
2025-06-03T09:40:05: SQL実行成功: 結果行数=0
2025-06-03T09:40:05: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T09:40:05: SQL実行成功: 結果行数=1
[2025-06-03T09:40:05.648Z] INFO  [PID:490961] 📞 通話終了処理開始: sip-1748943565640-378 {"level":"INFO"}
2025-06-03T09:40:05: [36m[2025-06-03T09:40:05.648Z] INFO  [PID:490961][0m 📞 通話終了処理開始: sip-1748943565640-378 {"level":"INFO"}
[2025-06-03T09:40:05.649Z] INFO  [PID:490961] 通話終了イベント処理: sip-1748943565640-378, status=ANSWERED, keypress=none {"level":"INFO"}
2025-06-03T09:40:05: [36m[2025-06-03T09:40:05.649Z] INFO  [PID:490961][0m 通話終了イベント処理: sip-1748943565640-378, status=ANSWERED, keypress=none {"level":"INFO"}
2025-06-03T09:40:05: SQL実行: 
2025-06-03T09:40:05:         UPDATE call_logs
2025-06-03T09:40:05:         SET status = ?, end_time = NOW(), duration = ?
2025-06-03T09:40:05:         WHERE call_... パラメータ数: 3
[2025-06-03T09:40:05.651Z] INFO  [PID:490961] SIPプロセス終了 [sip-1748943565640-378]: code=null, signal=SIGTERM, connected=true {"level":"INFO"}
2025-06-03T09:40:05: [36m[2025-06-03T09:40:05.651Z] INFO  [PID:490961][0m SIPプロセス終了 [sip-1748943565640-378]: code=null, signal=SIGTERM, connected=true {"level":"INFO"}
2025-06-03T09:40:05: SQL実行成功: 結果行数=不明
[2025-06-03T09:40:07.823Z] INFO  [PID:490961] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:40:07: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:40:07: [36m[2025-06-03T09:40:07.823Z] INFO  [PID:490961][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:40:07: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:40:07: SQL実行成功: 結果行数=1
2025-06-03T09:40:07: SQL実行: 
2025-06-03T09:40:07:       SELECT 
2025-06-03T09:40:07:         COUNT(*) as total,
2025-06-03T09:40:07:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:40:07: SQL実行成功: 結果行数=1
2025-06-03T09:40:07: SQL実行: 
2025-06-03T09:40:07:       SELECT 
2025-06-03T09:40:07:         COUNT(*) as total_calls,
2025-06-03T09:40:07:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:40:07.829Z] INFO  [PID:490961] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:40:07: SQL実行成功: 結果行数=1
2025-06-03T09:40:07: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:40:07: [36m[2025-06-03T09:40:07.829Z] INFO  [PID:490961][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:40:10: SQL実行: 
2025-06-03T09:40:10:           SELECT id, phone, name, company, attempt_count
2025-06-03T09:40:10:           FROM contacts 
2025-06-03T09:40:10:           WHERE c... パラメータ数: 1
2025-06-03T09:40:10: SQL実行成功: 結果行数=0
2025-06-03T09:40:10: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T09:40:10: SQL実行成功: 結果行数=1
2025-06-03T09:40:10: Error: kill ESRCH
2025-06-03T09:40:10:     at process.kill (node:internal/process/per_thread:232:13)
2025-06-03T09:40:10:     at Timeout._onTimeout (/var/www/autodialer/backend/src/services/sipService.js:656:27)
2025-06-03T09:40:10:     at listOnTimeout (node:internal/timers:569:17)
2025-06-03T09:40:10:     at process.processTimers (node:internal/timers:512:7) {
2025-06-03T09:40:10:   errno: -3,
2025-06-03T09:40:10:   code: 'ESRCH',
2025-06-03T09:40:10:   syscall: 'kill'
2025-06-03T09:40:10: }
[2025-06-03T09:40:10.654Z] ERROR [PID:490961] 詳細エラー情報 {"message":"kill ESRCH","stack":"Error: kill ESRCH\n    at process.kill (node:internal/process/per_thread:232:13)\n    at Timeout._onTimeout (/var/www/autodialer/backend/src/services/sipService.js:656:27)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","name":"Error","code":"ESRCH","context":{"type":"uncaughtException"},"timestamp":"2025-06-03T09:40:10.654Z","level":"ERROR"}
2025-06-03T09:40:10: [31m[2025-06-03T09:40:10.654Z] ERROR [PID:490961][0m 詳細エラー情報 {"message":"kill ESRCH","stack":"Error: kill ESRCH\n    at process.kill (node:internal/process/per_thread:232:13)\n    at Timeout._onTimeout (/var/www/autodialer/backend/src/services/sipService.js:656:27)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","name":"Error","code":"ESRCH","context":{"type":"uncaughtException"},"timestamp":"2025-06-03T09:40:10.654Z","level":"ERROR"}
[2025-06-03T09:40:10.654Z] INFO  [PID:490961] アプリケーション終了 {"level":"INFO"}
2025-06-03T09:40:10: [36m[2025-06-03T09:40:10.654Z] INFO  [PID:490961][0m アプリケーション終了 {"level":"INFO"}
2025-06-03T09:40:15: [36m[2025-06-03T09:40:15.973Z] INFO  [PID:490997][0m Logger初期化完了 {"logLevel":"info","enableConsole":true,"enableFile":true,"logDir":"/var/www/autodialer/backend/logs","level":"INFO"}
[2025-06-03T09:40:15.973Z] INFO  [PID:490997] Logger初期化完了 {"logLevel":"info","enableConsole":true,"enableFile":true,"logDir":"/var/www/autodialer/backend/logs","level":"INFO"}
2025-06-03T09:40:16: 🚀 ルーター登録開始...
[2025-06-03T09:40:16.058Z] INFO  [PID:490997] 🚀 DialerService初期化: 自動連動システム=有効 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.058Z] INFO  [PID:490997][0m 🚀 DialerService初期化: 自動連動システム=有効 {"level":"INFO"}
[2025-06-03T09:40:16.059Z] INFO  [PID:490997] 🎯 自動システム開始試行 1/5 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.059Z] INFO  [PID:490997][0m 🎯 自動システム開始試行 1/5 {"level":"INFO"}
[2025-06-03T09:40:16.059Z] INFO  [PID:490997] 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.059Z] INFO  [PID:490997][0m 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-03T09:40:16: プールが存在しないため再初期化します
2025-06-03T09:40:16: データベース接続試行 1/5...
2025-06-03T09:40:16: データベース接続設定: {
2025-06-03T09:40:16:   host: '127.0.0.1',
2025-06-03T09:40:16:   user: 'autodialer',
2025-06-03T09:40:16:   database: 'autodialer',
2025-06-03T09:40:16:   password: '***'
2025-06-03T09:40:16: }
[2025-06-03T09:40:16.081Z] INFO  [PID:490997] AsteriskService初期化: mockMode=false, timeout=15000ms {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.081Z] INFO  [PID:490997][0m AsteriskService初期化: mockMode=false, timeout=15000ms {"level":"INFO"}
[2025-06-03T09:40:16.084Z] INFO  [PID:490997] SipService初期化: mockMode=false, sipcmdPath=/usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.084Z] INFO  [PID:490997][0m SipService初期化: mockMode=false, sipcmdPath=/usr/local/bin/sipcmd-working {"level":"INFO"}
[2025-06-03T09:40:16.085Z] INFO  [PID:490997] 💗 SIPヘルスチェック開始: 60000ms間隔 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.085Z] INFO  [PID:490997][0m 💗 SIPヘルスチェック開始: 60000ms間隔 {"level":"INFO"}
[2025-06-03T09:40:16.085Z] INFO  [PID:490997] コールサービスを初期化しました。デフォルトプロバイダ: sip, フォールバック: 無効, モックモード: 無効 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.085Z] INFO  [PID:490997][0m コールサービスを初期化しました。デフォルトプロバイダ: sip, フォールバック: 無効, モックモード: 無効 {"level":"INFO"}
2025-06-03T09:40:16: ✅ system router 登録成功
2025-06-03T09:40:16: ✅ contacts router 登録成功
2025-06-03T09:40:16: ✅ campaigns router 登録成功
2025-06-03T09:40:16: ✅ caller-ids router 登録成功
2025-06-03T09:40:16: ✅ calls router 登録成功
2025-06-03T09:40:16: ✅ audio router 登録成功
2025-06-03T09:40:16: ✅ ivr router 登録成功
2025-06-03T09:40:16: 📊 ルーター登録状況: {
2025-06-03T09:40:16:   system: true,
2025-06-03T09:40:16:   contacts: true,
2025-06-03T09:40:16:   campaigns: true,
2025-06-03T09:40:16:   callerIds: true,
2025-06-03T09:40:16:   calls: true,
2025-06-03T09:40:16:   audio: true,
2025-06-03T09:40:16:   ivr: true
2025-06-03T09:40:16: }
2025-06-03T09:40:16: 🚀 サーバー初期化開始...
2025-06-03T09:40:16: SQL実行: SELECT 1... 
[2025-06-03T09:40:16.170Z] INFO  [PID:490997] 音声ファイルディレクトリを初期化しました: /var/www/autodialer/backend/audio-files {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.170Z] INFO  [PID:490997][0m 音声ファイルディレクトリを初期化しました: /var/www/autodialer/backend/audio-files {"level":"INFO"}
[2025-06-03T09:40:16.171Z] INFO  [PID:490997] IVRスクリプトディレクトリを初期化しました: /var/www/autodialer/backend/ivr-scripts {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.171Z] INFO  [PID:490997][0m IVRスクリプトディレクトリを初期化しました: /var/www/autodialer/backend/ivr-scripts {"level":"INFO"}
2025-06-03T09:40:16: SQL実行成功: 結果行数=1
2025-06-03T09:40:16: ✅ データベース接続成功
2025-06-03T09:40:16: 🔧 SIPサービス初期化中...
[2025-06-03T09:40:16.206Z] INFO  [PID:490997] 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.206Z] INFO  [PID:490997][0m 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
[2025-06-03T09:40:16.208Z] INFO  [PID:490997] ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.208Z] INFO  [PID:490997][0m ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T09:40:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:40:16.211Z] INFO  [PID:490997] データベース接続プールを作成しました {"level":"INFO"}
2025-06-03T09:40:16: データベース接続テスト成功: {
2025-06-03T09:40:16:   test: '1',
2025-06-03T09:40:16:   current_user_name: 'autodialer@localhost',
2025-06-03T09:40:16:   current_db: 'autodialer'
2025-06-03T09:40:16: }
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.211Z] INFO  [PID:490997][0m データベース接続プールを作成しました {"level":"INFO"}
2025-06-03T09:40:16: SQL実行: SELECT 1 as test... 
[2025-06-03T09:40:16.212Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:40:16: SQL実行成功: 結果行数=1
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.212Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:40:16.213Z] INFO  [PID:490997] 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.213Z] INFO  [PID:490997][0m 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
[2025-06-03T09:40:16.213Z] INFO  [PID:490997] 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.213Z] INFO  [PID:490997][0m 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-03T09:40:16: SQL実行: 
2025-06-03T09:40:16:         SELECT 
2025-06-03T09:40:16:           cc.id,
2025-06-03T09:40:16:           cc.caller_id_id,
2025-06-03T09:40:16:           cc.username,
2025-06-03T09:40:16:           cc.pas... 
[2025-06-03T09:40:16.215Z] INFO  [PID:490997] ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-03T09:40:16: SQL実行成功: 結果行数=1
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.215Z] INFO  [PID:490997][0m ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-03T09:40:16: SQL実行: 
2025-06-03T09:40:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:40:16:                ci.number as ca... 
[2025-06-03T09:40:16.219Z] INFO  [PID:490997] 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
[2025-06-03T09:40:16.219Z] INFO  [PID:490997] ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
[2025-06-03T09:40:16.220Z] INFO  [PID:490997] ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
[2025-06-03T09:40:16.220Z] INFO  [PID:490997] 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T09:40:16.220Z] INFO  [PID:490997] 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
[2025-06-03T09:40:16.220Z] INFO  [PID:490997] ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
[2025-06-03T09:40:16.220Z] INFO  [PID:490997] 📊 SIPアカウント概要: {"level":"INFO"}
[2025-06-03T09:40:16.220Z] INFO  [PID:490997]   - 総アカウント数: 22 {"level":"INFO"}
[2025-06-03T09:40:16.220Z] INFO  [PID:490997]   - 利用可能: 22 {"level":"INFO"}
[2025-06-03T09:40:16.221Z] INFO  [PID:490997]   - 使用中: 0 {"level":"INFO"}
[2025-06-03T09:40:16.221Z] INFO  [PID:490997]   - エラー: 0 {"level":"INFO"}
[2025-06-03T09:40:16.221Z] INFO  [PID:490997]   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T09:40:16.221Z] INFO  [PID:490997]   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
[2025-06-03T09:40:16.222Z] INFO  [PID:490997] コールサービスの初期化を開始します {"level":"INFO"}
[2025-06-03T09:40:16.223Z] INFO  [PID:490997] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T09:40:16.223Z] INFO  [PID:490997] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:40:16: SQL実行成功: 結果行数=22
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.219Z] INFO  [PID:490997][0m 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.219Z] INFO  [PID:490997][0m ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.220Z] INFO  [PID:490997][0m ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.220Z] INFO  [PID:490997][0m 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.220Z] INFO  [PID:490997][0m 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.220Z] INFO  [PID:490997][0m ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.220Z] INFO  [PID:490997][0m 📊 SIPアカウント概要: {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.220Z] INFO  [PID:490997][0m   - 総アカウント数: 22 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.220Z] INFO  [PID:490997][0m   - 利用可能: 22 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.221Z] INFO  [PID:490997][0m   - 使用中: 0 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.221Z] INFO  [PID:490997][0m   - エラー: 0 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.221Z] INFO  [PID:490997][0m   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.221Z] INFO  [PID:490997][0m   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T09:40:16: 📞 SIP初期化結果: true
2025-06-03T09:40:16: 📞 SIPアカウント数: 22
2025-06-03T09:40:16: 🔧 CallService初期化中...
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.222Z] INFO  [PID:490997][0m コールサービスの初期化を開始します {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.223Z] INFO  [PID:490997][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.223Z] INFO  [PID:490997][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
[2025-06-03T09:40:16.231Z] INFO  [PID:490997] 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
[2025-06-03T09:40:16.232Z] INFO  [PID:490997] 📋 初期キャンペーンロード: 1件検出 {"level":"INFO"}
[2025-06-03T09:40:16.233Z] INFO  [PID:490997] ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.231Z] INFO  [PID:490997][0m 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
[2025-06-03T09:40:16.233Z] INFO  [PID:490997] 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
[2025-06-03T09:40:16.233Z] INFO  [PID:490997] 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
2025-06-03T09:40:16: SQL実行成功: 結果行数=1
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.232Z] INFO  [PID:490997][0m 📋 初期キャンペーンロード: 1件検出 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.233Z] INFO  [PID:490997][0m ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.233Z] INFO  [PID:490997][0m 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.233Z] INFO  [PID:490997][0m 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
[2025-06-03T09:40:16.233Z] INFO  [PID:490997] 🚀 自動発信システム開始: 8000ms間隔 {"level":"INFO"}
[2025-06-03T09:40:16.233Z] INFO  [PID:490997] ✅ 完全自動連動システム起動完了 {"level":"INFO"}
[2025-06-03T09:40:16.233Z] INFO  [PID:490997] ✅ DialerService自動システム起動完了 - 安定版 {"level":"INFO"}
[2025-06-03T09:40:16.234Z] INFO  [PID:490997] ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.233Z] INFO  [PID:490997][0m 🚀 自動発信システム開始: 8000ms間隔 {"level":"INFO"}
[2025-06-03T09:40:16.235Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:40:16.235Z] INFO  [PID:490997] 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
[2025-06-03T09:40:16.235Z] INFO  [PID:490997] 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.233Z] INFO  [PID:490997][0m ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.233Z] INFO  [PID:490997][0m ✅ DialerService自動システム起動完了 - 安定版 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.234Z] INFO  [PID:490997][0m ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T09:40:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
2025-06-03T09:40:16: SQL実行成功: 結果行数=1
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.235Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.235Z] INFO  [PID:490997][0m 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.235Z] INFO  [PID:490997][0m 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-03T09:40:16: SQL実行: 
2025-06-03T09:40:16:         SELECT 
2025-06-03T09:40:16:           cc.id,
2025-06-03T09:40:16:           cc.caller_id_id,
2025-06-03T09:40:16:           cc.username,
2025-06-03T09:40:16:           cc.pas... 
2025-06-03T09:40:16: SQL実行成功: 結果行数=22
[2025-06-03T09:40:16.238Z] INFO  [PID:490997] 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
[2025-06-03T09:40:16.239Z] INFO  [PID:490997] ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
[2025-06-03T09:40:16.239Z] INFO  [PID:490997] ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
[2025-06-03T09:40:16.239Z] INFO  [PID:490997] 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T09:40:16.239Z] INFO  [PID:490997] 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
[2025-06-03T09:40:16.239Z] INFO  [PID:490997] ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
[2025-06-03T09:40:16.239Z] INFO  [PID:490997] 📊 SIPアカウント概要: {"level":"INFO"}
[2025-06-03T09:40:16.239Z] INFO  [PID:490997]   - 総アカウント数: 22 {"level":"INFO"}
[2025-06-03T09:40:16.239Z] INFO  [PID:490997]   - 利用可能: 22 {"level":"INFO"}
[2025-06-03T09:40:16.239Z] INFO  [PID:490997]   - 使用中: 0 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.238Z] INFO  [PID:490997][0m 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.239Z] INFO  [PID:490997][0m ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.239Z] INFO  [PID:490997][0m ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.239Z] INFO  [PID:490997][0m 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.239Z] INFO  [PID:490997][0m 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.239Z] INFO  [PID:490997][0m ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.239Z] INFO  [PID:490997][0m 📊 SIPアカウント概要: {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.239Z] INFO  [PID:490997][0m   - 総アカウント数: 22 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.239Z] INFO  [PID:490997][0m   - 利用可能: 22 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.239Z] INFO  [PID:490997][0m   - 使用中: 0 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.239Z] INFO  [PID:490997][0m   - エラー: 0 {"level":"INFO"}
[2025-06-03T09:40:16.239Z] INFO  [PID:490997]   - エラー: 0 {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.240Z] INFO  [PID:490997][0m   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T09:40:16.240Z] INFO  [PID:490997]   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T09:40:16.240Z] INFO  [PID:490997]   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T09:40:16: [36m[2025-06-03T09:40:16.240Z] INFO  [PID:490997][0m   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
[2025-06-03T09:40:31.231Z] WARN  [PID:490997] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
2025-06-03T09:40:31: [33m[2025-06-03T09:40:31.231Z] WARN  [PID:490997][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T09:40:31.232Z] ERROR [PID:490997] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T09:40:31: [31m[2025-06-03T09:40:31.232Z] ERROR [PID:490997][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
[2025-06-03T09:40:31.232Z] WARN  [PID:490997] Asterisk接続リトライ 1/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T09:40:31: [33m[2025-06-03T09:40:31.232Z] WARN  [PID:490997][0m Asterisk接続リトライ 1/3 を5秒後に実行 {"level":"WARN"}
[2025-06-03T09:40:31.233Z] INFO  [PID:490997] コールサービスの初期化が完了しました {"level":"INFO"}
2025-06-03T09:40:31: [36m[2025-06-03T09:40:31.233Z] INFO  [PID:490997][0m コールサービスの初期化が完了しました {"level":"INFO"}
2025-06-03T09:40:31: 📞 CallService初期化結果: true
2025-06-03T09:40:31: 🔧 DialerService手動初期化中...
2025-06-03T09:40:31: ✅ DialerService手動初期化完了
2025-06-03T09:40:31: 🔧 DialerService強制自動開始...
2025-06-03T09:40:31: ✅ サーバーが起動しました: http://0.0.0.0:5000
2025-06-03T09:40:31: 🎯 自動発信システム準備完了
2025-06-03T09:40:31: 🔗 利用可能なエンドポイント:
2025-06-03T09:40:31:   - GET  /health
2025-06-03T09:40:31:   - GET  /api/campaigns
2025-06-03T09:40:31:   - POST /api/campaigns/:id/start
2025-06-03T09:40:31:   - POST /api/calls/test
2025-06-03T09:40:31: SQL実行: 
2025-06-03T09:40:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:40:31:                ci.number as ca... 
[2025-06-03T09:40:31.242Z] INFO  [PID:490997] 🛑 自動発信システム停止 {"level":"INFO"}
[2025-06-03T09:40:31.242Z] INFO  [PID:490997] 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-03T09:40:31: SQL実行成功: 結果行数=1
2025-06-03T09:40:31: [36m[2025-06-03T09:40:31.242Z] INFO  [PID:490997][0m 🛑 自動発信システム停止 {"level":"INFO"}
2025-06-03T09:40:31: [36m[2025-06-03T09:40:31.242Z] INFO  [PID:490997][0m 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-03T09:40:32: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
[2025-06-03T09:40:32.870Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:40:32: [36m[2025-06-03T09:40:32.870Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:40:32: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:40:32: SQL実行成功: 結果行数=1
2025-06-03T09:40:32: SQL実行: 
2025-06-03T09:40:32:       SELECT 
2025-06-03T09:40:32:         COUNT(*) as total,
2025-06-03T09:40:32:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:40:32: SQL実行成功: 結果行数=1
2025-06-03T09:40:32: SQL実行: 
2025-06-03T09:40:32:       SELECT 
2025-06-03T09:40:32:         COUNT(*) as total_calls,
2025-06-03T09:40:32:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:40:32: SQL実行成功: 結果行数=1
[2025-06-03T09:40:32.879Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:40:32: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:40:32: [36m[2025-06-03T09:40:32.879Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:40:36.234Z] INFO  [PID:490997] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T09:40:36.234Z] INFO  [PID:490997] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:40:36: [36m[2025-06-03T09:40:36.234Z] INFO  [PID:490997][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T09:40:36: [36m[2025-06-03T09:40:36.234Z] INFO  [PID:490997][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:40:36: SQL実行: 
2025-06-03T09:40:36:             SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:40:36:                    ci.numb... 
2025-06-03T09:40:36: SQL実行成功: 結果行数=1
2025-06-03T09:40:36: 📊 アクティブキャンペーン検出: 1件
2025-06-03T09:40:36: 🔄 アクティブキャンペーンを自動登録...
2025-06-03T09:40:37: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
[2025-06-03T09:40:37.814Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:40:37: [36m[2025-06-03T09:40:37.814Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:40:37: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:40:37: SQL実行成功: 結果行数=1
2025-06-03T09:40:37: SQL実行: 
2025-06-03T09:40:37:       SELECT 
2025-06-03T09:40:37:         COUNT(*) as total,
2025-06-03T09:40:37:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:40:37: SQL実行成功: 結果行数=1
2025-06-03T09:40:37: SQL実行: 
2025-06-03T09:40:37:       SELECT 
2025-06-03T09:40:37:         COUNT(*) as total_calls,
2025-06-03T09:40:37:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:40:37: SQL実行成功: 結果行数=1
[2025-06-03T09:40:37.819Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:40:37: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:40:37: [36m[2025-06-03T09:40:37.819Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:40:41.235Z] INFO  [PID:490997] 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-03T09:40:41: [36m[2025-06-03T09:40:41.235Z] INFO  [PID:490997][0m 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-03T09:40:41: SQL実行: SELECT 1 as test... 
[2025-06-03T09:40:41.237Z] INFO  [PID:490997] ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-03T09:40:41: SQL実行成功: 結果行数=1
2025-06-03T09:40:41: [36m[2025-06-03T09:40:41.237Z] INFO  [PID:490997][0m ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-03T09:40:41: SQL実行: 
2025-06-03T09:40:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:40:41:                ci.number as ca... 
[2025-06-03T09:40:41.241Z] INFO  [PID:490997] 📋 初期キャンペーンロード: 1件検出 {"level":"INFO"}
2025-06-03T09:40:41: SQL実行成功: 結果行数=1
[2025-06-03T09:40:41.242Z] INFO  [PID:490997] ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
2025-06-03T09:40:41: [36m[2025-06-03T09:40:41.241Z] INFO  [PID:490997][0m 📋 初期キャンペーンロード: 1件検出 {"level":"INFO"}
2025-06-03T09:40:41: [36m[2025-06-03T09:40:41.242Z] INFO  [PID:490997][0m ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
[2025-06-03T09:40:41.242Z] INFO  [PID:490997] 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
[2025-06-03T09:40:41.242Z] INFO  [PID:490997] 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
2025-06-03T09:40:41: [36m[2025-06-03T09:40:41.242Z] INFO  [PID:490997][0m 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
[2025-06-03T09:40:41.242Z] INFO  [PID:490997] 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
[2025-06-03T09:40:41.242Z] INFO  [PID:490997] ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-03T09:40:41: [36m[2025-06-03T09:40:41.242Z] INFO  [PID:490997][0m 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
2025-06-03T09:40:41: [36m[2025-06-03T09:40:41.242Z] INFO  [PID:490997][0m 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
2025-06-03T09:40:41: [36m[2025-06-03T09:40:41.242Z] INFO  [PID:490997][0m ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-03T09:40:41: ✅ DialerService自動システム開始完了
[2025-06-03T09:40:42.813Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:40:42: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:40:42: [36m[2025-06-03T09:40:42.813Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:40:42: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:40:42: SQL実行成功: 結果行数=1
2025-06-03T09:40:42: SQL実行: 
2025-06-03T09:40:42:       SELECT 
2025-06-03T09:40:42:         COUNT(*) as total,
2025-06-03T09:40:42:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:40:42: SQL実行成功: 結果行数=1
2025-06-03T09:40:42: SQL実行: 
2025-06-03T09:40:42:       SELECT 
2025-06-03T09:40:42:         COUNT(*) as total_calls,
2025-06-03T09:40:42:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:40:42.818Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:40:42: SQL実行成功: 結果行数=1
2025-06-03T09:40:42: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:40:42: [36m[2025-06-03T09:40:42.818Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:40:47.813Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:40:47: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:40:47: [36m[2025-06-03T09:40:47.813Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:40:47: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:40:47: SQL実行成功: 結果行数=1
2025-06-03T09:40:47: SQL実行: 
2025-06-03T09:40:47:       SELECT 
2025-06-03T09:40:47:         COUNT(*) as total,
2025-06-03T09:40:47:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:40:47: SQL実行成功: 結果行数=1
2025-06-03T09:40:47: SQL実行: 
2025-06-03T09:40:47:       SELECT 
2025-06-03T09:40:47:         COUNT(*) as total_calls,
2025-06-03T09:40:47:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:40:47.818Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:40:47: SQL実行成功: 結果行数=1
2025-06-03T09:40:47: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:40:47: [36m[2025-06-03T09:40:47.818Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:40:51.236Z] WARN  [PID:490997] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
2025-06-03T09:40:51: [33m[2025-06-03T09:40:51.236Z] WARN  [PID:490997][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T09:40:51.237Z] ERROR [PID:490997] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T09:40:51: [31m[2025-06-03T09:40:51.237Z] ERROR [PID:490997][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
[2025-06-03T09:40:51.238Z] WARN  [PID:490997] Asterisk接続リトライ 2/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T09:40:51: [33m[2025-06-03T09:40:51.238Z] WARN  [PID:490997][0m Asterisk接続リトライ 2/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T09:40:52: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
[2025-06-03T09:40:52.813Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:40:52: [36m[2025-06-03T09:40:52.813Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:40:52: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:40:52: SQL実行成功: 結果行数=1
2025-06-03T09:40:52: SQL実行: 
2025-06-03T09:40:52:       SELECT 
2025-06-03T09:40:52:         COUNT(*) as total,
2025-06-03T09:40:52:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:40:52: SQL実行成功: 結果行数=1
2025-06-03T09:40:52: SQL実行: 
2025-06-03T09:40:52:       SELECT 
2025-06-03T09:40:52:         COUNT(*) as total_calls,
2025-06-03T09:40:52:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:40:52.819Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:40:52: SQL実行成功: 結果行数=1
2025-06-03T09:40:52: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:40:52: [36m[2025-06-03T09:40:52.819Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:40:56.239Z] INFO  [PID:490997] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T09:40:56.239Z] INFO  [PID:490997] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:40:56: [36m[2025-06-03T09:40:56.239Z] INFO  [PID:490997][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T09:40:56: [36m[2025-06-03T09:40:56.239Z] INFO  [PID:490997][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:40:56: SQL実行: 
2025-06-03T09:40:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:40:56:                ci.number as ca... 
[2025-06-03T09:40:56.249Z] INFO  [PID:490997] 🛑 自動発信システム停止 {"level":"INFO"}
[2025-06-03T09:40:56.249Z] INFO  [PID:490997] 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-03T09:40:56: SQL実行成功: 結果行数=1
2025-06-03T09:40:56: [36m[2025-06-03T09:40:56.249Z] INFO  [PID:490997][0m 🛑 自動発信システム停止 {"level":"INFO"}
2025-06-03T09:40:56: [36m[2025-06-03T09:40:56.249Z] INFO  [PID:490997][0m 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
[2025-06-03T09:40:57.813Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:40:57: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:40:57: [36m[2025-06-03T09:40:57.813Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:40:57: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:40:57: SQL実行成功: 結果行数=1
2025-06-03T09:40:57: SQL実行: 
2025-06-03T09:40:57:       SELECT 
2025-06-03T09:40:57:         COUNT(*) as total,
2025-06-03T09:40:57:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:40:57: SQL実行成功: 結果行数=1
2025-06-03T09:40:57: SQL実行: 
2025-06-03T09:40:57:       SELECT 
2025-06-03T09:40:57:         COUNT(*) as total_calls,
2025-06-03T09:40:57:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:40:57: SQL実行成功: 結果行数=1
[2025-06-03T09:40:57.818Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:40:57: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:40:57: [36m[2025-06-03T09:40:57.818Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:41:02.815Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:02: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:41:02: [36m[2025-06-03T09:41:02.815Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:02: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:41:02: SQL実行成功: 結果行数=1
2025-06-03T09:41:02: SQL実行: 
2025-06-03T09:41:02:       SELECT 
2025-06-03T09:41:02:         COUNT(*) as total,
2025-06-03T09:41:02:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:41:02: SQL実行成功: 結果行数=1
2025-06-03T09:41:02: SQL実行: 
2025-06-03T09:41:02:       SELECT 
2025-06-03T09:41:02:         COUNT(*) as total_calls,
2025-06-03T09:41:02:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:41:02.820Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:41:02: SQL実行成功: 結果行数=1
2025-06-03T09:41:02: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:41:02: [36m[2025-06-03T09:41:02.820Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:41:07.816Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:07: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:41:07: [36m[2025-06-03T09:41:07.816Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:07: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:41:07: SQL実行成功: 結果行数=1
2025-06-03T09:41:07: SQL実行: 
2025-06-03T09:41:07:       SELECT 
2025-06-03T09:41:07:         COUNT(*) as total,
2025-06-03T09:41:07:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:41:07: SQL実行成功: 結果行数=1
2025-06-03T09:41:07: SQL実行: 
2025-06-03T09:41:07:       SELECT 
2025-06-03T09:41:07:         COUNT(*) as total_calls,
2025-06-03T09:41:07:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:41:07.822Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:41:07: SQL実行成功: 結果行数=1
2025-06-03T09:41:07: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:41:07: [36m[2025-06-03T09:41:07.822Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:41:11.239Z] WARN  [PID:490997] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T09:41:11.239Z] ERROR [PID:490997] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T09:41:11: [33m[2025-06-03T09:41:11.239Z] WARN  [PID:490997][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T09:41:11.240Z] WARN  [PID:490997] Asterisk接続リトライ 3/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T09:41:11: [31m[2025-06-03T09:41:11.239Z] ERROR [PID:490997][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T09:41:11: [33m[2025-06-03T09:41:11.240Z] WARN  [PID:490997][0m Asterisk接続リトライ 3/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T09:41:11: SQL実行: SELECT 1... 
2025-06-03T09:41:11: SQL実行: 
2025-06-03T09:41:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:41:11:                ci.number as ca... 
2025-06-03T09:41:11: SQL実行成功: 結果行数=1
2025-06-03T09:41:11: SQL実行成功: 結果行数=1
[2025-06-03T09:41:12.814Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:12: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:41:12: [36m[2025-06-03T09:41:12.814Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:12: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:41:12: SQL実行成功: 結果行数=1
2025-06-03T09:41:12: SQL実行: 
2025-06-03T09:41:12:       SELECT 
2025-06-03T09:41:12:         COUNT(*) as total,
2025-06-03T09:41:12:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:41:12: SQL実行成功: 結果行数=1
2025-06-03T09:41:12: SQL実行: 
2025-06-03T09:41:12:       SELECT 
2025-06-03T09:41:12:         COUNT(*) as total_calls,
2025-06-03T09:41:12:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:41:12: SQL実行成功: 結果行数=1
[2025-06-03T09:41:12.820Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:41:12: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:41:12: [36m[2025-06-03T09:41:12.820Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:41:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:41:16.086Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:41:16: SQL実行成功: 結果行数=1
2025-06-03T09:41:16: [36m[2025-06-03T09:41:16.086Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:41:16.240Z] INFO  [PID:490997] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T09:41:16.240Z] INFO  [PID:490997] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T09:41:16: [36m[2025-06-03T09:41:16.240Z] INFO  [PID:490997][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T09:41:16: [36m[2025-06-03T09:41:16.240Z] INFO  [PID:490997][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
[2025-06-03T09:41:17.815Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:17: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:41:17: [36m[2025-06-03T09:41:17.815Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:17: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:41:17: SQL実行成功: 結果行数=1
2025-06-03T09:41:17: SQL実行: 
2025-06-03T09:41:17:       SELECT 
2025-06-03T09:41:17:         COUNT(*) as total,
2025-06-03T09:41:17:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:41:17: SQL実行成功: 結果行数=1
2025-06-03T09:41:17: SQL実行: 
2025-06-03T09:41:17:       SELECT 
2025-06-03T09:41:17:         COUNT(*) as total_calls,
2025-06-03T09:41:17:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:41:17: SQL実行成功: 結果行数=1
[2025-06-03T09:41:17.821Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:41:17: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:41:17: [36m[2025-06-03T09:41:17.821Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:41:22.819Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:22: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:41:22: [36m[2025-06-03T09:41:22.819Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:22: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:41:22: SQL実行成功: 結果行数=1
2025-06-03T09:41:22: SQL実行: 
2025-06-03T09:41:22:       SELECT 
2025-06-03T09:41:22:         COUNT(*) as total,
2025-06-03T09:41:22:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:41:22: SQL実行成功: 結果行数=1
2025-06-03T09:41:22: SQL実行: 
2025-06-03T09:41:22:       SELECT 
2025-06-03T09:41:22:         COUNT(*) as total_calls,
2025-06-03T09:41:22:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:41:22: SQL実行成功: 結果行数=1
[2025-06-03T09:41:22.825Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:41:22: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:41:22: [36m[2025-06-03T09:41:22.825Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:41:26: SQL実行: 
2025-06-03T09:41:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:41:26:                ci.number as ca... 
2025-06-03T09:41:26: SQL実行成功: 結果行数=1
2025-06-03T09:41:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
[2025-06-03T09:41:27.812Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:27: [36m[2025-06-03T09:41:27.812Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:41:27: SQL実行成功: 結果行数=1
2025-06-03T09:41:27: SQL実行: 
2025-06-03T09:41:27:       SELECT 
2025-06-03T09:41:27:         COUNT(*) as total,
2025-06-03T09:41:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:41:27: SQL実行成功: 結果行数=1
2025-06-03T09:41:27: SQL実行: 
2025-06-03T09:41:27:       SELECT 
2025-06-03T09:41:27:         COUNT(*) as total_calls,
2025-06-03T09:41:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:41:27.817Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:41:27: SQL実行成功: 結果行数=1
2025-06-03T09:41:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:41:27: [36m[2025-06-03T09:41:27.817Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:41:31.243Z] WARN  [PID:490997] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T09:41:31.243Z] ERROR [PID:490997] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T09:41:31: [33m[2025-06-03T09:41:31.243Z] WARN  [PID:490997][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T09:41:31.244Z] ERROR [PID:490997] Asterisk接続の最大リトライ回数に達しました。Asterisk機能は無効になります。 {"level":"ERROR"}
2025-06-03T09:41:31: [31m[2025-06-03T09:41:31.243Z] ERROR [PID:490997][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T09:41:31: [31m[2025-06-03T09:41:31.244Z] ERROR [PID:490997][0m Asterisk接続の最大リトライ回数に達しました。Asterisk機能は無効になります。 {"level":"ERROR"}
2025-06-03T09:41:32: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
[2025-06-03T09:41:32.814Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:32: [36m[2025-06-03T09:41:32.814Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:32: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:41:32: SQL実行成功: 結果行数=1
2025-06-03T09:41:32: SQL実行: 
2025-06-03T09:41:32:       SELECT 
2025-06-03T09:41:32:         COUNT(*) as total,
2025-06-03T09:41:32:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:41:32: SQL実行成功: 結果行数=1
2025-06-03T09:41:32: SQL実行: 
2025-06-03T09:41:32:       SELECT 
2025-06-03T09:41:32:         COUNT(*) as total_calls,
2025-06-03T09:41:32:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:41:32.819Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:41:32: SQL実行成功: 結果行数=1
2025-06-03T09:41:32: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:41:32: [36m[2025-06-03T09:41:32.819Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:41:37.819Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:37: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:41:37: [36m[2025-06-03T09:41:37.819Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:37: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:41:37: SQL実行成功: 結果行数=1
2025-06-03T09:41:37: SQL実行: 
2025-06-03T09:41:37:       SELECT 
2025-06-03T09:41:37:         COUNT(*) as total,
2025-06-03T09:41:37:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:41:37: SQL実行成功: 結果行数=1
2025-06-03T09:41:37: SQL実行: 
2025-06-03T09:41:37:       SELECT 
2025-06-03T09:41:37:         COUNT(*) as total_calls,
2025-06-03T09:41:37:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:41:37.823Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:41:37: SQL実行成功: 結果行数=1
2025-06-03T09:41:37: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:41:37: [36m[2025-06-03T09:41:37.823Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:41:41: SQL実行: SELECT 1... 
2025-06-03T09:41:41: SQL実行: 
2025-06-03T09:41:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:41:41:                ci.number as ca... 
2025-06-03T09:41:41: SQL実行成功: 結果行数=1
2025-06-03T09:41:41: SQL実行成功: 結果行数=1
[2025-06-03T09:41:42.822Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:42: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:41:42: [36m[2025-06-03T09:41:42.822Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:42: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:41:42: SQL実行成功: 結果行数=1
2025-06-03T09:41:42: SQL実行: 
2025-06-03T09:41:42:       SELECT 
2025-06-03T09:41:42:         COUNT(*) as total,
2025-06-03T09:41:42:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:41:42: SQL実行成功: 結果行数=1
2025-06-03T09:41:42: SQL実行: 
2025-06-03T09:41:42:       SELECT 
2025-06-03T09:41:42:         COUNT(*) as total_calls,
2025-06-03T09:41:42:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:41:42: SQL実行成功: 結果行数=1
[2025-06-03T09:41:42.826Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:41:42: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:41:42: [36m[2025-06-03T09:41:42.826Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:41:47.821Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:47: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:41:47: [36m[2025-06-03T09:41:47.821Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:47: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:41:47: SQL実行成功: 結果行数=1
2025-06-03T09:41:47: SQL実行: 
2025-06-03T09:41:47:       SELECT 
2025-06-03T09:41:47:         COUNT(*) as total,
2025-06-03T09:41:47:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:41:47: SQL実行成功: 結果行数=1
2025-06-03T09:41:47: SQL実行: 
2025-06-03T09:41:47:       SELECT 
2025-06-03T09:41:47:         COUNT(*) as total_calls,
2025-06-03T09:41:47:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:41:47.827Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:41:47: SQL実行成功: 結果行数=1
2025-06-03T09:41:47: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:41:47: [36m[2025-06-03T09:41:47.827Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:41:52.816Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:52: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:41:52: [36m[2025-06-03T09:41:52.816Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:52: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:41:52: SQL実行成功: 結果行数=1
2025-06-03T09:41:52: SQL実行: 
2025-06-03T09:41:52:       SELECT 
2025-06-03T09:41:52:         COUNT(*) as total,
2025-06-03T09:41:52:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:41:52: SQL実行成功: 結果行数=1
2025-06-03T09:41:52: SQL実行: 
2025-06-03T09:41:52:       SELECT 
2025-06-03T09:41:52:         COUNT(*) as total_calls,
2025-06-03T09:41:52:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:41:52.820Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:41:52: SQL実行成功: 結果行数=1
2025-06-03T09:41:52: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:41:52: [36m[2025-06-03T09:41:52.820Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:41:56: SQL実行: 
2025-06-03T09:41:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:41:56:                ci.number as ca... 
2025-06-03T09:41:56: SQL実行成功: 結果行数=1
[2025-06-03T09:41:57.822Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:57: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:41:57: [36m[2025-06-03T09:41:57.822Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:41:57: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:41:57: SQL実行成功: 結果行数=1
2025-06-03T09:41:57: SQL実行: 
2025-06-03T09:41:57:       SELECT 
2025-06-03T09:41:57:         COUNT(*) as total,
2025-06-03T09:41:57:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:41:57: SQL実行成功: 結果行数=1
2025-06-03T09:41:57: SQL実行: 
2025-06-03T09:41:57:       SELECT 
2025-06-03T09:41:57:         COUNT(*) as total_calls,
2025-06-03T09:41:57:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:41:57: SQL実行成功: 結果行数=1
[2025-06-03T09:41:57.827Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:41:57: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:41:57: [36m[2025-06-03T09:41:57.827Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:42:02.814Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:02: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:42:02: [36m[2025-06-03T09:42:02.814Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:02: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:42:02: SQL実行成功: 結果行数=1
2025-06-03T09:42:02: SQL実行: 
2025-06-03T09:42:02:       SELECT 
2025-06-03T09:42:02:         COUNT(*) as total,
2025-06-03T09:42:02:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:42:02: SQL実行成功: 結果行数=1
2025-06-03T09:42:02: SQL実行: 
2025-06-03T09:42:02:       SELECT 
2025-06-03T09:42:02:         COUNT(*) as total_calls,
2025-06-03T09:42:02:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:42:02.822Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:42:02: SQL実行成功: 結果行数=1
2025-06-03T09:42:02: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:42:02: [36m[2025-06-03T09:42:02.822Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:42:07.823Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:07: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:42:07: [36m[2025-06-03T09:42:07.823Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:07: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:42:07: SQL実行成功: 結果行数=1
2025-06-03T09:42:07: SQL実行: 
2025-06-03T09:42:07:       SELECT 
2025-06-03T09:42:07:         COUNT(*) as total,
2025-06-03T09:42:07:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:42:07: SQL実行成功: 結果行数=1
2025-06-03T09:42:07: SQL実行: 
2025-06-03T09:42:07:       SELECT 
2025-06-03T09:42:07:         COUNT(*) as total_calls,
2025-06-03T09:42:07:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:42:07.829Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:42:07: SQL実行成功: 結果行数=1
2025-06-03T09:42:07: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:42:07: [36m[2025-06-03T09:42:07.829Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:42:11: SQL実行: SELECT 1... 
2025-06-03T09:42:11: SQL実行: 
2025-06-03T09:42:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:42:11:                ci.number as ca... 
2025-06-03T09:42:11: SQL実行成功: 結果行数=1
2025-06-03T09:42:11: SQL実行成功: 結果行数=1
[2025-06-03T09:42:12.818Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:12: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:42:12: [36m[2025-06-03T09:42:12.818Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:12: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:42:12: SQL実行成功: 結果行数=1
2025-06-03T09:42:12: SQL実行: 
2025-06-03T09:42:12:       SELECT 
2025-06-03T09:42:12:         COUNT(*) as total,
2025-06-03T09:42:12:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:42:12: SQL実行成功: 結果行数=1
[2025-06-03T09:42:12.824Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:42:12: SQL実行: 
2025-06-03T09:42:12:       SELECT 
2025-06-03T09:42:12:         COUNT(*) as total_calls,
2025-06-03T09:42:12:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:42:12: SQL実行成功: 結果行数=1
2025-06-03T09:42:12: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:42:12: [36m[2025-06-03T09:42:12.824Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:42:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:42:16.087Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:42:16: SQL実行成功: 結果行数=1
2025-06-03T09:42:16: [36m[2025-06-03T09:42:16.087Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:42:17.817Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:17: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:42:17: [36m[2025-06-03T09:42:17.817Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:17: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:42:17: SQL実行成功: 結果行数=1
2025-06-03T09:42:17: SQL実行: 
2025-06-03T09:42:17:       SELECT 
2025-06-03T09:42:17:         COUNT(*) as total,
2025-06-03T09:42:17:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:42:17: SQL実行成功: 結果行数=1
2025-06-03T09:42:17: SQL実行: 
2025-06-03T09:42:17:       SELECT 
2025-06-03T09:42:17:         COUNT(*) as total_calls,
2025-06-03T09:42:17:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:42:17.821Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:42:17: SQL実行成功: 結果行数=1
2025-06-03T09:42:17: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:42:17: [36m[2025-06-03T09:42:17.821Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:42:22.817Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:22: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:42:22: [36m[2025-06-03T09:42:22.817Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:22: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:42:22: SQL実行成功: 結果行数=1
2025-06-03T09:42:22: SQL実行: 
2025-06-03T09:42:22:       SELECT 
2025-06-03T09:42:22:         COUNT(*) as total,
2025-06-03T09:42:22:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:42:22: SQL実行成功: 結果行数=1
2025-06-03T09:42:22: SQL実行: 
2025-06-03T09:42:22:       SELECT 
2025-06-03T09:42:22:         COUNT(*) as total_calls,
2025-06-03T09:42:22:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:42:22.821Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:42:22: SQL実行成功: 結果行数=1
2025-06-03T09:42:22: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:42:22: [36m[2025-06-03T09:42:22.821Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:42:26: SQL実行: 
2025-06-03T09:42:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:42:26:                ci.number as ca... 
2025-06-03T09:42:26: SQL実行成功: 結果行数=1
[2025-06-03T09:42:27.814Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:42:27: [36m[2025-06-03T09:42:27.814Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:42:27: SQL実行成功: 結果行数=1
2025-06-03T09:42:27: SQL実行: 
2025-06-03T09:42:27:       SELECT 
2025-06-03T09:42:27:         COUNT(*) as total,
2025-06-03T09:42:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:42:27: SQL実行成功: 結果行数=1
2025-06-03T09:42:27: SQL実行: 
2025-06-03T09:42:27:       SELECT 
2025-06-03T09:42:27:         COUNT(*) as total_calls,
2025-06-03T09:42:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:42:27.820Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:42:27: SQL実行成功: 結果行数=1
2025-06-03T09:42:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:42:27: [36m[2025-06-03T09:42:27.820Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:42:32.817Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:32: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:42:32: [36m[2025-06-03T09:42:32.817Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:32: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:42:32: SQL実行成功: 結果行数=1
2025-06-03T09:42:32: SQL実行: 
2025-06-03T09:42:32:       SELECT 
2025-06-03T09:42:32:         COUNT(*) as total,
2025-06-03T09:42:32:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:42:32: SQL実行成功: 結果行数=1
2025-06-03T09:42:32: SQL実行: 
2025-06-03T09:42:32:       SELECT 
2025-06-03T09:42:32:         COUNT(*) as total_calls,
2025-06-03T09:42:32:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:42:32: SQL実行成功: 結果行数=1
[2025-06-03T09:42:32.822Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:42:32: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:42:32: [36m[2025-06-03T09:42:32.822Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:42:37: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
[2025-06-03T09:42:37.815Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:37: [36m[2025-06-03T09:42:37.815Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:37: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:42:37: SQL実行成功: 結果行数=1
2025-06-03T09:42:37: SQL実行: 
2025-06-03T09:42:37:       SELECT 
2025-06-03T09:42:37:         COUNT(*) as total,
2025-06-03T09:42:37:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:42:37: SQL実行成功: 結果行数=1
2025-06-03T09:42:37: SQL実行: 
2025-06-03T09:42:37:       SELECT 
2025-06-03T09:42:37:         COUNT(*) as total_calls,
2025-06-03T09:42:37:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:42:37.820Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:42:37: SQL実行成功: 結果行数=1
2025-06-03T09:42:37: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:42:37: [36m[2025-06-03T09:42:37.820Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:42:41: SQL実行: SELECT 1... 
2025-06-03T09:42:41: SQL実行: 
2025-06-03T09:42:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:42:41:                ci.number as ca... 
2025-06-03T09:42:41: SQL実行成功: 結果行数=1
2025-06-03T09:42:41: SQL実行成功: 結果行数=1
[2025-06-03T09:42:42.815Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:42: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:42:42: [36m[2025-06-03T09:42:42.815Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:42: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:42:42: SQL実行成功: 結果行数=1
2025-06-03T09:42:42: SQL実行: 
2025-06-03T09:42:42:       SELECT 
2025-06-03T09:42:42:         COUNT(*) as total,
2025-06-03T09:42:42:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:42:42: SQL実行成功: 結果行数=1
2025-06-03T09:42:42: SQL実行: 
2025-06-03T09:42:42:       SELECT 
2025-06-03T09:42:42:         COUNT(*) as total_calls,
2025-06-03T09:42:42:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:42:42.819Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:42:42: SQL実行成功: 結果行数=1
2025-06-03T09:42:42: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:42:42: [36m[2025-06-03T09:42:42.819Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:42:47.814Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:47: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:42:47: [36m[2025-06-03T09:42:47.814Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:47: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-03T09:42:47.817Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:42:47: SQL実行成功: 結果行数=1
2025-06-03T09:42:47: SQL実行: 
2025-06-03T09:42:47:       SELECT 
2025-06-03T09:42:47:         COUNT(*) as total,
2025-06-03T09:42:47:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:42:47: SQL実行成功: 結果行数=1
2025-06-03T09:42:47: SQL実行: 
2025-06-03T09:42:47:       SELECT 
2025-06-03T09:42:47:         COUNT(*) as total_calls,
2025-06-03T09:42:47:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:42:47: SQL実行成功: 結果行数=1
2025-06-03T09:42:47: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:42:47: [36m[2025-06-03T09:42:47.817Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:42:52.895Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:52: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:42:52: [36m[2025-06-03T09:42:52.895Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:52: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:42:52: SQL実行成功: 結果行数=1
2025-06-03T09:42:52: SQL実行: 
2025-06-03T09:42:52:       SELECT 
2025-06-03T09:42:52:         COUNT(*) as total,
2025-06-03T09:42:52:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:42:52: SQL実行成功: 結果行数=1
2025-06-03T09:42:52: SQL実行: 
2025-06-03T09:42:52:       SELECT 
2025-06-03T09:42:52:         COUNT(*) as total_calls,
2025-06-03T09:42:52:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:42:52.900Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:42:52: SQL実行成功: 結果行数=1
2025-06-03T09:42:52: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:42:52: [36m[2025-06-03T09:42:52.900Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:42:56: SQL実行: 
2025-06-03T09:42:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:42:56:                ci.number as ca... 
2025-06-03T09:42:56: SQL実行成功: 結果行数=1
[2025-06-03T09:42:57.819Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:57: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:42:57: [36m[2025-06-03T09:42:57.819Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:42:57: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-03T09:42:57.823Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:42:57: SQL実行成功: 結果行数=1
2025-06-03T09:42:57: SQL実行: 
2025-06-03T09:42:57:       SELECT 
2025-06-03T09:42:57:         COUNT(*) as total,
2025-06-03T09:42:57:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:42:57: SQL実行成功: 結果行数=1
2025-06-03T09:42:57: SQL実行: 
2025-06-03T09:42:57:       SELECT 
2025-06-03T09:42:57:         COUNT(*) as total_calls,
2025-06-03T09:42:57:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:42:57: SQL実行成功: 結果行数=1
2025-06-03T09:42:57: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:42:57: [36m[2025-06-03T09:42:57.823Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:43:02.814Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:02: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:43:02: [36m[2025-06-03T09:43:02.814Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:02: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:43:02: SQL実行成功: 結果行数=1
2025-06-03T09:43:02: SQL実行: 
2025-06-03T09:43:02:       SELECT 
2025-06-03T09:43:02:         COUNT(*) as total,
2025-06-03T09:43:02:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:43:02: SQL実行成功: 結果行数=1
2025-06-03T09:43:02: SQL実行: 
2025-06-03T09:43:02:       SELECT 
2025-06-03T09:43:02:         COUNT(*) as total_calls,
2025-06-03T09:43:02:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:43:02.820Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:43:02: SQL実行成功: 結果行数=1
2025-06-03T09:43:02: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:43:02: [36m[2025-06-03T09:43:02.820Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:43:07.813Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:07: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:43:07: [36m[2025-06-03T09:43:07.813Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:07: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:43:07: SQL実行成功: 結果行数=1
2025-06-03T09:43:07: SQL実行: 
2025-06-03T09:43:07:       SELECT 
2025-06-03T09:43:07:         COUNT(*) as total,
2025-06-03T09:43:07:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:43:07: SQL実行成功: 結果行数=1
2025-06-03T09:43:07: SQL実行: 
2025-06-03T09:43:07:       SELECT 
2025-06-03T09:43:07:         COUNT(*) as total_calls,
2025-06-03T09:43:07:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:43:07.817Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:43:07: SQL実行成功: 結果行数=1
2025-06-03T09:43:07: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:43:07: [36m[2025-06-03T09:43:07.817Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:43:11: SQL実行: SELECT 1... 
2025-06-03T09:43:11: SQL実行: 
2025-06-03T09:43:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:43:11:                ci.number as ca... 
2025-06-03T09:43:11: SQL実行成功: 結果行数=1
2025-06-03T09:43:11: SQL実行成功: 結果行数=1
[2025-06-03T09:43:12.817Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:12: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:43:12: [36m[2025-06-03T09:43:12.817Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:12: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:43:12: SQL実行成功: 結果行数=1
2025-06-03T09:43:12: SQL実行: 
2025-06-03T09:43:12:       SELECT 
2025-06-03T09:43:12:         COUNT(*) as total,
2025-06-03T09:43:12:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:43:12: SQL実行成功: 結果行数=1
2025-06-03T09:43:12: SQL実行: 
2025-06-03T09:43:12:       SELECT 
2025-06-03T09:43:12:         COUNT(*) as total_calls,
2025-06-03T09:43:12:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:43:12.821Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:43:12: SQL実行成功: 結果行数=1
2025-06-03T09:43:12: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:43:12: [36m[2025-06-03T09:43:12.821Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:43:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:43:16.086Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:43:16: SQL実行成功: 結果行数=1
2025-06-03T09:43:16: [36m[2025-06-03T09:43:16.086Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:43:17: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
[2025-06-03T09:43:17.816Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:17: [36m[2025-06-03T09:43:17.816Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:17: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:43:17: SQL実行成功: 結果行数=1
2025-06-03T09:43:17: SQL実行: 
2025-06-03T09:43:17:       SELECT 
2025-06-03T09:43:17:         COUNT(*) as total,
2025-06-03T09:43:17:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:43:17: SQL実行成功: 結果行数=1
2025-06-03T09:43:17: SQL実行: 
2025-06-03T09:43:17:       SELECT 
2025-06-03T09:43:17:         COUNT(*) as total_calls,
2025-06-03T09:43:17:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:43:17.821Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:43:17: SQL実行成功: 結果行数=1
2025-06-03T09:43:17: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:43:17: [36m[2025-06-03T09:43:17.821Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:43:22.812Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:22: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:43:22: [36m[2025-06-03T09:43:22.812Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:22: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:43:22: SQL実行成功: 結果行数=1
2025-06-03T09:43:22: SQL実行: 
2025-06-03T09:43:22:       SELECT 
2025-06-03T09:43:22:         COUNT(*) as total,
2025-06-03T09:43:22:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:43:22: SQL実行成功: 結果行数=1
2025-06-03T09:43:22: SQL実行: 
2025-06-03T09:43:22:       SELECT 
2025-06-03T09:43:22:         COUNT(*) as total_calls,
2025-06-03T09:43:22:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:43:22: SQL実行成功: 結果行数=1
[2025-06-03T09:43:22.816Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:43:22: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:43:22: [36m[2025-06-03T09:43:22.816Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:43:26: SQL実行: 
2025-06-03T09:43:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:43:26:                ci.number as ca... 
2025-06-03T09:43:26: SQL実行成功: 結果行数=1
[2025-06-03T09:43:27.813Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:43:27: [36m[2025-06-03T09:43:27.813Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:43:27: SQL実行成功: 結果行数=1
2025-06-03T09:43:27: SQL実行: 
2025-06-03T09:43:27:       SELECT 
2025-06-03T09:43:27:         COUNT(*) as total,
2025-06-03T09:43:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:43:27: SQL実行成功: 結果行数=1
2025-06-03T09:43:27: SQL実行: 
2025-06-03T09:43:27:       SELECT 
2025-06-03T09:43:27:         COUNT(*) as total_calls,
2025-06-03T09:43:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:43:27: SQL実行成功: 結果行数=1
[2025-06-03T09:43:27.817Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:43:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:43:27: [36m[2025-06-03T09:43:27.817Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:43:32.813Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:32: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:43:32: [36m[2025-06-03T09:43:32.813Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:32: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:43:32: SQL実行成功: 結果行数=1
2025-06-03T09:43:32: SQL実行: 
2025-06-03T09:43:32:       SELECT 
2025-06-03T09:43:32:         COUNT(*) as total,
2025-06-03T09:43:32:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:43:32: SQL実行成功: 結果行数=1
2025-06-03T09:43:32: SQL実行: 
2025-06-03T09:43:32:       SELECT 
2025-06-03T09:43:32:         COUNT(*) as total_calls,
2025-06-03T09:43:32:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:43:32.817Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:43:32: SQL実行成功: 結果行数=1
2025-06-03T09:43:32: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:43:32: [36m[2025-06-03T09:43:32.817Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:43:37.819Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:37: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:43:37: [36m[2025-06-03T09:43:37.819Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:37: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:43:37: SQL実行成功: 結果行数=1
2025-06-03T09:43:37: SQL実行: 
2025-06-03T09:43:37:       SELECT 
2025-06-03T09:43:37:         COUNT(*) as total,
2025-06-03T09:43:37:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:43:37: SQL実行成功: 結果行数=1
2025-06-03T09:43:37: SQL実行: 
2025-06-03T09:43:37:       SELECT 
2025-06-03T09:43:37:         COUNT(*) as total_calls,
2025-06-03T09:43:37:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:43:37.823Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:43:37: SQL実行成功: 結果行数=1
2025-06-03T09:43:37: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:43:37: [36m[2025-06-03T09:43:37.823Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:43:41: SQL実行: SELECT 1... 
2025-06-03T09:43:41: SQL実行: 
2025-06-03T09:43:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:43:41:                ci.number as ca... 
2025-06-03T09:43:41: SQL実行成功: 結果行数=1
2025-06-03T09:43:41: SQL実行成功: 結果行数=1
[2025-06-03T09:43:42.817Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:42: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:43:42: [36m[2025-06-03T09:43:42.817Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:42: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:43:42: SQL実行成功: 結果行数=1
2025-06-03T09:43:42: SQL実行: 
2025-06-03T09:43:42:       SELECT 
2025-06-03T09:43:42:         COUNT(*) as total,
2025-06-03T09:43:42:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:43:42: SQL実行成功: 結果行数=1
2025-06-03T09:43:42: SQL実行: 
2025-06-03T09:43:42:       SELECT 
2025-06-03T09:43:42:         COUNT(*) as total_calls,
2025-06-03T09:43:42:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:43:42.822Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:43:42: SQL実行成功: 結果行数=1
2025-06-03T09:43:42: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:43:42: [36m[2025-06-03T09:43:42.822Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:43:48.014Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:48: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:43:48: [36m[2025-06-03T09:43:48.014Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:48: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:43:48: SQL実行成功: 結果行数=1
2025-06-03T09:43:48: SQL実行: 
2025-06-03T09:43:48:       SELECT 
2025-06-03T09:43:48:         COUNT(*) as total,
2025-06-03T09:43:48:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:43:48: SQL実行成功: 結果行数=1
2025-06-03T09:43:48: SQL実行: 
2025-06-03T09:43:48:       SELECT 
2025-06-03T09:43:48:         COUNT(*) as total_calls,
2025-06-03T09:43:48:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:43:48.018Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:43:48: SQL実行成功: 結果行数=1
2025-06-03T09:43:48: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:43:48: [36m[2025-06-03T09:43:48.018Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:43:53.038Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:53: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:43:53: [36m[2025-06-03T09:43:53.038Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:53: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:43:53: SQL実行成功: 結果行数=1
2025-06-03T09:43:53: SQL実行: 
2025-06-03T09:43:53:       SELECT 
2025-06-03T09:43:53:         COUNT(*) as total,
2025-06-03T09:43:53:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:43:53: SQL実行成功: 結果行数=1
2025-06-03T09:43:53: SQL実行: 
2025-06-03T09:43:53:       SELECT 
2025-06-03T09:43:53:         COUNT(*) as total_calls,
2025-06-03T09:43:53:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:43:53.042Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:43:53: SQL実行成功: 結果行数=1
2025-06-03T09:43:53: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:43:53: [36m[2025-06-03T09:43:53.042Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:43:56: SQL実行: 
2025-06-03T09:43:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:43:56:                ci.number as ca... 
2025-06-03T09:43:56: SQL実行成功: 結果行数=1
[2025-06-03T09:43:58.020Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:58: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:43:58: [36m[2025-06-03T09:43:58.020Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:43:58: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:43:58: SQL実行成功: 結果行数=1
2025-06-03T09:43:58: SQL実行: 
2025-06-03T09:43:58:       SELECT 
2025-06-03T09:43:58:         COUNT(*) as total,
2025-06-03T09:43:58:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:43:58: SQL実行成功: 結果行数=1
2025-06-03T09:43:58: SQL実行: 
2025-06-03T09:43:58:       SELECT 
2025-06-03T09:43:58:         COUNT(*) as total_calls,
2025-06-03T09:43:58:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:43:58: SQL実行成功: 結果行数=1
[2025-06-03T09:43:58.025Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:43:58: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:43:58: [36m[2025-06-03T09:43:58.025Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:44:03.014Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:44:03: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:44:03: [36m[2025-06-03T09:44:03.014Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:44:03: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:44:03: SQL実行成功: 結果行数=1
2025-06-03T09:44:03: SQL実行: 
2025-06-03T09:44:03:       SELECT 
2025-06-03T09:44:03:         COUNT(*) as total,
2025-06-03T09:44:03:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:44:03: SQL実行成功: 結果行数=1
2025-06-03T09:44:03: SQL実行: 
2025-06-03T09:44:03:       SELECT 
2025-06-03T09:44:03:         COUNT(*) as total_calls,
2025-06-03T09:44:03:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:44:03: SQL実行成功: 結果行数=1
[2025-06-03T09:44:03.019Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:44:03: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:44:03: [36m[2025-06-03T09:44:03.019Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:44:08.020Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:44:08: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:44:08: [36m[2025-06-03T09:44:08.020Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:44:08: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:44:08: SQL実行成功: 結果行数=1
2025-06-03T09:44:08: SQL実行: 
2025-06-03T09:44:08:       SELECT 
2025-06-03T09:44:08:         COUNT(*) as total,
2025-06-03T09:44:08:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:44:08: SQL実行成功: 結果行数=1
2025-06-03T09:44:08: SQL実行: 
2025-06-03T09:44:08:       SELECT 
2025-06-03T09:44:08:         COUNT(*) as total_calls,
2025-06-03T09:44:08:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:44:08: SQL実行成功: 結果行数=1
[2025-06-03T09:44:08.025Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:44:08: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:44:08: [36m[2025-06-03T09:44:08.025Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:44:11: SQL実行: 
2025-06-03T09:44:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:44:11:                ci.number as ca... 
2025-06-03T09:44:11: SQL実行: SELECT 1... 
2025-06-03T09:44:11: SQL実行成功: 結果行数=1
2025-06-03T09:44:11: SQL実行成功: 結果行数=1
[2025-06-03T09:44:13.017Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:44:13: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:44:13: [36m[2025-06-03T09:44:13.017Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:44:13: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:44:13: SQL実行成功: 結果行数=1
2025-06-03T09:44:13: SQL実行: 
2025-06-03T09:44:13:       SELECT 
2025-06-03T09:44:13:         COUNT(*) as total,
2025-06-03T09:44:13:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:44:13: SQL実行成功: 結果行数=1
2025-06-03T09:44:13: SQL実行: 
2025-06-03T09:44:13:       SELECT 
2025-06-03T09:44:13:         COUNT(*) as total_calls,
2025-06-03T09:44:13:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:44:13.022Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:44:13: SQL実行成功: 結果行数=1
2025-06-03T09:44:13: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:44:13: [36m[2025-06-03T09:44:13.022Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:44:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:44:16.086Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:44:16: SQL実行成功: 結果行数=1
2025-06-03T09:44:16: [36m[2025-06-03T09:44:16.086Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T09:44:18.024Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:44:18: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:44:18: [36m[2025-06-03T09:44:18.024Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:44:18: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:44:18: SQL実行成功: 結果行数=1
2025-06-03T09:44:18: SQL実行: 
2025-06-03T09:44:18:       SELECT 
2025-06-03T09:44:18:         COUNT(*) as total,
2025-06-03T09:44:18:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:44:18: SQL実行成功: 結果行数=1
2025-06-03T09:44:18: SQL実行: 
2025-06-03T09:44:18:       SELECT 
2025-06-03T09:44:18:         COUNT(*) as total_calls,
2025-06-03T09:44:18:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:44:18: SQL実行成功: 結果行数=1
[2025-06-03T09:44:18.027Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:44:18: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:44:18: [36m[2025-06-03T09:44:18.027Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:44:23.019Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:44:23: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:44:23: [36m[2025-06-03T09:44:23.019Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:44:23: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:44:23: SQL実行成功: 結果行数=1
2025-06-03T09:44:23: SQL実行: 
2025-06-03T09:44:23:       SELECT 
2025-06-03T09:44:23:         COUNT(*) as total,
2025-06-03T09:44:23:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:44:23: SQL実行成功: 結果行数=1
2025-06-03T09:44:23: SQL実行: 
2025-06-03T09:44:23:       SELECT 
2025-06-03T09:44:23:         COUNT(*) as total_calls,
2025-06-03T09:44:23:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:44:23.024Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:44:23: SQL実行成功: 結果行数=1
2025-06-03T09:44:23: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:44:23: [36m[2025-06-03T09:44:23.024Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:44:26: SQL実行: 
2025-06-03T09:44:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:44:26:                ci.number as ca... 
2025-06-03T09:44:26: SQL実行成功: 結果行数=1
[2025-06-03T09:44:28.024Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:44:28: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:44:28: [36m[2025-06-03T09:44:28.024Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:44:28: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:44:28: SQL実行成功: 結果行数=1
2025-06-03T09:44:28: SQL実行: 
2025-06-03T09:44:28:       SELECT 
2025-06-03T09:44:28:         COUNT(*) as total,
2025-06-03T09:44:28:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:44:28: SQL実行成功: 結果行数=1
2025-06-03T09:44:28: SQL実行: 
2025-06-03T09:44:28:       SELECT 
2025-06-03T09:44:28:         COUNT(*) as total_calls,
2025-06-03T09:44:28:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:44:28.029Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:44:28: SQL実行成功: 結果行数=1
2025-06-03T09:44:28: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:44:28: [36m[2025-06-03T09:44:28.029Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:44:33.023Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:44:33: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:44:33: [36m[2025-06-03T09:44:33.023Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:44:33: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:44:33: SQL実行成功: 結果行数=1
2025-06-03T09:44:33: SQL実行: 
2025-06-03T09:44:33:       SELECT 
2025-06-03T09:44:33:         COUNT(*) as total,
2025-06-03T09:44:33:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:44:33: SQL実行成功: 結果行数=1
2025-06-03T09:44:33: SQL実行: 
2025-06-03T09:44:33:       SELECT 
2025-06-03T09:44:33:         COUNT(*) as total_calls,
2025-06-03T09:44:33:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:44:33.028Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:44:33: SQL実行成功: 結果行数=1
2025-06-03T09:44:33: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:44:33: [36m[2025-06-03T09:44:33.028Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T09:44:38.022Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:44:38: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:44:38: [36m[2025-06-03T09:44:38.022Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:44:38: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:44:38: SQL実行成功: 結果行数=1
2025-06-03T09:44:38: SQL実行: 
2025-06-03T09:44:38:       SELECT 
2025-06-03T09:44:38:         COUNT(*) as total,
2025-06-03T09:44:38:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:44:38: SQL実行成功: 結果行数=1
2025-06-03T09:44:38: SQL実行: 
2025-06-03T09:44:38:       SELECT 
2025-06-03T09:44:38:         COUNT(*) as total_calls,
2025-06-03T09:44:38:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:44:38.025Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:44:38: SQL実行成功: 結果行数=1
2025-06-03T09:44:38: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:44:38: [36m[2025-06-03T09:44:38.025Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:44:41: SQL実行: 
2025-06-03T09:44:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:44:41:                ci.number as ca... 
2025-06-03T09:44:41: SQL実行: SELECT 1... 
2025-06-03T09:44:41: SQL実行成功: 結果行数=1
2025-06-03T09:44:41: SQL実行成功: 結果行数=1
[2025-06-03T09:44:43.021Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:44:43: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:44:43: [36m[2025-06-03T09:44:43.021Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:44:43: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:44:43: SQL実行成功: 結果行数=1
2025-06-03T09:44:43: SQL実行: 
2025-06-03T09:44:43:       SELECT 
2025-06-03T09:44:43:         COUNT(*) as total,
2025-06-03T09:44:43:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:44:43: SQL実行成功: 結果行数=1
2025-06-03T09:44:43: SQL実行: 
2025-06-03T09:44:43:       SELECT 
2025-06-03T09:44:43:         COUNT(*) as total_calls,
2025-06-03T09:44:43:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:44:43.026Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:44:43: SQL実行成功: 結果行数=1
2025-06-03T09:44:43: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:44:43: [36m[2025-06-03T09:44:43.026Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:44:56: SQL実行: 
2025-06-03T09:44:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:44:56:                ci.number as ca... 
2025-06-03T09:44:56: SQL実行成功: 結果行数=1
2025-06-03T09:45:11: SQL実行: SELECT 1... 
2025-06-03T09:45:11: SQL実行: 
2025-06-03T09:45:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:45:11:                ci.number as ca... 
2025-06-03T09:45:11: SQL実行成功: 結果行数=1
2025-06-03T09:45:11: SQL実行成功: 結果行数=1
2025-06-03T09:45:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:45:16.087Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:45:16: SQL実行成功: 結果行数=1
2025-06-03T09:45:16: [36m[2025-06-03T09:45:16.087Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:45:26: SQL実行: 
2025-06-03T09:45:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:45:26:                ci.number as ca... 
2025-06-03T09:45:26: SQL実行成功: 結果行数=1
[2025-06-03T09:45:27.028Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:45:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:45:27: [36m[2025-06-03T09:45:27.028Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:45:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:45:27: SQL実行成功: 結果行数=1
2025-06-03T09:45:27: SQL実行: 
2025-06-03T09:45:27:       SELECT 
2025-06-03T09:45:27:         COUNT(*) as total,
2025-06-03T09:45:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:45:27: SQL実行成功: 結果行数=1
2025-06-03T09:45:27: SQL実行: 
2025-06-03T09:45:27:       SELECT 
2025-06-03T09:45:27:         COUNT(*) as total_calls,
2025-06-03T09:45:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:45:27: SQL実行成功: 結果行数=1
[2025-06-03T09:45:27.032Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:45:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:45:27: [36m[2025-06-03T09:45:27.032Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:45:41: SQL実行: SELECT 1... 
2025-06-03T09:45:41: SQL実行: 
2025-06-03T09:45:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:45:41:                ci.number as ca... 
2025-06-03T09:45:41: SQL実行成功: 結果行数=1
2025-06-03T09:45:41: SQL実行成功: 結果行数=1
2025-06-03T09:45:56: SQL実行: 
2025-06-03T09:45:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:45:56:                ci.number as ca... 
2025-06-03T09:45:56: SQL実行成功: 結果行数=1
2025-06-03T09:46:11: SQL実行: SELECT 1... 
2025-06-03T09:46:11: SQL実行成功: 結果行数=1
2025-06-03T09:46:11: SQL実行: 
2025-06-03T09:46:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:46:11:                ci.number as ca... 
2025-06-03T09:46:11: SQL実行成功: 結果行数=1
2025-06-03T09:46:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:46:16.087Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:46:16: SQL実行成功: 結果行数=1
2025-06-03T09:46:16: [36m[2025-06-03T09:46:16.087Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:46:26: SQL実行: 
2025-06-03T09:46:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:46:26:                ci.number as ca... 
2025-06-03T09:46:26: SQL実行成功: 結果行数=1
[2025-06-03T09:46:27.031Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:46:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:46:27: [36m[2025-06-03T09:46:27.031Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:46:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:46:27: SQL実行成功: 結果行数=1
2025-06-03T09:46:27: SQL実行: 
2025-06-03T09:46:27:       SELECT 
2025-06-03T09:46:27:         COUNT(*) as total,
2025-06-03T09:46:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:46:27: SQL実行成功: 結果行数=1
2025-06-03T09:46:27: SQL実行: 
2025-06-03T09:46:27:       SELECT 
2025-06-03T09:46:27:         COUNT(*) as total_calls,
2025-06-03T09:46:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:46:27.034Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:46:27: SQL実行成功: 結果行数=1
2025-06-03T09:46:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:46:27: [36m[2025-06-03T09:46:27.034Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:46:41: SQL実行: SELECT 1... 
2025-06-03T09:46:41: SQL実行成功: 結果行数=1
2025-06-03T09:46:41: SQL実行: 
2025-06-03T09:46:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:46:41:                ci.number as ca... 
2025-06-03T09:46:41: SQL実行成功: 結果行数=1
2025-06-03T09:46:56: SQL実行: 
2025-06-03T09:46:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:46:56:                ci.number as ca... 
2025-06-03T09:46:56: SQL実行成功: 結果行数=1
2025-06-03T09:47:11: SQL実行: SELECT 1... 
2025-06-03T09:47:11: SQL実行成功: 結果行数=1
2025-06-03T09:47:11: SQL実行: 
2025-06-03T09:47:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:47:11:                ci.number as ca... 
2025-06-03T09:47:11: SQL実行成功: 結果行数=1
2025-06-03T09:47:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:47:16.087Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:47:16: SQL実行成功: 結果行数=1
2025-06-03T09:47:16: [36m[2025-06-03T09:47:16.087Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:47:26: SQL実行: 
2025-06-03T09:47:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:47:26:                ci.number as ca... 
2025-06-03T09:47:26: SQL実行成功: 結果行数=1
[2025-06-03T09:47:27.097Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:47:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:47:27: [36m[2025-06-03T09:47:27.097Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:47:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:47:27: SQL実行成功: 結果行数=1
2025-06-03T09:47:27: SQL実行: 
2025-06-03T09:47:27:       SELECT 
2025-06-03T09:47:27:         COUNT(*) as total,
2025-06-03T09:47:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:47:27: SQL実行成功: 結果行数=1
2025-06-03T09:47:27: SQL実行: 
2025-06-03T09:47:27:       SELECT 
2025-06-03T09:47:27:         COUNT(*) as total_calls,
2025-06-03T09:47:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:47:27.101Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:47:27: SQL実行成功: 結果行数=1
2025-06-03T09:47:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:47:27: [36m[2025-06-03T09:47:27.101Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:47:41: SQL実行: SELECT 1... 
2025-06-03T09:47:41: SQL実行成功: 結果行数=1
2025-06-03T09:47:41: SQL実行: 
2025-06-03T09:47:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:47:41:                ci.number as ca... 
2025-06-03T09:47:41: SQL実行成功: 結果行数=1
2025-06-03T09:47:56: SQL実行: 
2025-06-03T09:47:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:47:56:                ci.number as ca... 
2025-06-03T09:47:56: SQL実行成功: 結果行数=1
2025-06-03T09:48:11: SQL実行: SELECT 1... 
2025-06-03T09:48:11: SQL実行成功: 結果行数=1
2025-06-03T09:48:11: SQL実行: 
2025-06-03T09:48:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:48:11:                ci.number as ca... 
2025-06-03T09:48:11: SQL実行成功: 結果行数=1
2025-06-03T09:48:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:48:16.087Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:48:16: SQL実行成功: 結果行数=1
2025-06-03T09:48:16: [36m[2025-06-03T09:48:16.087Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:48:26: SQL実行: 
2025-06-03T09:48:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:48:26:                ci.number as ca... 
2025-06-03T09:48:26: SQL実行成功: 結果行数=1
[2025-06-03T09:48:27.038Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:48:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:48:27: [36m[2025-06-03T09:48:27.038Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:48:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:48:27: SQL実行成功: 結果行数=1
2025-06-03T09:48:27: SQL実行: 
2025-06-03T09:48:27:       SELECT 
2025-06-03T09:48:27:         COUNT(*) as total,
2025-06-03T09:48:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:48:27: SQL実行成功: 結果行数=1
2025-06-03T09:48:27: SQL実行: 
2025-06-03T09:48:27:       SELECT 
2025-06-03T09:48:27:         COUNT(*) as total_calls,
2025-06-03T09:48:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:48:27.043Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:48:27: SQL実行成功: 結果行数=1
2025-06-03T09:48:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:48:27: [36m[2025-06-03T09:48:27.043Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:48:41: SQL実行: SELECT 1... 
2025-06-03T09:48:41: SQL実行成功: 結果行数=1
2025-06-03T09:48:41: SQL実行: 
2025-06-03T09:48:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:48:41:                ci.number as ca... 
2025-06-03T09:48:41: SQL実行成功: 結果行数=1
2025-06-03T09:48:56: SQL実行: 
2025-06-03T09:48:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:48:56:                ci.number as ca... 
2025-06-03T09:48:56: SQL実行成功: 結果行数=1
2025-06-03T09:49:11: SQL実行: SELECT 1... 
2025-06-03T09:49:11: SQL実行成功: 結果行数=1
2025-06-03T09:49:11: SQL実行: 
2025-06-03T09:49:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:49:11:                ci.number as ca... 
2025-06-03T09:49:11: SQL実行成功: 結果行数=1
2025-06-03T09:49:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:49:16.086Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:49:16: SQL実行成功: 結果行数=1
2025-06-03T09:49:16: [36m[2025-06-03T09:49:16.086Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:49:26: SQL実行: 
2025-06-03T09:49:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:49:26:                ci.number as ca... 
2025-06-03T09:49:26: SQL実行成功: 結果行数=1
[2025-06-03T09:49:27.024Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:49:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:49:27: [36m[2025-06-03T09:49:27.024Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:49:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:49:27: SQL実行成功: 結果行数=1
2025-06-03T09:49:27: SQL実行: 
2025-06-03T09:49:27:       SELECT 
2025-06-03T09:49:27:         COUNT(*) as total,
2025-06-03T09:49:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:49:27: SQL実行成功: 結果行数=1
2025-06-03T09:49:27: SQL実行: 
2025-06-03T09:49:27:       SELECT 
2025-06-03T09:49:27:         COUNT(*) as total_calls,
2025-06-03T09:49:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:49:27: SQL実行成功: 結果行数=1
[2025-06-03T09:49:27.028Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:49:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:49:27: [36m[2025-06-03T09:49:27.028Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:49:41: SQL実行: SELECT 1... 
2025-06-03T09:49:41: SQL実行成功: 結果行数=1
2025-06-03T09:49:41: SQL実行: 
2025-06-03T09:49:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:49:41:                ci.number as ca... 
2025-06-03T09:49:41: SQL実行成功: 結果行数=1
2025-06-03T09:49:56: SQL実行: 
2025-06-03T09:49:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:49:56:                ci.number as ca... 
2025-06-03T09:49:56: SQL実行成功: 結果行数=1
2025-06-03T09:50:11: SQL実行: SELECT 1... 
2025-06-03T09:50:11: SQL実行成功: 結果行数=1
2025-06-03T09:50:11: SQL実行: 
2025-06-03T09:50:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:50:11:                ci.number as ca... 
2025-06-03T09:50:11: SQL実行成功: 結果行数=1
2025-06-03T09:50:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:50:16.087Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:50:16: SQL実行成功: 結果行数=1
2025-06-03T09:50:16: [36m[2025-06-03T09:50:16.087Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:50:26: SQL実行: 
2025-06-03T09:50:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:50:26:                ci.number as ca... 
2025-06-03T09:50:26: SQL実行成功: 結果行数=1
[2025-06-03T09:50:27.036Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:50:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:50:27: [36m[2025-06-03T09:50:27.036Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:50:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:50:27: SQL実行成功: 結果行数=1
2025-06-03T09:50:27: SQL実行: 
2025-06-03T09:50:27:       SELECT 
2025-06-03T09:50:27:         COUNT(*) as total,
2025-06-03T09:50:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:50:27: SQL実行成功: 結果行数=1
2025-06-03T09:50:27: SQL実行: 
2025-06-03T09:50:27:       SELECT 
2025-06-03T09:50:27:         COUNT(*) as total_calls,
2025-06-03T09:50:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:50:27: SQL実行成功: 結果行数=1
[2025-06-03T09:50:27.041Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:50:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:50:27: [36m[2025-06-03T09:50:27.041Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:50:41: SQL実行: SELECT 1... 
2025-06-03T09:50:41: SQL実行成功: 結果行数=1
2025-06-03T09:50:41: SQL実行: 
2025-06-03T09:50:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:50:41:                ci.number as ca... 
2025-06-03T09:50:41: SQL実行成功: 結果行数=1
2025-06-03T09:50:56: SQL実行: 
2025-06-03T09:50:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:50:56:                ci.number as ca... 
2025-06-03T09:50:56: SQL実行成功: 結果行数=1
2025-06-03T09:51:11: SQL実行: SELECT 1... 
2025-06-03T09:51:11: SQL実行成功: 結果行数=1
2025-06-03T09:51:11: SQL実行: 
2025-06-03T09:51:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:51:11:                ci.number as ca... 
2025-06-03T09:51:11: SQL実行成功: 結果行数=1
2025-06-03T09:51:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:51:16.088Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:51:16: SQL実行成功: 結果行数=1
2025-06-03T09:51:16: [36m[2025-06-03T09:51:16.088Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:51:26: SQL実行: 
2025-06-03T09:51:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:51:26:                ci.number as ca... 
2025-06-03T09:51:26: SQL実行成功: 結果行数=1
[2025-06-03T09:51:27.036Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:51:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:51:27: [36m[2025-06-03T09:51:27.036Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:51:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:51:27: SQL実行成功: 結果行数=1
2025-06-03T09:51:27: SQL実行: 
2025-06-03T09:51:27:       SELECT 
2025-06-03T09:51:27:         COUNT(*) as total,
2025-06-03T09:51:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:51:27: SQL実行成功: 結果行数=1
2025-06-03T09:51:27: SQL実行: 
2025-06-03T09:51:27:       SELECT 
2025-06-03T09:51:27:         COUNT(*) as total_calls,
2025-06-03T09:51:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:51:27.040Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:51:27: SQL実行成功: 結果行数=1
2025-06-03T09:51:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:51:27: [36m[2025-06-03T09:51:27.040Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:51:41: SQL実行: SELECT 1... 
2025-06-03T09:51:41: SQL実行成功: 結果行数=1
2025-06-03T09:51:41: SQL実行: 
2025-06-03T09:51:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:51:41:                ci.number as ca... 
2025-06-03T09:51:41: SQL実行成功: 結果行数=1
2025-06-03T09:51:56: SQL実行: 
2025-06-03T09:51:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:51:56:                ci.number as ca... 
2025-06-03T09:51:56: SQL実行成功: 結果行数=1
2025-06-03T09:52:11: SQL実行: SELECT 1... 
2025-06-03T09:52:11: SQL実行成功: 結果行数=1
2025-06-03T09:52:11: SQL実行: 
2025-06-03T09:52:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:52:11:                ci.number as ca... 
2025-06-03T09:52:11: SQL実行成功: 結果行数=1
2025-06-03T09:52:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:52:16.089Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:52:16: SQL実行成功: 結果行数=1
2025-06-03T09:52:16: [36m[2025-06-03T09:52:16.089Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:52:26: SQL実行: 
2025-06-03T09:52:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:52:26:                ci.number as ca... 
2025-06-03T09:52:26: SQL実行成功: 結果行数=1
[2025-06-03T09:52:27.040Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:52:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:52:27: [36m[2025-06-03T09:52:27.040Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:52:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:52:27: SQL実行成功: 結果行数=1
2025-06-03T09:52:27: SQL実行: 
2025-06-03T09:52:27:       SELECT 
2025-06-03T09:52:27:         COUNT(*) as total,
2025-06-03T09:52:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:52:27: SQL実行成功: 結果行数=1
2025-06-03T09:52:27: SQL実行: 
2025-06-03T09:52:27:       SELECT 
2025-06-03T09:52:27:         COUNT(*) as total_calls,
2025-06-03T09:52:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:52:27.044Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:52:27: SQL実行成功: 結果行数=1
2025-06-03T09:52:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:52:27: [36m[2025-06-03T09:52:27.044Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:52:41: SQL実行: SELECT 1... 
2025-06-03T09:52:41: SQL実行成功: 結果行数=1
2025-06-03T09:52:41: SQL実行: 
2025-06-03T09:52:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:52:41:                ci.number as ca... 
2025-06-03T09:52:41: SQL実行成功: 結果行数=1
2025-06-03T09:52:56: SQL実行: 
2025-06-03T09:52:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:52:56:                ci.number as ca... 
2025-06-03T09:52:56: SQL実行成功: 結果行数=1
2025-06-03T09:53:11: SQL実行: SELECT 1... 
2025-06-03T09:53:11: SQL実行成功: 結果行数=1
2025-06-03T09:53:11: SQL実行: 
2025-06-03T09:53:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:53:11:                ci.number as ca... 
2025-06-03T09:53:11: SQL実行成功: 結果行数=1
2025-06-03T09:53:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
2025-06-03T09:53:16: SQL実行成功: 結果行数=1
[2025-06-03T09:53:16.089Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:53:16: [36m[2025-06-03T09:53:16.089Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:53:26: SQL実行: 
2025-06-03T09:53:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:53:26:                ci.number as ca... 
2025-06-03T09:53:26: SQL実行成功: 結果行数=1
[2025-06-03T09:53:27.056Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:53:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:53:27: [36m[2025-06-03T09:53:27.056Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:53:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:53:27: SQL実行成功: 結果行数=1
2025-06-03T09:53:27: SQL実行: 
2025-06-03T09:53:27:       SELECT 
2025-06-03T09:53:27:         COUNT(*) as total,
2025-06-03T09:53:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:53:27: SQL実行成功: 結果行数=1
2025-06-03T09:53:27: SQL実行: 
2025-06-03T09:53:27:       SELECT 
2025-06-03T09:53:27:         COUNT(*) as total_calls,
2025-06-03T09:53:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:53:27.059Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:53:27: SQL実行成功: 結果行数=1
2025-06-03T09:53:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:53:27: [36m[2025-06-03T09:53:27.059Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:53:41: SQL実行: SELECT 1... 
2025-06-03T09:53:41: SQL実行成功: 結果行数=1
2025-06-03T09:53:41: SQL実行: 
2025-06-03T09:53:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:53:41:                ci.number as ca... 
2025-06-03T09:53:41: SQL実行成功: 結果行数=1
2025-06-03T09:53:56: SQL実行: 
2025-06-03T09:53:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:53:56:                ci.number as ca... 
2025-06-03T09:53:56: SQL実行成功: 結果行数=1
2025-06-03T09:54:11: SQL実行: SELECT 1... 
2025-06-03T09:54:11: SQL実行成功: 結果行数=1
2025-06-03T09:54:11: SQL実行: 
2025-06-03T09:54:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:54:11:                ci.number as ca... 
2025-06-03T09:54:11: SQL実行成功: 結果行数=1
2025-06-03T09:54:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:54:16.088Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:54:16: SQL実行成功: 結果行数=1
2025-06-03T09:54:16: [36m[2025-06-03T09:54:16.088Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:54:26: SQL実行: 
2025-06-03T09:54:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:54:26:                ci.number as ca... 
2025-06-03T09:54:26: SQL実行成功: 結果行数=1
[2025-06-03T09:54:27.028Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:54:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:54:27: [36m[2025-06-03T09:54:27.028Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:54:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:54:27: SQL実行成功: 結果行数=1
2025-06-03T09:54:27: SQL実行: 
2025-06-03T09:54:27:       SELECT 
2025-06-03T09:54:27:         COUNT(*) as total,
2025-06-03T09:54:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:54:27: SQL実行成功: 結果行数=1
2025-06-03T09:54:27: SQL実行: 
2025-06-03T09:54:27:       SELECT 
2025-06-03T09:54:27:         COUNT(*) as total_calls,
2025-06-03T09:54:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:54:27: SQL実行成功: 結果行数=1
[2025-06-03T09:54:27.032Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:54:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:54:27: [36m[2025-06-03T09:54:27.032Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:54:41: SQL実行: SELECT 1... 
2025-06-03T09:54:41: SQL実行成功: 結果行数=1
2025-06-03T09:54:41: SQL実行: 
2025-06-03T09:54:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:54:41:                ci.number as ca... 
2025-06-03T09:54:41: SQL実行成功: 結果行数=1
2025-06-03T09:54:56: SQL実行: 
2025-06-03T09:54:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:54:56:                ci.number as ca... 
2025-06-03T09:54:56: SQL実行成功: 結果行数=1
2025-06-03T09:55:11: SQL実行: SELECT 1... 
2025-06-03T09:55:11: SQL実行成功: 結果行数=1
2025-06-03T09:55:11: SQL実行: 
2025-06-03T09:55:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:55:11:                ci.number as ca... 
2025-06-03T09:55:11: SQL実行成功: 結果行数=1
2025-06-03T09:55:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:55:16.088Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:55:16: SQL実行成功: 結果行数=1
2025-06-03T09:55:16: [36m[2025-06-03T09:55:16.088Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:55:26: SQL実行: 
2025-06-03T09:55:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:55:26:                ci.number as ca... 
2025-06-03T09:55:26: SQL実行成功: 結果行数=1
[2025-06-03T09:55:27.035Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:55:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:55:27: [36m[2025-06-03T09:55:27.035Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:55:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:55:27: SQL実行成功: 結果行数=1
2025-06-03T09:55:27: SQL実行: 
2025-06-03T09:55:27:       SELECT 
2025-06-03T09:55:27:         COUNT(*) as total,
2025-06-03T09:55:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:55:27: SQL実行成功: 結果行数=1
[2025-06-03T09:55:27.039Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:55:27: SQL実行: 
2025-06-03T09:55:27:       SELECT 
2025-06-03T09:55:27:         COUNT(*) as total_calls,
2025-06-03T09:55:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:55:27: SQL実行成功: 結果行数=1
2025-06-03T09:55:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:55:27: [36m[2025-06-03T09:55:27.039Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:55:41: SQL実行: SELECT 1... 
2025-06-03T09:55:41: SQL実行成功: 結果行数=1
2025-06-03T09:55:41: SQL実行: 
2025-06-03T09:55:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:55:41:                ci.number as ca... 
2025-06-03T09:55:41: SQL実行成功: 結果行数=1
2025-06-03T09:55:56: SQL実行: 
2025-06-03T09:55:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:55:56:                ci.number as ca... 
2025-06-03T09:55:56: SQL実行成功: 結果行数=1
2025-06-03T09:56:11: SQL実行: SELECT 1... 
2025-06-03T09:56:11: SQL実行成功: 結果行数=1
2025-06-03T09:56:11: SQL実行: 
2025-06-03T09:56:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:56:11:                ci.number as ca... 
2025-06-03T09:56:11: SQL実行成功: 結果行数=1
2025-06-03T09:56:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:56:16.088Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:56:16: SQL実行成功: 結果行数=1
2025-06-03T09:56:16: [36m[2025-06-03T09:56:16.088Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:56:26: SQL実行: 
2025-06-03T09:56:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:56:26:                ci.number as ca... 
2025-06-03T09:56:26: SQL実行成功: 結果行数=1
[2025-06-03T09:56:27.044Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:56:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:56:27: [36m[2025-06-03T09:56:27.044Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:56:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:56:27: SQL実行成功: 結果行数=1
2025-06-03T09:56:27: SQL実行: 
2025-06-03T09:56:27:       SELECT 
2025-06-03T09:56:27:         COUNT(*) as total,
2025-06-03T09:56:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:56:27: SQL実行成功: 結果行数=1
2025-06-03T09:56:27: SQL実行: 
2025-06-03T09:56:27:       SELECT 
2025-06-03T09:56:27:         COUNT(*) as total_calls,
2025-06-03T09:56:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:56:27.048Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:56:27: SQL実行成功: 結果行数=1
2025-06-03T09:56:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:56:27: [36m[2025-06-03T09:56:27.048Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:56:41: SQL実行: SELECT 1... 
2025-06-03T09:56:41: SQL実行成功: 結果行数=1
2025-06-03T09:56:41: SQL実行: 
2025-06-03T09:56:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:56:41:                ci.number as ca... 
2025-06-03T09:56:41: SQL実行成功: 結果行数=1
2025-06-03T09:56:56: SQL実行: 
2025-06-03T09:56:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:56:56:                ci.number as ca... 
2025-06-03T09:56:56: SQL実行成功: 結果行数=1
2025-06-03T09:57:11: SQL実行: SELECT 1... 
2025-06-03T09:57:11: SQL実行成功: 結果行数=1
2025-06-03T09:57:11: SQL実行: 
2025-06-03T09:57:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:57:11:                ci.number as ca... 
2025-06-03T09:57:11: SQL実行成功: 結果行数=1
2025-06-03T09:57:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:57:16.090Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:57:16: SQL実行成功: 結果行数=1
2025-06-03T09:57:16: [36m[2025-06-03T09:57:16.090Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:57:26: SQL実行: 
2025-06-03T09:57:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:57:26:                ci.number as ca... 
2025-06-03T09:57:26: SQL実行成功: 結果行数=1
[2025-06-03T09:57:27.061Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:57:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:57:27: [36m[2025-06-03T09:57:27.061Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:57:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:57:27: SQL実行成功: 結果行数=1
2025-06-03T09:57:27: SQL実行: 
2025-06-03T09:57:27:       SELECT 
2025-06-03T09:57:27:         COUNT(*) as total,
2025-06-03T09:57:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:57:27: SQL実行成功: 結果行数=1
2025-06-03T09:57:27: SQL実行: 
2025-06-03T09:57:27:       SELECT 
2025-06-03T09:57:27:         COUNT(*) as total_calls,
2025-06-03T09:57:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:57:27: SQL実行成功: 結果行数=1
[2025-06-03T09:57:27.065Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:57:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:57:27: [36m[2025-06-03T09:57:27.065Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:57:41: SQL実行: SELECT 1... 
2025-06-03T09:57:41: SQL実行成功: 結果行数=1
2025-06-03T09:57:41: SQL実行: 
2025-06-03T09:57:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:57:41:                ci.number as ca... 
2025-06-03T09:57:41: SQL実行成功: 結果行数=1
2025-06-03T09:57:56: SQL実行: 
2025-06-03T09:57:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:57:56:                ci.number as ca... 
2025-06-03T09:57:56: SQL実行成功: 結果行数=1
2025-06-03T09:58:11: SQL実行: SELECT 1... 
2025-06-03T09:58:11: SQL実行成功: 結果行数=1
2025-06-03T09:58:11: SQL実行: 
2025-06-03T09:58:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:58:11:                ci.number as ca... 
2025-06-03T09:58:11: SQL実行成功: 結果行数=1
2025-06-03T09:58:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:58:16.090Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:58:16: SQL実行成功: 結果行数=1
2025-06-03T09:58:16: [36m[2025-06-03T09:58:16.090Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:58:26: SQL実行: 
2025-06-03T09:58:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:58:26:                ci.number as ca... 
2025-06-03T09:58:26: SQL実行成功: 結果行数=1
[2025-06-03T09:58:27.104Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:58:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:58:27: [36m[2025-06-03T09:58:27.104Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:58:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:58:27: SQL実行成功: 結果行数=1
2025-06-03T09:58:27: SQL実行: 
2025-06-03T09:58:27:       SELECT 
2025-06-03T09:58:27:         COUNT(*) as total,
2025-06-03T09:58:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:58:27: SQL実行成功: 結果行数=1
2025-06-03T09:58:27: SQL実行: 
2025-06-03T09:58:27:       SELECT 
2025-06-03T09:58:27:         COUNT(*) as total_calls,
2025-06-03T09:58:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T09:58:27: SQL実行成功: 結果行数=1
[2025-06-03T09:58:27.108Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:58:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:58:27: [36m[2025-06-03T09:58:27.108Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:58:41: SQL実行: SELECT 1... 
2025-06-03T09:58:41: SQL実行成功: 結果行数=1
2025-06-03T09:58:41: SQL実行: 
2025-06-03T09:58:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:58:41:                ci.number as ca... 
2025-06-03T09:58:41: SQL実行成功: 結果行数=1
2025-06-03T09:58:56: SQL実行: 
2025-06-03T09:58:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:58:56:                ci.number as ca... 
2025-06-03T09:58:56: SQL実行成功: 結果行数=1
2025-06-03T09:59:11: SQL実行: SELECT 1... 
2025-06-03T09:59:11: SQL実行成功: 結果行数=1
2025-06-03T09:59:11: SQL実行: 
2025-06-03T09:59:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:59:11:                ci.number as ca... 
2025-06-03T09:59:11: SQL実行成功: 結果行数=1
2025-06-03T09:59:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T09:59:16.091Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:59:16: SQL実行成功: 結果行数=1
2025-06-03T09:59:16: [36m[2025-06-03T09:59:16.091Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T09:59:26: SQL実行: 
2025-06-03T09:59:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:59:26:                ci.number as ca... 
2025-06-03T09:59:26: SQL実行成功: 結果行数=1
[2025-06-03T09:59:27.050Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:59:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T09:59:27: [36m[2025-06-03T09:59:27.050Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T09:59:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T09:59:27: SQL実行成功: 結果行数=1
2025-06-03T09:59:27: SQL実行: 
2025-06-03T09:59:27:       SELECT 
2025-06-03T09:59:27:         COUNT(*) as total,
2025-06-03T09:59:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T09:59:27: SQL実行成功: 結果行数=1
2025-06-03T09:59:27: SQL実行: 
2025-06-03T09:59:27:       SELECT 
2025-06-03T09:59:27:         COUNT(*) as total_calls,
2025-06-03T09:59:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T09:59:27.054Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:59:27: SQL実行成功: 結果行数=1
2025-06-03T09:59:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T09:59:27: [36m[2025-06-03T09:59:27.054Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T09:59:41: SQL実行: SELECT 1... 
2025-06-03T09:59:41: SQL実行成功: 結果行数=1
2025-06-03T09:59:41: SQL実行: 
2025-06-03T09:59:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:59:41:                ci.number as ca... 
2025-06-03T09:59:41: SQL実行成功: 結果行数=1
2025-06-03T09:59:56: SQL実行: 
2025-06-03T09:59:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T09:59:56:                ci.number as ca... 
2025-06-03T09:59:56: SQL実行成功: 結果行数=1
2025-06-03T10:00:11: SQL実行: SELECT 1... 
2025-06-03T10:00:11: SQL実行成功: 結果行数=1
2025-06-03T10:00:11: SQL実行: 
2025-06-03T10:00:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:00:11:                ci.number as ca... 
2025-06-03T10:00:11: SQL実行成功: 結果行数=1
2025-06-03T10:00:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:00:16.091Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:00:16: SQL実行成功: 結果行数=1
2025-06-03T10:00:16: [36m[2025-06-03T10:00:16.091Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:00:26: SQL実行: 
2025-06-03T10:00:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:00:26:                ci.number as ca... 
2025-06-03T10:00:26: SQL実行成功: 結果行数=1
2025-06-03T10:00:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:00:27: [36m[2025-06-03T10:00:27.051Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
[2025-06-03T10:00:27.051Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
[2025-06-03T10:00:27.056Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:00:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:00:27: SQL実行成功: 結果行数=1
2025-06-03T10:00:27: SQL実行: 
2025-06-03T10:00:27:       SELECT 
2025-06-03T10:00:27:         COUNT(*) as total,
2025-06-03T10:00:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:00:27: SQL実行成功: 結果行数=1
2025-06-03T10:00:27: SQL実行: 
2025-06-03T10:00:27:       SELECT 
2025-06-03T10:00:27:         COUNT(*) as total_calls,
2025-06-03T10:00:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:00:27: SQL実行成功: 結果行数=1
2025-06-03T10:00:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:00:27: [36m[2025-06-03T10:00:27.056Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:00:41: SQL実行: SELECT 1... 
2025-06-03T10:00:41: SQL実行成功: 結果行数=1
2025-06-03T10:00:41: SQL実行: 
2025-06-03T10:00:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:00:41:                ci.number as ca... 
2025-06-03T10:00:41: SQL実行成功: 結果行数=1
2025-06-03T10:00:56: SQL実行: 
2025-06-03T10:00:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:00:56:                ci.number as ca... 
2025-06-03T10:00:56: SQL実行成功: 結果行数=1
2025-06-03T10:01:11: SQL実行: SELECT 1... 
2025-06-03T10:01:11: SQL実行成功: 結果行数=1
2025-06-03T10:01:11: SQL実行: 
2025-06-03T10:01:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:01:11:                ci.number as ca... 
2025-06-03T10:01:11: SQL実行成功: 結果行数=1
2025-06-03T10:01:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:01:16.092Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:01:16: SQL実行成功: 結果行数=1
2025-06-03T10:01:16: [36m[2025-06-03T10:01:16.092Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:01:26: SQL実行: 
2025-06-03T10:01:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:01:26:                ci.number as ca... 
2025-06-03T10:01:26: SQL実行成功: 結果行数=1
[2025-06-03T10:01:27.060Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:01:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:01:27: [36m[2025-06-03T10:01:27.060Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:01:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:01:27: SQL実行成功: 結果行数=1
2025-06-03T10:01:27: SQL実行: 
2025-06-03T10:01:27:       SELECT 
2025-06-03T10:01:27:         COUNT(*) as total,
2025-06-03T10:01:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:01:27: SQL実行成功: 結果行数=1
2025-06-03T10:01:27: SQL実行: 
2025-06-03T10:01:27:       SELECT 
2025-06-03T10:01:27:         COUNT(*) as total_calls,
2025-06-03T10:01:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:01:27: SQL実行成功: 結果行数=1
[2025-06-03T10:01:27.064Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:01:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:01:27: [36m[2025-06-03T10:01:27.064Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:01:41: SQL実行: SELECT 1... 
2025-06-03T10:01:41: SQL実行成功: 結果行数=1
2025-06-03T10:01:41: SQL実行: 
2025-06-03T10:01:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:01:41:                ci.number as ca... 
2025-06-03T10:01:41: SQL実行成功: 結果行数=1
2025-06-03T10:01:56: SQL実行: 
2025-06-03T10:01:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:01:56:                ci.number as ca... 
2025-06-03T10:01:56: SQL実行成功: 結果行数=1
2025-06-03T10:02:11: SQL実行: SELECT 1... 
2025-06-03T10:02:11: SQL実行成功: 結果行数=1
2025-06-03T10:02:11: SQL実行: 
2025-06-03T10:02:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:02:11:                ci.number as ca... 
2025-06-03T10:02:11: SQL実行成功: 結果行数=1
2025-06-03T10:02:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:02:16.092Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:02:16: SQL実行成功: 結果行数=1
2025-06-03T10:02:16: [36m[2025-06-03T10:02:16.092Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:02:26: SQL実行: 
2025-06-03T10:02:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:02:26:                ci.number as ca... 
2025-06-03T10:02:26: SQL実行成功: 結果行数=1
[2025-06-03T10:02:27.067Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:02:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:02:27: [36m[2025-06-03T10:02:27.067Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:02:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:02:27: SQL実行成功: 結果行数=1
2025-06-03T10:02:27: SQL実行: 
2025-06-03T10:02:27:       SELECT 
2025-06-03T10:02:27:         COUNT(*) as total,
2025-06-03T10:02:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:02:27: SQL実行成功: 結果行数=1
2025-06-03T10:02:27: SQL実行: 
2025-06-03T10:02:27:       SELECT 
2025-06-03T10:02:27:         COUNT(*) as total_calls,
2025-06-03T10:02:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:02:27.070Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:02:27: SQL実行成功: 結果行数=1
2025-06-03T10:02:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:02:27: [36m[2025-06-03T10:02:27.070Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:02:41: SQL実行: SELECT 1... 
2025-06-03T10:02:41: SQL実行成功: 結果行数=1
2025-06-03T10:02:41: SQL実行: 
2025-06-03T10:02:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:02:41:                ci.number as ca... 
2025-06-03T10:02:41: SQL実行成功: 結果行数=1
2025-06-03T10:02:56: SQL実行: 
2025-06-03T10:02:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:02:56:                ci.number as ca... 
2025-06-03T10:02:56: SQL実行成功: 結果行数=1
2025-06-03T10:03:11: SQL実行: SELECT 1... 
2025-06-03T10:03:11: SQL実行成功: 結果行数=1
2025-06-03T10:03:11: SQL実行: 
2025-06-03T10:03:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:03:11:                ci.number as ca... 
2025-06-03T10:03:11: SQL実行成功: 結果行数=1
2025-06-03T10:03:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:03:16.092Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:03:16: SQL実行成功: 結果行数=1
2025-06-03T10:03:16: [36m[2025-06-03T10:03:16.092Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:03:26: SQL実行: 
2025-06-03T10:03:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:03:26:                ci.number as ca... 
2025-06-03T10:03:26: SQL実行成功: 結果行数=1
[2025-06-03T10:03:27.194Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:03:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:03:27: [36m[2025-06-03T10:03:27.194Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:03:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-03T10:03:27.197Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:03:27: SQL実行成功: 結果行数=1
2025-06-03T10:03:27: SQL実行: 
2025-06-03T10:03:27:       SELECT 
2025-06-03T10:03:27:         COUNT(*) as total,
2025-06-03T10:03:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:03:27: SQL実行成功: 結果行数=1
2025-06-03T10:03:27: SQL実行: 
2025-06-03T10:03:27:       SELECT 
2025-06-03T10:03:27:         COUNT(*) as total_calls,
2025-06-03T10:03:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:03:27: SQL実行成功: 結果行数=1
2025-06-03T10:03:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:03:27: [36m[2025-06-03T10:03:27.197Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:03:41: SQL実行: SELECT 1... 
2025-06-03T10:03:41: SQL実行成功: 結果行数=1
2025-06-03T10:03:41: SQL実行: 
2025-06-03T10:03:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:03:41:                ci.number as ca... 
2025-06-03T10:03:41: SQL実行成功: 結果行数=1
2025-06-03T10:03:56: SQL実行: 
2025-06-03T10:03:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:03:56:                ci.number as ca... 
2025-06-03T10:03:56: SQL実行成功: 結果行数=1
2025-06-03T10:04:11: SQL実行: SELECT 1... 
2025-06-03T10:04:11: SQL実行成功: 結果行数=1
2025-06-03T10:04:11: SQL実行: 
2025-06-03T10:04:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:04:11:                ci.number as ca... 
2025-06-03T10:04:11: SQL実行成功: 結果行数=1
2025-06-03T10:04:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:04:16.092Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:04:16: SQL実行成功: 結果行数=1
2025-06-03T10:04:16: [36m[2025-06-03T10:04:16.092Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:04:26: SQL実行: 
2025-06-03T10:04:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:04:26:                ci.number as ca... 
2025-06-03T10:04:26: SQL実行成功: 結果行数=1
[2025-06-03T10:04:27.092Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:04:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:04:27: [36m[2025-06-03T10:04:27.092Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:04:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:04:27: SQL実行成功: 結果行数=1
2025-06-03T10:04:27: SQL実行: 
2025-06-03T10:04:27:       SELECT 
2025-06-03T10:04:27:         COUNT(*) as total,
2025-06-03T10:04:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:04:27: SQL実行成功: 結果行数=1
2025-06-03T10:04:27: SQL実行: 
2025-06-03T10:04:27:       SELECT 
2025-06-03T10:04:27:         COUNT(*) as total_calls,
2025-06-03T10:04:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:04:27: SQL実行成功: 結果行数=1
[2025-06-03T10:04:27.095Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:04:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:04:27: [36m[2025-06-03T10:04:27.095Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:04:41: SQL実行: SELECT 1... 
2025-06-03T10:04:41: SQL実行成功: 結果行数=1
2025-06-03T10:04:41: SQL実行: 
2025-06-03T10:04:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:04:41:                ci.number as ca... 
2025-06-03T10:04:41: SQL実行成功: 結果行数=1
2025-06-03T10:04:56: SQL実行: 
2025-06-03T10:04:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:04:56:                ci.number as ca... 
2025-06-03T10:04:56: SQL実行成功: 結果行数=1
2025-06-03T10:05:11: SQL実行: SELECT 1... 
2025-06-03T10:05:11: SQL実行成功: 結果行数=1
2025-06-03T10:05:11: SQL実行: 
2025-06-03T10:05:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:05:11:                ci.number as ca... 
2025-06-03T10:05:11: SQL実行成功: 結果行数=1
2025-06-03T10:05:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:05:16.093Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:05:16: SQL実行成功: 結果行数=1
2025-06-03T10:05:16: [36m[2025-06-03T10:05:16.093Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:05:26: SQL実行: 
2025-06-03T10:05:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:05:26:                ci.number as ca... 
2025-06-03T10:05:26: SQL実行成功: 結果行数=1
[2025-06-03T10:05:27.091Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:05:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:05:27: [36m[2025-06-03T10:05:27.091Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:05:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:05:27: SQL実行成功: 結果行数=1
2025-06-03T10:05:27: SQL実行: 
2025-06-03T10:05:27:       SELECT 
2025-06-03T10:05:27:         COUNT(*) as total,
2025-06-03T10:05:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:05:27: SQL実行成功: 結果行数=1
2025-06-03T10:05:27: SQL実行: 
2025-06-03T10:05:27:       SELECT 
2025-06-03T10:05:27:         COUNT(*) as total_calls,
2025-06-03T10:05:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:05:27.095Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:05:27: SQL実行成功: 結果行数=1
2025-06-03T10:05:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:05:27: [36m[2025-06-03T10:05:27.095Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:05:41: SQL実行: SELECT 1... 
2025-06-03T10:05:41: SQL実行成功: 結果行数=1
2025-06-03T10:05:41: SQL実行: 
2025-06-03T10:05:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:05:41:                ci.number as ca... 
2025-06-03T10:05:41: SQL実行成功: 結果行数=1
2025-06-03T10:05:56: SQL実行: 
2025-06-03T10:05:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:05:56:                ci.number as ca... 
2025-06-03T10:05:56: SQL実行成功: 結果行数=1
2025-06-03T10:06:11: SQL実行: SELECT 1... 
2025-06-03T10:06:11: SQL実行成功: 結果行数=1
2025-06-03T10:06:11: SQL実行: 
2025-06-03T10:06:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:06:11:                ci.number as ca... 
2025-06-03T10:06:11: SQL実行成功: 結果行数=1
2025-06-03T10:06:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:06:16.093Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:06:16: SQL実行成功: 結果行数=1
2025-06-03T10:06:16: [36m[2025-06-03T10:06:16.093Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:06:26: SQL実行: 
2025-06-03T10:06:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:06:26:                ci.number as ca... 
2025-06-03T10:06:26: SQL実行成功: 結果行数=1
[2025-06-03T10:06:27.090Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:06:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:06:27: [36m[2025-06-03T10:06:27.090Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:06:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:06:27: SQL実行成功: 結果行数=1
2025-06-03T10:06:27: SQL実行: 
2025-06-03T10:06:27:       SELECT 
2025-06-03T10:06:27:         COUNT(*) as total,
2025-06-03T10:06:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:06:27: SQL実行成功: 結果行数=1
2025-06-03T10:06:27: SQL実行: 
2025-06-03T10:06:27:       SELECT 
2025-06-03T10:06:27:         COUNT(*) as total_calls,
2025-06-03T10:06:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:06:27: SQL実行成功: 結果行数=1
[2025-06-03T10:06:27.093Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:06:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:06:27: [36m[2025-06-03T10:06:27.093Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:06:41: SQL実行: SELECT 1... 
2025-06-03T10:06:41: SQL実行成功: 結果行数=1
2025-06-03T10:06:41: SQL実行: 
2025-06-03T10:06:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:06:41:                ci.number as ca... 
2025-06-03T10:06:41: SQL実行成功: 結果行数=1
2025-06-03T10:06:56: SQL実行: 
2025-06-03T10:06:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:06:56:                ci.number as ca... 
2025-06-03T10:06:56: SQL実行成功: 結果行数=1
2025-06-03T10:07:11: SQL実行: SELECT 1... 
2025-06-03T10:07:11: SQL実行成功: 結果行数=1
2025-06-03T10:07:11: SQL実行: 
2025-06-03T10:07:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:07:11:                ci.number as ca... 
2025-06-03T10:07:11: SQL実行成功: 結果行数=1
2025-06-03T10:07:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:07:16.093Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:07:16: SQL実行成功: 結果行数=1
2025-06-03T10:07:16: [36m[2025-06-03T10:07:16.093Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:07:26: SQL実行: 
2025-06-03T10:07:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:07:26:                ci.number as ca... 
2025-06-03T10:07:26: SQL実行成功: 結果行数=1
[2025-06-03T10:07:27.095Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:07:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:07:27: [36m[2025-06-03T10:07:27.095Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:07:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:07:27: SQL実行成功: 結果行数=1
2025-06-03T10:07:27: SQL実行: 
2025-06-03T10:07:27:       SELECT 
2025-06-03T10:07:27:         COUNT(*) as total,
2025-06-03T10:07:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:07:27: SQL実行成功: 結果行数=1
2025-06-03T10:07:27: SQL実行: 
2025-06-03T10:07:27:       SELECT 
2025-06-03T10:07:27:         COUNT(*) as total_calls,
2025-06-03T10:07:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:07:27: SQL実行成功: 結果行数=1
[2025-06-03T10:07:27.099Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:07:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:07:27: [36m[2025-06-03T10:07:27.099Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:07:41: SQL実行: SELECT 1... 
2025-06-03T10:07:41: SQL実行成功: 結果行数=1
2025-06-03T10:07:41: SQL実行: 
2025-06-03T10:07:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:07:41:                ci.number as ca... 
2025-06-03T10:07:41: SQL実行成功: 結果行数=1
2025-06-03T10:07:56: SQL実行: 
2025-06-03T10:07:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:07:56:                ci.number as ca... 
2025-06-03T10:07:56: SQL実行成功: 結果行数=1
2025-06-03T10:08:11: SQL実行: SELECT 1... 
2025-06-03T10:08:11: SQL実行成功: 結果行数=1
2025-06-03T10:08:11: SQL実行: 
2025-06-03T10:08:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:08:11:                ci.number as ca... 
2025-06-03T10:08:11: SQL実行成功: 結果行数=1
2025-06-03T10:08:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:08:16.093Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:08:16: SQL実行成功: 結果行数=1
2025-06-03T10:08:16: [36m[2025-06-03T10:08:16.093Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:08:26: SQL実行: 
2025-06-03T10:08:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:08:26:                ci.number as ca... 
2025-06-03T10:08:26: SQL実行成功: 結果行数=1
[2025-06-03T10:08:27.147Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:08:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:08:27: [36m[2025-06-03T10:08:27.147Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:08:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:08:27: SQL実行成功: 結果行数=1
2025-06-03T10:08:27: SQL実行: 
2025-06-03T10:08:27:       SELECT 
2025-06-03T10:08:27:         COUNT(*) as total,
2025-06-03T10:08:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:08:27: SQL実行成功: 結果行数=1
2025-06-03T10:08:27: SQL実行: 
2025-06-03T10:08:27:       SELECT 
2025-06-03T10:08:27:         COUNT(*) as total_calls,
2025-06-03T10:08:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:08:27.151Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:08:27: SQL実行成功: 結果行数=1
2025-06-03T10:08:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:08:27: [36m[2025-06-03T10:08:27.151Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:08:41: SQL実行: SELECT 1... 
2025-06-03T10:08:41: SQL実行成功: 結果行数=1
2025-06-03T10:08:41: SQL実行: 
2025-06-03T10:08:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:08:41:                ci.number as ca... 
2025-06-03T10:08:41: SQL実行成功: 結果行数=1
2025-06-03T10:08:56: SQL実行: 
2025-06-03T10:08:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:08:56:                ci.number as ca... 
2025-06-03T10:08:56: SQL実行成功: 結果行数=1
2025-06-03T10:09:11: SQL実行: SELECT 1... 
2025-06-03T10:09:11: SQL実行成功: 結果行数=1
2025-06-03T10:09:11: SQL実行: 
2025-06-03T10:09:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:09:11:                ci.number as ca... 
2025-06-03T10:09:11: SQL実行成功: 結果行数=1
2025-06-03T10:09:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:09:16.093Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:09:16: SQL実行成功: 結果行数=1
2025-06-03T10:09:16: [36m[2025-06-03T10:09:16.093Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:09:26: SQL実行: 
2025-06-03T10:09:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:09:26:                ci.number as ca... 
2025-06-03T10:09:26: SQL実行成功: 結果行数=1
[2025-06-03T10:09:27.117Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:09:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:09:27: [36m[2025-06-03T10:09:27.117Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:09:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:09:27: SQL実行成功: 結果行数=1
2025-06-03T10:09:27: SQL実行: 
2025-06-03T10:09:27:       SELECT 
2025-06-03T10:09:27:         COUNT(*) as total,
2025-06-03T10:09:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:09:27: SQL実行成功: 結果行数=1
2025-06-03T10:09:27: SQL実行: 
2025-06-03T10:09:27:       SELECT 
2025-06-03T10:09:27:         COUNT(*) as total_calls,
2025-06-03T10:09:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:09:27.121Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:09:27: SQL実行成功: 結果行数=1
2025-06-03T10:09:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:09:27: [36m[2025-06-03T10:09:27.121Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:09:41: SQL実行: SELECT 1... 
2025-06-03T10:09:41: SQL実行成功: 結果行数=1
2025-06-03T10:09:41: SQL実行: 
2025-06-03T10:09:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:09:41:                ci.number as ca... 
2025-06-03T10:09:41: SQL実行成功: 結果行数=1
2025-06-03T10:09:56: SQL実行: 
2025-06-03T10:09:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:09:56:                ci.number as ca... 
2025-06-03T10:09:56: SQL実行成功: 結果行数=1
2025-06-03T10:10:11: SQL実行: SELECT 1... 
2025-06-03T10:10:11: SQL実行成功: 結果行数=1
2025-06-03T10:10:11: SQL実行: 
2025-06-03T10:10:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:10:11:                ci.number as ca... 
2025-06-03T10:10:11: SQL実行成功: 結果行数=1
2025-06-03T10:10:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:10:16.094Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:10:16: SQL実行成功: 結果行数=1
2025-06-03T10:10:16: [36m[2025-06-03T10:10:16.094Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:10:26: SQL実行: 
2025-06-03T10:10:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:10:26:                ci.number as ca... 
2025-06-03T10:10:26: SQL実行成功: 結果行数=1
[2025-06-03T10:10:27.092Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:10:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:10:27: [36m[2025-06-03T10:10:27.092Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:10:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:10:27: SQL実行成功: 結果行数=1
2025-06-03T10:10:27: SQL実行: 
2025-06-03T10:10:27:       SELECT 
2025-06-03T10:10:27:         COUNT(*) as total,
2025-06-03T10:10:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:10:27: SQL実行成功: 結果行数=1
2025-06-03T10:10:27: SQL実行: 
2025-06-03T10:10:27:       SELECT 
2025-06-03T10:10:27:         COUNT(*) as total_calls,
2025-06-03T10:10:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:10:27: SQL実行成功: 結果行数=1
[2025-06-03T10:10:27.095Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:10:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:10:27: [36m[2025-06-03T10:10:27.095Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:10:41: SQL実行: SELECT 1... 
2025-06-03T10:10:41: SQL実行成功: 結果行数=1
2025-06-03T10:10:41: SQL実行: 
2025-06-03T10:10:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:10:41:                ci.number as ca... 
2025-06-03T10:10:41: SQL実行成功: 結果行数=1
2025-06-03T10:10:56: SQL実行: 
2025-06-03T10:10:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:10:56:                ci.number as ca... 
2025-06-03T10:10:56: SQL実行成功: 結果行数=1
2025-06-03T10:11:11: SQL実行: SELECT 1... 
2025-06-03T10:11:11: SQL実行成功: 結果行数=1
2025-06-03T10:11:11: SQL実行: 
2025-06-03T10:11:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:11:11:                ci.number as ca... 
2025-06-03T10:11:11: SQL実行成功: 結果行数=1
2025-06-03T10:11:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:11:16.094Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:11:16: SQL実行成功: 結果行数=1
2025-06-03T10:11:16: [36m[2025-06-03T10:11:16.094Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:11:26: SQL実行: 
2025-06-03T10:11:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:11:26:                ci.number as ca... 
2025-06-03T10:11:26: SQL実行成功: 結果行数=1
[2025-06-03T10:11:27.098Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:11:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:11:27: [36m[2025-06-03T10:11:27.098Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:11:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:11:27: SQL実行成功: 結果行数=1
2025-06-03T10:11:27: SQL実行: 
2025-06-03T10:11:27:       SELECT 
2025-06-03T10:11:27:         COUNT(*) as total,
2025-06-03T10:11:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:11:27: SQL実行成功: 結果行数=1
2025-06-03T10:11:27: SQL実行: 
2025-06-03T10:11:27:       SELECT 
2025-06-03T10:11:27:         COUNT(*) as total_calls,
2025-06-03T10:11:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:11:27.103Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:11:27: SQL実行成功: 結果行数=1
2025-06-03T10:11:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:11:27: [36m[2025-06-03T10:11:27.103Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:11:41: SQL実行: SELECT 1... 
2025-06-03T10:11:41: SQL実行成功: 結果行数=1
2025-06-03T10:11:41: SQL実行: 
2025-06-03T10:11:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:11:41:                ci.number as ca... 
2025-06-03T10:11:41: SQL実行成功: 結果行数=1
2025-06-03T10:11:56: SQL実行: 
2025-06-03T10:11:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:11:56:                ci.number as ca... 
2025-06-03T10:11:56: SQL実行成功: 結果行数=1
2025-06-03T10:12:11: SQL実行: SELECT 1... 
2025-06-03T10:12:11: SQL実行成功: 結果行数=1
2025-06-03T10:12:11: SQL実行: 
2025-06-03T10:12:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:12:11:                ci.number as ca... 
2025-06-03T10:12:11: SQL実行成功: 結果行数=1
2025-06-03T10:12:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:12:16.094Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:12:16: SQL実行成功: 結果行数=1
2025-06-03T10:12:16: [36m[2025-06-03T10:12:16.094Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:12:26: SQL実行: 
2025-06-03T10:12:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:12:26:                ci.number as ca... 
2025-06-03T10:12:26: SQL実行成功: 結果行数=1
[2025-06-03T10:12:27.123Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:12:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:12:27: [36m[2025-06-03T10:12:27.123Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:12:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:12:27: SQL実行成功: 結果行数=1
2025-06-03T10:12:27: SQL実行: 
2025-06-03T10:12:27:       SELECT 
2025-06-03T10:12:27:         COUNT(*) as total,
2025-06-03T10:12:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-03T10:12:27.127Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:12:27: SQL実行成功: 結果行数=1
2025-06-03T10:12:27: SQL実行: 
2025-06-03T10:12:27:       SELECT 
2025-06-03T10:12:27:         COUNT(*) as total_calls,
2025-06-03T10:12:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:12:27: SQL実行成功: 結果行数=1
2025-06-03T10:12:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:12:27: [36m[2025-06-03T10:12:27.127Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:12:41: SQL実行: SELECT 1... 
2025-06-03T10:12:41: SQL実行成功: 結果行数=1
2025-06-03T10:12:41: SQL実行: 
2025-06-03T10:12:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:12:41:                ci.number as ca... 
2025-06-03T10:12:41: SQL実行成功: 結果行数=1
2025-06-03T10:12:56: SQL実行: 
2025-06-03T10:12:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:12:56:                ci.number as ca... 
2025-06-03T10:12:56: SQL実行成功: 結果行数=1
2025-06-03T10:13:11: SQL実行: SELECT 1... 
2025-06-03T10:13:11: SQL実行成功: 結果行数=1
2025-06-03T10:13:11: SQL実行: 
2025-06-03T10:13:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:13:11:                ci.number as ca... 
2025-06-03T10:13:11: SQL実行成功: 結果行数=1
2025-06-03T10:13:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:13:16.094Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:13:16: SQL実行成功: 結果行数=1
2025-06-03T10:13:16: [36m[2025-06-03T10:13:16.094Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:13:26: SQL実行: 
2025-06-03T10:13:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:13:26:                ci.number as ca... 
2025-06-03T10:13:26: SQL実行成功: 結果行数=1
[2025-06-03T10:13:27.045Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:13:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:13:27: [36m[2025-06-03T10:13:27.045Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:13:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:13:27: SQL実行成功: 結果行数=1
2025-06-03T10:13:27: SQL実行: 
2025-06-03T10:13:27:       SELECT 
2025-06-03T10:13:27:         COUNT(*) as total,
2025-06-03T10:13:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:13:27: SQL実行成功: 結果行数=1
2025-06-03T10:13:27: SQL実行: 
2025-06-03T10:13:27:       SELECT 
2025-06-03T10:13:27:         COUNT(*) as total_calls,
2025-06-03T10:13:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:13:27.048Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:13:27: SQL実行成功: 結果行数=1
2025-06-03T10:13:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:13:27: [36m[2025-06-03T10:13:27.048Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:13:41: SQL実行: SELECT 1... 
2025-06-03T10:13:41: SQL実行成功: 結果行数=1
2025-06-03T10:13:41: SQL実行: 
2025-06-03T10:13:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:13:41:                ci.number as ca... 
2025-06-03T10:13:41: SQL実行成功: 結果行数=1
2025-06-03T10:13:56: SQL実行: 
2025-06-03T10:13:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:13:56:                ci.number as ca... 
2025-06-03T10:13:56: SQL実行成功: 結果行数=1
2025-06-03T10:14:11: SQL実行: SELECT 1... 
2025-06-03T10:14:11: SQL実行成功: 結果行数=1
2025-06-03T10:14:11: SQL実行: 
2025-06-03T10:14:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:14:11:                ci.number as ca... 
2025-06-03T10:14:11: SQL実行成功: 結果行数=1
2025-06-03T10:14:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:14:16.094Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:14:16: SQL実行成功: 結果行数=1
2025-06-03T10:14:16: [36m[2025-06-03T10:14:16.094Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:14:26: SQL実行: 
2025-06-03T10:14:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:14:26:                ci.number as ca... 
2025-06-03T10:14:26: SQL実行成功: 結果行数=1
[2025-06-03T10:14:27.054Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:14:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:14:27: [36m[2025-06-03T10:14:27.054Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:14:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:14:27: SQL実行成功: 結果行数=1
2025-06-03T10:14:27: SQL実行: 
2025-06-03T10:14:27:       SELECT 
2025-06-03T10:14:27:         COUNT(*) as total,
2025-06-03T10:14:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:14:27: SQL実行成功: 結果行数=1
2025-06-03T10:14:27: SQL実行: 
2025-06-03T10:14:27:       SELECT 
2025-06-03T10:14:27:         COUNT(*) as total_calls,
2025-06-03T10:14:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:14:27: SQL実行成功: 結果行数=1
[2025-06-03T10:14:27.057Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:14:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:14:27: [36m[2025-06-03T10:14:27.057Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:14:41: SQL実行: SELECT 1... 
2025-06-03T10:14:41: SQL実行成功: 結果行数=1
2025-06-03T10:14:41: SQL実行: 
2025-06-03T10:14:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:14:41:                ci.number as ca... 
2025-06-03T10:14:41: SQL実行成功: 結果行数=1
2025-06-03T10:14:56: SQL実行: 
2025-06-03T10:14:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:14:56:                ci.number as ca... 
2025-06-03T10:14:56: SQL実行成功: 結果行数=1
2025-06-03T10:15:11: SQL実行: SELECT 1... 
2025-06-03T10:15:11: SQL実行成功: 結果行数=1
2025-06-03T10:15:11: SQL実行: 
2025-06-03T10:15:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:15:11:                ci.number as ca... 
2025-06-03T10:15:11: SQL実行成功: 結果行数=1
2025-06-03T10:15:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:15:16.094Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:15:16: SQL実行成功: 結果行数=1
2025-06-03T10:15:16: [36m[2025-06-03T10:15:16.094Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:15:26: SQL実行: 
2025-06-03T10:15:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:15:26:                ci.number as ca... 
2025-06-03T10:15:26: SQL実行成功: 結果行数=1
[2025-06-03T10:15:27.039Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:15:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:15:27: [36m[2025-06-03T10:15:27.039Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:15:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:15:27: SQL実行成功: 結果行数=1
2025-06-03T10:15:27: SQL実行: 
2025-06-03T10:15:27:       SELECT 
2025-06-03T10:15:27:         COUNT(*) as total,
2025-06-03T10:15:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:15:27: SQL実行成功: 結果行数=1
2025-06-03T10:15:27: SQL実行: 
2025-06-03T10:15:27:       SELECT 
2025-06-03T10:15:27:         COUNT(*) as total_calls,
2025-06-03T10:15:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:15:27: SQL実行成功: 結果行数=1
[2025-06-03T10:15:27.043Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:15:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:15:27: [36m[2025-06-03T10:15:27.043Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:15:41: SQL実行: SELECT 1... 
2025-06-03T10:15:41: SQL実行成功: 結果行数=1
2025-06-03T10:15:41: SQL実行: 
2025-06-03T10:15:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:15:41:                ci.number as ca... 
2025-06-03T10:15:41: SQL実行成功: 結果行数=1
2025-06-03T10:15:56: SQL実行: 
2025-06-03T10:15:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:15:56:                ci.number as ca... 
2025-06-03T10:15:56: SQL実行成功: 結果行数=1
2025-06-03T10:16:11: SQL実行: SELECT 1... 
2025-06-03T10:16:11: SQL実行成功: 結果行数=1
2025-06-03T10:16:11: SQL実行: 
2025-06-03T10:16:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:16:11:                ci.number as ca... 
2025-06-03T10:16:11: SQL実行成功: 結果行数=1
2025-06-03T10:16:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:16:16.096Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:16:16: SQL実行成功: 結果行数=1
2025-06-03T10:16:16: [36m[2025-06-03T10:16:16.096Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:16:26: SQL実行: 
2025-06-03T10:16:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:16:26:                ci.number as ca... 
2025-06-03T10:16:26: SQL実行成功: 結果行数=1
[2025-06-03T10:16:27.039Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:16:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:16:27: [36m[2025-06-03T10:16:27.039Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:16:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:16:27: SQL実行成功: 結果行数=1
2025-06-03T10:16:27: SQL実行: 
2025-06-03T10:16:27:       SELECT 
2025-06-03T10:16:27:         COUNT(*) as total,
2025-06-03T10:16:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:16:27: SQL実行成功: 結果行数=1
2025-06-03T10:16:27: SQL実行: 
2025-06-03T10:16:27:       SELECT 
2025-06-03T10:16:27:         COUNT(*) as total_calls,
2025-06-03T10:16:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:16:27.043Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:16:27: SQL実行成功: 結果行数=1
2025-06-03T10:16:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:16:27: [36m[2025-06-03T10:16:27.043Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:16:41: SQL実行: SELECT 1... 
2025-06-03T10:16:41: SQL実行成功: 結果行数=1
2025-06-03T10:16:41: SQL実行: 
2025-06-03T10:16:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:16:41:                ci.number as ca... 
2025-06-03T10:16:41: SQL実行成功: 結果行数=1
2025-06-03T10:16:56: SQL実行: 
2025-06-03T10:16:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:16:56:                ci.number as ca... 
2025-06-03T10:16:56: SQL実行成功: 結果行数=1
2025-06-03T10:17:11: SQL実行: SELECT 1... 
2025-06-03T10:17:11: SQL実行成功: 結果行数=1
2025-06-03T10:17:11: SQL実行: 
2025-06-03T10:17:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:17:11:                ci.number as ca... 
2025-06-03T10:17:11: SQL実行成功: 結果行数=1
2025-06-03T10:17:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:17:16.095Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:17:16: SQL実行成功: 結果行数=1
2025-06-03T10:17:16: [36m[2025-06-03T10:17:16.095Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:17:26: SQL実行: 
2025-06-03T10:17:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:17:26:                ci.number as ca... 
2025-06-03T10:17:26: SQL実行成功: 結果行数=1
[2025-06-03T10:17:27.103Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:17:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:17:27: [36m[2025-06-03T10:17:27.103Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:17:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:17:27: SQL実行成功: 結果行数=1
2025-06-03T10:17:27: SQL実行: 
2025-06-03T10:17:27:       SELECT 
2025-06-03T10:17:27:         COUNT(*) as total,
2025-06-03T10:17:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:17:27: SQL実行成功: 結果行数=1
2025-06-03T10:17:27: SQL実行: 
2025-06-03T10:17:27:       SELECT 
2025-06-03T10:17:27:         COUNT(*) as total_calls,
2025-06-03T10:17:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:17:27: SQL実行成功: 結果行数=1
[2025-06-03T10:17:27.107Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:17:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:17:27: [36m[2025-06-03T10:17:27.107Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:17:41: SQL実行: SELECT 1... 
2025-06-03T10:17:41: SQL実行成功: 結果行数=1
2025-06-03T10:17:41: SQL実行: 
2025-06-03T10:17:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:17:41:                ci.number as ca... 
2025-06-03T10:17:41: SQL実行成功: 結果行数=1
2025-06-03T10:17:56: SQL実行: 
2025-06-03T10:17:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:17:56:                ci.number as ca... 
2025-06-03T10:17:56: SQL実行成功: 結果行数=1
2025-06-03T10:18:11: SQL実行: SELECT 1... 
2025-06-03T10:18:11: SQL実行成功: 結果行数=1
2025-06-03T10:18:11: SQL実行: 
2025-06-03T10:18:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:18:11:                ci.number as ca... 
2025-06-03T10:18:11: SQL実行成功: 結果行数=1
2025-06-03T10:18:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:18:16.095Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:18:16: SQL実行成功: 結果行数=1
2025-06-03T10:18:16: [36m[2025-06-03T10:18:16.095Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:18:26: SQL実行: 
2025-06-03T10:18:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:18:26:                ci.number as ca... 
2025-06-03T10:18:26: SQL実行成功: 結果行数=1
[2025-06-03T10:18:27.037Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:18:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:18:27: [36m[2025-06-03T10:18:27.037Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:18:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:18:27: SQL実行成功: 結果行数=1
2025-06-03T10:18:27: SQL実行: 
2025-06-03T10:18:27:       SELECT 
2025-06-03T10:18:27:         COUNT(*) as total,
2025-06-03T10:18:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:18:27: SQL実行成功: 結果行数=1
2025-06-03T10:18:27: SQL実行: 
2025-06-03T10:18:27:       SELECT 
2025-06-03T10:18:27:         COUNT(*) as total_calls,
2025-06-03T10:18:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:18:27.042Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:18:27: SQL実行成功: 結果行数=1
2025-06-03T10:18:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:18:27: [36m[2025-06-03T10:18:27.042Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:18:41: SQL実行: SELECT 1... 
2025-06-03T10:18:41: SQL実行成功: 結果行数=1
2025-06-03T10:18:41: SQL実行: 
2025-06-03T10:18:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:18:41:                ci.number as ca... 
2025-06-03T10:18:41: SQL実行成功: 結果行数=1
2025-06-03T10:18:56: SQL実行: 
2025-06-03T10:18:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:18:56:                ci.number as ca... 
2025-06-03T10:18:56: SQL実行成功: 結果行数=1
2025-06-03T10:19:11: SQL実行: SELECT 1... 
2025-06-03T10:19:11: SQL実行成功: 結果行数=1
2025-06-03T10:19:11: SQL実行: 
2025-06-03T10:19:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:19:11:                ci.number as ca... 
2025-06-03T10:19:11: SQL実行成功: 結果行数=1
2025-06-03T10:19:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:19:16.097Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:19:16: SQL実行成功: 結果行数=1
2025-06-03T10:19:16: [36m[2025-06-03T10:19:16.097Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:19:26: SQL実行: 
2025-06-03T10:19:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:19:26:                ci.number as ca... 
2025-06-03T10:19:26: SQL実行成功: 結果行数=1
[2025-06-03T10:19:27.043Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:19:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:19:27: [36m[2025-06-03T10:19:27.043Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:19:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:19:27: SQL実行成功: 結果行数=1
2025-06-03T10:19:27: SQL実行: 
2025-06-03T10:19:27:       SELECT 
2025-06-03T10:19:27:         COUNT(*) as total,
2025-06-03T10:19:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:19:27: SQL実行成功: 結果行数=1
2025-06-03T10:19:27: SQL実行: 
2025-06-03T10:19:27:       SELECT 
2025-06-03T10:19:27:         COUNT(*) as total_calls,
2025-06-03T10:19:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:19:27.048Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:19:27: SQL実行成功: 結果行数=1
2025-06-03T10:19:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:19:27: [36m[2025-06-03T10:19:27.048Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:19:41: SQL実行: SELECT 1... 
2025-06-03T10:19:41: SQL実行成功: 結果行数=1
2025-06-03T10:19:41: SQL実行: 
2025-06-03T10:19:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:19:41:                ci.number as ca... 
2025-06-03T10:19:41: SQL実行成功: 結果行数=1
2025-06-03T10:19:56: SQL実行: 
2025-06-03T10:19:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:19:56:                ci.number as ca... 
2025-06-03T10:19:56: SQL実行成功: 結果行数=1
2025-06-03T10:20:04: GET / - Origin: none
2025-06-03T10:20:11: SQL実行: SELECT 1... 
2025-06-03T10:20:11: SQL実行成功: 結果行数=1
2025-06-03T10:20:11: SQL実行: 
2025-06-03T10:20:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:20:11:                ci.number as ca... 
2025-06-03T10:20:11: SQL実行成功: 結果行数=1
2025-06-03T10:20:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:20:16.098Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:20:16: SQL実行成功: 結果行数=1
2025-06-03T10:20:16: [36m[2025-06-03T10:20:16.098Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:20:26: SQL実行: 
2025-06-03T10:20:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:20:26:                ci.number as ca... 
2025-06-03T10:20:26: SQL実行成功: 結果行数=1
[2025-06-03T10:20:27.050Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:20:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:20:27: [36m[2025-06-03T10:20:27.050Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:20:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:20:27: SQL実行成功: 結果行数=1
2025-06-03T10:20:27: SQL実行: 
2025-06-03T10:20:27:       SELECT 
2025-06-03T10:20:27:         COUNT(*) as total,
2025-06-03T10:20:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:20:27: SQL実行成功: 結果行数=1
2025-06-03T10:20:27: SQL実行: 
2025-06-03T10:20:27:       SELECT 
2025-06-03T10:20:27:         COUNT(*) as total_calls,
2025-06-03T10:20:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:20:27: SQL実行成功: 結果行数=1
[2025-06-03T10:20:27.054Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:20:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:20:27: [36m[2025-06-03T10:20:27.054Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:20:41: SQL実行: SELECT 1... 
2025-06-03T10:20:41: SQL実行成功: 結果行数=1
2025-06-03T10:20:41: SQL実行: 
2025-06-03T10:20:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:20:41:                ci.number as ca... 
2025-06-03T10:20:41: SQL実行成功: 結果行数=1
2025-06-03T10:20:56: SQL実行: 
2025-06-03T10:20:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:20:56:                ci.number as ca... 
2025-06-03T10:20:56: SQL実行成功: 結果行数=1
2025-06-03T10:21:11: SQL実行: SELECT 1... 
2025-06-03T10:21:11: SQL実行成功: 結果行数=1
2025-06-03T10:21:11: SQL実行: 
2025-06-03T10:21:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:21:11:                ci.number as ca... 
2025-06-03T10:21:11: SQL実行成功: 結果行数=1
2025-06-03T10:21:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:21:16.098Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:21:16: SQL実行成功: 結果行数=1
2025-06-03T10:21:16: [36m[2025-06-03T10:21:16.098Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:21:26: SQL実行: 
2025-06-03T10:21:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:21:26:                ci.number as ca... 
2025-06-03T10:21:26: SQL実行成功: 結果行数=1
[2025-06-03T10:21:27.048Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:21:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:21:27: [36m[2025-06-03T10:21:27.048Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:21:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:21:27: SQL実行成功: 結果行数=1
2025-06-03T10:21:27: SQL実行: 
2025-06-03T10:21:27:       SELECT 
2025-06-03T10:21:27:         COUNT(*) as total,
2025-06-03T10:21:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:21:27: SQL実行成功: 結果行数=1
[2025-06-03T10:21:27.059Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:21:27: SQL実行: 
2025-06-03T10:21:27:       SELECT 
2025-06-03T10:21:27:         COUNT(*) as total_calls,
2025-06-03T10:21:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:21:27: SQL実行成功: 結果行数=1
2025-06-03T10:21:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:21:27: [36m[2025-06-03T10:21:27.059Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:21:41: SQL実行: SELECT 1... 
2025-06-03T10:21:41: SQL実行成功: 結果行数=1
2025-06-03T10:21:41: SQL実行: 
2025-06-03T10:21:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:21:41:                ci.number as ca... 
2025-06-03T10:21:41: SQL実行成功: 結果行数=1
2025-06-03T10:21:54: GET / - Origin: none
2025-06-03T10:21:56: SQL実行: 
2025-06-03T10:21:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:21:56:                ci.number as ca... 
2025-06-03T10:21:56: SQL実行成功: 結果行数=1
2025-06-03T10:22:11: SQL実行: SELECT 1... 
2025-06-03T10:22:11: SQL実行成功: 結果行数=1
2025-06-03T10:22:11: SQL実行: 
2025-06-03T10:22:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:22:11:                ci.number as ca... 
2025-06-03T10:22:11: SQL実行成功: 結果行数=1
2025-06-03T10:22:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:22:16.100Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:22:16: SQL実行成功: 結果行数=1
2025-06-03T10:22:16: [36m[2025-06-03T10:22:16.100Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:22:26: SQL実行: 
2025-06-03T10:22:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:22:26:                ci.number as ca... 
2025-06-03T10:22:26: SQL実行成功: 結果行数=1
[2025-06-03T10:22:27.049Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:22:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:22:27: [36m[2025-06-03T10:22:27.049Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:22:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:22:27: SQL実行成功: 結果行数=1
2025-06-03T10:22:27: SQL実行: 
2025-06-03T10:22:27:       SELECT 
2025-06-03T10:22:27:         COUNT(*) as total,
2025-06-03T10:22:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:22:27: SQL実行成功: 結果行数=1
2025-06-03T10:22:27: SQL実行: 
2025-06-03T10:22:27:       SELECT 
2025-06-03T10:22:27:         COUNT(*) as total_calls,
2025-06-03T10:22:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:22:27.052Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:22:27: SQL実行成功: 結果行数=1
2025-06-03T10:22:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:22:27: [36m[2025-06-03T10:22:27.052Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:22:41: SQL実行: SELECT 1... 
2025-06-03T10:22:41: SQL実行成功: 結果行数=1
2025-06-03T10:22:41: SQL実行: 
2025-06-03T10:22:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:22:41:                ci.number as ca... 
2025-06-03T10:22:41: SQL実行成功: 結果行数=1
2025-06-03T10:22:56: SQL実行: 
2025-06-03T10:22:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:22:56:                ci.number as ca... 
2025-06-03T10:22:56: SQL実行成功: 結果行数=1
2025-06-03T10:23:11: SQL実行: SELECT 1... 
2025-06-03T10:23:11: SQL実行成功: 結果行数=1
2025-06-03T10:23:11: SQL実行: 
2025-06-03T10:23:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:23:11:                ci.number as ca... 
2025-06-03T10:23:11: SQL実行成功: 結果行数=1
2025-06-03T10:23:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:23:16.101Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:23:16: SQL実行成功: 結果行数=1
2025-06-03T10:23:16: [36m[2025-06-03T10:23:16.101Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:23:26: SQL実行: 
2025-06-03T10:23:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:23:26:                ci.number as ca... 
2025-06-03T10:23:26: SQL実行成功: 結果行数=1
[2025-06-03T10:23:27.046Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:23:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:23:27: [36m[2025-06-03T10:23:27.046Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:23:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:23:27: SQL実行成功: 結果行数=1
2025-06-03T10:23:27: SQL実行: 
2025-06-03T10:23:27:       SELECT 
2025-06-03T10:23:27:         COUNT(*) as total,
2025-06-03T10:23:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:23:27: SQL実行成功: 結果行数=1
2025-06-03T10:23:27: SQL実行: 
2025-06-03T10:23:27:       SELECT 
2025-06-03T10:23:27:         COUNT(*) as total_calls,
2025-06-03T10:23:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:23:27: SQL実行成功: 結果行数=1
[2025-06-03T10:23:27.051Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:23:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:23:27: [36m[2025-06-03T10:23:27.051Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:23:41: SQL実行: SELECT 1... 
2025-06-03T10:23:41: SQL実行成功: 結果行数=1
2025-06-03T10:23:41: SQL実行: 
2025-06-03T10:23:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:23:41:                ci.number as ca... 
2025-06-03T10:23:41: SQL実行成功: 結果行数=1
2025-06-03T10:23:56: SQL実行: 
2025-06-03T10:23:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:23:56:                ci.number as ca... 
2025-06-03T10:23:56: SQL実行成功: 結果行数=1
2025-06-03T10:24:11: SQL実行: SELECT 1... 
2025-06-03T10:24:11: SQL実行成功: 結果行数=1
2025-06-03T10:24:11: SQL実行: 
2025-06-03T10:24:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:24:11:                ci.number as ca... 
2025-06-03T10:24:11: SQL実行成功: 結果行数=1
2025-06-03T10:24:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:24:16.102Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:24:16: SQL実行成功: 結果行数=1
2025-06-03T10:24:16: [36m[2025-06-03T10:24:16.102Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:24:26: SQL実行: 
2025-06-03T10:24:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:24:26:                ci.number as ca... 
2025-06-03T10:24:26: SQL実行成功: 結果行数=1
[2025-06-03T10:24:27.039Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:24:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:24:27: [36m[2025-06-03T10:24:27.039Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:24:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:24:27: SQL実行成功: 結果行数=1
2025-06-03T10:24:27: SQL実行: 
2025-06-03T10:24:27:       SELECT 
2025-06-03T10:24:27:         COUNT(*) as total,
2025-06-03T10:24:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:24:27: SQL実行成功: 結果行数=1
2025-06-03T10:24:27: SQL実行: 
2025-06-03T10:24:27:       SELECT 
2025-06-03T10:24:27:         COUNT(*) as total_calls,
2025-06-03T10:24:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:24:27.043Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:24:27: SQL実行成功: 結果行数=1
2025-06-03T10:24:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:24:27: [36m[2025-06-03T10:24:27.043Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:24:41: SQL実行: SELECT 1... 
2025-06-03T10:24:41: SQL実行成功: 結果行数=1
2025-06-03T10:24:41: SQL実行: 
2025-06-03T10:24:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:24:41:                ci.number as ca... 
2025-06-03T10:24:41: SQL実行成功: 結果行数=1
2025-06-03T10:24:56: SQL実行: 
2025-06-03T10:24:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:24:56:                ci.number as ca... 
2025-06-03T10:24:56: SQL実行成功: 結果行数=1
2025-06-03T10:25:11: SQL実行: SELECT 1... 
2025-06-03T10:25:11: SQL実行成功: 結果行数=1
2025-06-03T10:25:11: SQL実行: 
2025-06-03T10:25:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:25:11:                ci.number as ca... 
2025-06-03T10:25:11: SQL実行成功: 結果行数=1
2025-06-03T10:25:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:25:16.103Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:25:16: SQL実行成功: 結果行数=1
2025-06-03T10:25:16: [36m[2025-06-03T10:25:16.103Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:25:26: SQL実行: 
2025-06-03T10:25:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:25:26:                ci.number as ca... 
2025-06-03T10:25:26: SQL実行成功: 結果行数=1
[2025-06-03T10:25:27.038Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:25:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:25:27: [36m[2025-06-03T10:25:27.038Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:25:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:25:27: SQL実行成功: 結果行数=1
2025-06-03T10:25:27: SQL実行: 
2025-06-03T10:25:27:       SELECT 
2025-06-03T10:25:27:         COUNT(*) as total,
2025-06-03T10:25:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:25:27: SQL実行成功: 結果行数=1
2025-06-03T10:25:27: SQL実行: 
2025-06-03T10:25:27:       SELECT 
2025-06-03T10:25:27:         COUNT(*) as total_calls,
2025-06-03T10:25:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:25:27.042Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:25:27: SQL実行成功: 結果行数=1
2025-06-03T10:25:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:25:27: [36m[2025-06-03T10:25:27.042Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:25:41: SQL実行: SELECT 1... 
2025-06-03T10:25:41: SQL実行成功: 結果行数=1
2025-06-03T10:25:41: SQL実行: 
2025-06-03T10:25:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:25:41:                ci.number as ca... 
2025-06-03T10:25:41: SQL実行成功: 結果行数=1
2025-06-03T10:25:56: SQL実行: 
2025-06-03T10:25:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:25:56:                ci.number as ca... 
2025-06-03T10:25:56: SQL実行成功: 結果行数=1
2025-06-03T10:26:11: SQL実行: SELECT 1... 
2025-06-03T10:26:11: SQL実行成功: 結果行数=1
2025-06-03T10:26:11: SQL実行: 
2025-06-03T10:26:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:26:11:                ci.number as ca... 
2025-06-03T10:26:11: SQL実行成功: 結果行数=1
2025-06-03T10:26:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:26:16.104Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:26:16: SQL実行成功: 結果行数=1
2025-06-03T10:26:16: [36m[2025-06-03T10:26:16.104Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:26:26: SQL実行: 
2025-06-03T10:26:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:26:26:                ci.number as ca... 
2025-06-03T10:26:26: SQL実行成功: 結果行数=1
[2025-06-03T10:26:27.049Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:26:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:26:27: [36m[2025-06-03T10:26:27.049Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:26:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:26:27: SQL実行成功: 結果行数=1
2025-06-03T10:26:27: SQL実行: 
2025-06-03T10:26:27:       SELECT 
2025-06-03T10:26:27:         COUNT(*) as total,
2025-06-03T10:26:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:26:27: SQL実行成功: 結果行数=1
2025-06-03T10:26:27: SQL実行: 
2025-06-03T10:26:27:       SELECT 
2025-06-03T10:26:27:         COUNT(*) as total_calls,
2025-06-03T10:26:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:26:27.053Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:26:27: SQL実行成功: 結果行数=1
2025-06-03T10:26:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:26:27: [36m[2025-06-03T10:26:27.053Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:26:41: SQL実行: SELECT 1... 
2025-06-03T10:26:41: SQL実行成功: 結果行数=1
2025-06-03T10:26:41: SQL実行: 
2025-06-03T10:26:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:26:41:                ci.number as ca... 
2025-06-03T10:26:41: SQL実行成功: 結果行数=1
2025-06-03T10:26:56: SQL実行: 
2025-06-03T10:26:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:26:56:                ci.number as ca... 
2025-06-03T10:26:56: SQL実行成功: 結果行数=1
2025-06-03T10:27:11: SQL実行: SELECT 1... 
2025-06-03T10:27:11: SQL実行成功: 結果行数=1
2025-06-03T10:27:11: SQL実行: 
2025-06-03T10:27:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:27:11:                ci.number as ca... 
2025-06-03T10:27:11: SQL実行成功: 結果行数=1
2025-06-03T10:27:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:27:16.105Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:27:16: SQL実行成功: 結果行数=1
2025-06-03T10:27:16: [36m[2025-06-03T10:27:16.105Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:27:26: SQL実行: 
2025-06-03T10:27:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:27:26:                ci.number as ca... 
2025-06-03T10:27:26: SQL実行成功: 結果行数=1
[2025-06-03T10:27:27.039Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:27:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:27:27: [36m[2025-06-03T10:27:27.039Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:27:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:27:27: SQL実行成功: 結果行数=1
2025-06-03T10:27:27: SQL実行: 
2025-06-03T10:27:27:       SELECT 
2025-06-03T10:27:27:         COUNT(*) as total,
2025-06-03T10:27:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-03T10:27:27.043Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:27:27: SQL実行成功: 結果行数=1
2025-06-03T10:27:27: SQL実行: 
2025-06-03T10:27:27:       SELECT 
2025-06-03T10:27:27:         COUNT(*) as total_calls,
2025-06-03T10:27:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:27:27: SQL実行成功: 結果行数=1
2025-06-03T10:27:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:27:27: [36m[2025-06-03T10:27:27.043Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:27:41: SQL実行: SELECT 1... 
2025-06-03T10:27:41: SQL実行成功: 結果行数=1
2025-06-03T10:27:41: SQL実行: 
2025-06-03T10:27:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:27:41:                ci.number as ca... 
2025-06-03T10:27:41: SQL実行成功: 結果行数=1
2025-06-03T10:27:56: SQL実行: 
2025-06-03T10:27:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:27:56:                ci.number as ca... 
2025-06-03T10:27:56: SQL実行成功: 結果行数=1
2025-06-03T10:28:11: SQL実行: SELECT 1... 
2025-06-03T10:28:11: SQL実行成功: 結果行数=1
2025-06-03T10:28:11: SQL実行: 
2025-06-03T10:28:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:28:11:                ci.number as ca... 
2025-06-03T10:28:11: SQL実行成功: 結果行数=1
2025-06-03T10:28:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:28:16.106Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:28:16: SQL実行成功: 結果行数=1
2025-06-03T10:28:16: [36m[2025-06-03T10:28:16.106Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:28:26: SQL実行: 
2025-06-03T10:28:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:28:26:                ci.number as ca... 
2025-06-03T10:28:26: SQL実行成功: 結果行数=1
[2025-06-03T10:28:27.086Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:28:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:28:27: [36m[2025-06-03T10:28:27.086Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:28:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:28:27: SQL実行成功: 結果行数=1
2025-06-03T10:28:27: SQL実行: 
2025-06-03T10:28:27:       SELECT 
2025-06-03T10:28:27:         COUNT(*) as total,
2025-06-03T10:28:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:28:27: SQL実行成功: 結果行数=1
2025-06-03T10:28:27: SQL実行: 
2025-06-03T10:28:27:       SELECT 
2025-06-03T10:28:27:         COUNT(*) as total_calls,
2025-06-03T10:28:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:28:27.089Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:28:27: SQL実行成功: 結果行数=1
2025-06-03T10:28:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:28:27: [36m[2025-06-03T10:28:27.089Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:28:41: SQL実行: SELECT 1... 
2025-06-03T10:28:41: SQL実行成功: 結果行数=1
2025-06-03T10:28:41: SQL実行: 
2025-06-03T10:28:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:28:41:                ci.number as ca... 
2025-06-03T10:28:41: SQL実行成功: 結果行数=1
2025-06-03T10:28:56: SQL実行: 
2025-06-03T10:28:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:28:56:                ci.number as ca... 
2025-06-03T10:28:56: SQL実行成功: 結果行数=1
2025-06-03T10:29:11: SQL実行: SELECT 1... 
2025-06-03T10:29:11: SQL実行成功: 結果行数=1
2025-06-03T10:29:11: SQL実行: 
2025-06-03T10:29:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:29:11:                ci.number as ca... 
2025-06-03T10:29:11: SQL実行成功: 結果行数=1
2025-06-03T10:29:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:29:16.105Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:29:16: SQL実行成功: 結果行数=1
2025-06-03T10:29:16: [36m[2025-06-03T10:29:16.105Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:29:26: SQL実行: 
2025-06-03T10:29:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:29:26:                ci.number as ca... 
2025-06-03T10:29:26: SQL実行成功: 結果行数=1
[2025-06-03T10:29:27.036Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:29:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:29:27: [36m[2025-06-03T10:29:27.036Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:29:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:29:27: SQL実行成功: 結果行数=1
2025-06-03T10:29:27: SQL実行: 
2025-06-03T10:29:27:       SELECT 
2025-06-03T10:29:27:         COUNT(*) as total,
2025-06-03T10:29:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:29:27: SQL実行成功: 結果行数=1
2025-06-03T10:29:27: SQL実行: 
2025-06-03T10:29:27:       SELECT 
2025-06-03T10:29:27:         COUNT(*) as total_calls,
2025-06-03T10:29:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:29:27.040Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:29:27: SQL実行成功: 結果行数=1
2025-06-03T10:29:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:29:27: [36m[2025-06-03T10:29:27.040Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:29:41: SQL実行: SELECT 1... 
2025-06-03T10:29:41: SQL実行成功: 結果行数=1
2025-06-03T10:29:41: SQL実行: 
2025-06-03T10:29:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:29:41:                ci.number as ca... 
2025-06-03T10:29:41: SQL実行成功: 結果行数=1
2025-06-03T10:29:56: SQL実行: 
2025-06-03T10:29:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:29:56:                ci.number as ca... 
2025-06-03T10:29:56: SQL実行成功: 結果行数=1
2025-06-03T10:30:11: SQL実行: SELECT 1... 
2025-06-03T10:30:11: SQL実行成功: 結果行数=1
2025-06-03T10:30:11: SQL実行: 
2025-06-03T10:30:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:30:11:                ci.number as ca... 
2025-06-03T10:30:11: SQL実行成功: 結果行数=1
2025-06-03T10:30:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:30:16.106Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:30:16: SQL実行成功: 結果行数=1
2025-06-03T10:30:16: [36m[2025-06-03T10:30:16.106Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:30:26: SQL実行: 
2025-06-03T10:30:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:30:26:                ci.number as ca... 
2025-06-03T10:30:26: SQL実行成功: 結果行数=1
[2025-06-03T10:30:27.044Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:30:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:30:27: [36m[2025-06-03T10:30:27.044Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:30:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-03T10:30:27.049Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:30:27: SQL実行成功: 結果行数=1
2025-06-03T10:30:27: SQL実行: 
2025-06-03T10:30:27:       SELECT 
2025-06-03T10:30:27:         COUNT(*) as total,
2025-06-03T10:30:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:30:27: SQL実行成功: 結果行数=1
2025-06-03T10:30:27: SQL実行: 
2025-06-03T10:30:27:       SELECT 
2025-06-03T10:30:27:         COUNT(*) as total_calls,
2025-06-03T10:30:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:30:27: SQL実行成功: 結果行数=1
2025-06-03T10:30:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:30:27: [36m[2025-06-03T10:30:27.049Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:30:41: SQL実行: SELECT 1... 
2025-06-03T10:30:41: SQL実行成功: 結果行数=1
2025-06-03T10:30:41: SQL実行: 
2025-06-03T10:30:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:30:41:                ci.number as ca... 
2025-06-03T10:30:41: SQL実行成功: 結果行数=1
[2025-06-03T10:30:50.599Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:30:50: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:30:50: [36m[2025-06-03T10:30:50.599Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:30:50: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:30:50: SQL実行成功: 結果行数=1
2025-06-03T10:30:50: SQL実行: 
2025-06-03T10:30:50:       SELECT 
2025-06-03T10:30:50:         COUNT(*) as total,
2025-06-03T10:30:50:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:30:50: SQL実行成功: 結果行数=1
2025-06-03T10:30:50: SQL実行: 
2025-06-03T10:30:50:       SELECT 
2025-06-03T10:30:50:         COUNT(*) as total_calls,
2025-06-03T10:30:50:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:30:50.602Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:30:50: SQL実行成功: 結果行数=1
2025-06-03T10:30:50: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:30:50: [36m[2025-06-03T10:30:50.602Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T10:30:52.824Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:30:52: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:30:52: [36m[2025-06-03T10:30:52.824Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:30:52: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:30:52: SQL実行成功: 結果行数=1
2025-06-03T10:30:52: SQL実行: 
2025-06-03T10:30:52:       SELECT 
2025-06-03T10:30:52:         COUNT(*) as total,
2025-06-03T10:30:52:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:30:52: SQL実行成功: 結果行数=1
2025-06-03T10:30:52: SQL実行: 
2025-06-03T10:30:52:       SELECT 
2025-06-03T10:30:52:         COUNT(*) as total_calls,
2025-06-03T10:30:52:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:30:52.828Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:30:52: SQL実行成功: 結果行数=1
2025-06-03T10:30:52: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:30:52: [36m[2025-06-03T10:30:52.828Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:30:56: SQL実行: 
2025-06-03T10:30:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:30:56:                ci.number as ca... 
2025-06-03T10:30:56: SQL実行成功: 結果行数=1
[2025-06-03T10:30:57.825Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:30:57: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:30:57: [36m[2025-06-03T10:30:57.825Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:30:57: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:30:57: SQL実行成功: 結果行数=1
2025-06-03T10:30:57: SQL実行: 
2025-06-03T10:30:57:       SELECT 
2025-06-03T10:30:57:         COUNT(*) as total,
2025-06-03T10:30:57:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:30:57: SQL実行成功: 結果行数=1
2025-06-03T10:30:57: SQL実行: 
2025-06-03T10:30:57:       SELECT 
2025-06-03T10:30:57:         COUNT(*) as total_calls,
2025-06-03T10:30:57:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:30:57: SQL実行成功: 結果行数=1
[2025-06-03T10:30:57.829Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:30:57: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:30:57: [36m[2025-06-03T10:30:57.829Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T10:31:03.029Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:03: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:31:03: [36m[2025-06-03T10:31:03.029Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:03: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:31:03: SQL実行成功: 結果行数=1
2025-06-03T10:31:03: SQL実行: 
2025-06-03T10:31:03:       SELECT 
2025-06-03T10:31:03:         COUNT(*) as total,
2025-06-03T10:31:03:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:31:03: SQL実行成功: 結果行数=1
2025-06-03T10:31:03: SQL実行: 
2025-06-03T10:31:03:       SELECT 
2025-06-03T10:31:03:         COUNT(*) as total_calls,
2025-06-03T10:31:03:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:31:03: SQL実行成功: 結果行数=1
[2025-06-03T10:31:03.033Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:31:03: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:31:03: [36m[2025-06-03T10:31:03.033Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T10:31:08.021Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:08: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:31:08: [36m[2025-06-03T10:31:08.021Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:08: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:31:08: SQL実行成功: 結果行数=1
2025-06-03T10:31:08: SQL実行: 
2025-06-03T10:31:08:       SELECT 
2025-06-03T10:31:08:         COUNT(*) as total,
2025-06-03T10:31:08:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:31:08: SQL実行成功: 結果行数=1
2025-06-03T10:31:08: SQL実行: 
2025-06-03T10:31:08:       SELECT 
2025-06-03T10:31:08:         COUNT(*) as total_calls,
2025-06-03T10:31:08:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:31:08.026Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:31:08: SQL実行成功: 結果行数=1
2025-06-03T10:31:08: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:31:08: [36m[2025-06-03T10:31:08.026Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:31:11: SQL実行: SELECT 1... 
2025-06-03T10:31:11: SQL実行成功: 結果行数=1
2025-06-03T10:31:11: SQL実行: 
2025-06-03T10:31:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:31:11:                ci.number as ca... 
2025-06-03T10:31:11: SQL実行成功: 結果行数=1
[2025-06-03T10:31:13.128Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:13: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:31:13: [36m[2025-06-03T10:31:13.128Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:13: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-03T10:31:13.133Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:31:13: SQL実行成功: 結果行数=1
2025-06-03T10:31:13: SQL実行: 
2025-06-03T10:31:13:       SELECT 
2025-06-03T10:31:13:         COUNT(*) as total,
2025-06-03T10:31:13:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:31:13: SQL実行成功: 結果行数=1
2025-06-03T10:31:13: SQL実行: 
2025-06-03T10:31:13:       SELECT 
2025-06-03T10:31:13:         COUNT(*) as total_calls,
2025-06-03T10:31:13:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:31:13: SQL実行成功: 結果行数=1
2025-06-03T10:31:13: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:31:13: [36m[2025-06-03T10:31:13.133Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:31:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
2025-06-03T10:31:16: SQL実行成功: 結果行数=1
[2025-06-03T10:31:16.107Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:31:16: [36m[2025-06-03T10:31:16.107Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T10:31:18.147Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:18: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:31:18: [36m[2025-06-03T10:31:18.147Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:18: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:31:18: SQL実行成功: 結果行数=1
2025-06-03T10:31:18: SQL実行: 
2025-06-03T10:31:18:       SELECT 
2025-06-03T10:31:18:         COUNT(*) as total,
2025-06-03T10:31:18:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:31:18: SQL実行成功: 結果行数=1
2025-06-03T10:31:18: SQL実行: 
2025-06-03T10:31:18:       SELECT 
2025-06-03T10:31:18:         COUNT(*) as total_calls,
2025-06-03T10:31:18:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:31:18: SQL実行成功: 結果行数=1
2025-06-03T10:31:18: 進捗計算デバッグ: total=1, processed=000, progress=0%
[2025-06-03T10:31:18.151Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:31:18: [36m[2025-06-03T10:31:18.151Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T10:31:23.050Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:23: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:31:23: [36m[2025-06-03T10:31:23.050Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:23: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:31:23: SQL実行成功: 結果行数=1
2025-06-03T10:31:23: SQL実行: 
2025-06-03T10:31:23:       SELECT 
2025-06-03T10:31:23:         COUNT(*) as total,
2025-06-03T10:31:23:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:31:23: SQL実行成功: 結果行数=1
2025-06-03T10:31:23: SQL実行: 
2025-06-03T10:31:23:       SELECT 
2025-06-03T10:31:23:         COUNT(*) as total_calls,
2025-06-03T10:31:23:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:31:23.054Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:31:23: SQL実行成功: 結果行数=1
2025-06-03T10:31:23: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:31:23: [36m[2025-06-03T10:31:23.054Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:31:26: SQL実行: 
2025-06-03T10:31:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:31:26:                ci.number as ca... 
2025-06-03T10:31:26: SQL実行成功: 結果行数=1
[2025-06-03T10:31:28.022Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:28: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:31:28: [36m[2025-06-03T10:31:28.022Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:28: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:31:28: SQL実行成功: 結果行数=1
2025-06-03T10:31:28: SQL実行: 
2025-06-03T10:31:28:       SELECT 
2025-06-03T10:31:28:         COUNT(*) as total,
2025-06-03T10:31:28:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:31:28: SQL実行成功: 結果行数=1
2025-06-03T10:31:28: SQL実行: 
2025-06-03T10:31:28:       SELECT 
2025-06-03T10:31:28:         COUNT(*) as total_calls,
2025-06-03T10:31:28:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:31:28.025Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:31:28: SQL実行成功: 結果行数=1
2025-06-03T10:31:28: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:31:28: [36m[2025-06-03T10:31:28.025Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T10:31:33.024Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:33: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:31:33: [36m[2025-06-03T10:31:33.024Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:33: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:31:33: SQL実行成功: 結果行数=1
2025-06-03T10:31:33: SQL実行: 
2025-06-03T10:31:33:       SELECT 
2025-06-03T10:31:33:         COUNT(*) as total,
2025-06-03T10:31:33:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:31:33: SQL実行成功: 結果行数=1
2025-06-03T10:31:33: SQL実行: 
2025-06-03T10:31:33:       SELECT 
2025-06-03T10:31:33:         COUNT(*) as total_calls,
2025-06-03T10:31:33:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:31:33.030Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:31:33: SQL実行成功: 結果行数=1
2025-06-03T10:31:33: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:31:33: [36m[2025-06-03T10:31:33.030Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T10:31:38.030Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:38: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:31:38: [36m[2025-06-03T10:31:38.030Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:38: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:31:38: SQL実行成功: 結果行数=1
2025-06-03T10:31:38: SQL実行: 
2025-06-03T10:31:38:       SELECT 
2025-06-03T10:31:38:         COUNT(*) as total,
2025-06-03T10:31:38:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:31:38: SQL実行成功: 結果行数=1
2025-06-03T10:31:38: SQL実行: 
2025-06-03T10:31:38:       SELECT 
2025-06-03T10:31:38:         COUNT(*) as total_calls,
2025-06-03T10:31:38:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:31:38.035Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:31:38: SQL実行成功: 結果行数=1
2025-06-03T10:31:38: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:31:38: [36m[2025-06-03T10:31:38.035Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:31:41: SQL実行: SELECT 1... 
2025-06-03T10:31:41: SQL実行成功: 結果行数=1
2025-06-03T10:31:41: SQL実行: 
2025-06-03T10:31:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:31:41:                ci.number as ca... 
2025-06-03T10:31:41: SQL実行成功: 結果行数=1
[2025-06-03T10:31:43.025Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:43: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:31:43: [36m[2025-06-03T10:31:43.025Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:43: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:31:43: SQL実行成功: 結果行数=1
2025-06-03T10:31:43: SQL実行: 
2025-06-03T10:31:43:       SELECT 
2025-06-03T10:31:43:         COUNT(*) as total,
2025-06-03T10:31:43:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:31:43: SQL実行成功: 結果行数=1
2025-06-03T10:31:43: SQL実行: 
2025-06-03T10:31:43:       SELECT 
2025-06-03T10:31:43:         COUNT(*) as total_calls,
2025-06-03T10:31:43:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:31:43.029Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:31:43: SQL実行成功: 結果行数=1
2025-06-03T10:31:43: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:31:43: [36m[2025-06-03T10:31:43.029Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T10:31:48.023Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:48: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:31:48: [36m[2025-06-03T10:31:48.023Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:48: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:31:48: SQL実行成功: 結果行数=1
2025-06-03T10:31:48: SQL実行: 
2025-06-03T10:31:48:       SELECT 
2025-06-03T10:31:48:         COUNT(*) as total,
2025-06-03T10:31:48:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:31:48: SQL実行成功: 結果行数=1
2025-06-03T10:31:48: SQL実行: 
2025-06-03T10:31:48:       SELECT 
2025-06-03T10:31:48:         COUNT(*) as total_calls,
2025-06-03T10:31:48:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:31:48: SQL実行成功: 結果行数=1
[2025-06-03T10:31:48.026Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:31:48: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:31:48: [36m[2025-06-03T10:31:48.026Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T10:31:53.026Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:53: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:31:53: [36m[2025-06-03T10:31:53.026Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:53: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:31:53: SQL実行成功: 結果行数=1
2025-06-03T10:31:53: SQL実行: 
2025-06-03T10:31:53:       SELECT 
2025-06-03T10:31:53:         COUNT(*) as total,
2025-06-03T10:31:53:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:31:53: SQL実行成功: 結果行数=1
2025-06-03T10:31:53: SQL実行: 
2025-06-03T10:31:53:       SELECT 
2025-06-03T10:31:53:         COUNT(*) as total_calls,
2025-06-03T10:31:53:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:31:53: SQL実行成功: 結果行数=1
[2025-06-03T10:31:53.029Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:31:53: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:31:53: [36m[2025-06-03T10:31:53.029Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:31:56: SQL実行: 
2025-06-03T10:31:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:31:56:                ci.number as ca... 
2025-06-03T10:31:56: SQL実行成功: 結果行数=1
[2025-06-03T10:31:58.029Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:58: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:31:58: [36m[2025-06-03T10:31:58.029Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:31:58: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:31:58: SQL実行成功: 結果行数=1
2025-06-03T10:31:58: SQL実行: 
2025-06-03T10:31:58:       SELECT 
2025-06-03T10:31:58:         COUNT(*) as total,
2025-06-03T10:31:58:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:31:58: SQL実行成功: 結果行数=1
2025-06-03T10:31:58: SQL実行: 
2025-06-03T10:31:58:       SELECT 
2025-06-03T10:31:58:         COUNT(*) as total_calls,
2025-06-03T10:31:58:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:31:58: SQL実行成功: 結果行数=1
[2025-06-03T10:31:58.032Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:31:58: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:31:58: [36m[2025-06-03T10:31:58.032Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T10:32:03.021Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:32:03: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:32:03: [36m[2025-06-03T10:32:03.021Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:32:03: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:32:03: SQL実行成功: 結果行数=1
2025-06-03T10:32:03: SQL実行: 
2025-06-03T10:32:03:       SELECT 
2025-06-03T10:32:03:         COUNT(*) as total,
2025-06-03T10:32:03:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:32:03: SQL実行成功: 結果行数=1
2025-06-03T10:32:03: SQL実行: 
2025-06-03T10:32:03:       SELECT 
2025-06-03T10:32:03:         COUNT(*) as total_calls,
2025-06-03T10:32:03:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:32:03.025Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:32:03: SQL実行成功: 結果行数=1
2025-06-03T10:32:03: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:32:03: [36m[2025-06-03T10:32:03.025Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:32:11: SQL実行: SELECT 1... 
2025-06-03T10:32:11: SQL実行成功: 結果行数=1
2025-06-03T10:32:11: SQL実行: 
2025-06-03T10:32:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:32:11:                ci.number as ca... 
2025-06-03T10:32:11: SQL実行成功: 結果行数=1
2025-06-03T10:32:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:32:16.107Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:32:16: SQL実行成功: 結果行数=1
2025-06-03T10:32:16: [36m[2025-06-03T10:32:16.107Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:32:26: SQL実行: 
2025-06-03T10:32:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:32:26:                ci.number as ca... 
2025-06-03T10:32:26: SQL実行成功: 結果行数=1
[2025-06-03T10:32:27.073Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:32:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:32:27: [36m[2025-06-03T10:32:27.073Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:32:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:32:27: SQL実行成功: 結果行数=1
2025-06-03T10:32:27: SQL実行: 
2025-06-03T10:32:27:       SELECT 
2025-06-03T10:32:27:         COUNT(*) as total,
2025-06-03T10:32:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:32:27: SQL実行成功: 結果行数=1
2025-06-03T10:32:27: SQL実行: 
2025-06-03T10:32:27:       SELECT 
2025-06-03T10:32:27:         COUNT(*) as total_calls,
2025-06-03T10:32:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:32:27: SQL実行成功: 結果行数=1
[2025-06-03T10:32:27.076Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:32:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:32:27: [36m[2025-06-03T10:32:27.076Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:32:41: SQL実行: SELECT 1... 
2025-06-03T10:32:41: SQL実行成功: 結果行数=1
2025-06-03T10:32:41: SQL実行: 
2025-06-03T10:32:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:32:41:                ci.number as ca... 
2025-06-03T10:32:41: SQL実行成功: 結果行数=1
2025-06-03T10:32:56: SQL実行: 
2025-06-03T10:32:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:32:56:                ci.number as ca... 
2025-06-03T10:32:56: SQL実行成功: 結果行数=1
2025-06-03T10:33:11: SQL実行: SELECT 1... 
2025-06-03T10:33:11: SQL実行成功: 結果行数=1
2025-06-03T10:33:11: SQL実行: 
2025-06-03T10:33:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:33:11:                ci.number as ca... 
2025-06-03T10:33:11: SQL実行成功: 結果行数=1
2025-06-03T10:33:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:33:16.107Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:33:16: SQL実行成功: 結果行数=1
2025-06-03T10:33:16: [36m[2025-06-03T10:33:16.107Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:33:26: SQL実行: 
2025-06-03T10:33:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:33:26:                ci.number as ca... 
2025-06-03T10:33:26: SQL実行成功: 結果行数=1
[2025-06-03T10:33:27.040Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:33:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:33:27: [36m[2025-06-03T10:33:27.040Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:33:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:33:27: SQL実行成功: 結果行数=1
2025-06-03T10:33:27: SQL実行: 
2025-06-03T10:33:27:       SELECT 
2025-06-03T10:33:27:         COUNT(*) as total,
2025-06-03T10:33:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:33:27: SQL実行成功: 結果行数=1
2025-06-03T10:33:27: SQL実行: 
2025-06-03T10:33:27:       SELECT 
2025-06-03T10:33:27:         COUNT(*) as total_calls,
2025-06-03T10:33:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:33:27.044Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:33:27: SQL実行成功: 結果行数=1
2025-06-03T10:33:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:33:27: [36m[2025-06-03T10:33:27.044Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:33:41: SQL実行: SELECT 1... 
2025-06-03T10:33:41: SQL実行成功: 結果行数=1
2025-06-03T10:33:41: SQL実行: 
2025-06-03T10:33:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:33:41:                ci.number as ca... 
2025-06-03T10:33:41: SQL実行成功: 結果行数=1
2025-06-03T10:33:56: SQL実行: 
2025-06-03T10:33:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:33:56:                ci.number as ca... 
2025-06-03T10:33:56: SQL実行成功: 結果行数=1
2025-06-03T10:34:11: SQL実行: SELECT 1... 
2025-06-03T10:34:11: SQL実行成功: 結果行数=1
2025-06-03T10:34:11: SQL実行: 
2025-06-03T10:34:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:34:11:                ci.number as ca... 
2025-06-03T10:34:11: SQL実行成功: 結果行数=1
2025-06-03T10:34:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:34:16.108Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:34:16: SQL実行成功: 結果行数=1
2025-06-03T10:34:16: [36m[2025-06-03T10:34:16.108Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:34:26: SQL実行: 
2025-06-03T10:34:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:34:26:                ci.number as ca... 
2025-06-03T10:34:26: SQL実行成功: 結果行数=1
[2025-06-03T10:34:27.050Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:34:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:34:27: [36m[2025-06-03T10:34:27.050Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:34:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:34:27: SQL実行成功: 結果行数=1
2025-06-03T10:34:27: SQL実行: 
2025-06-03T10:34:27:       SELECT 
2025-06-03T10:34:27:         COUNT(*) as total,
2025-06-03T10:34:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:34:27: SQL実行成功: 結果行数=1
2025-06-03T10:34:27: SQL実行: 
2025-06-03T10:34:27:       SELECT 
2025-06-03T10:34:27:         COUNT(*) as total_calls,
2025-06-03T10:34:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:34:27.053Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:34:27: SQL実行成功: 結果行数=1
2025-06-03T10:34:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:34:27: [36m[2025-06-03T10:34:27.053Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:34:41: SQL実行: SELECT 1... 
2025-06-03T10:34:41: SQL実行成功: 結果行数=1
2025-06-03T10:34:41: SQL実行: 
2025-06-03T10:34:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:34:41:                ci.number as ca... 
2025-06-03T10:34:41: SQL実行成功: 結果行数=1
2025-06-03T10:34:56: SQL実行: 
2025-06-03T10:34:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:34:56:                ci.number as ca... 
2025-06-03T10:34:56: SQL実行成功: 結果行数=1
2025-06-03T10:35:11: SQL実行: SELECT 1... 
2025-06-03T10:35:11: SQL実行成功: 結果行数=1
2025-06-03T10:35:11: SQL実行: 
2025-06-03T10:35:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:35:11:                ci.number as ca... 
2025-06-03T10:35:11: SQL実行成功: 結果行数=1
2025-06-03T10:35:16: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:35:16.109Z] INFO  [PID:490997] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:35:16: SQL実行成功: 結果行数=1
2025-06-03T10:35:16: [36m[2025-06-03T10:35:16.109Z] INFO  [PID:490997][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:35:26: SQL実行: 
2025-06-03T10:35:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:35:26:                ci.number as ca... 
2025-06-03T10:35:26: SQL実行成功: 結果行数=1
[2025-06-03T10:35:27.034Z] INFO  [PID:490997] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:35:27: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:35:27: [36m[2025-06-03T10:35:27.034Z] INFO  [PID:490997][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:35:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:35:27: SQL実行成功: 結果行数=1
2025-06-03T10:35:27: SQL実行: 
2025-06-03T10:35:27:       SELECT 
2025-06-03T10:35:27:         COUNT(*) as total,
2025-06-03T10:35:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:35:27: SQL実行成功: 結果行数=1
2025-06-03T10:35:27: SQL実行: 
2025-06-03T10:35:27:       SELECT 
2025-06-03T10:35:27:         COUNT(*) as total_calls,
2025-06-03T10:35:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:35:27: SQL実行成功: 結果行数=1
[2025-06-03T10:35:27.039Z] INFO  [PID:490997] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:35:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:35:27: [36m[2025-06-03T10:35:27.039Z] INFO  [PID:490997][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T10:35:38.601Z] INFO  [PID:490997] SIGINT受信 - DialerService安全停止 {"level":"INFO"}
[2025-06-03T10:35:38.601Z] INFO  [PID:490997] 🚨 DialerService停止処理開始... {"level":"INFO"}
[2025-06-03T10:35:38.602Z] INFO  [PID:490997] ✅ DialerService停止完了 {"level":"INFO"}
[2025-06-03T10:35:38.602Z] INFO  [PID:490997] SIGINT受信 - SIPサービス安全切断 {"level":"INFO"}
[2025-06-03T10:35:38.602Z] INFO  [PID:490997] SIPサービスを切断しています... {"level":"INFO"}
[2025-06-03T10:35:38.602Z] INFO  [PID:490997] ✅ SIPサービス切断完了 {"level":"INFO"}
2025-06-03T10:35:38: [36m[2025-06-03T10:35:38.601Z] INFO  [PID:490997][0m SIGINT受信 - DialerService安全停止 {"level":"INFO"}
2025-06-03T10:35:38: [36m[2025-06-03T10:35:38.601Z] INFO  [PID:490997][0m 🚨 DialerService停止処理開始... {"level":"INFO"}
2025-06-03T10:35:38: [36m[2025-06-03T10:35:38.602Z] INFO  [PID:490997][0m ✅ DialerService停止完了 {"level":"INFO"}
2025-06-03T10:35:38: [36m[2025-06-03T10:35:38.602Z] INFO  [PID:490997][0m SIGINT受信 - SIPサービス安全切断 {"level":"INFO"}
2025-06-03T10:35:38: [36m[2025-06-03T10:35:38.602Z] INFO  [PID:490997][0m SIPサービスを切断しています... {"level":"INFO"}
2025-06-03T10:35:38: [36m[2025-06-03T10:35:38.602Z] INFO  [PID:490997][0m ✅ SIPサービス切断完了 {"level":"INFO"}
2025-06-03T10:35:38: アプリケーションを終了します...
2025-06-03T10:35:38: データベースプールを閉じています...
2025-06-03T10:35:38: データベースプールを閉じました
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.623Z] INFO  [PID:491267][0m Logger初期化完了 {"logLevel":"info","enableConsole":true,"enableFile":true,"logDir":"/var/www/autodialer/backend/logs","level":"INFO"}
[2025-06-03T10:35:40.623Z] INFO  [PID:491267] Logger初期化完了 {"logLevel":"info","enableConsole":true,"enableFile":true,"logDir":"/var/www/autodialer/backend/logs","level":"INFO"}
2025-06-03T10:35:40: 🚀 ルーター登録開始...
[2025-06-03T10:35:40.703Z] INFO  [PID:491267] 🚀 DialerService初期化: 自動連動システム=有効 {"level":"INFO"}
[2025-06-03T10:35:40.703Z] INFO  [PID:491267] 🎯 自動システム開始試行 1/5 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.703Z] INFO  [PID:491267][0m 🚀 DialerService初期化: 自動連動システム=有効 {"level":"INFO"}
[2025-06-03T10:35:40.703Z] INFO  [PID:491267] 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.703Z] INFO  [PID:491267][0m 🎯 自動システム開始試行 1/5 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.703Z] INFO  [PID:491267][0m 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-03T10:35:40: プールが存在しないため再初期化します
2025-06-03T10:35:40: データベース接続試行 1/5...
2025-06-03T10:35:40: データベース接続設定: {
2025-06-03T10:35:40:   host: '127.0.0.1',
2025-06-03T10:35:40:   user: 'autodialer',
2025-06-03T10:35:40:   database: 'autodialer',
2025-06-03T10:35:40:   password: '***'
2025-06-03T10:35:40: }
[2025-06-03T10:35:40.723Z] INFO  [PID:491267] AsteriskService初期化: mockMode=false, timeout=15000ms {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.723Z] INFO  [PID:491267][0m AsteriskService初期化: mockMode=false, timeout=15000ms {"level":"INFO"}
[2025-06-03T10:35:40.725Z] INFO  [PID:491267] SipService初期化: mockMode=false, sipcmdPath=/usr/local/bin/sipcmd-working {"level":"INFO"}
[2025-06-03T10:35:40.725Z] INFO  [PID:491267] 💗 SIPヘルスチェック開始: 60000ms間隔 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.725Z] INFO  [PID:491267][0m SipService初期化: mockMode=false, sipcmdPath=/usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.725Z] INFO  [PID:491267][0m 💗 SIPヘルスチェック開始: 60000ms間隔 {"level":"INFO"}
[2025-06-03T10:35:40.726Z] INFO  [PID:491267] コールサービスを初期化しました。デフォルトプロバイダ: sip, フォールバック: 無効, モックモード: 無効 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.726Z] INFO  [PID:491267][0m コールサービスを初期化しました。デフォルトプロバイダ: sip, フォールバック: 無効, モックモード: 無効 {"level":"INFO"}
2025-06-03T10:35:40: ✅ system router 登録成功
2025-06-03T10:35:40: ✅ contacts router 登録成功
2025-06-03T10:35:40: ✅ campaigns router 登録成功
2025-06-03T10:35:40: ✅ caller-ids router 登録成功
2025-06-03T10:35:40: ✅ calls router 登録成功
2025-06-03T10:35:40: ✅ audio router 登録成功
2025-06-03T10:35:40: ✅ ivr router 登録成功
2025-06-03T10:35:40: 📊 ルーター登録状況: {
2025-06-03T10:35:40:   system: true,
2025-06-03T10:35:40:   contacts: true,
2025-06-03T10:35:40:   campaigns: true,
2025-06-03T10:35:40:   callerIds: true,
2025-06-03T10:35:40:   calls: true,
2025-06-03T10:35:40:   audio: true,
2025-06-03T10:35:40:   ivr: true
2025-06-03T10:35:40: }
2025-06-03T10:35:40: 🚀 サーバー初期化開始...
2025-06-03T10:35:40: SQL実行: SELECT 1... 
[2025-06-03T10:35:40.790Z] INFO  [PID:491267] 音声ファイルディレクトリを初期化しました: /var/www/autodialer/backend/audio-files {"level":"INFO"}
[2025-06-03T10:35:40.791Z] INFO  [PID:491267] IVRスクリプトディレクトリを初期化しました: /var/www/autodialer/backend/ivr-scripts {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.790Z] INFO  [PID:491267][0m 音声ファイルディレクトリを初期化しました: /var/www/autodialer/backend/audio-files {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.791Z] INFO  [PID:491267][0m IVRスクリプトディレクトリを初期化しました: /var/www/autodialer/backend/ivr-scripts {"level":"INFO"}
[2025-06-03T10:35:40.815Z] INFO  [PID:491267] 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-03T10:35:40: SQL実行成功: 結果行数=1
2025-06-03T10:35:40: ✅ データベース接続成功
[2025-06-03T10:35:40.816Z] INFO  [PID:491267] ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T10:35:40: 🔧 SIPサービス初期化中...
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.815Z] INFO  [PID:491267][0m 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.816Z] INFO  [PID:491267][0m ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T10:35:40: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:35:40.818Z] INFO  [PID:491267] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:35:40: SQL実行成功: 結果行数=1
[2025-06-03T10:35:40.819Z] INFO  [PID:491267] 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.818Z] INFO  [PID:491267][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.819Z] INFO  [PID:491267][0m 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
[2025-06-03T10:35:40.819Z] INFO  [PID:491267] 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.819Z] INFO  [PID:491267][0m 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-03T10:35:40: SQL実行: 
2025-06-03T10:35:40:         SELECT 
2025-06-03T10:35:40:           cc.id,
2025-06-03T10:35:40:           cc.caller_id_id,
2025-06-03T10:35:40:           cc.username,
2025-06-03T10:35:40:           cc.pas... 
[2025-06-03T10:35:40.821Z] INFO  [PID:491267] データベース接続プールを作成しました {"level":"INFO"}
2025-06-03T10:35:40: データベース接続テスト成功: {
2025-06-03T10:35:40:   test: '1',
2025-06-03T10:35:40:   current_user_name: 'autodialer@localhost',
2025-06-03T10:35:40:   current_db: 'autodialer'
2025-06-03T10:35:40: }
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.821Z] INFO  [PID:491267][0m データベース接続プールを作成しました {"level":"INFO"}
2025-06-03T10:35:40: SQL実行: SELECT 1 as test... 
[2025-06-03T10:35:40.823Z] INFO  [PID:491267] 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
2025-06-03T10:35:40: SQL実行成功: 結果行数=22
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.823Z] INFO  [PID:491267][0m 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
[2025-06-03T10:35:40.823Z] INFO  [PID:491267] ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
[2025-06-03T10:35:40.823Z] INFO  [PID:491267] ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.823Z] INFO  [PID:491267][0m ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
[2025-06-03T10:35:40.824Z] INFO  [PID:491267] 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T10:35:40.824Z] INFO  [PID:491267] 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
[2025-06-03T10:35:40.824Z] INFO  [PID:491267] ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.823Z] INFO  [PID:491267][0m ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
[2025-06-03T10:35:40.824Z] INFO  [PID:491267] 📊 SIPアカウント概要: {"level":"INFO"}
[2025-06-03T10:35:40.824Z] INFO  [PID:491267]   - 総アカウント数: 22 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.824Z] INFO  [PID:491267][0m 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.824Z] INFO  [PID:491267][0m 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.824Z] INFO  [PID:491267][0m ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
[2025-06-03T10:35:40.824Z] INFO  [PID:491267]   - 利用可能: 22 {"level":"INFO"}
[2025-06-03T10:35:40.824Z] INFO  [PID:491267]   - 使用中: 0 {"level":"INFO"}
[2025-06-03T10:35:40.824Z] INFO  [PID:491267]   - エラー: 0 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.824Z] INFO  [PID:491267][0m 📊 SIPアカウント概要: {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.824Z] INFO  [PID:491267][0m   - 総アカウント数: 22 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.824Z] INFO  [PID:491267][0m   - 利用可能: 22 {"level":"INFO"}
[2025-06-03T10:35:40.824Z] INFO  [PID:491267]   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T10:35:40.824Z] INFO  [PID:491267]   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.824Z] INFO  [PID:491267][0m   - 使用中: 0 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.824Z] INFO  [PID:491267][0m   - エラー: 0 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.824Z] INFO  [PID:491267][0m   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T10:35:40.825Z] INFO  [PID:491267] コールサービスの初期化を開始します {"level":"INFO"}
[2025-06-03T10:35:40.825Z] INFO  [PID:491267] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T10:35:40.825Z] INFO  [PID:491267] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.824Z] INFO  [PID:491267][0m   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T10:35:40: 📞 SIP初期化結果: true
2025-06-03T10:35:40: 📞 SIPアカウント数: 22
2025-06-03T10:35:40: 🔧 CallService初期化中...
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.825Z] INFO  [PID:491267][0m コールサービスの初期化を開始します {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.825Z] INFO  [PID:491267][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.825Z] INFO  [PID:491267][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
[2025-06-03T10:35:40.830Z] INFO  [PID:491267] 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.830Z] INFO  [PID:491267][0m 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
[2025-06-03T10:35:40.832Z] INFO  [PID:491267] ✅ データベース接続確認完了 {"level":"INFO"}
[2025-06-03T10:35:40.833Z] INFO  [PID:491267] ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
[2025-06-03T10:35:40.834Z] INFO  [PID:491267] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T10:35:40.834Z] INFO  [PID:491267] 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
[2025-06-03T10:35:40.834Z] INFO  [PID:491267] 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
[2025-06-03T10:35:40.836Z] INFO  [PID:491267] 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
[2025-06-03T10:35:40.836Z] INFO  [PID:491267] ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
[2025-06-03T10:35:40.836Z] INFO  [PID:491267] ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
[2025-06-03T10:35:40.836Z] INFO  [PID:491267] 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T10:35:40.836Z] INFO  [PID:491267] 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
[2025-06-03T10:35:40.836Z] INFO  [PID:491267] ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
[2025-06-03T10:35:40.836Z] INFO  [PID:491267] 📊 SIPアカウント概要: {"level":"INFO"}
[2025-06-03T10:35:40.836Z] INFO  [PID:491267]   - 総アカウント数: 22 {"level":"INFO"}
[2025-06-03T10:35:40.836Z] INFO  [PID:491267]   - 利用可能: 22 {"level":"INFO"}
[2025-06-03T10:35:40.836Z] INFO  [PID:491267]   - 使用中: 0 {"level":"INFO"}
[2025-06-03T10:35:40.836Z] INFO  [PID:491267]   - エラー: 0 {"level":"INFO"}
[2025-06-03T10:35:40.837Z] INFO  [PID:491267]   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T10:35:40.837Z] INFO  [PID:491267]   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T10:35:40: SQL実行成功: 結果行数=1
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.832Z] INFO  [PID:491267][0m ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-03T10:35:40: SQL実行: 
2025-06-03T10:35:40:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:35:40:                ci.number as ca... 
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.833Z] INFO  [PID:491267][0m ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T10:35:40: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
2025-06-03T10:35:40: SQL実行成功: 結果行数=1
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.834Z] INFO  [PID:491267][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.834Z] INFO  [PID:491267][0m 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.834Z] INFO  [PID:491267][0m 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-03T10:35:40: SQL実行: 
2025-06-03T10:35:40:         SELECT 
2025-06-03T10:35:40:           cc.id,
2025-06-03T10:35:40:           cc.caller_id_id,
2025-06-03T10:35:40:           cc.username,
2025-06-03T10:35:40:           cc.pas... 
2025-06-03T10:35:40: SQL実行成功: 結果行数=22
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.836Z] INFO  [PID:491267][0m 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.836Z] INFO  [PID:491267][0m ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.836Z] INFO  [PID:491267][0m ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.836Z] INFO  [PID:491267][0m 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.836Z] INFO  [PID:491267][0m 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.836Z] INFO  [PID:491267][0m ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.836Z] INFO  [PID:491267][0m 📊 SIPアカウント概要: {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.836Z] INFO  [PID:491267][0m   - 総アカウント数: 22 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.836Z] INFO  [PID:491267][0m   - 利用可能: 22 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.836Z] INFO  [PID:491267][0m   - 使用中: 0 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.836Z] INFO  [PID:491267][0m   - エラー: 0 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.837Z] INFO  [PID:491267][0m   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.837Z] INFO  [PID:491267][0m   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
[2025-06-03T10:35:40.842Z] INFO  [PID:491267] 📋 初期キャンペーンロード: 1件検出 {"level":"INFO"}
2025-06-03T10:35:40: SQL実行成功: 結果行数=1
[2025-06-03T10:35:40.843Z] INFO  [PID:491267] ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.842Z] INFO  [PID:491267][0m 📋 初期キャンペーンロード: 1件検出 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.843Z] INFO  [PID:491267][0m ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
[2025-06-03T10:35:40.843Z] INFO  [PID:491267] 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
[2025-06-03T10:35:40.843Z] INFO  [PID:491267] 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
[2025-06-03T10:35:40.843Z] INFO  [PID:491267] 🚀 自動発信システム開始: 8000ms間隔 {"level":"INFO"}
[2025-06-03T10:35:40.843Z] INFO  [PID:491267] ✅ 完全自動連動システム起動完了 {"level":"INFO"}
[2025-06-03T10:35:40.843Z] INFO  [PID:491267] ✅ DialerService自動システム起動完了 - 安定版 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.843Z] INFO  [PID:491267][0m 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.843Z] INFO  [PID:491267][0m 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.843Z] INFO  [PID:491267][0m 🚀 自動発信システム開始: 8000ms間隔 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.843Z] INFO  [PID:491267][0m ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-03T10:35:40: [36m[2025-06-03T10:35:40.843Z] INFO  [PID:491267][0m ✅ DialerService自動システム起動完了 - 安定版 {"level":"INFO"}
[2025-06-03T10:35:55.830Z] WARN  [PID:491267] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
2025-06-03T10:35:55: [33m[2025-06-03T10:35:55.830Z] WARN  [PID:491267][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T10:35:55.831Z] ERROR [PID:491267] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
[2025-06-03T10:35:55.831Z] WARN  [PID:491267] Asterisk接続リトライ 1/3 を5秒後に実行 {"level":"WARN"}
[2025-06-03T10:35:55.832Z] INFO  [PID:491267] コールサービスの初期化が完了しました {"level":"INFO"}
2025-06-03T10:35:55: [31m[2025-06-03T10:35:55.831Z] ERROR [PID:491267][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T10:35:55: [33m[2025-06-03T10:35:55.831Z] WARN  [PID:491267][0m Asterisk接続リトライ 1/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T10:35:55: [36m[2025-06-03T10:35:55.832Z] INFO  [PID:491267][0m コールサービスの初期化が完了しました {"level":"INFO"}
2025-06-03T10:35:55: 📞 CallService初期化結果: true
2025-06-03T10:35:55: 🔧 DialerService手動初期化中...
2025-06-03T10:35:55: ✅ DialerService手動初期化完了
2025-06-03T10:35:55: 🔧 DialerService強制自動開始...
2025-06-03T10:35:55: ✅ サーバーが起動しました: http://0.0.0.0:5000
2025-06-03T10:35:55: 🎯 自動発信システム準備完了
2025-06-03T10:35:55: 🔗 利用可能なエンドポイント:
2025-06-03T10:35:55:   - GET  /health
2025-06-03T10:35:55:   - GET  /api/campaigns
2025-06-03T10:35:55:   - POST /api/campaigns/:id/start
2025-06-03T10:35:55:   - POST /api/calls/test
2025-06-03T10:35:55: SQL実行: 
2025-06-03T10:35:55:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:35:55:                ci.number as ca... 
[2025-06-03T10:35:55.852Z] INFO  [PID:491267] 🛑 自動発信システム停止 {"level":"INFO"}
2025-06-03T10:35:55: SQL実行成功: 結果行数=1
[2025-06-03T10:35:55.852Z] INFO  [PID:491267] 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-03T10:35:55: [36m[2025-06-03T10:35:55.852Z] INFO  [PID:491267][0m 🛑 自動発信システム停止 {"level":"INFO"}
2025-06-03T10:35:55: [36m[2025-06-03T10:35:55.852Z] INFO  [PID:491267][0m 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
[2025-06-03T10:36:00.832Z] INFO  [PID:491267] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T10:36:00.832Z] INFO  [PID:491267] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T10:36:00: [36m[2025-06-03T10:36:00.832Z] INFO  [PID:491267][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T10:36:00: [36m[2025-06-03T10:36:00.832Z] INFO  [PID:491267][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T10:36:00: SQL実行: 
2025-06-03T10:36:00:             SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:36:00:                    ci.numb... 
2025-06-03T10:36:00: SQL実行成功: 結果行数=1
2025-06-03T10:36:00: 📊 アクティブキャンペーン検出: 1件
2025-06-03T10:36:00: 🔄 アクティブキャンペーンを自動登録...
[2025-06-03T10:36:05.833Z] INFO  [PID:491267] 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-03T10:36:05: [36m[2025-06-03T10:36:05.833Z] INFO  [PID:491267][0m 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-03T10:36:05: SQL実行: SELECT 1 as test... 
[2025-06-03T10:36:05.835Z] INFO  [PID:491267] ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-03T10:36:05: SQL実行成功: 結果行数=1
2025-06-03T10:36:05: [36m[2025-06-03T10:36:05.835Z] INFO  [PID:491267][0m ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-03T10:36:05: SQL実行: 
2025-06-03T10:36:05:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:36:05:                ci.number as ca... 
[2025-06-03T10:36:05.840Z] INFO  [PID:491267] 📋 初期キャンペーンロード: 1件検出 {"level":"INFO"}
[2025-06-03T10:36:05.840Z] INFO  [PID:491267] ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
[2025-06-03T10:36:05.840Z] INFO  [PID:491267] 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
[2025-06-03T10:36:05.840Z] INFO  [PID:491267] 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
2025-06-03T10:36:05: SQL実行成功: 結果行数=1
2025-06-03T10:36:05: [36m[2025-06-03T10:36:05.840Z] INFO  [PID:491267][0m 📋 初期キャンペーンロード: 1件検出 {"level":"INFO"}
[2025-06-03T10:36:05.840Z] INFO  [PID:491267] 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
[2025-06-03T10:36:05.840Z] INFO  [PID:491267] ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-03T10:36:05: [36m[2025-06-03T10:36:05.840Z] INFO  [PID:491267][0m ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
2025-06-03T10:36:05: [36m[2025-06-03T10:36:05.840Z] INFO  [PID:491267][0m 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
2025-06-03T10:36:05: [36m[2025-06-03T10:36:05.840Z] INFO  [PID:491267][0m 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
2025-06-03T10:36:05: [36m[2025-06-03T10:36:05.840Z] INFO  [PID:491267][0m 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
2025-06-03T10:36:05: [36m[2025-06-03T10:36:05.840Z] INFO  [PID:491267][0m ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-03T10:36:05: ✅ DialerService自動システム開始完了
[2025-06-03T10:36:15.834Z] WARN  [PID:491267] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T10:36:15.834Z] ERROR [PID:491267] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
[2025-06-03T10:36:15.834Z] WARN  [PID:491267] Asterisk接続リトライ 2/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T10:36:15: [33m[2025-06-03T10:36:15.834Z] WARN  [PID:491267][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
2025-06-03T10:36:15: [31m[2025-06-03T10:36:15.834Z] ERROR [PID:491267][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T10:36:15: [33m[2025-06-03T10:36:15.834Z] WARN  [PID:491267][0m Asterisk接続リトライ 2/3 を5秒後に実行 {"level":"WARN"}
[2025-06-03T10:36:20.835Z] INFO  [PID:491267] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T10:36:20.835Z] INFO  [PID:491267] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T10:36:20: [36m[2025-06-03T10:36:20.835Z] INFO  [PID:491267][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T10:36:20: [36m[2025-06-03T10:36:20.835Z] INFO  [PID:491267][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T10:36:20: SQL実行: 
2025-06-03T10:36:20:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:36:20:                ci.number as ca... 
[2025-06-03T10:36:20.845Z] INFO  [PID:491267] 🛑 自動発信システム停止 {"level":"INFO"}
[2025-06-03T10:36:20.845Z] INFO  [PID:491267] 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-03T10:36:20: SQL実行成功: 結果行数=1
2025-06-03T10:36:20: [36m[2025-06-03T10:36:20.845Z] INFO  [PID:491267][0m 🛑 自動発信システム停止 {"level":"INFO"}
2025-06-03T10:36:20: [36m[2025-06-03T10:36:20.845Z] INFO  [PID:491267][0m 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
[2025-06-03T10:36:35.837Z] WARN  [PID:491267] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T10:36:35.837Z] ERROR [PID:491267] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
[2025-06-03T10:36:35.837Z] WARN  [PID:491267] Asterisk接続リトライ 3/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T10:36:35: [33m[2025-06-03T10:36:35.837Z] WARN  [PID:491267][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
2025-06-03T10:36:35: [31m[2025-06-03T10:36:35.837Z] ERROR [PID:491267][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T10:36:35: [33m[2025-06-03T10:36:35.837Z] WARN  [PID:491267][0m Asterisk接続リトライ 3/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T10:36:35: SQL実行: SELECT 1... 
2025-06-03T10:36:35: SQL実行: 
2025-06-03T10:36:35:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:36:35:                ci.number as ca... 
2025-06-03T10:36:35: SQL実行成功: 結果行数=1
2025-06-03T10:36:35: SQL実行成功: 結果行数=1
2025-06-03T10:36:40: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:36:40.727Z] INFO  [PID:491267] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:36:40: SQL実行成功: 結果行数=1
2025-06-03T10:36:40: [36m[2025-06-03T10:36:40.727Z] INFO  [PID:491267][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T10:36:40.838Z] INFO  [PID:491267] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T10:36:40.838Z] INFO  [PID:491267] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T10:36:40: [36m[2025-06-03T10:36:40.838Z] INFO  [PID:491267][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T10:36:40: [36m[2025-06-03T10:36:40.838Z] INFO  [PID:491267][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T10:36:50: SQL実行: 
2025-06-03T10:36:50:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:36:50:                ci.number as ca... 
2025-06-03T10:36:50: SQL実行成功: 結果行数=1
[2025-06-03T10:36:55.839Z] WARN  [PID:491267] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T10:36:55.839Z] ERROR [PID:491267] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
[2025-06-03T10:36:55.839Z] ERROR [PID:491267] Asterisk接続の最大リトライ回数に達しました。Asterisk機能は無効になります。 {"level":"ERROR"}
2025-06-03T10:36:55: [33m[2025-06-03T10:36:55.839Z] WARN  [PID:491267][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
2025-06-03T10:36:55: [31m[2025-06-03T10:36:55.839Z] ERROR [PID:491267][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T10:36:55: [31m[2025-06-03T10:36:55.839Z] ERROR [PID:491267][0m Asterisk接続の最大リトライ回数に達しました。Asterisk機能は無効になります。 {"level":"ERROR"}
2025-06-03T10:37:05: SQL実行: SELECT 1... 
2025-06-03T10:37:05: SQL実行: 
2025-06-03T10:37:05:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:37:05:                ci.number as ca... 
2025-06-03T10:37:05: SQL実行成功: 結果行数=1
2025-06-03T10:37:05: SQL実行成功: 結果行数=1
2025-06-03T10:37:20: SQL実行: 
2025-06-03T10:37:20:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:37:20:                ci.number as ca... 
2025-06-03T10:37:20: SQL実行成功: 結果行数=1
2025-06-03T10:37:35: SQL実行: SELECT 1... 
2025-06-03T10:37:35: SQL実行: 
2025-06-03T10:37:35:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:37:35:                ci.number as ca... 
2025-06-03T10:37:35: SQL実行成功: 結果行数=1
2025-06-03T10:37:35: SQL実行成功: 結果行数=1
2025-06-03T10:37:40: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:37:40.728Z] INFO  [PID:491267] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:37:40: SQL実行成功: 結果行数=1
2025-06-03T10:37:40: [36m[2025-06-03T10:37:40.728Z] INFO  [PID:491267][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:37:50: SQL実行: 
2025-06-03T10:37:50:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:37:50:                ci.number as ca... 
2025-06-03T10:37:50: SQL実行成功: 結果行数=1
2025-06-03T10:38:05: SQL実行: SELECT 1... 
2025-06-03T10:38:05: SQL実行成功: 結果行数=1
2025-06-03T10:38:05: SQL実行: 
2025-06-03T10:38:05:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:38:05:                ci.number as ca... 
2025-06-03T10:38:05: SQL実行成功: 結果行数=1
2025-06-03T10:38:20: SQL実行: 
2025-06-03T10:38:20:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:38:20:                ci.number as ca... 
2025-06-03T10:38:20: SQL実行成功: 結果行数=1
2025-06-03T10:38:35: SQL実行: SELECT 1... 
2025-06-03T10:38:35: SQL実行成功: 結果行数=1
2025-06-03T10:38:35: SQL実行: 
2025-06-03T10:38:35:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:38:35:                ci.number as ca... 
2025-06-03T10:38:35: SQL実行成功: 結果行数=1
2025-06-03T10:38:40: POST /api/auth/login - Origin: http://146.190.83.205:3003
2025-06-03T10:38:40: ログイン試行: test@test.com
2025-06-03T10:38:40: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:38:40.728Z] INFO  [PID:491267] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:38:40: SQL実行成功: 結果行数=1
2025-06-03T10:38:40: [36m[2025-06-03T10:38:40.728Z] INFO  [PID:491267][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:38:43: GET /api/campaigns - Origin: http://146.190.83.205:3003
[2025-06-03T10:38:43.507Z] INFO  [PID:491267] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T10:38:43: [36m[2025-06-03T10:38:43.507Z] INFO  [PID:491267][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T10:38:43: SQL実行: 
2025-06-03T10:38:43:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-03T10:38:43:        ... 
2025-06-03T10:38:43: SQL実行成功: 結果行数=3
2025-06-03T10:38:43: SQL実行: 
2025-06-03T10:38:43:       SELECT COUNT(*) as total
2025-06-03T10:38:43:       FROM campaigns c
2025-06-03T10:38:43:       WHERE 1=1
2025-06-03T10:38:43:     ... 
[2025-06-03T10:38:43.517Z] INFO  [PID:491267] キャンペーン取得結果: 3/3件 {"level":"INFO"}
2025-06-03T10:38:43: SQL実行成功: 結果行数=1
2025-06-03T10:38:43: [36m[2025-06-03T10:38:43.517Z] INFO  [PID:491267][0m キャンペーン取得結果: 3/3件 {"level":"INFO"}
2025-06-03T10:38:45: POST /api/campaigns/58/stop - Origin: http://146.190.83.205:3003
[2025-06-03T10:38:45.755Z] INFO  [PID:491267] キャンペーン停止: ID=58 {"level":"INFO"}
2025-06-03T10:38:45: [36m[2025-06-03T10:38:45.755Z] INFO  [PID:491267][0m キャンペーン停止: ID=58 {"level":"INFO"}
2025-06-03T10:38:45: SQL実行: UPDATE campaigns SET status = "paused", updated_at = NOW() WHERE id = ? AND status = "active"... パラメータ数: 1
[2025-06-03T10:38:45.761Z] INFO  [PID:491267] キャンペーン停止完了: ID=58 {"level":"INFO"}
2025-06-03T10:38:45: SQL実行成功: 結果行数=不明
2025-06-03T10:38:45: [36m[2025-06-03T10:38:45.761Z] INFO  [PID:491267][0m キャンペーン停止完了: ID=58 {"level":"INFO"}
[2025-06-03T10:38:45.811Z] INFO  [PID:491267] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T10:38:45: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-03T10:38:45: [36m[2025-06-03T10:38:45.811Z] INFO  [PID:491267][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T10:38:45: SQL実行: 
2025-06-03T10:38:45:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-03T10:38:45:        ... 
2025-06-03T10:38:45: SQL実行成功: 結果行数=3
2025-06-03T10:38:45: SQL実行: 
2025-06-03T10:38:45:       SELECT COUNT(*) as total
2025-06-03T10:38:45:       FROM campaigns c
2025-06-03T10:38:45:       WHERE 1=1
2025-06-03T10:38:45:     ... 
[2025-06-03T10:38:45.816Z] INFO  [PID:491267] キャンペーン取得結果: 3/3件 {"level":"INFO"}
2025-06-03T10:38:45: SQL実行成功: 結果行数=1
2025-06-03T10:38:45: [36m[2025-06-03T10:38:45.816Z] INFO  [PID:491267][0m キャンペーン取得結果: 3/3件 {"level":"INFO"}
[2025-06-03T10:38:46.302Z] INFO  [PID:491267] キャンペーン詳細取得: ID=58 {"level":"INFO"}
2025-06-03T10:38:46: GET /api/campaigns/58 - Origin: http://146.190.83.205:3003
2025-06-03T10:38:46: [36m[2025-06-03T10:38:46.302Z] INFO  [PID:491267][0m キャンペーン詳細取得: ID=58 {"level":"INFO"}
2025-06-03T10:38:46: SQL実行: 
2025-06-03T10:38:46:       SELECT c.*, 
2025-06-03T10:38:46:              ci.number as caller_id_number,
2025-06-03T10:38:46:              ci.description as calle... パラメータ数: 1
[2025-06-03T10:38:46.305Z] INFO  [PID:491267] キャンペーン詳細取得: ID=58 {"level":"INFO"}
2025-06-03T10:38:46: SQL実行成功: 結果行数=1
2025-06-03T10:38:46: [36m[2025-06-03T10:38:46.305Z] INFO  [PID:491267][0m キャンペーン詳細取得: ID=58 {"level":"INFO"}
2025-06-03T10:38:46: GET /api/campaigns/58/stats - Origin: http://146.190.83.205:3003
[2025-06-03T10:38:46.358Z] INFO  [PID:491267] キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:38:46: [36m[2025-06-03T10:38:46.358Z] INFO  [PID:491267][0m キャンペーン統計取得: ID=58 {"level":"INFO"}
2025-06-03T10:38:46: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:38:46: SQL実行成功: 結果行数=1
2025-06-03T10:38:46: SQL実行: 
2025-06-03T10:38:46:       SELECT 
2025-06-03T10:38:46:         COUNT(*) as total,
2025-06-03T10:38:46:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:38:46: SQL実行成功: 結果行数=1
2025-06-03T10:38:46: SQL実行: 
2025-06-03T10:38:46:       SELECT 
2025-06-03T10:38:46:         COUNT(*) as total_calls,
2025-06-03T10:38:46:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:38:46.364Z] INFO  [PID:491267] キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
2025-06-03T10:38:46: SQL実行成功: 結果行数=1
2025-06-03T10:38:46: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:38:46: [36m[2025-06-03T10:38:46.364Z] INFO  [PID:491267][0m キャンペーン統計取得完了: ID=58, Progress=0% {"level":"INFO"}
[2025-06-03T10:38:48.615Z] INFO  [PID:491267] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T10:38:48: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-03T10:38:48: [36m[2025-06-03T10:38:48.615Z] INFO  [PID:491267][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T10:38:48: SQL実行: 
2025-06-03T10:38:48:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-03T10:38:48:        ... 
2025-06-03T10:38:48: SQL実行成功: 結果行数=3
2025-06-03T10:38:48: SQL実行: 
2025-06-03T10:38:48:       SELECT COUNT(*) as total
2025-06-03T10:38:48:       FROM campaigns c
2025-06-03T10:38:48:       WHERE 1=1
2025-06-03T10:38:48:     ... 
[2025-06-03T10:38:48.620Z] INFO  [PID:491267] キャンペーン取得結果: 3/3件 {"level":"INFO"}
2025-06-03T10:38:48: SQL実行成功: 結果行数=1
2025-06-03T10:38:48: [36m[2025-06-03T10:38:48.620Z] INFO  [PID:491267][0m キャンペーン取得結果: 3/3件 {"level":"INFO"}
2025-06-03T10:38:50: SQL実行: 
2025-06-03T10:38:50:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:38:50:                ci.number as ca... 
2025-06-03T10:38:50: SQL実行成功: 結果行数=0
2025-06-03T10:38:52: DELETE /api/campaigns/58 - Origin: http://146.190.83.205:3003
2025-06-03T10:38:52: [36m[2025-06-03T10:38:52.446Z] INFO  [PID:491267][0m 🗑️ キャンペーン削除開始: ID=58 {"level":"INFO"}
[2025-06-03T10:38:52.446Z] INFO  [PID:491267] 🗑️ キャンペーン削除開始: ID=58 {"level":"INFO"}
2025-06-03T10:38:52: SQL実行: SELECT id, name, status FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:38:52: SQL実行成功: 結果行数=1
2025-06-03T10:38:52: SQL実行: SELECT COUNT(*) as total FROM contacts WHERE campaign_id = ?... パラメータ数: 1
2025-06-03T10:38:52: SQL実行成功: 結果行数=1
2025-06-03T10:38:52: SQL実行: SELECT COUNT(*) as total FROM call_logs WHERE campaign_id = ?... パラメータ数: 1
[2025-06-03T10:38:52.451Z] INFO  [PID:491267] 削除対象データ: Campaign=テスト, Contacts=1, CallLogs=1 {"level":"INFO"}
2025-06-03T10:38:52: SQL実行成功: 結果行数=1
2025-06-03T10:38:52: [36m[2025-06-03T10:38:52.451Z] INFO  [PID:491267][0m 削除対象データ: Campaign=テスト, Contacts=1, CallLogs=1 {"level":"INFO"}
2025-06-03T10:38:52: SQL実行: START TRANSACTION... 
2025-06-03T10:38:52: SQL実行成功: 結果行数=不明
2025-06-03T10:38:52: SQL実行: DELETE FROM campaign_audio WHERE campaign_id = ?... パラメータ数: 1
[2025-06-03T10:38:52.453Z] INFO  [PID:491267] キャンペーン音声関連付けを削除: 58 {"level":"INFO"}
2025-06-03T10:38:52: SQL実行成功: 結果行数=不明
2025-06-03T10:38:52: [36m[2025-06-03T10:38:52.453Z] INFO  [PID:491267][0m キャンペーン音声関連付けを削除: 58 {"level":"INFO"}
2025-06-03T10:38:52: SQL実行: DELETE FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
[2025-06-03T10:38:52.454Z] INFO  [PID:491267] IVR設定を削除: 58 {"level":"INFO"}
2025-06-03T10:38:52: SQL実行成功: 結果行数=不明
2025-06-03T10:38:52: [36m[2025-06-03T10:38:52.454Z] INFO  [PID:491267][0m IVR設定を削除: 58 {"level":"INFO"}
2025-06-03T10:38:52: SQL実行: DELETE FROM call_logs WHERE campaign_id = ?... パラメータ数: 1
[2025-06-03T10:38:52.455Z] INFO  [PID:491267] 通話ログを削除: 1件 {"level":"INFO"}
2025-06-03T10:38:52: SQL実行成功: 結果行数=不明
2025-06-03T10:38:52: [36m[2025-06-03T10:38:52.455Z] INFO  [PID:491267][0m 通話ログを削除: 1件 {"level":"INFO"}
2025-06-03T10:38:52: SQL実行: DELETE FROM contacts WHERE campaign_id = ?... パラメータ数: 1
[2025-06-03T10:38:52.456Z] INFO  [PID:491267] 連絡先を削除: 1件 {"level":"INFO"}
2025-06-03T10:38:52: SQL実行成功: 結果行数=不明
2025-06-03T10:38:52: [36m[2025-06-03T10:38:52.456Z] INFO  [PID:491267][0m 連絡先を削除: 1件 {"level":"INFO"}
2025-06-03T10:38:52: SQL実行: DELETE FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:38:52: SQL実行成功: 結果行数=不明
2025-06-03T10:38:52: SQL実行: COMMIT... 
[2025-06-03T10:38:52.460Z] INFO  [PID:491267] ✅ キャンペーン削除完了: ID=58, Name=テスト {"level":"INFO"}
2025-06-03T10:38:52: SQL実行成功: 結果行数=不明
2025-06-03T10:38:52: [36m[2025-06-03T10:38:52.460Z] INFO  [PID:491267][0m ✅ キャンペーン削除完了: ID=58, Name=テスト {"level":"INFO"}
[2025-06-03T10:38:52.508Z] INFO  [PID:491267] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T10:38:52: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-03T10:38:52: [36m[2025-06-03T10:38:52.508Z] INFO  [PID:491267][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T10:38:52: SQL実行: 
2025-06-03T10:38:52:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-03T10:38:52:        ... 
2025-06-03T10:38:52: SQL実行成功: 結果行数=2
2025-06-03T10:38:52: SQL実行: 
2025-06-03T10:38:52:       SELECT COUNT(*) as total
2025-06-03T10:38:52:       FROM campaigns c
2025-06-03T10:38:52:       WHERE 1=1
2025-06-03T10:38:52:     ... 
2025-06-03T10:38:52: SQL実行成功: 結果行数=1
[2025-06-03T10:38:52.514Z] INFO  [PID:491267] キャンペーン取得結果: 2/2件 {"level":"INFO"}
2025-06-03T10:38:52: [36m[2025-06-03T10:38:52.514Z] INFO  [PID:491267][0m キャンペーン取得結果: 2/2件 {"level":"INFO"}
2025-06-03T10:38:53: GET /api/caller-ids - Origin: http://146.190.83.205:3003
2025-06-03T10:38:53: 発信者番号一覧取得開始
2025-06-03T10:38:53: SQL実行: SELECT 1 as healthy, NOW() as timestamp, USER() as user, DATABASE() as db... 
2025-06-03T10:38:53: SQL実行成功: 結果行数=1
2025-06-03T10:38:53: データベース接続確認完了
2025-06-03T10:38:53: クエリ実行開始
2025-06-03T10:38:53: SQL実行: 
2025-06-03T10:38:53:       SELECT 
2025-06-03T10:38:53:         ci.id,
2025-06-03T10:38:53:         ci.number,
2025-06-03T10:38:53:         ci.description,
2025-06-03T10:38:53:         ci.provider,
2025-06-03T10:38:53:       ... 
2025-06-03T10:38:53: SQL実行成功: 結果行数=2
2025-06-03T10:38:53: クエリ実行完了: 2件取得
2025-06-03T10:38:53: 発信者番号一覧取得成功: 2
2025-06-03T10:39:05: SQL実行: SELECT 1... 
2025-06-03T10:39:05: SQL実行成功: 結果行数=1
2025-06-03T10:39:05: SQL実行: 
2025-06-03T10:39:05:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:39:05:                ci.number as ca... 
2025-06-03T10:39:05: SQL実行成功: 結果行数=0
[2025-06-03T10:39:06.106Z] INFO  [PID:491267] キャンペーン作成: Name=テスト {"level":"INFO"}
2025-06-03T10:39:06: POST /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-03T10:39:06: [36m[2025-06-03T10:39:06.106Z] INFO  [PID:491267][0m キャンペーン作成: Name=テスト {"level":"INFO"}
2025-06-03T10:39:06: SQL実行: INSERT INTO campaigns (name, description, caller_id_id, script, status, created_at) VALUES (?, ?, ?,... パラメータ数: 5
[2025-06-03T10:39:06.113Z] INFO  [PID:491267] キャンペーン作成完了: ID=59, Name=テスト {"level":"INFO"}
2025-06-03T10:39:06: SQL実行成功: 結果行数=不明
2025-06-03T10:39:06: [36m[2025-06-03T10:39:06.113Z] INFO  [PID:491267][0m キャンペーン作成完了: ID=59, Name=テスト {"level":"INFO"}
[2025-06-03T10:39:07.170Z] INFO  [PID:491267] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T10:39:07: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-03T10:39:07: [36m[2025-06-03T10:39:07.170Z] INFO  [PID:491267][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-03T10:39:07: SQL実行: 
2025-06-03T10:39:07:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-03T10:39:07:        ... 
2025-06-03T10:39:07: SQL実行成功: 結果行数=3
2025-06-03T10:39:07: SQL実行: 
2025-06-03T10:39:07:       SELECT COUNT(*) as total
2025-06-03T10:39:07:       FROM campaigns c
2025-06-03T10:39:07:       WHERE 1=1
2025-06-03T10:39:07:     ... 
2025-06-03T10:39:07: SQL実行成功: 結果行数=1
[2025-06-03T10:39:07.175Z] INFO  [PID:491267] キャンペーン取得結果: 3/3件 {"level":"INFO"}
2025-06-03T10:39:07: [36m[2025-06-03T10:39:07.175Z] INFO  [PID:491267][0m キャンペーン取得結果: 3/3件 {"level":"INFO"}
[2025-06-03T10:39:08.804Z] INFO  [PID:491267] キャンペーン詳細取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:08: GET /api/campaigns/59 - Origin: http://146.190.83.205:3003
2025-06-03T10:39:08: [36m[2025-06-03T10:39:08.804Z] INFO  [PID:491267][0m キャンペーン詳細取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:08: SQL実行: 
2025-06-03T10:39:08:       SELECT c.*, 
2025-06-03T10:39:08:              ci.number as caller_id_number,
2025-06-03T10:39:08:              ci.description as calle... パラメータ数: 1
[2025-06-03T10:39:08.807Z] INFO  [PID:491267] キャンペーン詳細取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:08: SQL実行成功: 結果行数=1
2025-06-03T10:39:08: [36m[2025-06-03T10:39:08.807Z] INFO  [PID:491267][0m キャンペーン詳細取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:08: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
[2025-06-03T10:39:08.859Z] INFO  [PID:491267] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:08: [36m[2025-06-03T10:39:08.859Z] INFO  [PID:491267][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:08: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:39:08: SQL実行成功: 結果行数=1
2025-06-03T10:39:08: SQL実行: 
2025-06-03T10:39:08:       SELECT 
2025-06-03T10:39:08:         COUNT(*) as total,
2025-06-03T10:39:08:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:39:08: SQL実行成功: 結果行数=1
2025-06-03T10:39:08: SQL実行: 
2025-06-03T10:39:08:       SELECT 
2025-06-03T10:39:08:         COUNT(*) as total_calls,
2025-06-03T10:39:08:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:39:08.864Z] INFO  [PID:491267] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:39:08: SQL実行成功: 結果行数=1
2025-06-03T10:39:08: 進捗計算デバッグ: total=0, processed=0, progress=0%
2025-06-03T10:39:08: [36m[2025-06-03T10:39:08.864Z] INFO  [PID:491267][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:39:09: GET /api/campaigns/59/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
2025-06-03T10:39:09: [36m[2025-06-03T10:39:09.992Z] INFO  [PID:491267][0m 連絡先一覧取得: Campaign=59, Page=1, Limit=20 {"level":"INFO"}
[2025-06-03T10:39:09.992Z] INFO  [PID:491267] 連絡先一覧取得: Campaign=59, Page=1, Limit=20 {"level":"INFO"}
2025-06-03T10:39:09: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:39:09: SQL実行成功: 結果行数=1
2025-06-03T10:39:09: SQL実行: 
2025-06-03T10:39:09:       SELECT c.*
2025-06-03T10:39:09:       FROM contacts c
2025-06-03T10:39:09:       WHERE c.campaign_id = ?
2025-06-03T10:39:09:      ORDER BY c.created_at DES... パラメータ数: 1
2025-06-03T10:39:09: SQL実行成功: 結果行数=0
2025-06-03T10:39:09: SQL実行: 
2025-06-03T10:39:09:       SELECT COUNT(*) as total
2025-06-03T10:39:09:       FROM contacts c
2025-06-03T10:39:09:       WHERE c.campaign_id = ?
2025-06-03T10:39:09:     ... パラメータ数: 1
[2025-06-03T10:39:09.998Z] INFO  [PID:491267] 連絡先取得結果: Campaign=59, 件数=0, 全体=0 {"level":"INFO"}
2025-06-03T10:39:09: SQL実行成功: 結果行数=1
2025-06-03T10:39:09: [36m[2025-06-03T10:39:09.998Z] INFO  [PID:491267][0m 連絡先取得結果: Campaign=59, 件数=0, 全体=0 {"level":"INFO"}
2025-06-03T10:39:17: POST /api/campaigns/59/contacts/upload - Origin: http://146.190.83.205:3003
[2025-06-03T10:39:17.892Z] INFO  [PID:491267] 🚀 CSVアップロード開始 {"campaignId":"59","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-03T10:39:17.892Z","level":"INFO"}
2025-06-03T10:39:17: [36m[2025-06-03T10:39:17.892Z] INFO  [PID:491267][0m 🚀 CSVアップロード開始 {"campaignId":"59","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-03T10:39:17.892Z","level":"INFO"}
2025-06-03T10:39:17: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-03T10:39:17.895Z] INFO  [PID:491267] 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
2025-06-03T10:39:17: SQL実行成功: 結果行数=1
2025-06-03T10:39:17: [36m[2025-06-03T10:39:17.895Z] INFO  [PID:491267][0m 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
[2025-06-03T10:39:17.898Z] WARN  [PID:491267] CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
2025-06-03T10:39:17: [33m[2025-06-03T10:39:17.898Z] WARN  [PID:491267][0m CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
[2025-06-03T10:39:17.898Z] INFO  [PID:491267] CSV解析完了: 1行のデータ {"level":"INFO"}
[2025-06-03T10:39:17.899Z] INFO  [PID:491267] 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
2025-06-03T10:39:17: [36m[2025-06-03T10:39:17.898Z] INFO  [PID:491267][0m CSV解析完了: 1行のデータ {"level":"INFO"}
[2025-06-03T10:39:17.899Z] INFO  [PID:491267] 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
2025-06-03T10:39:17: [36m[2025-06-03T10:39:17.899Z] INFO  [PID:491267][0m 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
[2025-06-03T10:39:17.900Z] INFO  [PID:491267] 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-03T10:39:17: [36m[2025-06-03T10:39:17.899Z] INFO  [PID:491267][0m 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
[2025-06-03T10:39:17.900Z] INFO  [PID:491267] 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-03T10:39:17: [36m[2025-06-03T10:39:17.900Z] INFO  [PID:491267][0m 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
[2025-06-03T10:39:17.900Z] INFO  [PID:491267] バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
2025-06-03T10:39:17: [36m[2025-06-03T10:39:17.900Z] INFO  [PID:491267][0m 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
[2025-06-03T10:39:17.900Z] INFO  [PID:491267] 🔍 重複チェック開始... {"level":"INFO"}
2025-06-03T10:39:17: [36m[2025-06-03T10:39:17.900Z] INFO  [PID:491267][0m バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
2025-06-03T10:39:17: [36m[2025-06-03T10:39:17.900Z] INFO  [PID:491267][0m 🔍 重複チェック開始... {"level":"INFO"}
2025-06-03T10:39:17: SQL実行: SELECT phone FROM contacts WHERE campaign_id = ?... パラメータ数: 1
[2025-06-03T10:39:17.902Z] INFO  [PID:491267] 既存電話番号数: 0 {"level":"INFO"}
2025-06-03T10:39:17: SQL実行成功: 結果行数=0
2025-06-03T10:39:17: [36m[2025-06-03T10:39:17.902Z] INFO  [PID:491267][0m 既存電話番号数: 0 {"level":"INFO"}
[2025-06-03T10:39:17.902Z] INFO  [PID:491267] 新規データ追加: 05018086649 {"level":"INFO"}
2025-06-03T10:39:17: [36m[2025-06-03T10:39:17.902Z] INFO  [PID:491267][0m 新規データ追加: 05018086649 {"level":"INFO"}
[2025-06-03T10:39:17.902Z] INFO  [PID:491267] 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
2025-06-03T10:39:17: [36m[2025-06-03T10:39:17.902Z] INFO  [PID:491267][0m 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
[2025-06-03T10:39:17.903Z] INFO  [PID:491267] 💾 データベース挿入開始: 1件 {"level":"INFO"}
2025-06-03T10:39:17: [36m[2025-06-03T10:39:17.903Z] INFO  [PID:491267][0m 💾 データベース挿入開始: 1件 {"level":"INFO"}
2025-06-03T10:39:17: SQL実行: START TRANSACTION... 
2025-06-03T10:39:17: SQL実行成功: 結果行数=不明
2025-06-03T10:39:17: SQL実行: INSERT INTO contacts (campaign_id, phone, name, company, status, created_at) VALUES (?, ?, ?, ?, ?, ... パラメータ数: 5
[2025-06-03T10:39:17.904Z] INFO  [PID:491267] 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
2025-06-03T10:39:17: SQL実行成功: 結果行数=不明
2025-06-03T10:39:17: [36m[2025-06-03T10:39:17.904Z] INFO  [PID:491267][0m 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
2025-06-03T10:39:17: SQL実行: COMMIT... 
[2025-06-03T10:39:17.908Z] INFO  [PID:491267] ✅ 全件挿入完了: 1件 {"level":"INFO"}
2025-06-03T10:39:17: SQL実行成功: 結果行数=不明
2025-06-03T10:39:17: [36m[2025-06-03T10:39:17.908Z] INFO  [PID:491267][0m ✅ 全件挿入完了: 1件 {"level":"INFO"}
2025-06-03T10:39:17: SQL実行: SELECT COUNT(*) as total FROM contacts WHERE campaign_id = ?... パラメータ数: 1
2025-06-03T10:39:17: SQL実行成功: 結果行数=1
2025-06-03T10:39:17: SQL実行: SELECT COUNT(*) as completed FROM contacts WHERE campaign_id = ? AND status IN ("completed", "failed... パラメータ数: 1
2025-06-03T10:39:17: SQL実行成功: 結果行数=1
2025-06-03T10:39:17: SQL実行: UPDATE campaigns SET progress = ?, updated_at = NOW() WHERE id = ?... パラメータ数: 2
2025-06-03T10:39:17: SQL実行成功: 結果行数=不明
[2025-06-03T10:39:17.916Z] INFO  [PID:491267] CSVアップロード完了 {"campaignId":"59","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
2025-06-03T10:39:17: [36m[2025-06-03T10:39:17.916Z] INFO  [PID:491267][0m CSVアップロード完了 {"campaignId":"59","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
2025-06-03T10:39:17: GET /api/campaigns/59 - Origin: http://146.190.83.205:3003
[2025-06-03T10:39:17.969Z] INFO  [PID:491267] キャンペーン詳細取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:17: [36m[2025-06-03T10:39:17.969Z] INFO  [PID:491267][0m キャンペーン詳細取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:17: SQL実行: 
2025-06-03T10:39:17:       SELECT c.*, 
2025-06-03T10:39:17:              ci.number as caller_id_number,
2025-06-03T10:39:17:              ci.description as calle... パラメータ数: 1
[2025-06-03T10:39:17.972Z] INFO  [PID:491267] キャンペーン詳細取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:17: SQL実行成功: 結果行数=1
2025-06-03T10:39:17: [36m[2025-06-03T10:39:17.972Z] INFO  [PID:491267][0m キャンペーン詳細取得: ID=59 {"level":"INFO"}
[2025-06-03T10:39:18.021Z] INFO  [PID:491267] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:18: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:39:18: [36m[2025-06-03T10:39:18.021Z] INFO  [PID:491267][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:18: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:39:18: SQL実行成功: 結果行数=1
2025-06-03T10:39:18: SQL実行: 
2025-06-03T10:39:18:       SELECT 
2025-06-03T10:39:18:         COUNT(*) as total,
2025-06-03T10:39:18:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:39:18: SQL実行成功: 結果行数=1
2025-06-03T10:39:18: SQL実行: 
2025-06-03T10:39:18:       SELECT 
2025-06-03T10:39:18:         COUNT(*) as total_calls,
2025-06-03T10:39:18:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:39:18: SQL実行成功: 結果行数=1
[2025-06-03T10:39:18.025Z] INFO  [PID:491267] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:39:18: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:39:18: [36m[2025-06-03T10:39:18.025Z] INFO  [PID:491267][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
[2025-06-03T10:39:18.076Z] INFO  [PID:491267] 連絡先一覧取得: Campaign=59, Page=1, Limit=20 {"level":"INFO"}
2025-06-03T10:39:18: GET /api/campaigns/59/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
2025-06-03T10:39:18: [36m[2025-06-03T10:39:18.076Z] INFO  [PID:491267][0m 連絡先一覧取得: Campaign=59, Page=1, Limit=20 {"level":"INFO"}
2025-06-03T10:39:18: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:39:18: SQL実行成功: 結果行数=1
2025-06-03T10:39:18: SQL実行: 
2025-06-03T10:39:18:       SELECT c.*
2025-06-03T10:39:18:       FROM contacts c
2025-06-03T10:39:18:       WHERE c.campaign_id = ?
2025-06-03T10:39:18:      ORDER BY c.created_at DES... パラメータ数: 1
2025-06-03T10:39:18: SQL実行成功: 結果行数=1
2025-06-03T10:39:18: SQL実行: 
2025-06-03T10:39:18:       SELECT COUNT(*) as total
2025-06-03T10:39:18:       FROM contacts c
2025-06-03T10:39:18:       WHERE c.campaign_id = ?
2025-06-03T10:39:18:     ... パラメータ数: 1
[2025-06-03T10:39:18.080Z] INFO  [PID:491267] 連絡先取得結果: Campaign=59, 件数=1, 全体=1 {"level":"INFO"}
2025-06-03T10:39:18: SQL実行成功: 結果行数=1
2025-06-03T10:39:18: [36m[2025-06-03T10:39:18.080Z] INFO  [PID:491267][0m 連絡先取得結果: Campaign=59, 件数=1, 全体=1 {"level":"INFO"}
2025-06-03T10:39:20: GET /api/audio - Origin: http://146.190.83.205:3003
[2025-06-03T10:39:20.017Z] INFO  [PID:491267] 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-03T10:39:20: [36m[2025-06-03T10:39:20.017Z] INFO  [PID:491267][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-03T10:39:20: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
[2025-06-03T10:39:20.019Z] INFO  [PID:491267] 7件の音声ファイルを取得しました {"level":"INFO"}
2025-06-03T10:39:20: SQL実行成功: 結果行数=7
2025-06-03T10:39:20: [36m[2025-06-03T10:39:20.019Z] INFO  [PID:491267][0m 7件の音声ファイルを取得しました {"level":"INFO"}
2025-06-03T10:39:20: GET /api/ivr/campaigns/59 - Origin: http://146.190.83.205:3003
2025-06-03T10:39:20: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:39:20: SQL実行成功: 結果行数=1
[2025-06-03T10:39:20.022Z] INFO  [PID:491267] キャンペーン音声取得開始: Campaign=59 {"level":"INFO"}
2025-06-03T10:39:20: [36m[2025-06-03T10:39:20.022Z] INFO  [PID:491267][0m キャンペーン音声取得開始: Campaign=59 {"level":"INFO"}
2025-06-03T10:39:20: SQL実行: 
2025-06-03T10:39:20:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T10:39:20:    ... パラメータ数: 1
[2025-06-03T10:39:20.023Z] INFO  [PID:491267] キャンペーン音声取得結果: Campaign=59, 件数=0 {"level":"INFO"}
[2025-06-03T10:39:20.024Z] WARN  [PID:491267] キャンペーン 59 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-03T10:39:20: SQL実行成功: 結果行数=0
2025-06-03T10:39:20: [36m[2025-06-03T10:39:20.023Z] INFO  [PID:491267][0m キャンペーン音声取得結果: Campaign=59, 件数=0 {"level":"INFO"}
2025-06-03T10:39:20: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-03T10:39:20: [33m[2025-06-03T10:39:20.024Z] WARN  [PID:491267][0m キャンペーン 59 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-03T10:39:20: SQL実行成功: 結果行数=0
2025-06-03T10:39:20: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:39:20: SQL実行成功: 結果行数=1
[2025-06-03T10:39:20.026Z] INFO  [PID:491267] キャンペーン音声取得開始: Campaign=59 {"level":"INFO"}
2025-06-03T10:39:20: [36m[2025-06-03T10:39:20.026Z] INFO  [PID:491267][0m キャンペーン音声取得開始: Campaign=59 {"level":"INFO"}
2025-06-03T10:39:20: SQL実行: 
2025-06-03T10:39:20:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T10:39:20:    ... パラメータ数: 1
[2025-06-03T10:39:20.026Z] INFO  [PID:491267] キャンペーン音声取得結果: Campaign=59, 件数=0 {"level":"INFO"}
2025-06-03T10:39:20: SQL実行成功: 結果行数=0
[2025-06-03T10:39:20.027Z] WARN  [PID:491267] キャンペーン 59 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-03T10:39:20: [36m[2025-06-03T10:39:20.026Z] INFO  [PID:491267][0m キャンペーン音声取得結果: Campaign=59, 件数=0 {"level":"INFO"}
2025-06-03T10:39:20: [33m[2025-06-03T10:39:20.027Z] WARN  [PID:491267][0m キャンペーン 59 に音声ファイルが見つかりません {"level":"WARN"}
[2025-06-03T10:39:20.028Z] INFO  [PID:491267] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-59.conf {"level":"INFO"}
2025-06-03T10:39:20: [36m[2025-06-03T10:39:20.028Z] INFO  [PID:491267][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-59.conf {"level":"INFO"}
2025-06-03T10:39:20: SQL実行: 
2025-06-03T10:39:20:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:39:20:                ci.number as ca... 
2025-06-03T10:39:20: SQL実行成功: 結果行数=0
[2025-06-03T10:39:24.664Z] INFO  [PID:491267] 音声ファイル割り当て: キャンペーンID=59, 音声ID=1eafe0ce-cfd5-4bd7-944b-fb5288171f71, タイプ=welcome {"level":"INFO"}
2025-06-03T10:39:24: POST /api/audio/assign - Origin: http://146.190.83.205:3003
2025-06-03T10:39:24: [36m[2025-06-03T10:39:24.664Z] INFO  [PID:491267][0m 音声ファイル割り当て: キャンペーンID=59, 音声ID=1eafe0ce-cfd5-4bd7-944b-fb5288171f71, タイプ=welcome {"level":"INFO"}
2025-06-03T10:39:24: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:39:24: SQL実行成功: 結果行数=1
2025-06-03T10:39:24: SQL実行: SELECT id FROM audio_files WHERE id = ?... パラメータ数: 1
2025-06-03T10:39:24: SQL実行成功: 結果行数=1
2025-06-03T10:39:24: SQL実行: SELECT * FROM campaign_audio WHERE campaign_id = ? AND audio_type = ?... パラメータ数: 2
2025-06-03T10:39:24: SQL実行成功: 結果行数=0
2025-06-03T10:39:24: SQL実行: INSERT INTO campaign_audio (campaign_id, audio_file_id, audio_type, created_at) VALUES (?, ?, ?, NOW... パラメータ数: 3
[2025-06-03T10:39:24.673Z] INFO  [PID:491267] 新規割り当てを作成しました: キャンペーンID=59, タイプ=welcome {"level":"INFO"}
2025-06-03T10:39:24: SQL実行成功: 結果行数=不明
2025-06-03T10:39:24: [36m[2025-06-03T10:39:24.673Z] INFO  [PID:491267][0m 新規割り当てを作成しました: キャンペーンID=59, タイプ=welcome {"level":"INFO"}
2025-06-03T10:39:24: GET /api/ivr/campaigns/59 - Origin: http://146.190.83.205:3003
2025-06-03T10:39:24: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-03T10:39:24.725Z] INFO  [PID:491267] キャンペーン音声取得開始: Campaign=59 {"level":"INFO"}
2025-06-03T10:39:24: SQL実行成功: 結果行数=1
2025-06-03T10:39:24: [36m[2025-06-03T10:39:24.725Z] INFO  [PID:491267][0m キャンペーン音声取得開始: Campaign=59 {"level":"INFO"}
2025-06-03T10:39:24: SQL実行: 
2025-06-03T10:39:24:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T10:39:24:    ... パラメータ数: 1
[2025-06-03T10:39:24.727Z] INFO  [PID:491267] キャンペーン音声取得結果: Campaign=59, 件数=1 {"level":"INFO"}
[2025-06-03T10:39:24.727Z] INFO  [PID:491267] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T10:39:24: SQL実行成功: 結果行数=1
2025-06-03T10:39:24: [36m[2025-06-03T10:39:24.727Z] INFO  [PID:491267][0m キャンペーン音声取得結果: Campaign=59, 件数=1 {"level":"INFO"}
2025-06-03T10:39:24: [36m[2025-06-03T10:39:24.727Z] INFO  [PID:491267][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T10:39:24: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-03T10:39:24: SQL実行成功: 結果行数=0
2025-06-03T10:39:24: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-03T10:39:24.729Z] INFO  [PID:491267] キャンペーン音声取得開始: Campaign=59 {"level":"INFO"}
2025-06-03T10:39:24: SQL実行成功: 結果行数=1
2025-06-03T10:39:24: [36m[2025-06-03T10:39:24.729Z] INFO  [PID:491267][0m キャンペーン音声取得開始: Campaign=59 {"level":"INFO"}
2025-06-03T10:39:24: SQL実行: 
2025-06-03T10:39:24:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T10:39:24:    ... パラメータ数: 1
[2025-06-03T10:39:24.730Z] INFO  [PID:491267] キャンペーン音声取得結果: Campaign=59, 件数=1 {"level":"INFO"}
2025-06-03T10:39:24: SQL実行成功: 結果行数=1
[2025-06-03T10:39:24.730Z] INFO  [PID:491267] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T10:39:24: [36m[2025-06-03T10:39:24.730Z] INFO  [PID:491267][0m キャンペーン音声取得結果: Campaign=59, 件数=1 {"level":"INFO"}
2025-06-03T10:39:24: [36m[2025-06-03T10:39:24.730Z] INFO  [PID:491267][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
[2025-06-03T10:39:24.730Z] INFO  [PID:491267] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-59.conf {"level":"INFO"}
2025-06-03T10:39:24: [36m[2025-06-03T10:39:24.730Z] INFO  [PID:491267][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-59.conf {"level":"INFO"}
[2025-06-03T10:39:26.278Z] INFO  [PID:491267] キャンペーン開始: ID=59 {"level":"INFO"}
2025-06-03T10:39:26: POST /api/campaigns/59/start - Origin: http://146.190.83.205:3003
2025-06-03T10:39:26: [36m[2025-06-03T10:39:26.278Z] INFO  [PID:491267][0m キャンペーン開始: ID=59 {"level":"INFO"}
2025-06-03T10:39:26: SQL実行: UPDATE campaigns SET status = "active", updated_at = NOW() WHERE id = ? AND status != "active"... パラメータ数: 1
[2025-06-03T10:39:26.282Z] INFO  [PID:491267] キャンペーン開始完了: ID=59 {"level":"INFO"}
2025-06-03T10:39:26: SQL実行成功: 結果行数=不明
2025-06-03T10:39:26: [36m[2025-06-03T10:39:26.282Z] INFO  [PID:491267][0m キャンペーン開始完了: ID=59 {"level":"INFO"}
[2025-06-03T10:39:26.332Z] INFO  [PID:491267] キャンペーン詳細取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:26: GET /api/campaigns/59 - Origin: http://146.190.83.205:3003
2025-06-03T10:39:26: [36m[2025-06-03T10:39:26.332Z] INFO  [PID:491267][0m キャンペーン詳細取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:26: SQL実行: 
2025-06-03T10:39:26:       SELECT c.*, 
2025-06-03T10:39:26:              ci.number as caller_id_number,
2025-06-03T10:39:26:              ci.description as calle... パラメータ数: 1
[2025-06-03T10:39:26.335Z] INFO  [PID:491267] キャンペーン詳細取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:26: SQL実行成功: 結果行数=1
2025-06-03T10:39:26: [36m[2025-06-03T10:39:26.335Z] INFO  [PID:491267][0m キャンペーン詳細取得: ID=59 {"level":"INFO"}
[2025-06-03T10:39:26.386Z] INFO  [PID:491267] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:26: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:39:26: [36m[2025-06-03T10:39:26.386Z] INFO  [PID:491267][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:26: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:39:26: SQL実行成功: 結果行数=1
2025-06-03T10:39:26: SQL実行: 
2025-06-03T10:39:26:       SELECT 
2025-06-03T10:39:26:         COUNT(*) as total,
2025-06-03T10:39:26:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:39:26: SQL実行成功: 結果行数=1
2025-06-03T10:39:26: SQL実行: 
2025-06-03T10:39:26:       SELECT 
2025-06-03T10:39:26:         COUNT(*) as total_calls,
2025-06-03T10:39:26:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:39:26.391Z] INFO  [PID:491267] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:39:26: SQL実行成功: 結果行数=1
2025-06-03T10:39:26: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:39:26: [36m[2025-06-03T10:39:26.391Z] INFO  [PID:491267][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:39:26: GET /api/ivr/campaigns/59 - Origin: http://146.190.83.205:3003
2025-06-03T10:39:26: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-03T10:39:26.443Z] INFO  [PID:491267] 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-03T10:39:26: GET /api/audio - Origin: http://146.190.83.205:3003
2025-06-03T10:39:26: [36m[2025-06-03T10:39:26.443Z] INFO  [PID:491267][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-03T10:39:26: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
[2025-06-03T10:39:26.444Z] INFO  [PID:491267] キャンペーン音声取得開始: Campaign=59 {"level":"INFO"}
2025-06-03T10:39:26: SQL実行成功: 結果行数=1
2025-06-03T10:39:26: [36m[2025-06-03T10:39:26.444Z] INFO  [PID:491267][0m キャンペーン音声取得開始: Campaign=59 {"level":"INFO"}
2025-06-03T10:39:26: SQL実行: 
2025-06-03T10:39:26:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T10:39:26:    ... パラメータ数: 1
[2025-06-03T10:39:26.446Z] INFO  [PID:491267] 7件の音声ファイルを取得しました {"level":"INFO"}
2025-06-03T10:39:26: SQL実行成功: 結果行数=7
2025-06-03T10:39:26: [36m[2025-06-03T10:39:26.446Z] INFO  [PID:491267][0m 7件の音声ファイルを取得しました {"level":"INFO"}
[2025-06-03T10:39:26.447Z] INFO  [PID:491267] キャンペーン音声取得結果: Campaign=59, 件数=1 {"level":"INFO"}
2025-06-03T10:39:26: SQL実行成功: 結果行数=1
[2025-06-03T10:39:26.448Z] INFO  [PID:491267] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T10:39:26: [36m[2025-06-03T10:39:26.447Z] INFO  [PID:491267][0m キャンペーン音声取得結果: Campaign=59, 件数=1 {"level":"INFO"}
2025-06-03T10:39:26: [36m[2025-06-03T10:39:26.448Z] INFO  [PID:491267][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T10:39:26: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-03T10:39:26: SQL実行成功: 結果行数=0
2025-06-03T10:39:26: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-03T10:39:26.450Z] INFO  [PID:491267] キャンペーン音声取得開始: Campaign=59 {"level":"INFO"}
2025-06-03T10:39:26: SQL実行成功: 結果行数=1
2025-06-03T10:39:26: [36m[2025-06-03T10:39:26.450Z] INFO  [PID:491267][0m キャンペーン音声取得開始: Campaign=59 {"level":"INFO"}
2025-06-03T10:39:26: SQL実行: 
2025-06-03T10:39:26:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T10:39:26:    ... パラメータ数: 1
[2025-06-03T10:39:26.451Z] INFO  [PID:491267] キャンペーン音声取得結果: Campaign=59, 件数=1 {"level":"INFO"}
2025-06-03T10:39:26: SQL実行成功: 結果行数=1
[2025-06-03T10:39:26.451Z] INFO  [PID:491267] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T10:39:26: [36m[2025-06-03T10:39:26.451Z] INFO  [PID:491267][0m キャンペーン音声取得結果: Campaign=59, 件数=1 {"level":"INFO"}
2025-06-03T10:39:26: [36m[2025-06-03T10:39:26.451Z] INFO  [PID:491267][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
[2025-06-03T10:39:26.452Z] INFO  [PID:491267] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-59.conf {"level":"INFO"}
2025-06-03T10:39:26: [36m[2025-06-03T10:39:26.452Z] INFO  [PID:491267][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-59.conf {"level":"INFO"}
[2025-06-03T10:39:31.394Z] INFO  [PID:491267] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:31: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:39:31: [36m[2025-06-03T10:39:31.394Z] INFO  [PID:491267][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:31: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:39:31: SQL実行成功: 結果行数=1
2025-06-03T10:39:31: SQL実行: 
2025-06-03T10:39:31:       SELECT 
2025-06-03T10:39:31:         COUNT(*) as total,
2025-06-03T10:39:31:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-03T10:39:31.401Z] INFO  [PID:491267] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:39:31: SQL実行成功: 結果行数=1
2025-06-03T10:39:31: SQL実行: 
2025-06-03T10:39:31:       SELECT 
2025-06-03T10:39:31:         COUNT(*) as total_calls,
2025-06-03T10:39:31:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:39:31: SQL実行成功: 結果行数=1
2025-06-03T10:39:31: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:39:31: [36m[2025-06-03T10:39:31.401Z] INFO  [PID:491267][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:39:35: SQL実行: SELECT 1... 
2025-06-03T10:39:35: SQL実行成功: 結果行数=1
2025-06-03T10:39:35: SQL実行: 
2025-06-03T10:39:35:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:39:35:                ci.number as ca... 
[2025-06-03T10:39:35.853Z] INFO  [PID:491267] 🎉 イベント: キャンペーン追加 - テスト (ID: 59) {"level":"INFO"}
[2025-06-03T10:39:35.853Z] INFO  [PID:491267] ✅ キャンペーン自動追加: "テスト" (未処理: 1件) {"level":"INFO"}
[2025-06-03T10:39:35.854Z] INFO  [PID:491267] 🆕 新しいキャンペーンを自動検知: "テスト" (ID: 59) {"level":"INFO"}
[2025-06-03T10:39:35.854Z] INFO  [PID:491267] 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
[2025-06-03T10:39:35.854Z] INFO  [PID:491267] 🚀 アクティブキャンペーン検知により自動発信開始 {"level":"INFO"}
2025-06-03T10:39:35: SQL実行成功: 結果行数=1
2025-06-03T10:39:35: [36m[2025-06-03T10:39:35.853Z] INFO  [PID:491267][0m 🎉 イベント: キャンペーン追加 - テスト (ID: 59) {"level":"INFO"}
2025-06-03T10:39:35: [36m[2025-06-03T10:39:35.853Z] INFO  [PID:491267][0m ✅ キャンペーン自動追加: "テスト" (未処理: 1件) {"level":"INFO"}
2025-06-03T10:39:35: [36m[2025-06-03T10:39:35.854Z] INFO  [PID:491267][0m 🆕 新しいキャンペーンを自動検知: "テスト" (ID: 59) {"level":"INFO"}
2025-06-03T10:39:35: [36m[2025-06-03T10:39:35.854Z] INFO  [PID:491267][0m 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
2025-06-03T10:39:35: [36m[2025-06-03T10:39:35.854Z] INFO  [PID:491267][0m 🚀 アクティブキャンペーン検知により自動発信開始 {"level":"INFO"}
[2025-06-03T10:39:36.435Z] INFO  [PID:491267] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:36: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:39:36: [36m[2025-06-03T10:39:36.435Z] INFO  [PID:491267][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:36: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:39:36: SQL実行成功: 結果行数=1
2025-06-03T10:39:36: SQL実行: 
2025-06-03T10:39:36:       SELECT 
2025-06-03T10:39:36:         COUNT(*) as total,
2025-06-03T10:39:36:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:39:36: SQL実行成功: 結果行数=1
2025-06-03T10:39:36: SQL実行: 
2025-06-03T10:39:36:       SELECT 
2025-06-03T10:39:36:         COUNT(*) as total_calls,
2025-06-03T10:39:36:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:39:36.439Z] INFO  [PID:491267] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:39:36: SQL実行成功: 結果行数=1
2025-06-03T10:39:36: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:39:36: [36m[2025-06-03T10:39:36.439Z] INFO  [PID:491267][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:39:40: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:39:40.727Z] INFO  [PID:491267] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:39:40: SQL実行成功: 結果行数=1
2025-06-03T10:39:40: [36m[2025-06-03T10:39:40.727Z] INFO  [PID:491267][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:39:40: SQL実行: 
2025-06-03T10:39:40:           SELECT id, phone, name, company, attempt_count
2025-06-03T10:39:40:           FROM contacts 
2025-06-03T10:39:40:           WHERE c... パラメータ数: 1
[2025-06-03T10:39:40.857Z] INFO  [PID:491267] 📞 発信準備: 05018086649 (Campaign: テスト, 試行回数: 0) {"level":"INFO"}
2025-06-03T10:39:40: SQL実行成功: 結果行数=1
[2025-06-03T10:39:40.858Z] INFO  [PID:491267] 🔧 発信診断開始: 05018086649 {"level":"INFO"}
2025-06-03T10:39:40: [36m[2025-06-03T10:39:40.857Z] INFO  [PID:491267][0m 📞 発信準備: 05018086649 (Campaign: テスト, 試行回数: 0) {"level":"INFO"}
2025-06-03T10:39:40: [36m[2025-06-03T10:39:40.858Z] INFO  [PID:491267][0m 🔧 発信診断開始: 05018086649 {"level":"INFO"}
2025-06-03T10:39:40: SQL実行: UPDATE contacts SET status = ?, last_attempt = NOW(), attempt_count = attempt_count + 1 WHERE id = ?... パラメータ数: 2
2025-06-03T10:39:40: SQL実行成功: 結果行数=不明
2025-06-03T10:39:40: SQL実行: SELECT * FROM caller_ids WHERE id = ? AND active = true... パラメータ数: 1
2025-06-03T10:39:40: SQL実行成功: 結果行数=1
[2025-06-03T10:39:40.864Z] INFO  [PID:491267] キャンペーン音声取得開始: Campaign=59 {"level":"INFO"}
2025-06-03T10:39:40: [36m[2025-06-03T10:39:40.864Z] INFO  [PID:491267][0m キャンペーン音声取得開始: Campaign=59 {"level":"INFO"}
2025-06-03T10:39:40: SQL実行: 
2025-06-03T10:39:40:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-03T10:39:40:    ... パラメータ数: 1
[2025-06-03T10:39:40.865Z] INFO  [PID:491267] キャンペーン音声取得結果: Campaign=59, 件数=1 {"level":"INFO"}
[2025-06-03T10:39:40.866Z] INFO  [PID:491267] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T10:39:40: SQL実行成功: 結果行数=1
[2025-06-03T10:39:40.866Z] INFO  [PID:491267] 🎵 自動発信で音声ファイル取得成功: 1件 (Campaign: 59) {"level":"INFO"}
[2025-06-03T10:39:40.866Z] INFO  [PID:491267] 🎵 音声1: welcome - 549444996463302 (1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav) {"level":"INFO"}
[2025-06-03T10:39:40.866Z] INFO  [PID:491267] 🚀 音声付き自動発信実行: 05018086649 {"campaignId":59,"contactId":10054,"callerID":"\"PBX2\" <0359468411>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":1,"hasAudio":true,"level":"INFO"}
[2025-06-03T10:39:40.866Z] INFO  [PID:491267] sipプロバイダを使用して発信します: 05018086649 {"level":"INFO"}
[2025-06-03T10:39:40.867Z] INFO  [PID:491267] 🔥 SIP発信を開始: 発信先=05018086649 {"level":"INFO"}
2025-06-03T10:39:40: [36m[2025-06-03T10:39:40.865Z] INFO  [PID:491267][0m キャンペーン音声取得結果: Campaign=59, 件数=1 {"level":"INFO"}
2025-06-03T10:39:40: [36m[2025-06-03T10:39:40.866Z] INFO  [PID:491267][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T10:39:40: [36m[2025-06-03T10:39:40.866Z] INFO  [PID:491267][0m 🎵 自動発信で音声ファイル取得成功: 1件 (Campaign: 59) {"level":"INFO"}
[2025-06-03T10:39:40.867Z] INFO  [PID:491267] 選択されたSIPアカウント: 03760003 (失敗回数: 0) {"level":"INFO"}
2025-06-03T10:39:40: [36m[2025-06-03T10:39:40.866Z] INFO  [PID:491267][0m 🎵 音声1: welcome - 549444996463302 (1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav) {"level":"INFO"}
2025-06-03T10:39:40: [36m[2025-06-03T10:39:40.866Z] INFO  [PID:491267][0m 🚀 音声付き自動発信実行: 05018086649 {"campaignId":59,"contactId":10054,"callerID":"\"PBX2\" <0359468411>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":1,"hasAudio":true,"level":"INFO"}
2025-06-03T10:39:40: [36m[2025-06-03T10:39:40.866Z] INFO  [PID:491267][0m sipプロバイダを使用して発信します: 05018086649 {"level":"INFO"}
2025-06-03T10:39:40: [36m[2025-06-03T10:39:40.867Z] INFO  [PID:491267][0m 🔥 SIP発信を開始: 発信先=05018086649 {"level":"INFO"}
[2025-06-03T10:39:40.867Z] INFO  [PID:491267] 📞 SIP発信詳細: {"account":"03760003","server":"ito258258.site","number":"05018086649","callerID":"0359468411","hasAudio":true,"level":"INFO"}
2025-06-03T10:39:40: [36m[2025-06-03T10:39:40.867Z] INFO  [PID:491267][0m 選択されたSIPアカウント: 03760003 (失敗回数: 0) {"level":"INFO"}
2025-06-03T10:39:40: [36m[2025-06-03T10:39:40.867Z] INFO  [PID:491267][0m 📞 SIP発信詳細: {"account":"03760003","server":"ito258258.site","number":"05018086649","callerID":"0359468411","hasAudio":true,"level":"INFO"}
[2025-06-03T10:39:40.868Z] INFO  [PID:491267] 🎵 キャンペーン音声使用: /var/www/autodialer/backend/audio-files/1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
[2025-06-03T10:39:40.868Z] INFO  [PID:491267] 🚀 SIP発信（修正版）: 03760003 -> 05018086649 {"level":"INFO"}
[2025-06-03T10:39:40.868Z] INFO  [PID:491267] 🎵 使用音声: /var/www/autodialer/backend/audio-files/1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T10:39:40: [36m[2025-06-03T10:39:40.868Z] INFO  [PID:491267][0m 🎵 キャンペーン音声使用: /var/www/autodialer/backend/audio-files/1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
[2025-06-03T10:39:40.868Z] INFO  [PID:491267] 📞 実行コマンド: pjsua --null-audio --play-file=/var/www/autodialer/backend/audio-files/1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav --auto-play --auto-loop --duration=35 --max-calls=1 --auto-answer=200 --no-tcp --log-level=3 --id=sip:03760003@ito258258.site --registrar=sip:ito258258.site --realm=asterisk --username=03760003 --password=*** sip:05018086649@ito258258.site {"level":"INFO"}
2025-06-03T10:39:40: [36m[2025-06-03T10:39:40.868Z] INFO  [PID:491267][0m 🚀 SIP発信（修正版）: 03760003 -> 05018086649 {"level":"INFO"}
2025-06-03T10:39:40: [36m[2025-06-03T10:39:40.868Z] INFO  [PID:491267][0m 🎵 使用音声: /var/www/autodialer/backend/audio-files/1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav {"level":"INFO"}
2025-06-03T10:39:40: [36m[2025-06-03T10:39:40.868Z] INFO  [PID:491267][0m 📞 実行コマンド: pjsua --null-audio --play-file=/var/www/autodialer/backend/audio-files/1eafe0ce-cfd5-4bd7-944b-fb5288171f71-549444996463302.wav --auto-play --auto-loop --duration=35 --max-calls=1 --auto-answer=200 --no-tcp --log-level=3 --id=sip:03760003@ito258258.site --registrar=sip:ito258258.site --realm=asterisk --username=03760003 --password=*** sip:05018086649@ito258258.site {"level":"INFO"}
[2025-06-03T10:39:40.874Z] INFO  [PID:491267] ✅ SIPプロセス開始成功: PID=491302, CallID=sip-1748947180867-1910 {"level":"INFO"}
2025-06-03T10:39:40: [36m[2025-06-03T10:39:40.874Z] INFO  [PID:491267][0m ✅ SIPプロセス開始成功: PID=491302, CallID=sip-1748947180867-1910 {"level":"INFO"}
2025-06-03T10:39:40: 10:39:40.879           pjsua_core.c !.pjsua version 2.14 for Linux-6.8.0.51/x86_64/glibc-2.39 initialized
2025-06-03T10:39:40: 10:39:40.881            pjsua_app.c  .Turning sound device -99 -99 ON
2025-06-03T10:39:40: 10:39:40.881                 main.c  Ready: Success
2025-06-03T10:39:40: 10:39:40.882            pjsua_app.c  .......Call 0 state changed to CALLING
2025-06-03T10:39:40: >>>>
2025-06-03T10:39:40: Account list:
2025-06-03T10:39:40:   [ 0] <sip:146.190.83.205:5060>: does not register
2025-06-03T10:39:40:        Online status: Online
2025-06-03T10:39:40:  *[ 1] sip:03760003@ito258258.site: 100/In Progress (expires=0)
2025-06-03T10:39:40:        Online status: Online
2025-06-03T10:39:40: Buddy list:
2025-06-03T10:39:40:  [ 1] <?>  sip:05018086649@ito258258.site
2025-06-03T10:39:40: 
2025-06-03T10:39:40: +=============================================================================+
2025-06-03T10:39:40: |       Call Commands:         |   Buddy, IM & Presence:  |     Account:      |
2025-06-03T10:39:40: |                              |                          |                   |
2025-06-03T10:39:40: |  m  Make new call            | +b  Add new buddy        | +a  Add new accnt.|
2025-06-03T10:39:40: |  M  Make multiple calls      | -b  Delete buddy         | -a  Delete accnt. |
2025-06-03T10:39:40: |  a  Answer call              |  i  Send IM              | !a  Modify accnt. |
2025-06-03T10:39:40: |  h  Hangup call  (ha=all)    |  s  Subscribe presence   | rr  (Re-)register |
2025-06-03T10:39:40: |  H  Hold call                |  u  Unsubscribe presence | ru  Unregister    |
2025-06-03T10:39:40: |  v  re-inVite (release hold) |  t  Toggle online status |  >  Cycle next ac.|
2025-06-03T10:39:40: |  U  send UPDATE              |  T  Set online status    |  <  Cycle prev ac.|
2025-06-03T10:39:40: | ],[ Select next/prev call    +--------------------------+-------------------+
2025-06-03T10:39:40: |  x  Xfer call                |      Media Commands:     |  Status & Config: |
2025-06-03T10:39:40: |  X  Xfer with Replaces       |                          |                   |
2025-06-03T10:39:40: |  #  Send RFC 2833 DTMF       | cl  List ports           |  d  Dump status   |
2025-06-03T10:39:40: |  *  Send DTMF with INFO      | cc  Connect port         | dd  Dump detailed |
2025-06-03T10:39:40: | dq  Dump curr. call quality  | cd  Disconnect port      | dc  Dump config   |
2025-06-03T10:39:40: |                              |  V  Adjust audio Volume  |  f  Save config   |
2025-06-03T10:39:40: |  S  Send arbitrary REQUEST   | Cp  Codec priorities     |                   |
2025-06-03T10:39:40: +-----------------------------------------------------------------------------+
2025-06-03T10:39:40: |  q  QUIT      L  ReLoad       I  IP change     n  detect NAT type           |
2025-06-03T10:39:40: |  sleep MS     echo [0|1|txt]                                                |
2025-06-03T10:39:40: +=============================================================================+
2025-06-03T10:39:40: You have 1 active call
2025-06-03T10:39:40: Current call id=0 to sip:05018086649@ito258258.site [CALLING]
[2025-06-03T10:39:41.395Z] INFO  [PID:491267] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:41: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:39:41: [36m[2025-06-03T10:39:41.395Z] INFO  [PID:491267][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:41: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:39:41: SQL実行成功: 結果行数=1
2025-06-03T10:39:41: SQL実行: 
2025-06-03T10:39:41:       SELECT 
2025-06-03T10:39:41:         COUNT(*) as total,
2025-06-03T10:39:41:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:39:41: SQL実行成功: 結果行数=1
2025-06-03T10:39:41: SQL実行: 
2025-06-03T10:39:41:       SELECT 
2025-06-03T10:39:41:         COUNT(*) as total_calls,
2025-06-03T10:39:41:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:39:41.401Z] INFO  [PID:491267] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:39:41: SQL実行成功: 結果行数=1
2025-06-03T10:39:41: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:39:41: [36m[2025-06-03T10:39:41.401Z] INFO  [PID:491267][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
[2025-06-03T10:39:46.394Z] INFO  [PID:491267] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:46: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:39:46: [36m[2025-06-03T10:39:46.394Z] INFO  [PID:491267][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:46: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:39:46: SQL実行成功: 結果行数=1
2025-06-03T10:39:46: SQL実行: 
2025-06-03T10:39:46:       SELECT 
2025-06-03T10:39:46:         COUNT(*) as total,
2025-06-03T10:39:46:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:39:46: SQL実行成功: 結果行数=1
2025-06-03T10:39:46: SQL実行: 
2025-06-03T10:39:46:       SELECT 
2025-06-03T10:39:46:         COUNT(*) as total_calls,
2025-06-03T10:39:46:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:39:46.400Z] INFO  [PID:491267] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:39:46: SQL実行成功: 結果行数=1
2025-06-03T10:39:46: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:39:46: [36m[2025-06-03T10:39:46.400Z] INFO  [PID:491267][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:39:50: SQL実行: 
2025-06-03T10:39:50:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:39:50:                ci.number as ca... 
2025-06-03T10:39:50: SQL実行成功: 結果行数=1
[2025-06-03T10:39:50.873Z] INFO  [PID:491267] 📞 SIP接続成功と判定: sip-1748947180867-1910 {"level":"INFO"}
2025-06-03T10:39:50: [36m[2025-06-03T10:39:50.873Z] INFO  [PID:491267][0m 📞 SIP接続成功と判定: sip-1748947180867-1910 {"level":"INFO"}
[2025-06-03T10:39:50.874Z] INFO  [PID:491267] ✅ 音声付き自動発信成功: 05018086649 → CallID: sip-1748947180867-1910, Provider: sip, Audio: 1件 {"level":"INFO"}
2025-06-03T10:39:50: [36m[2025-06-03T10:39:50.874Z] INFO  [PID:491267][0m ✅ 音声付き自動発信成功: 05018086649 → CallID: sip-1748947180867-1910, Provider: sip, Audio: 1件 {"level":"INFO"}
2025-06-03T10:39:50: SQL実行: 
2025-06-03T10:39:50:         INSERT INTO call_logs 
2025-06-03T10:39:50:         (contact_id, campaign_id, caller_id_id, call_id, phone_numbe... パラメータ数: 8
[2025-06-03T10:39:50.879Z] INFO  [PID:491267] 🎯 音声付き発信診断完了: 05018086649 (処理時間: 10021ms, 音声: 1件) {"level":"INFO"}
2025-06-03T10:39:50: SQL実行成功: 結果行数=不明
2025-06-03T10:39:50: [36m[2025-06-03T10:39:50.879Z] INFO  [PID:491267][0m 🎯 音声付き発信診断完了: 05018086649 (処理時間: 10021ms, 音声: 1件) {"level":"INFO"}
[2025-06-03T10:39:51.429Z] INFO  [PID:491267] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:51: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:39:51: [36m[2025-06-03T10:39:51.429Z] INFO  [PID:491267][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:51: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:39:51: SQL実行成功: 結果行数=1
2025-06-03T10:39:51: SQL実行: 
2025-06-03T10:39:51:       SELECT 
2025-06-03T10:39:51:         COUNT(*) as total,
2025-06-03T10:39:51:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-03T10:39:51.434Z] INFO  [PID:491267] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:39:51: SQL実行成功: 結果行数=1
2025-06-03T10:39:51: SQL実行: 
2025-06-03T10:39:51:       SELECT 
2025-06-03T10:39:51:         COUNT(*) as total_calls,
2025-06-03T10:39:51:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:39:51: SQL実行成功: 結果行数=1
2025-06-03T10:39:51: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:39:51: [36m[2025-06-03T10:39:51.434Z] INFO  [PID:491267][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
[2025-06-03T10:39:52.880Z] INFO  [PID:491267] 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
2025-06-03T10:39:52: [36m[2025-06-03T10:39:52.880Z] INFO  [PID:491267][0m 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
2025-06-03T10:39:55: SQL実行: 
2025-06-03T10:39:55:           SELECT id, phone, name, company, attempt_count
2025-06-03T10:39:55:           FROM contacts 
2025-06-03T10:39:55:           WHERE c... パラメータ数: 1
2025-06-03T10:39:55: SQL実行成功: 結果行数=0
2025-06-03T10:39:55: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T10:39:55: SQL実行成功: 結果行数=1
[2025-06-03T10:39:56.455Z] INFO  [PID:491267] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:56: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:39:56: [36m[2025-06-03T10:39:56.455Z] INFO  [PID:491267][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:39:56: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:39:56: SQL実行成功: 結果行数=1
2025-06-03T10:39:56: SQL実行: 
2025-06-03T10:39:56:       SELECT 
2025-06-03T10:39:56:         COUNT(*) as total,
2025-06-03T10:39:56:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-03T10:39:56.459Z] INFO  [PID:491267] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:39:56: SQL実行成功: 結果行数=1
2025-06-03T10:39:56: SQL実行: 
2025-06-03T10:39:56:       SELECT 
2025-06-03T10:39:56:         COUNT(*) as total_calls,
2025-06-03T10:39:56:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:39:56: SQL実行成功: 結果行数=1
2025-06-03T10:39:56: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:39:56: [36m[2025-06-03T10:39:56.459Z] INFO  [PID:491267][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:40:00: SQL実行: 
2025-06-03T10:40:00:           SELECT id, phone, name, company, attempt_count
2025-06-03T10:40:00:           FROM contacts 
2025-06-03T10:40:00:           WHERE c... パラメータ数: 1
2025-06-03T10:40:00: SQL実行成功: 結果行数=0
2025-06-03T10:40:00: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T10:40:00: SQL実行成功: 結果行数=1
[2025-06-03T10:40:01.393Z] INFO  [PID:491267] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:40:01: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:40:01: [36m[2025-06-03T10:40:01.393Z] INFO  [PID:491267][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:40:01: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:40:01: SQL実行成功: 結果行数=1
2025-06-03T10:40:01: SQL実行: 
2025-06-03T10:40:01:       SELECT 
2025-06-03T10:40:01:         COUNT(*) as total,
2025-06-03T10:40:01:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:40:01: SQL実行成功: 結果行数=1
2025-06-03T10:40:01: SQL実行: 
2025-06-03T10:40:01:       SELECT 
2025-06-03T10:40:01:         COUNT(*) as total_calls,
2025-06-03T10:40:01:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:40:01: SQL実行成功: 結果行数=1
[2025-06-03T10:40:01.411Z] INFO  [PID:491267] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:40:01: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:40:01: [36m[2025-06-03T10:40:01.411Z] INFO  [PID:491267][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:40:05: SQL実行: SELECT 1... 
2025-06-03T10:40:05: SQL実行成功: 結果行数=1
2025-06-03T10:40:05: SQL実行: 
2025-06-03T10:40:05:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:40:05:                ci.number as ca... 
2025-06-03T10:40:05: SQL実行成功: 結果行数=1
2025-06-03T10:40:05: SQL実行: 
2025-06-03T10:40:05:           SELECT id, phone, name, company, attempt_count
2025-06-03T10:40:05:           FROM contacts 
2025-06-03T10:40:05:           WHERE c... パラメータ数: 1
2025-06-03T10:40:05: SQL実行成功: 結果行数=0
2025-06-03T10:40:05: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T10:40:05: SQL実行成功: 結果行数=1
[2025-06-03T10:40:06.417Z] INFO  [PID:491267] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:40:06: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:40:06: [36m[2025-06-03T10:40:06.417Z] INFO  [PID:491267][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:40:06: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:40:06: SQL実行成功: 結果行数=1
2025-06-03T10:40:06: SQL実行: 
2025-06-03T10:40:06:       SELECT 
2025-06-03T10:40:06:         COUNT(*) as total,
2025-06-03T10:40:06:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:40:06: SQL実行成功: 結果行数=1
2025-06-03T10:40:06: SQL実行: 
2025-06-03T10:40:06:       SELECT 
2025-06-03T10:40:06:         COUNT(*) as total_calls,
2025-06-03T10:40:06:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:40:06.421Z] INFO  [PID:491267] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:40:06: SQL実行成功: 結果行数=1
2025-06-03T10:40:06: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:40:06: [36m[2025-06-03T10:40:06.421Z] INFO  [PID:491267][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:40:10: SQL実行: 
2025-06-03T10:40:10:           SELECT id, phone, name, company, attempt_count
2025-06-03T10:40:10:           FROM contacts 
2025-06-03T10:40:10:           WHERE c... パラメータ数: 1
2025-06-03T10:40:10: SQL実行成功: 結果行数=0
2025-06-03T10:40:10: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T10:40:10: SQL実行成功: 結果行数=1
[2025-06-03T10:40:11.390Z] INFO  [PID:491267] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:40:11: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:40:11: [36m[2025-06-03T10:40:11.390Z] INFO  [PID:491267][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:40:11: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:40:11: SQL実行成功: 結果行数=1
2025-06-03T10:40:11: SQL実行: 
2025-06-03T10:40:11:       SELECT 
2025-06-03T10:40:11:         COUNT(*) as total,
2025-06-03T10:40:11:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:40:11: SQL実行成功: 結果行数=1
2025-06-03T10:40:11: SQL実行: 
2025-06-03T10:40:11:       SELECT 
2025-06-03T10:40:11:         COUNT(*) as total_calls,
2025-06-03T10:40:11:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:40:11: SQL実行成功: 結果行数=1
[2025-06-03T10:40:11.400Z] INFO  [PID:491267] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:40:11: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:40:11: [36m[2025-06-03T10:40:11.400Z] INFO  [PID:491267][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:40:15: SQL実行: 
2025-06-03T10:40:15:           SELECT id, phone, name, company, attempt_count
2025-06-03T10:40:15:           FROM contacts 
2025-06-03T10:40:15:           WHERE c... パラメータ数: 1
2025-06-03T10:40:15: SQL実行成功: 結果行数=0
2025-06-03T10:40:15: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T10:40:15: SQL実行成功: 結果行数=1
[2025-06-03T10:40:16.394Z] INFO  [PID:491267] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:40:16: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:40:16: [36m[2025-06-03T10:40:16.394Z] INFO  [PID:491267][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:40:16: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:40:16: SQL実行成功: 結果行数=1
2025-06-03T10:40:16: SQL実行: 
2025-06-03T10:40:16:       SELECT 
2025-06-03T10:40:16:         COUNT(*) as total,
2025-06-03T10:40:16:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:40:16: SQL実行成功: 結果行数=1
2025-06-03T10:40:16: SQL実行: 
2025-06-03T10:40:16:       SELECT 
2025-06-03T10:40:16:         COUNT(*) as total_calls,
2025-06-03T10:40:16:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:40:16.401Z] INFO  [PID:491267] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:40:16: SQL実行成功: 結果行数=1
2025-06-03T10:40:16: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:40:16: [36m[2025-06-03T10:40:16.401Z] INFO  [PID:491267][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:40:20: SQL実行: 
2025-06-03T10:40:20:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:40:20:                ci.number as ca... 
2025-06-03T10:40:20: SQL実行成功: 結果行数=1
2025-06-03T10:40:20: SQL実行: 
2025-06-03T10:40:20:           SELECT id, phone, name, company, attempt_count
2025-06-03T10:40:20:           FROM contacts 
2025-06-03T10:40:20:           WHERE c... パラメータ数: 1
2025-06-03T10:40:20: SQL実行成功: 結果行数=0
2025-06-03T10:40:20: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T10:40:20: SQL実行成功: 結果行数=1
[2025-06-03T10:40:20.874Z] INFO  [PID:491267] 📞 通話終了処理開始: sip-1748947180867-1910 {"level":"INFO"}
[2025-06-03T10:40:20.875Z] INFO  [PID:491267] 通話終了イベント処理: sip-1748947180867-1910, status=ANSWERED, keypress=none {"level":"INFO"}
2025-06-03T10:40:20: [36m[2025-06-03T10:40:20.874Z] INFO  [PID:491267][0m 📞 通話終了処理開始: sip-1748947180867-1910 {"level":"INFO"}
2025-06-03T10:40:20: [36m[2025-06-03T10:40:20.875Z] INFO  [PID:491267][0m 通話終了イベント処理: sip-1748947180867-1910, status=ANSWERED, keypress=none {"level":"INFO"}
2025-06-03T10:40:20: SQL実行: 
2025-06-03T10:40:20:         UPDATE call_logs
2025-06-03T10:40:20:         SET status = ?, end_time = NOW(), duration = ?
2025-06-03T10:40:20:         WHERE call_... パラメータ数: 3
[2025-06-03T10:40:20.877Z] INFO  [PID:491267] SIPプロセス終了 [sip-1748947180867-1910]: code=null, signal=SIGTERM, connected=true {"level":"INFO"}
2025-06-03T10:40:20: [36m[2025-06-03T10:40:20.877Z] INFO  [PID:491267][0m SIPプロセス終了 [sip-1748947180867-1910]: code=null, signal=SIGTERM, connected=true {"level":"INFO"}
2025-06-03T10:40:20: SQL実行成功: 結果行数=不明
[2025-06-03T10:40:21.424Z] INFO  [PID:491267] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:40:21: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:40:21: [36m[2025-06-03T10:40:21.424Z] INFO  [PID:491267][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:40:21: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:40:21: SQL実行成功: 結果行数=1
2025-06-03T10:40:21: SQL実行: 
2025-06-03T10:40:21:       SELECT 
2025-06-03T10:40:21:         COUNT(*) as total,
2025-06-03T10:40:21:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:40:21: SQL実行成功: 結果行数=1
[2025-06-03T10:40:21.428Z] INFO  [PID:491267] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:40:21: SQL実行: 
2025-06-03T10:40:21:       SELECT 
2025-06-03T10:40:21:         COUNT(*) as total_calls,
2025-06-03T10:40:21:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:40:21: SQL実行成功: 結果行数=1
2025-06-03T10:40:21: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:40:21: [36m[2025-06-03T10:40:21.428Z] INFO  [PID:491267][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:40:25: SQL実行: 
2025-06-03T10:40:25:           SELECT id, phone, name, company, attempt_count
2025-06-03T10:40:25:           FROM contacts 
2025-06-03T10:40:25:           WHERE c... パラメータ数: 1
2025-06-03T10:40:25: SQL実行成功: 結果行数=0
2025-06-03T10:40:25: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-03T10:40:25: SQL実行成功: 結果行数=1
2025-06-03T10:40:25: Error: kill ESRCH
2025-06-03T10:40:25:     at process.kill (node:internal/process/per_thread:232:13)
2025-06-03T10:40:25:     at Timeout._onTimeout (/var/www/autodialer/backend/src/services/sipService.js:672:27)
2025-06-03T10:40:25:     at listOnTimeout (node:internal/timers:569:17)
2025-06-03T10:40:25:     at process.processTimers (node:internal/timers:512:7) {
2025-06-03T10:40:25:   errno: -3,
2025-06-03T10:40:25:   code: 'ESRCH',
2025-06-03T10:40:25:   syscall: 'kill'
2025-06-03T10:40:25: }
[2025-06-03T10:40:25.880Z] ERROR [PID:491267] 詳細エラー情報 {"message":"kill ESRCH","stack":"Error: kill ESRCH\n    at process.kill (node:internal/process/per_thread:232:13)\n    at Timeout._onTimeout (/var/www/autodialer/backend/src/services/sipService.js:672:27)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","name":"Error","code":"ESRCH","context":{"type":"uncaughtException"},"timestamp":"2025-06-03T10:40:25.880Z","level":"ERROR"}
[2025-06-03T10:40:25.881Z] INFO  [PID:491267] アプリケーション終了 {"level":"INFO"}
2025-06-03T10:40:25: [31m[2025-06-03T10:40:25.880Z] ERROR [PID:491267][0m 詳細エラー情報 {"message":"kill ESRCH","stack":"Error: kill ESRCH\n    at process.kill (node:internal/process/per_thread:232:13)\n    at Timeout._onTimeout (/var/www/autodialer/backend/src/services/sipService.js:672:27)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","name":"Error","code":"ESRCH","context":{"type":"uncaughtException"},"timestamp":"2025-06-03T10:40:25.880Z","level":"ERROR"}
2025-06-03T10:40:25: [36m[2025-06-03T10:40:25.881Z] INFO  [PID:491267][0m アプリケーション終了 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.192Z] INFO  [PID:491313][0m Logger初期化完了 {"logLevel":"info","enableConsole":true,"enableFile":true,"logDir":"/var/www/autodialer/backend/logs","level":"INFO"}
[2025-06-03T10:40:31.192Z] INFO  [PID:491313] Logger初期化完了 {"logLevel":"info","enableConsole":true,"enableFile":true,"logDir":"/var/www/autodialer/backend/logs","level":"INFO"}
2025-06-03T10:40:31: 🚀 ルーター登録開始...
[2025-06-03T10:40:31.275Z] INFO  [PID:491313] 🚀 DialerService初期化: 自動連動システム=有効 {"level":"INFO"}
[2025-06-03T10:40:31.276Z] INFO  [PID:491313] 🎯 自動システム開始試行 1/5 {"level":"INFO"}
[2025-06-03T10:40:31.276Z] INFO  [PID:491313] 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.275Z] INFO  [PID:491313][0m 🚀 DialerService初期化: 自動連動システム=有効 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.276Z] INFO  [PID:491313][0m 🎯 自動システム開始試行 1/5 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.276Z] INFO  [PID:491313][0m 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-03T10:40:31: プールが存在しないため再初期化します
2025-06-03T10:40:31: データベース接続試行 1/5...
2025-06-03T10:40:31: データベース接続設定: {
2025-06-03T10:40:31:   host: '127.0.0.1',
2025-06-03T10:40:31:   user: 'autodialer',
2025-06-03T10:40:31:   database: 'autodialer',
2025-06-03T10:40:31:   password: '***'
2025-06-03T10:40:31: }
[2025-06-03T10:40:31.301Z] INFO  [PID:491313] AsteriskService初期化: mockMode=false, timeout=15000ms {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.301Z] INFO  [PID:491313][0m AsteriskService初期化: mockMode=false, timeout=15000ms {"level":"INFO"}
[2025-06-03T10:40:31.303Z] INFO  [PID:491313] SipService初期化: mockMode=false, sipcmdPath=/usr/local/bin/sipcmd-working {"level":"INFO"}
[2025-06-03T10:40:31.303Z] INFO  [PID:491313] 💗 SIPヘルスチェック開始: 60000ms間隔 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.303Z] INFO  [PID:491313][0m SipService初期化: mockMode=false, sipcmdPath=/usr/local/bin/sipcmd-working {"level":"INFO"}
[2025-06-03T10:40:31.304Z] INFO  [PID:491313] コールサービスを初期化しました。デフォルトプロバイダ: sip, フォールバック: 無効, モックモード: 無効 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.303Z] INFO  [PID:491313][0m 💗 SIPヘルスチェック開始: 60000ms間隔 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.304Z] INFO  [PID:491313][0m コールサービスを初期化しました。デフォルトプロバイダ: sip, フォールバック: 無効, モックモード: 無効 {"level":"INFO"}
2025-06-03T10:40:31: ✅ system router 登録成功
2025-06-03T10:40:31: ✅ contacts router 登録成功
2025-06-03T10:40:31: ✅ campaigns router 登録成功
2025-06-03T10:40:31: ✅ caller-ids router 登録成功
2025-06-03T10:40:31: ✅ calls router 登録成功
2025-06-03T10:40:31: ✅ audio router 登録成功
2025-06-03T10:40:31: ✅ ivr router 登録成功
2025-06-03T10:40:31: 📊 ルーター登録状況: {
2025-06-03T10:40:31:   system: true,
2025-06-03T10:40:31:   contacts: true,
2025-06-03T10:40:31:   campaigns: true,
2025-06-03T10:40:31:   callerIds: true,
2025-06-03T10:40:31:   calls: true,
2025-06-03T10:40:31:   audio: true,
2025-06-03T10:40:31:   ivr: true
2025-06-03T10:40:31: }
2025-06-03T10:40:31: 🚀 サーバー初期化開始...
2025-06-03T10:40:31: SQL実行: SELECT 1... 
[2025-06-03T10:40:31.382Z] INFO  [PID:491313] 音声ファイルディレクトリを初期化しました: /var/www/autodialer/backend/audio-files {"level":"INFO"}
[2025-06-03T10:40:31.382Z] INFO  [PID:491313] IVRスクリプトディレクトリを初期化しました: /var/www/autodialer/backend/ivr-scripts {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.382Z] INFO  [PID:491313][0m 音声ファイルディレクトリを初期化しました: /var/www/autodialer/backend/audio-files {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.382Z] INFO  [PID:491313][0m IVRスクリプトディレクトリを初期化しました: /var/www/autodialer/backend/ivr-scripts {"level":"INFO"}
[2025-06-03T10:40:31.415Z] INFO  [PID:491313] 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-03T10:40:31: SQL実行成功: 結果行数=1
2025-06-03T10:40:31: ✅ データベース接続成功
2025-06-03T10:40:31: 🔧 SIPサービス初期化中...
[2025-06-03T10:40:31.417Z] INFO  [PID:491313] ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.415Z] INFO  [PID:491313][0m 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.417Z] INFO  [PID:491313][0m ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T10:40:31: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:40:31.419Z] INFO  [PID:491313] データベース接続プールを作成しました {"level":"INFO"}
2025-06-03T10:40:31: データベース接続テスト成功: {
2025-06-03T10:40:31:   test: '1',
2025-06-03T10:40:31:   current_user_name: 'autodialer@localhost',
2025-06-03T10:40:31:   current_db: 'autodialer'
2025-06-03T10:40:31: }
[2025-06-03T10:40:31.420Z] INFO  [PID:491313] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.419Z] INFO  [PID:491313][0m データベース接続プールを作成しました {"level":"INFO"}
2025-06-03T10:40:31: SQL実行: SELECT 1 as test... 
2025-06-03T10:40:31: SQL実行成功: 結果行数=1
[2025-06-03T10:40:31.420Z] INFO  [PID:491313] 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
[2025-06-03T10:40:31.421Z] INFO  [PID:491313] 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.420Z] INFO  [PID:491313][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.420Z] INFO  [PID:491313][0m 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.421Z] INFO  [PID:491313][0m 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
[2025-06-03T10:40:31.422Z] INFO  [PID:491313] ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-03T10:40:31: SQL実行: 
2025-06-03T10:40:31:         SELECT 
2025-06-03T10:40:31:           cc.id,
2025-06-03T10:40:31:           cc.caller_id_id,
2025-06-03T10:40:31:           cc.username,
2025-06-03T10:40:31:           cc.pas... 
2025-06-03T10:40:31: SQL実行成功: 結果行数=1
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.422Z] INFO  [PID:491313][0m ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-03T10:40:31: SQL実行: 
2025-06-03T10:40:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:40:31:                ci.number as ca... 
[2025-06-03T10:40:31.428Z] INFO  [PID:491313] 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
[2025-06-03T10:40:31.428Z] INFO  [PID:491313] ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
[2025-06-03T10:40:31.428Z] INFO  [PID:491313] ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
[2025-06-03T10:40:31.429Z] INFO  [PID:491313] 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T10:40:31.429Z] INFO  [PID:491313] 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
[2025-06-03T10:40:31.429Z] INFO  [PID:491313] ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
[2025-06-03T10:40:31.429Z] INFO  [PID:491313] 📊 SIPアカウント概要: {"level":"INFO"}
[2025-06-03T10:40:31.429Z] INFO  [PID:491313]   - 総アカウント数: 22 {"level":"INFO"}
[2025-06-03T10:40:31.429Z] INFO  [PID:491313]   - 利用可能: 22 {"level":"INFO"}
[2025-06-03T10:40:31.429Z] INFO  [PID:491313]   - 使用中: 0 {"level":"INFO"}
2025-06-03T10:40:31: SQL実行成功: 結果行数=22
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.428Z] INFO  [PID:491313][0m 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.428Z] INFO  [PID:491313][0m ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.428Z] INFO  [PID:491313][0m ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
[2025-06-03T10:40:31.430Z] INFO  [PID:491313]   - エラー: 0 {"level":"INFO"}
[2025-06-03T10:40:31.430Z] INFO  [PID:491313]   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T10:40:31.430Z] INFO  [PID:491313]   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.429Z] INFO  [PID:491313][0m 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.429Z] INFO  [PID:491313][0m 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.429Z] INFO  [PID:491313][0m ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.429Z] INFO  [PID:491313][0m 📊 SIPアカウント概要: {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.429Z] INFO  [PID:491313][0m   - 総アカウント数: 22 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.429Z] INFO  [PID:491313][0m   - 利用可能: 22 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.429Z] INFO  [PID:491313][0m   - 使用中: 0 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.430Z] INFO  [PID:491313][0m   - エラー: 0 {"level":"INFO"}
[2025-06-03T10:40:31.431Z] INFO  [PID:491313] コールサービスの初期化を開始します {"level":"INFO"}
[2025-06-03T10:40:31.431Z] INFO  [PID:491313] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T10:40:31.431Z] INFO  [PID:491313] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.430Z] INFO  [PID:491313][0m   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.430Z] INFO  [PID:491313][0m   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T10:40:31: 📞 SIP初期化結果: true
2025-06-03T10:40:31: 📞 SIPアカウント数: 22
2025-06-03T10:40:31: 🔧 CallService初期化中...
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.431Z] INFO  [PID:491313][0m コールサービスの初期化を開始します {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.431Z] INFO  [PID:491313][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.431Z] INFO  [PID:491313][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
[2025-06-03T10:40:31.437Z] INFO  [PID:491313] 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
[2025-06-03T10:40:31.440Z] INFO  [PID:491313] 📋 初期キャンペーンロード: 1件検出 {"level":"INFO"}
[2025-06-03T10:40:31.440Z] INFO  [PID:491313] ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
[2025-06-03T10:40:31.440Z] INFO  [PID:491313] 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
[2025-06-03T10:40:31.441Z] INFO  [PID:491313] 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
[2025-06-03T10:40:31.441Z] INFO  [PID:491313] 🚀 自動発信システム開始: 8000ms間隔 {"level":"INFO"}
[2025-06-03T10:40:31.441Z] INFO  [PID:491313] ✅ 完全自動連動システム起動完了 {"level":"INFO"}
[2025-06-03T10:40:31.441Z] INFO  [PID:491313] ✅ DialerService自動システム起動完了 - 安定版 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.437Z] INFO  [PID:491313][0m 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
[2025-06-03T10:40:31.441Z] INFO  [PID:491313] ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T10:40:31: SQL実行成功: 結果行数=1
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.440Z] INFO  [PID:491313][0m 📋 初期キャンペーンロード: 1件検出 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.440Z] INFO  [PID:491313][0m ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.440Z] INFO  [PID:491313][0m 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.441Z] INFO  [PID:491313][0m 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.441Z] INFO  [PID:491313][0m 🚀 自動発信システム開始: 8000ms間隔 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.441Z] INFO  [PID:491313][0m ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.441Z] INFO  [PID:491313][0m ✅ DialerService自動システム起動完了 - 安定版 {"level":"INFO"}
[2025-06-03T10:40:31.443Z] INFO  [PID:491313] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T10:40:31.443Z] INFO  [PID:491313] 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
[2025-06-03T10:40:31.443Z] INFO  [PID:491313] 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
[2025-06-03T10:40:31.446Z] INFO  [PID:491313] 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
[2025-06-03T10:40:31.446Z] INFO  [PID:491313] ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
[2025-06-03T10:40:31.446Z] INFO  [PID:491313] ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
[2025-06-03T10:40:31.446Z] INFO  [PID:491313] 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T10:40:31.446Z] INFO  [PID:491313] 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
[2025-06-03T10:40:31.446Z] INFO  [PID:491313] ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
[2025-06-03T10:40:31.446Z] INFO  [PID:491313] 📊 SIPアカウント概要: {"level":"INFO"}
[2025-06-03T10:40:31.446Z] INFO  [PID:491313]   - 総アカウント数: 22 {"level":"INFO"}
[2025-06-03T10:40:31.447Z] INFO  [PID:491313]   - 利用可能: 22 {"level":"INFO"}
[2025-06-03T10:40:31.447Z] INFO  [PID:491313]   - 使用中: 0 {"level":"INFO"}
[2025-06-03T10:40:31.447Z] INFO  [PID:491313]   - エラー: 0 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.441Z] INFO  [PID:491313][0m ✅ sipcmdバイナリ確認完了: /usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-03T10:40:31: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
2025-06-03T10:40:31: SQL実行成功: 結果行数=1
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.443Z] INFO  [PID:491313][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.443Z] INFO  [PID:491313][0m 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.443Z] INFO  [PID:491313][0m 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-03T10:40:31: SQL実行: 
2025-06-03T10:40:31:         SELECT 
2025-06-03T10:40:31:           cc.id,
2025-06-03T10:40:31:           cc.caller_id_id,
2025-06-03T10:40:31:           cc.username,
2025-06-03T10:40:31:           cc.pas... 
2025-06-03T10:40:31: SQL実行成功: 結果行数=22
[2025-06-03T10:40:31.447Z] INFO  [PID:491313]   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
[2025-06-03T10:40:31.447Z] INFO  [PID:491313]   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.446Z] INFO  [PID:491313][0m 📊 データベースクエリ結果: 22件のチャンネル {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.446Z] INFO  [PID:491313][0m ✅ 合計22個のSIPチャンネルを読み込み {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.446Z] INFO  [PID:491313][0m ✅ SIPアカウント読み込み成功: 22個 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.446Z] INFO  [PID:491313][0m 📞 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.446Z] INFO  [PID:491313][0m 📞 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.446Z] INFO  [PID:491313][0m ✅ SIPサービス接続完了: 22個のアカウント {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.446Z] INFO  [PID:491313][0m 📊 SIPアカウント概要: {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.446Z] INFO  [PID:491313][0m   - 総アカウント数: 22 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.447Z] INFO  [PID:491313][0m   - 利用可能: 22 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.447Z] INFO  [PID:491313][0m   - 使用中: 0 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.447Z] INFO  [PID:491313][0m   - エラー: 0 {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.447Z] INFO  [PID:491313][0m   - 発信者番号ID 5: 2チャンネル (0359468411) {"level":"INFO"}
2025-06-03T10:40:31: [36m[2025-06-03T10:40:31.447Z] INFO  [PID:491313][0m   - 発信者番号ID 6: 20チャンネル (03-3528-9359) {"level":"INFO"}
[2025-06-03T10:40:46.438Z] WARN  [PID:491313] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T10:40:46.439Z] ERROR [PID:491313] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
[2025-06-03T10:40:46.439Z] WARN  [PID:491313] Asterisk接続リトライ 1/3 を5秒後に実行 {"level":"WARN"}
[2025-06-03T10:40:46.439Z] INFO  [PID:491313] コールサービスの初期化が完了しました {"level":"INFO"}
2025-06-03T10:40:46: [33m[2025-06-03T10:40:46.438Z] WARN  [PID:491313][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
2025-06-03T10:40:46: [31m[2025-06-03T10:40:46.439Z] ERROR [PID:491313][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T10:40:46: [33m[2025-06-03T10:40:46.439Z] WARN  [PID:491313][0m Asterisk接続リトライ 1/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T10:40:46: [36m[2025-06-03T10:40:46.439Z] INFO  [PID:491313][0m コールサービスの初期化が完了しました {"level":"INFO"}
2025-06-03T10:40:46: 📞 CallService初期化結果: true
2025-06-03T10:40:46: 🔧 DialerService手動初期化中...
2025-06-03T10:40:46: ✅ DialerService手動初期化完了
2025-06-03T10:40:46: 🔧 DialerService強制自動開始...
2025-06-03T10:40:46: ✅ サーバーが起動しました: http://0.0.0.0:5000
2025-06-03T10:40:46: 🎯 自動発信システム準備完了
2025-06-03T10:40:46: 🔗 利用可能なエンドポイント:
2025-06-03T10:40:46:   - GET  /health
2025-06-03T10:40:46:   - GET  /api/campaigns
2025-06-03T10:40:46:   - POST /api/campaigns/:id/start
2025-06-03T10:40:46:   - POST /api/calls/test
2025-06-03T10:40:46: SQL実行: 
2025-06-03T10:40:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:40:46:                ci.number as ca... 
[2025-06-03T10:40:46.449Z] INFO  [PID:491313] 🛑 自動発信システム停止 {"level":"INFO"}
[2025-06-03T10:40:46.449Z] INFO  [PID:491313] 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-03T10:40:46: SQL実行成功: 結果行数=1
2025-06-03T10:40:46: [36m[2025-06-03T10:40:46.449Z] INFO  [PID:491313][0m 🛑 自動発信システム停止 {"level":"INFO"}
2025-06-03T10:40:46: [36m[2025-06-03T10:40:46.449Z] INFO  [PID:491313][0m 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-03T10:40:47: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
[2025-06-03T10:40:47.105Z] INFO  [PID:491313] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:40:47: [36m[2025-06-03T10:40:47.105Z] INFO  [PID:491313][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:40:47: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:40:47: SQL実行成功: 結果行数=1
2025-06-03T10:40:47: SQL実行: 
2025-06-03T10:40:47:       SELECT 
2025-06-03T10:40:47:         COUNT(*) as total,
2025-06-03T10:40:47:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:40:47: SQL実行成功: 結果行数=1
2025-06-03T10:40:47: SQL実行: 
2025-06-03T10:40:47:       SELECT 
2025-06-03T10:40:47:         COUNT(*) as total_calls,
2025-06-03T10:40:47:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:40:47.113Z] INFO  [PID:491313] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:40:47: SQL実行成功: 結果行数=1
2025-06-03T10:40:47: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:40:47: [36m[2025-06-03T10:40:47.113Z] INFO  [PID:491313][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
[2025-06-03T10:40:51.439Z] INFO  [PID:491313] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T10:40:51.440Z] INFO  [PID:491313] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T10:40:51: [36m[2025-06-03T10:40:51.439Z] INFO  [PID:491313][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T10:40:51: [36m[2025-06-03T10:40:51.440Z] INFO  [PID:491313][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T10:40:51: SQL実行: 
2025-06-03T10:40:51:             SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:40:51:                    ci.numb... 
2025-06-03T10:40:51: SQL実行成功: 結果行数=1
2025-06-03T10:40:51: 📊 アクティブキャンペーン検出: 1件
2025-06-03T10:40:51: 🔄 アクティブキャンペーンを自動登録...
2025-06-03T10:40:52: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
[2025-06-03T10:40:52.036Z] INFO  [PID:491313] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:40:52: [36m[2025-06-03T10:40:52.036Z] INFO  [PID:491313][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:40:52: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:40:52: SQL実行成功: 結果行数=1
2025-06-03T10:40:52: SQL実行: 
2025-06-03T10:40:52:       SELECT 
2025-06-03T10:40:52:         COUNT(*) as total,
2025-06-03T10:40:52:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:40:52: SQL実行成功: 結果行数=1
2025-06-03T10:40:52: SQL実行: 
2025-06-03T10:40:52:       SELECT 
2025-06-03T10:40:52:         COUNT(*) as total_calls,
2025-06-03T10:40:52:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:40:52.041Z] INFO  [PID:491313] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:40:52: SQL実行成功: 結果行数=1
2025-06-03T10:40:52: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:40:52: [36m[2025-06-03T10:40:52.041Z] INFO  [PID:491313][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
[2025-06-03T10:40:56.442Z] INFO  [PID:491313] 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-03T10:40:56: [36m[2025-06-03T10:40:56.442Z] INFO  [PID:491313][0m 🎯 完全自動連動システム開始... {"level":"INFO"}
[2025-06-03T10:40:56.444Z] INFO  [PID:491313] ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-03T10:40:56: SQL実行: SELECT 1 as test... 
2025-06-03T10:40:56: SQL実行成功: 結果行数=1
2025-06-03T10:40:56: [36m[2025-06-03T10:40:56.444Z] INFO  [PID:491313][0m ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-03T10:40:56: SQL実行: 
2025-06-03T10:40:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:40:56:                ci.number as ca... 
[2025-06-03T10:40:56.449Z] INFO  [PID:491313] 📋 初期キャンペーンロード: 1件検出 {"level":"INFO"}
[2025-06-03T10:40:56.449Z] INFO  [PID:491313] ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
[2025-06-03T10:40:56.449Z] INFO  [PID:491313] 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
[2025-06-03T10:40:56.449Z] INFO  [PID:491313] 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
[2025-06-03T10:40:56.449Z] INFO  [PID:491313] 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
2025-06-03T10:40:56: SQL実行成功: 結果行数=1
2025-06-03T10:40:56: [36m[2025-06-03T10:40:56.449Z] INFO  [PID:491313][0m 📋 初期キャンペーンロード: 1件検出 {"level":"INFO"}
2025-06-03T10:40:56: [36m[2025-06-03T10:40:56.449Z] INFO  [PID:491313][0m ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
2025-06-03T10:40:56: [36m[2025-06-03T10:40:56.449Z] INFO  [PID:491313][0m 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
2025-06-03T10:40:56: [36m[2025-06-03T10:40:56.449Z] INFO  [PID:491313][0m 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
2025-06-03T10:40:56: [36m[2025-06-03T10:40:56.449Z] INFO  [PID:491313][0m 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
[2025-06-03T10:40:56.450Z] INFO  [PID:491313] ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-03T10:40:56: [36m[2025-06-03T10:40:56.450Z] INFO  [PID:491313][0m ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-03T10:40:56: ✅ DialerService自動システム開始完了
2025-06-03T10:40:57: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:40:57: [36m[2025-06-03T10:40:57.027Z] INFO  [PID:491313][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
[2025-06-03T10:40:57.027Z] INFO  [PID:491313] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:40:57: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:40:57: SQL実行成功: 結果行数=1
2025-06-03T10:40:57: SQL実行: 
2025-06-03T10:40:57:       SELECT 
2025-06-03T10:40:57:         COUNT(*) as total,
2025-06-03T10:40:57:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-03T10:40:57.032Z] INFO  [PID:491313] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:40:57: SQL実行成功: 結果行数=1
2025-06-03T10:40:57: SQL実行: 
2025-06-03T10:40:57:       SELECT 
2025-06-03T10:40:57:         COUNT(*) as total_calls,
2025-06-03T10:40:57:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:40:57: SQL実行成功: 結果行数=1
2025-06-03T10:40:57: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:40:57: [36m[2025-06-03T10:40:57.032Z] INFO  [PID:491313][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
[2025-06-03T10:41:02.020Z] INFO  [PID:491313] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:41:02: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:41:02: [36m[2025-06-03T10:41:02.020Z] INFO  [PID:491313][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:41:02: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:41:02: SQL実行成功: 結果行数=1
2025-06-03T10:41:02: SQL実行: 
2025-06-03T10:41:02:       SELECT 
2025-06-03T10:41:02:         COUNT(*) as total,
2025-06-03T10:41:02:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:41:02: SQL実行成功: 結果行数=1
2025-06-03T10:41:02: SQL実行: 
2025-06-03T10:41:02:       SELECT 
2025-06-03T10:41:02:         COUNT(*) as total_calls,
2025-06-03T10:41:02:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:41:02.025Z] INFO  [PID:491313] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:41:02: SQL実行成功: 結果行数=1
2025-06-03T10:41:02: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:41:02: [36m[2025-06-03T10:41:02.025Z] INFO  [PID:491313][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
[2025-06-03T10:41:06.441Z] WARN  [PID:491313] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T10:41:06.442Z] ERROR [PID:491313] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
[2025-06-03T10:41:06.442Z] WARN  [PID:491313] Asterisk接続リトライ 2/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T10:41:06: [33m[2025-06-03T10:41:06.441Z] WARN  [PID:491313][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
2025-06-03T10:41:06: [31m[2025-06-03T10:41:06.442Z] ERROR [PID:491313][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T10:41:06: [33m[2025-06-03T10:41:06.442Z] WARN  [PID:491313][0m Asterisk接続リトライ 2/3 を5秒後に実行 {"level":"WARN"}
[2025-06-03T10:41:07.024Z] INFO  [PID:491313] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:41:07: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:41:07: [36m[2025-06-03T10:41:07.024Z] INFO  [PID:491313][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:41:07: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:41:07: SQL実行成功: 結果行数=1
2025-06-03T10:41:07: SQL実行: 
2025-06-03T10:41:07:       SELECT 
2025-06-03T10:41:07:         COUNT(*) as total,
2025-06-03T10:41:07:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-03T10:41:07.030Z] INFO  [PID:491313] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:41:07: SQL実行成功: 結果行数=1
2025-06-03T10:41:07: SQL実行: 
2025-06-03T10:41:07:       SELECT 
2025-06-03T10:41:07:         COUNT(*) as total_calls,
2025-06-03T10:41:07:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:41:07: SQL実行成功: 結果行数=1
2025-06-03T10:41:07: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:41:07: [36m[2025-06-03T10:41:07.030Z] INFO  [PID:491313][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
[2025-06-03T10:41:11.443Z] INFO  [PID:491313] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T10:41:11.444Z] INFO  [PID:491313] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T10:41:11: [36m[2025-06-03T10:41:11.443Z] INFO  [PID:491313][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T10:41:11: [36m[2025-06-03T10:41:11.444Z] INFO  [PID:491313][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T10:41:11: SQL実行: 
2025-06-03T10:41:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:41:11:                ci.number as ca... 
[2025-06-03T10:41:11.456Z] INFO  [PID:491313] 🛑 自動発信システム停止 {"level":"INFO"}
[2025-06-03T10:41:11.456Z] INFO  [PID:491313] 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-03T10:41:11: SQL実行成功: 結果行数=1
2025-06-03T10:41:11: [36m[2025-06-03T10:41:11.456Z] INFO  [PID:491313][0m 🛑 自動発信システム停止 {"level":"INFO"}
2025-06-03T10:41:11: [36m[2025-06-03T10:41:11.456Z] INFO  [PID:491313][0m 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
[2025-06-03T10:41:12.018Z] INFO  [PID:491313] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:41:12: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:41:12: [36m[2025-06-03T10:41:12.018Z] INFO  [PID:491313][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:41:12: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:41:12: SQL実行成功: 結果行数=1
2025-06-03T10:41:12: SQL実行: 
2025-06-03T10:41:12:       SELECT 
2025-06-03T10:41:12:         COUNT(*) as total,
2025-06-03T10:41:12:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:41:12: SQL実行成功: 結果行数=1
2025-06-03T10:41:12: SQL実行: 
2025-06-03T10:41:12:       SELECT 
2025-06-03T10:41:12:         COUNT(*) as total_calls,
2025-06-03T10:41:12:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-03T10:41:12: SQL実行成功: 結果行数=1
2025-06-03T10:41:12: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:41:12: [36m[2025-06-03T10:41:12.024Z] INFO  [PID:491313][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
[2025-06-03T10:41:12.024Z] INFO  [PID:491313] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
[2025-06-03T10:41:17.021Z] INFO  [PID:491313] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:41:17: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:41:17: [36m[2025-06-03T10:41:17.021Z] INFO  [PID:491313][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:41:17: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:41:17: SQL実行成功: 結果行数=1
2025-06-03T10:41:17: SQL実行: 
2025-06-03T10:41:17:       SELECT 
2025-06-03T10:41:17:         COUNT(*) as total,
2025-06-03T10:41:17:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:41:17: SQL実行成功: 結果行数=1
2025-06-03T10:41:17: SQL実行: 
2025-06-03T10:41:17:       SELECT 
2025-06-03T10:41:17:         COUNT(*) as total_calls,
2025-06-03T10:41:17:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:41:17.026Z] INFO  [PID:491313] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:41:17: SQL実行成功: 結果行数=1
2025-06-03T10:41:17: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:41:17: [36m[2025-06-03T10:41:17.026Z] INFO  [PID:491313][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
[2025-06-03T10:41:22.020Z] INFO  [PID:491313] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:41:22: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:41:22: [36m[2025-06-03T10:41:22.020Z] INFO  [PID:491313][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:41:22: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:41:22: SQL実行成功: 結果行数=1
2025-06-03T10:41:22: SQL実行: 
2025-06-03T10:41:22:       SELECT 
2025-06-03T10:41:22:         COUNT(*) as total,
2025-06-03T10:41:22:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:41:22: SQL実行成功: 結果行数=1
2025-06-03T10:41:22: SQL実行: 
2025-06-03T10:41:22:       SELECT 
2025-06-03T10:41:22:         COUNT(*) as total_calls,
2025-06-03T10:41:22:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:41:22.025Z] INFO  [PID:491313] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:41:22: SQL実行成功: 結果行数=1
2025-06-03T10:41:22: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:41:22: [36m[2025-06-03T10:41:22.025Z] INFO  [PID:491313][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
[2025-06-03T10:41:26.444Z] WARN  [PID:491313] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T10:41:26.446Z] ERROR [PID:491313] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
[2025-06-03T10:41:26.446Z] WARN  [PID:491313] Asterisk接続リトライ 3/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T10:41:26: [33m[2025-06-03T10:41:26.444Z] WARN  [PID:491313][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
2025-06-03T10:41:26: [31m[2025-06-03T10:41:26.446Z] ERROR [PID:491313][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T10:41:26: [33m[2025-06-03T10:41:26.446Z] WARN  [PID:491313][0m Asterisk接続リトライ 3/3 を5秒後に実行 {"level":"WARN"}
2025-06-03T10:41:26: SQL実行: SELECT 1... 
2025-06-03T10:41:26: SQL実行: 
2025-06-03T10:41:26:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:41:26:                ci.number as ca... 
2025-06-03T10:41:26: SQL実行成功: 結果行数=1
2025-06-03T10:41:26: SQL実行成功: 結果行数=1
[2025-06-03T10:41:27.062Z] INFO  [PID:491313] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:41:27: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:41:27: [36m[2025-06-03T10:41:27.062Z] INFO  [PID:491313][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:41:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:41:27: SQL実行成功: 結果行数=1
2025-06-03T10:41:27: SQL実行: 
2025-06-03T10:41:27:       SELECT 
2025-06-03T10:41:27:         COUNT(*) as total,
2025-06-03T10:41:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:41:27: SQL実行成功: 結果行数=1
2025-06-03T10:41:27: SQL実行: 
2025-06-03T10:41:27:       SELECT 
2025-06-03T10:41:27:         COUNT(*) as total_calls,
2025-06-03T10:41:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:41:27.068Z] INFO  [PID:491313] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:41:27: SQL実行成功: 結果行数=1
2025-06-03T10:41:27: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:41:27: [36m[2025-06-03T10:41:27.068Z] INFO  [PID:491313][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:41:31: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-03T10:41:31.307Z] INFO  [PID:491313] ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
2025-06-03T10:41:31: SQL実行成功: 結果行数=1
2025-06-03T10:41:31: [36m[2025-06-03T10:41:31.307Z] INFO  [PID:491313][0m ✅ データベース接続確認完了: アクティブ発信者番号 2件 {"level":"INFO"}
[2025-06-03T10:41:31.447Z] INFO  [PID:491313] AsteriskService.connect() 開始 {"level":"INFO"}
[2025-06-03T10:41:31.448Z] INFO  [PID:491313] Asteriskサービスに接続を試みています... {"level":"INFO"}
2025-06-03T10:41:31: [36m[2025-06-03T10:41:31.447Z] INFO  [PID:491313][0m AsteriskService.connect() 開始 {"level":"INFO"}
2025-06-03T10:41:31: [36m[2025-06-03T10:41:31.448Z] INFO  [PID:491313][0m Asteriskサービスに接続を試みています... {"level":"INFO"}
[2025-06-03T10:41:32.027Z] INFO  [PID:491313] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:41:32: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:41:32: [36m[2025-06-03T10:41:32.027Z] INFO  [PID:491313][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:41:32: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:41:32: SQL実行成功: 結果行数=1
2025-06-03T10:41:32: SQL実行: 
2025-06-03T10:41:32:       SELECT 
2025-06-03T10:41:32:         COUNT(*) as total,
2025-06-03T10:41:32:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:41:32: SQL実行成功: 結果行数=1
2025-06-03T10:41:32: SQL実行: 
2025-06-03T10:41:32:       SELECT 
2025-06-03T10:41:32:         COUNT(*) as total_calls,
2025-06-03T10:41:32:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:41:32.032Z] INFO  [PID:491313] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:41:32: SQL実行成功: 結果行数=1
2025-06-03T10:41:32: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:41:32: [36m[2025-06-03T10:41:32.032Z] INFO  [PID:491313][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
[2025-06-03T10:41:37.025Z] INFO  [PID:491313] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:41:37: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:41:37: [36m[2025-06-03T10:41:37.025Z] INFO  [PID:491313][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:41:37: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:41:37: SQL実行成功: 結果行数=1
2025-06-03T10:41:37: SQL実行: 
2025-06-03T10:41:37:       SELECT 
2025-06-03T10:41:37:         COUNT(*) as total,
2025-06-03T10:41:37:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:41:37: SQL実行成功: 結果行数=1
2025-06-03T10:41:37: SQL実行: 
2025-06-03T10:41:37:       SELECT 
2025-06-03T10:41:37:         COUNT(*) as total_calls,
2025-06-03T10:41:37:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:41:37.031Z] INFO  [PID:491313] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:41:37: SQL実行成功: 結果行数=1
2025-06-03T10:41:37: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:41:37: [36m[2025-06-03T10:41:37.031Z] INFO  [PID:491313][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:41:41: SQL実行: 
2025-06-03T10:41:41:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:41:41:                ci.number as ca... 
2025-06-03T10:41:41: SQL実行成功: 結果行数=1
[2025-06-03T10:41:42.025Z] INFO  [PID:491313] キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:41:42: GET /api/campaigns/59/stats - Origin: http://146.190.83.205:3003
2025-06-03T10:41:42: [36m[2025-06-03T10:41:42.025Z] INFO  [PID:491313][0m キャンペーン統計取得: ID=59 {"level":"INFO"}
2025-06-03T10:41:42: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-03T10:41:42: SQL実行成功: 結果行数=1
2025-06-03T10:41:42: SQL実行: 
2025-06-03T10:41:42:       SELECT 
2025-06-03T10:41:42:         COUNT(*) as total,
2025-06-03T10:41:42:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-03T10:41:42: SQL実行成功: 結果行数=1
2025-06-03T10:41:42: SQL実行: 
2025-06-03T10:41:42:       SELECT 
2025-06-03T10:41:42:         COUNT(*) as total_calls,
2025-06-03T10:41:42:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-03T10:41:42.031Z] INFO  [PID:491313] キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
2025-06-03T10:41:42: SQL実行成功: 結果行数=1
2025-06-03T10:41:42: 進捗計算デバッグ: total=1, processed=000, progress=0%
2025-06-03T10:41:42: [36m[2025-06-03T10:41:42.031Z] INFO  [PID:491313][0m キャンペーン統計取得完了: ID=59, Progress=0% {"level":"INFO"}
[2025-06-03T10:41:46.450Z] WARN  [PID:491313] Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
[2025-06-03T10:41:46.451Z] ERROR [PID:491313] ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
[2025-06-03T10:41:46.451Z] ERROR [PID:491313] Asterisk接続の最大リトライ回数に達しました。Asterisk機能は無効になります。 {"level":"ERROR"}
2025-06-03T10:41:46: [33m[2025-06-03T10:41:46.450Z] WARN  [PID:491313][0m Asterisk接続タイムアウト（15000ms） {"level":"WARN"}
2025-06-03T10:41:46: [31m[2025-06-03T10:41:46.451Z] ERROR [PID:491313][0m ❌ Asterisk接続エラー: {"0":"A","1":"s","2":"t","3":"e","4":"r","5":"i","6":"s","7":"k","8":"接","9":"続","10":"が","11":"タ","12":"イ","13":"ム","14":"ア","15":"ウ","16":"ト","17":"し","18":"ま","19":"し","20":"た","21":"（","22":"1","23":"5","24":"0","25":"0","26":"0","27":"m","28":"s","29":"）","level":"ERROR"}
2025-06-03T10:41:46: [31m[2025-06-03T10:41:46.451Z] ERROR [PID:491313][0m Asterisk接続の最大リトライ回数に達しました。Asterisk機能は無効になります。 {"level":"ERROR"}
2025-06-03T10:41:56: SQL実行: SELECT 1... 
2025-06-03T10:41:56: SQL実行: 
2025-06-03T10:41:56:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-03T10:41:56:                ci.number as ca... 
2025-06-03T10:41:56: SQL実行成功: 結果行数=1
2025-06-03T10:41:56: SQL実行成功: 結果行数=1
