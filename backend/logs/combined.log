[2025-06-28T03:21:28.406Z] INFO  [PID:1109499] ログファイルをローテーションしました: /var/www/autodialer/backend/logs/combined.log -> /var/www/autodialer/backend/logs/combined.log.1751080888405.bak {"level":"INFO"}
[2025-06-28T03:21:28.522Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:21:31.296Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:21:31.299Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:21:36.236Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:21:36.239Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:21:41.231Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:21:41.234Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:21:46.237Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:21:46.240Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:21:51.232Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:21:51.235Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:21:56.235Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:21:56.238Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:22:01.235Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:22:01.239Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:22:06.232Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:22:06.236Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:22:11.231Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:22:11.235Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:22:16.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:22:16.236Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:22:21.232Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:22:21.235Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:22:26.236Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:22:26.239Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:22:28.523Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:22:31.232Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:22:31.235Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:22:36.232Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:22:36.236Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:22:41.232Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:22:41.236Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:22:46.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:22:46.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:22:51.232Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:22:51.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:22:56.234Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:22:56.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:23:01.235Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:23:01.242Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:23:06.231Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:23:06.236Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:23:11.238Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:23:11.241Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:23:16.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:23:16.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:23:21.231Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:23:21.235Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:23:26.236Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:23:26.240Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:23:28.523Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:23:31.232Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:23:31.236Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:23:36.232Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:23:36.235Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:23:41.232Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:23:41.236Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:23:46.234Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:23:46.238Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:23:51.232Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:23:51.236Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:23:56.231Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:23:56.235Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:24:01.236Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:24:01.241Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:24:06.232Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:24:06.235Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:24:11.239Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:24:11.242Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:24:16.237Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:24:16.241Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:24:21.234Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:24:21.238Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:24:26.237Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:24:26.240Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:24:28.523Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:24:31.236Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:24:31.240Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:24:36.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:24:36.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:24:41.232Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:24:41.235Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:24:46.237Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:24:46.241Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:24:51.232Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:24:51.235Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:24:56.242Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:24:56.245Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:25:01.237Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:25:01.247Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:25:06.232Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:25:06.236Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:25:11.234Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:25:11.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:25:16.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:25:16.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:25:21.251Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:25:21.255Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:25:26.236Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:25:26.240Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:25:28.523Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:25:31.236Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:25:31.240Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:25:36.252Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:25:36.255Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:25:41.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:25:41.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:25:46.235Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:25:46.238Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:25:51.236Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:25:51.241Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:25:56.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:25:56.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:26:01.266Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:26:01.270Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:26:06.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:26:06.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:26:11.234Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:26:11.238Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:26:16.235Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:26:16.239Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:26:21.236Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:26:21.239Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:26:26.235Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:26:26.239Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:26:28.524Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:26:31.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:26:31.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:26:36.237Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:26:36.241Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:26:41.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:26:41.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:26:46.236Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:26:46.238Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:26:51.237Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:26:51.241Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:26:56.236Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:26:56.238Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:27:01.234Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:27:01.238Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:27:06.234Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:27:06.238Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:27:11.234Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:27:11.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:27:16.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:27:16.236Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:27:21.240Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:27:21.244Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:27:26.235Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:27:26.238Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:27:28.525Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:27:31.234Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:27:31.238Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:27:36.246Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:27:36.251Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:27:41.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:27:41.236Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:27:46.234Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:27:46.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:27:51.232Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:27:51.236Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:27:56.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:27:56.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:28:01.238Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:28:01.242Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:28:06.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:28:06.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:28:11.234Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:28:11.236Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:28:16.236Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:28:16.240Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:28:21.236Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:28:21.240Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:28:26.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:28:26.236Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:28:28.524Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:28:31.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:28:31.236Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:28:36.234Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:28:36.240Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:28:41.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:28:41.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:28:46.234Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:28:46.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:28:51.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:28:51.235Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:28:56.242Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:28:56.245Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:29:01.244Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:29:01.248Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:29:06.237Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:29:06.243Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:29:11.234Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:29:11.238Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:29:16.257Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:29:16.261Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:29:21.246Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:29:21.250Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:29:26.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:29:26.238Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:29:28.526Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:29:31.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:29:31.236Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:29:36.235Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:29:36.238Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:29:41.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:29:41.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:29:46.236Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:29:46.239Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:29:51.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:29:51.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:29:56.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:29:56.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:30:01.234Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:30:01.251Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:30:06.237Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:30:06.242Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:30:11.247Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:30:11.253Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:30:16.254Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:30:16.258Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:30:21.236Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:30:21.239Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:30:26.235Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:30:26.238Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:30:28.525Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:30:31.233Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:30:31.237Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:30:36.240Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:30:36.242Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:30:41.235Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:30:41.238Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:30:46.237Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:30:46.240Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:30:49.215Z] INFO  [PID:1109499] キャンペーン詳細取得: ID=165 {"level":"INFO"}
[2025-06-28T03:30:49.217Z] INFO  [PID:1109499] キャンペーン詳細取得完了: ID=165 {"level":"INFO"}
[2025-06-28T03:30:49.255Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:30:49.258Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:30:50.615Z] INFO  [PID:1109499] キャンペーン音声取得開始: Campaign=165 {"level":"INFO"}
[2025-06-28T03:30:50.617Z] INFO  [PID:1109499] キャンペーン音声取得結果: Campaign=165, 件数=0 {"level":"INFO"}
[2025-06-28T03:30:50.617Z] WARN  [PID:1109499] キャンペーン 165 に音声ファイルが見つかりません {"level":"WARN"}
[2025-06-28T03:30:50.618Z] INFO  [PID:1109499] キャンペーン音声取得開始: Campaign=165 {"level":"INFO"}
[2025-06-28T03:30:50.619Z] INFO  [PID:1109499] キャンペーン音声取得結果: Campaign=165, 件数=0 {"level":"INFO"}
[2025-06-28T03:30:50.620Z] WARN  [PID:1109499] キャンペーン 165 に音声ファイルが見つかりません {"level":"WARN"}
[2025-06-28T03:30:50.621Z] INFO  [PID:1109499] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-165.conf {"level":"INFO"}
[2025-06-28T03:30:50.649Z] INFO  [PID:1109499] 音声ファイル一覧を取得します {"level":"INFO"}
[2025-06-28T03:30:50.650Z] INFO  [PID:1109499] 1件の音声ファイルを取得しました {"level":"INFO"}
[2025-06-28T03:30:54.259Z] INFO  [PID:1109499] キャンペーン統計取得: ID=165 {"level":"INFO"}
[2025-06-28T03:30:54.262Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=165, Progress=0% {"level":"INFO"}
[2025-06-28T03:30:56.477Z] INFO  [PID:1109499] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
[2025-06-28T03:30:56.481Z] INFO  [PID:1109499] キャンペーン取得結果: 50/76件 {"level":"INFO"}
[2025-06-28T03:31:28.526Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:32:28.526Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:33:28.527Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:34:28.526Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:35:28.528Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:36:28.528Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:37:28.528Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:38:28.530Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:39:28.530Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:40:28.532Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:40:42.893Z] INFO  [PID:1109499] キャンペーン作成: Name=AM {"level":"INFO"}
[2025-06-28T03:40:42.904Z] INFO  [PID:1109499] キャンペーン作成完了: ID=166, Name=AM {"level":"INFO"}
[2025-06-28T03:40:43.955Z] INFO  [PID:1109499] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
[2025-06-28T03:40:43.959Z] INFO  [PID:1109499] キャンペーン取得結果: 50/77件 {"level":"INFO"}
[2025-06-28T03:40:45.352Z] INFO  [PID:1109499] キャンペーン詳細取得: ID=166 {"level":"INFO"}
[2025-06-28T03:40:45.355Z] INFO  [PID:1109499] キャンペーン詳細取得完了: ID=166 {"level":"INFO"}
[2025-06-28T03:40:45.394Z] INFO  [PID:1109499] キャンペーン統計取得: ID=166 {"level":"INFO"}
[2025-06-28T03:40:45.398Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=166, Progress=0% {"level":"INFO"}
[2025-06-28T03:40:46.524Z] INFO  [PID:1109499] 連絡先一覧取得: Campaign=166, Page=1, Limit=20 {"level":"INFO"}
[2025-06-28T03:40:46.527Z] INFO  [PID:1109499] 連絡先取得結果: Campaign=166, 件数=0, 全体=0 {"level":"INFO"}
[2025-06-28T03:40:53.650Z] INFO  [PID:1109499] 🚀 CSVアップロード開始 {"campaignId":"166","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-28T03:40:53.650Z","level":"INFO"}
[2025-06-28T03:40:53.651Z] INFO  [PID:1109499] 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
[2025-06-28T03:40:53.651Z] WARN  [PID:1109499] CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
[2025-06-28T03:40:53.652Z] INFO  [PID:1109499] CSV解析完了: 1行のデータ {"level":"INFO"}
[2025-06-28T03:40:53.652Z] INFO  [PID:1109499] 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
[2025-06-28T03:40:53.652Z] INFO  [PID:1109499] 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
[2025-06-28T03:40:53.652Z] INFO  [PID:1109499] 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
[2025-06-28T03:40:53.652Z] INFO  [PID:1109499] 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
[2025-06-28T03:40:53.652Z] INFO  [PID:1109499] バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
[2025-06-28T03:40:53.652Z] INFO  [PID:1109499] 🔍 重複チェック開始... {"level":"INFO"}
[2025-06-28T03:40:53.653Z] INFO  [PID:1109499] 既存電話番号数: 0 {"level":"INFO"}
[2025-06-28T03:40:53.653Z] INFO  [PID:1109499] 新規データ追加: 05018086649 {"level":"INFO"}
[2025-06-28T03:40:53.653Z] INFO  [PID:1109499] 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
[2025-06-28T03:40:53.653Z] INFO  [PID:1109499] 💾 データベース挿入開始: 1件 {"level":"INFO"}
[2025-06-28T03:40:53.654Z] INFO  [PID:1109499] 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
[2025-06-28T03:40:53.665Z] INFO  [PID:1109499] ✅ 全件挿入完了: 1件 {"level":"INFO"}
[2025-06-28T03:40:53.671Z] INFO  [PID:1109499] CSVアップロード完了 {"campaignId":"166","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
[2025-06-28T03:40:53.710Z] INFO  [PID:1109499] キャンペーン詳細取得: ID=166 {"level":"INFO"}
[2025-06-28T03:40:53.713Z] INFO  [PID:1109499] キャンペーン詳細取得完了: ID=166 {"level":"INFO"}
[2025-06-28T03:40:53.748Z] INFO  [PID:1109499] キャンペーン統計取得: ID=166 {"level":"INFO"}
[2025-06-28T03:40:53.752Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=166, Progress=0% {"level":"INFO"}
[2025-06-28T03:40:53.787Z] INFO  [PID:1109499] 連絡先一覧取得: Campaign=166, Page=1, Limit=20 {"level":"INFO"}
[2025-06-28T03:40:53.790Z] INFO  [PID:1109499] 連絡先取得結果: Campaign=166, 件数=1, 全体=1 {"level":"INFO"}
[2025-06-28T03:40:56.961Z] INFO  [PID:1109499] 🚀 キャンペーン 166 のIVRスクリプト完全デプロイ開始... {"level":"INFO"}
[2025-06-28T03:40:56.961Z] INFO  [PID:1109499] 📝 Step 1: IVRスクリプト生成中... {"level":"INFO"}
[2025-06-28T03:40:56.963Z] INFO  [PID:1109499] キャンペーン音声取得開始: Campaign=166 {"level":"INFO"}
[2025-06-28T03:40:56.964Z] INFO  [PID:1109499] キャンペーン音声取得結果: Campaign=166, 件数=0 {"level":"INFO"}
[2025-06-28T03:40:56.964Z] WARN  [PID:1109499] キャンペーン 166 に音声ファイルが見つかりません {"level":"WARN"}
[2025-06-28T03:40:56.965Z] INFO  [PID:1109499] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-166.conf {"level":"INFO"}
[2025-06-28T03:40:56.965Z] INFO  [PID:1109499] ✅ IVRスクリプト生成完了: /var/www/autodialer/backend/ivr-scripts/campaign-166.conf {"level":"INFO"}
[2025-06-28T03:40:56.965Z] INFO  [PID:1109499] 📝 Step 2: extensions.confへのinclude追加中... {"level":"INFO"}
[2025-06-28T03:40:56.965Z] INFO  [PID:1109499] 🔧 extensions.conf include追加: #include "/var/www/autodialer/backend/ivr-scripts/campaign-166.conf" {"level":"INFO"}
[2025-06-28T03:40:56.966Z] INFO  [PID:1109499] ✅ extensions.confにinclude追加完了: campaign-166.conf {"level":"INFO"}
[2025-06-28T03:40:56.966Z] INFO  [PID:1109499] 📝 Step 3: Asterisk dialplan reload実行中... {"level":"INFO"}
[2025-06-28T03:40:56.967Z] INFO  [PID:1109499] 🔄 Asterisk dialplan reload実行中... {"level":"INFO"}
[2025-06-28T03:40:57.003Z] INFO  [PID:1109499] ✅ Asterisk dialplan reload成功: Dialplan reloaded. {"level":"INFO"}
[2025-06-28T03:40:57.004Z] INFO  [PID:1109499] 📝 Step 4: データベース記録中... {"level":"INFO"}
[2025-06-28T03:40:57.010Z] INFO  [PID:1109499] ✅ データベース記録完了 {"level":"INFO"}
[2025-06-28T03:40:57.010Z] INFO  [PID:1109499] 📝 Step 5: デプロイ検証中... {"level":"INFO"}
[2025-06-28T03:40:57.010Z] INFO  [PID:1109499] 🔍 コンテキスト検証中: autodialer-campaign-166 {"level":"INFO"}
[2025-06-28T03:40:57.036Z] WARN  [PID:1109499] ⚠️ コンテキスト検証結果不明: [ Context 'autodialer-campaign-166' created by 'pbx_config' ]
  '1' =>            1. NoOp(Operator transfer requested)          [campaign-166.conf:10]
                    2. Set(CAMPAIGN_ID=166)                       [campaign-166.conf:11]
                    3. Set(KEYPRESS=1)                            [campaign-166.conf:12]
                    4. Goto(operator-transfer-166,s,1)            [campaign-166.conf:13]
  '2' =>            1. NoOp(Operator transfer requested)          [campaign-166.conf:15]
                    2. Set(CAMPAIGN_ID=166)                       [campaign-166.conf:16]
                    3. Set(KEYPRESS=2)                            [campaign-166.conf:17]
                    4. Goto(operator-transfer-166,s,1)            [campaign-166.conf:18]
  '3' =>            1. NoOp(Operator transfer requested)          [campaign-166.conf:20]
                    2. Set(CAMPAIGN_ID=166)                       [campaign-166.conf:21]
                    3. Set(KEYPRESS=3)                            [campaign-166.conf:22]
                    4. Goto(operator-transfer-166,s,1)            [campaign-166.conf:23]
  '9' =>            1. NoOp(DNC requested)                        [campaign-166.conf:25]
                    2. Set(CAMPAIGN_ID=166)                       [campaign-166.conf:26]
                    3. Set(KEYPRESS=9)                            [campaign-166.conf:27]
                    4. Playback(custom/dnc-confirmation)          [campaign-166.conf:28]
                    5. Hangup()                                   [campaign-166.conf:29]
  'h' =>            1. NoOp(Hangup handler)                       [campaign-166.conf:39]
                    2. System(curl -X POST http://localhost:5000/api/callback/call-end -d "callId=166-${UNIQUEID}&duration=${ANSWEREDTIME}&disposition=${DIALSTATUS}&keypress=${KEYPRESS}") [campaign-166.conf:40]
  'i' =>            1. NoOp(Invalid input)                        [campaign-166.conf:35]
                    2. Playback(custom/invalid-option)            [campaign-166.conf:36]
                    3. Goto(s,4)                                  [campaign-166.conf:37]
  's' =>            1. Answer()                                   [campaign-166.conf:4]
                    2. Wait(1)                                    [campaign-166.conf:5]
                    3. Playback(custom/default-welcome)           [campaign-166.conf:6]
                    4. Playback(custom/default-menu)              [campaign-166.conf:7]
                    5. WaitExten(10)                              [campaign-166.conf:8]
  't' =>            1. NoOp(Timeout occurred)                     [campaign-166.conf:31]
                    2. Playback(custom/default-goodbye)           [campaign-166.conf:32]
                    3. Hangup()                                   [campaign-166.conf:33]

-= 8 extensions (30 priorities) in 1 context. =-
 {"level":"WARN"}
[2025-06-28T03:40:57.037Z] WARN  [PID:1109499] ⚠️ コンテキスト検証失敗 - 手動確認が必要です {"level":"WARN"}
[2025-06-28T03:40:57.037Z] INFO  [PID:1109499] 🚀 手動キャンペーン開始: 166 {"level":"INFO"}
[2025-06-28T03:40:57.053Z] INFO  [PID:1109499] 🎉 イベント: キャンペーン追加 - AM (ID: 166) {"level":"INFO"}
[2025-06-28T03:40:57.053Z] INFO  [PID:1109499] ✅ キャンペーン自動追加: "AM" (未処理: 1件) {"level":"INFO"}
[2025-06-28T03:40:57.054Z] INFO  [PID:1109499] ✅ 手動キャンペーン開始完了: "AM" {"level":"INFO"}
[2025-06-28T03:40:57.093Z] INFO  [PID:1109499] キャンペーン詳細取得: ID=166 {"level":"INFO"}
[2025-06-28T03:40:57.095Z] INFO  [PID:1109499] キャンペーン詳細取得完了: ID=166 {"level":"INFO"}
[2025-06-28T03:40:57.130Z] INFO  [PID:1109499] キャンペーン統計取得: ID=166 {"level":"INFO"}
[2025-06-28T03:40:57.134Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=166, Progress=0% {"level":"INFO"}
[2025-06-28T03:40:59.057Z] INFO  [PID:1109499] 📞 発信準備: 05018086649 (Campaign: AM, 試行回数: 0) {"level":"INFO"}
[2025-06-28T03:40:59.057Z] INFO  [PID:1109499] 🔧 発信診断開始: 05018086649 {"level":"INFO"}
[2025-06-28T03:40:59.063Z] INFO  [PID:1109499] キャンペーン音声取得開始: Campaign=166 {"level":"INFO"}
[2025-06-28T03:40:59.064Z] INFO  [PID:1109499] キャンペーン音声取得結果: Campaign=166, 件数=0 {"level":"INFO"}
[2025-06-28T03:40:59.064Z] WARN  [PID:1109499] キャンペーン 166 に音声ファイルが見つかりません {"level":"WARN"}
[2025-06-28T03:40:59.064Z] WARN  [PID:1109499] ⚠️ キャンペーン166に音声ファイルが設定されていません {"level":"WARN"}
[2025-06-28T03:40:59.064Z] INFO  [PID:1109499] 🚀 音声付き自動発信実行: 05018086649 {"campaignId":166,"contactId":10161,"callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":0,"hasAudio":false,"level":"INFO"}
[2025-06-28T03:40:59.064Z] INFO  [PID:1109499] SIPプロバイダで発信: 05018086649 {"level":"INFO"}
[2025-06-28T03:40:59.065Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] ===== sipService.originate 開始 (AMI版) ===== {"level":"INFO"}
[2025-06-28T03:40:59.065Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] - phoneNumber: 05018086649 {"level":"INFO"}
[2025-06-28T03:40:59.065Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] - mockMode: false {"level":"INFO"}
[2025-06-28T03:40:59.065Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] - connected: true {"level":"INFO"}
[2025-06-28T03:40:59.065Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] 実発信モードで AMI発信を開始: 発信先=05018086649 {"level":"INFO"}
[2025-06-28T03:40:59.065Z] INFO  [PID:1109499] 🔍 SIPアカウント選択開始 {"level":"INFO"}
[2025-06-28T03:40:59.066Z] INFO  [PID:1109499] 🔍 キャンペーン166 → 発信者番号ID: 8 {"level":"INFO"}
[2025-06-28T03:40:59.066Z] INFO  [PID:1109499] 🔍 選択されたSIPアカウント: 03500006 {"level":"INFO"}
[2025-06-28T03:40:59.066Z] INFO  [PID:1109499] 🔍 - username: "03500006" (type: string) {"level":"INFO"}
[2025-06-28T03:40:59.066Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] AMI発信準備完了: {"level":"INFO"}
[2025-06-28T03:40:59.066Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] - formattedNumber: 05018086649 {"level":"INFO"}
[2025-06-28T03:40:59.066Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] - callId: ami-1751082059066-7717 {"level":"INFO"}
[2025-06-28T03:40:59.066Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し開始 ===== {"level":"INFO"}
[2025-06-28T03:40:59.066Z] INFO  [PID:1109499] 🔍 ===== AMI発信データ追跡開始 ===== {"level":"INFO"}
[2025-06-28T03:40:59.067Z] INFO  [PID:1109499] 🔍 STEP1-引数確認: sipAccount.username="03500006" (type: string) {"level":"INFO"}
[2025-06-28T03:40:59.067Z] INFO  [PID:1109499] 🔍 STEP1-引数確認: formattedNumber="05018086649" {"level":"INFO"}
[2025-06-28T03:40:59.067Z] INFO  [PID:1109499] 🔍 STEP1-引数確認: callId="ami-1751082059066-7717" {"level":"INFO"}
[2025-06-28T03:40:59.067Z] INFO  [PID:1109499] 🔍 STEP1-引数確認: campaignId="166" {"level":"INFO"}
[2025-06-28T03:40:59.067Z] INFO  [PID:1109499] 🔍 STEP3-ディープコピー: safeSipAccount.username="03500006" {"level":"INFO"}
[2025-06-28T03:40:59.067Z] INFO  [PID:1109499] 🔍 STEP4-Channel構築: "SIP/03500006@pantex.online" {"level":"INFO"}
[2025-06-28T03:40:59.067Z] INFO  [PID:1109499] ✅ データ整合性確認完了 - AMI送信実行 {"level":"INFO"}
[2025-06-28T03:40:59.067Z] INFO  [PID:1109499] 📤 AMI送信内容: {"level":"INFO"}
[2025-06-28T03:40:59.067Z] INFO  [PID:1109499] Action: Originate
Channel: PJSIP/05018086649@03500006
Context: autodialer-campaign-166
Exten: s
Priority: 1
CallerID: "0369087851" <0369087851>
Variable: CALLERID(name)=0369087851
Variable: CALLERID(num)=0369087851
Variable: PJSIP_HEADER(update,From)=\"0369087851\" <sip:0369087851@pantex.online>
ActionID: ami-1751082059066-7717
Async: yes

 {"level":"INFO"}
[2025-06-28T03:40:59.067Z] INFO  [PID:1109499] 📤 AMI送信開始: {"0":"A","1":"c","2":"t","3":"i","4":"o","5":"n","6":":","7":" ","8":"O","9":"r","10":"i","11":"g","12":"i","13":"n","14":"a","15":"t","16":"e","17":"\r","18":"\n","19":"C","20":"h","21":"a","22":"n","23":"n","24":"e","25":"l","26":":","27":" ","28":"P","29":"J","30":"S","31":"I","32":"P","33":"/","34":"0","35":"5","36":"0","37":"1","38":"8","39":"0","40":"8","41":"6","42":"6","43":"4","44":"9","45":"@","46":"0","47":"3","48":"5","49":"0","50":"0","51":"0","52":"0","53":"6","54":"\r","55":"\n","56":"C","57":"o","58":"n","59":"t","60":"e","61":"x","62":"t","63":":","64":" ","65":"a","66":"u","67":"t","68":"o","69":"d","70":"i","71":"a","72":"l","73":"e","74":"r","75":"-","76":"c","77":"a","78":"m","79":"p","80":"a","81":"i","82":"g","83":"n","84":"-","85":"1","86":"6","87":"6","88":"\r","89":"\n","90":"E","91":"x","92":"t","93":"e","94":"n","95":":","96":" ","97":"s","98":"\r","99":"\n","level":"INFO"}
[2025-06-28T03:40:59.068Z] INFO  [PID:1109499] AMI応答: Response: Success
ActionID: ami-1751082059066-7717
Message: Originate successfully queued

 {"level":"INFO"}
[2025-06-28T03:40:59.068Z] INFO  [PID:1109499] 📥 AMI応答受信: Response: Success
ActionID: ami-1751082059066-7717
Message: Originate successfully queued

 {"level":"INFO"}
[2025-06-28T03:40:59.068Z] INFO  [PID:1109499] ✅ AMI送信成功 {"level":"INFO"}
[2025-06-28T03:40:59.069Z] INFO  [PID:1109499] ✅ AMI送信成功 {"level":"INFO"}
[2025-06-28T03:40:59.069Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し完了: true ===== {"level":"INFO"}
[2025-06-28T03:40:59.069Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] sipService.originate 正常完了 (AMI版) {"level":"INFO"}
[2025-06-28T03:40:59.069Z] INFO  [PID:1109499] ✅ 音声付き自動発信成功: 05018086649 → CallID: ami-1751082059066-7717, Provider: sip, Audio: 0件 {"level":"INFO"}
[2025-06-28T03:40:59.074Z] INFO  [PID:1109499] 🎯 音声付き発信診断完了: 05018086649 (処理時間: 17ms, 音声: 0件) {"level":"INFO"}
[2025-06-28T03:41:01.074Z] INFO  [PID:1109499] 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
[2025-06-28T03:41:02.145Z] INFO  [PID:1109499] キャンペーン統計取得: ID=166 {"level":"INFO"}
[2025-06-28T03:41:02.150Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=166, Progress=0% {"level":"INFO"}
[2025-06-28T03:41:07.138Z] INFO  [PID:1109499] キャンペーン統計取得: ID=166 {"level":"INFO"}
[2025-06-28T03:41:07.142Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=166, Progress=0% {"level":"INFO"}
[2025-06-28T03:41:12.133Z] INFO  [PID:1109499] キャンペーン統計取得: ID=166 {"level":"INFO"}
[2025-06-28T03:41:12.137Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=166, Progress=0% {"level":"INFO"}
[2025-06-28T03:41:15.080Z] INFO  [PID:1109499] 連絡先一覧取得: Campaign=166, Page=1, Limit=20 {"level":"INFO"}
[2025-06-28T03:41:15.083Z] INFO  [PID:1109499] 連絡先取得結果: Campaign=166, 件数=1, 全体=1 {"level":"INFO"}
[2025-06-28T03:41:17.143Z] INFO  [PID:1109499] キャンペーン統計取得: ID=166 {"level":"INFO"}
[2025-06-28T03:41:17.149Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=166, Progress=0% {"level":"INFO"}
[2025-06-28T03:41:17.551Z] INFO  [PID:1109499] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
[2025-06-28T03:41:17.555Z] INFO  [PID:1109499] キャンペーン取得結果: 50/77件 {"level":"INFO"}
[2025-06-28T03:41:28.532Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:41:32.995Z] INFO  [PID:1109499] キャンペーン作成: Name=AN {"level":"INFO"}
[2025-06-28T03:41:33.003Z] INFO  [PID:1109499] キャンペーン作成完了: ID=167, Name=AN {"level":"INFO"}
[2025-06-28T03:41:34.057Z] INFO  [PID:1109499] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
[2025-06-28T03:41:34.062Z] INFO  [PID:1109499] キャンペーン取得結果: 50/78件 {"level":"INFO"}
[2025-06-28T03:41:35.828Z] INFO  [PID:1109499] キャンペーン詳細取得: ID=167 {"level":"INFO"}
[2025-06-28T03:41:35.830Z] INFO  [PID:1109499] キャンペーン詳細取得完了: ID=167 {"level":"INFO"}
[2025-06-28T03:41:35.865Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:41:35.868Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:41:37.141Z] INFO  [PID:1109499] 連絡先一覧取得: Campaign=167, Page=1, Limit=20 {"level":"INFO"}
[2025-06-28T03:41:37.144Z] INFO  [PID:1109499] 連絡先取得結果: Campaign=167, 件数=0, 全体=0 {"level":"INFO"}
[2025-06-28T03:41:43.745Z] INFO  [PID:1109499] 🚀 CSVアップロード開始 {"campaignId":"167","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-28T03:41:43.745Z","level":"INFO"}
[2025-06-28T03:41:43.747Z] INFO  [PID:1109499] 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
[2025-06-28T03:41:43.748Z] WARN  [PID:1109499] CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
[2025-06-28T03:41:43.748Z] INFO  [PID:1109499] CSV解析完了: 1行のデータ {"level":"INFO"}
[2025-06-28T03:41:43.748Z] INFO  [PID:1109499] 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
[2025-06-28T03:41:43.748Z] INFO  [PID:1109499] 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
[2025-06-28T03:41:43.748Z] INFO  [PID:1109499] 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
[2025-06-28T03:41:43.748Z] INFO  [PID:1109499] 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
[2025-06-28T03:41:43.748Z] INFO  [PID:1109499] バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
[2025-06-28T03:41:43.749Z] INFO  [PID:1109499] 🔍 重複チェック開始... {"level":"INFO"}
[2025-06-28T03:41:43.749Z] INFO  [PID:1109499] 既存電話番号数: 0 {"level":"INFO"}
[2025-06-28T03:41:43.750Z] INFO  [PID:1109499] 新規データ追加: 05018086649 {"level":"INFO"}
[2025-06-28T03:41:43.750Z] INFO  [PID:1109499] 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
[2025-06-28T03:41:43.750Z] INFO  [PID:1109499] 💾 データベース挿入開始: 1件 {"level":"INFO"}
[2025-06-28T03:41:43.751Z] INFO  [PID:1109499] 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
[2025-06-28T03:41:43.755Z] INFO  [PID:1109499] ✅ 全件挿入完了: 1件 {"level":"INFO"}
[2025-06-28T03:41:43.761Z] INFO  [PID:1109499] CSVアップロード完了 {"campaignId":"167","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
[2025-06-28T03:41:43.797Z] INFO  [PID:1109499] キャンペーン詳細取得: ID=167 {"level":"INFO"}
[2025-06-28T03:41:43.799Z] INFO  [PID:1109499] キャンペーン詳細取得完了: ID=167 {"level":"INFO"}
[2025-06-28T03:41:43.834Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:41:43.837Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:41:43.872Z] INFO  [PID:1109499] 連絡先一覧取得: Campaign=167, Page=1, Limit=20 {"level":"INFO"}
[2025-06-28T03:41:43.875Z] INFO  [PID:1109499] 連絡先取得結果: Campaign=167, 件数=1, 全体=1 {"level":"INFO"}
[2025-06-28T03:41:44.960Z] INFO  [PID:1109499] 音声ファイル一覧を取得します {"level":"INFO"}
[2025-06-28T03:41:44.963Z] INFO  [PID:1109499] 1件の音声ファイルを取得しました {"level":"INFO"}
[2025-06-28T03:41:44.964Z] INFO  [PID:1109499] キャンペーン音声取得開始: Campaign=167 {"level":"INFO"}
[2025-06-28T03:41:44.964Z] INFO  [PID:1109499] キャンペーン音声取得結果: Campaign=167, 件数=0 {"level":"INFO"}
[2025-06-28T03:41:44.965Z] WARN  [PID:1109499] キャンペーン 167 に音声ファイルが見つかりません {"level":"WARN"}
[2025-06-28T03:41:44.966Z] INFO  [PID:1109499] キャンペーン音声取得開始: Campaign=167 {"level":"INFO"}
[2025-06-28T03:41:44.966Z] INFO  [PID:1109499] キャンペーン音声取得結果: Campaign=167, 件数=0 {"level":"INFO"}
[2025-06-28T03:41:44.967Z] WARN  [PID:1109499] キャンペーン 167 に音声ファイルが見つかりません {"level":"WARN"}
[2025-06-28T03:41:44.967Z] INFO  [PID:1109499] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-167.conf {"level":"INFO"}
[2025-06-28T03:41:54.479Z] INFO  [PID:1109499] 音声ファイルをアップロードしました: 549444996463302, ID=45c00dc2-06d7-4d17-8865-62bfc5bf59e3 {"level":"INFO"}
[2025-06-28T03:41:54.479Z] INFO  [PID:1109499] キャンペーン音声を割り当て: Campaign=167, Audio=45c00dc2-06d7-4d17-8865-62bfc5bf59e3, Type=welcome {"level":"INFO"}
[2025-06-28T03:41:54.521Z] INFO  [PID:1109499] キャンペーン音声取得開始: Campaign=167 {"level":"INFO"}
[2025-06-28T03:41:54.522Z] INFO  [PID:1109499] キャンペーン音声取得結果: Campaign=167, 件数=1 {"level":"INFO"}
[2025-06-28T03:41:54.522Z] INFO  [PID:1109499] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:41:54.524Z] INFO  [PID:1109499] キャンペーン音声取得開始: Campaign=167 {"level":"INFO"}
[2025-06-28T03:41:54.525Z] INFO  [PID:1109499] キャンペーン音声取得結果: Campaign=167, 件数=1 {"level":"INFO"}
[2025-06-28T03:41:54.526Z] INFO  [PID:1109499] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:41:54.527Z] INFO  [PID:1109499] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-167.conf {"level":"INFO"}
[2025-06-28T03:41:58.834Z] INFO  [PID:1109499] 音声ファイル割り当て: キャンペーンID=167, 音声ID=45c00dc2-06d7-4d17-8865-62bfc5bf59e3, タイプ=welcome {"level":"INFO"}
[2025-06-28T03:41:58.838Z] INFO  [PID:1109499] 既存の割り当てを更新しました: キャンペーンID=167, タイプ=welcome {"level":"INFO"}
[2025-06-28T03:41:58.874Z] INFO  [PID:1109499] キャンペーン音声取得開始: Campaign=167 {"level":"INFO"}
[2025-06-28T03:41:58.875Z] INFO  [PID:1109499] キャンペーン音声取得結果: Campaign=167, 件数=1 {"level":"INFO"}
[2025-06-28T03:41:58.875Z] INFO  [PID:1109499] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:41:58.876Z] INFO  [PID:1109499] キャンペーン音声取得開始: Campaign=167 {"level":"INFO"}
[2025-06-28T03:41:58.877Z] INFO  [PID:1109499] キャンペーン音声取得結果: Campaign=167, 件数=1 {"level":"INFO"}
[2025-06-28T03:41:58.877Z] INFO  [PID:1109499] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:41:58.878Z] INFO  [PID:1109499] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-167.conf {"level":"INFO"}
[2025-06-28T03:42:00.492Z] INFO  [PID:1109499] 🚀 キャンペーン 167 のIVRスクリプト完全デプロイ開始... {"level":"INFO"}
[2025-06-28T03:42:00.492Z] INFO  [PID:1109499] 📝 Step 1: IVRスクリプト生成中... {"level":"INFO"}
[2025-06-28T03:42:00.493Z] INFO  [PID:1109499] キャンペーン音声取得開始: Campaign=167 {"level":"INFO"}
[2025-06-28T03:42:00.494Z] INFO  [PID:1109499] キャンペーン音声取得結果: Campaign=167, 件数=1 {"level":"INFO"}
[2025-06-28T03:42:00.494Z] INFO  [PID:1109499] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:42:00.494Z] INFO  [PID:1109499] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-167.conf {"level":"INFO"}
[2025-06-28T03:42:00.494Z] INFO  [PID:1109499] ✅ IVRスクリプト生成完了: /var/www/autodialer/backend/ivr-scripts/campaign-167.conf {"level":"INFO"}
[2025-06-28T03:42:00.494Z] INFO  [PID:1109499] 📝 Step 2: extensions.confへのinclude追加中... {"level":"INFO"}
[2025-06-28T03:42:00.495Z] INFO  [PID:1109499] 🔧 extensions.conf include追加: #include "/var/www/autodialer/backend/ivr-scripts/campaign-167.conf" {"level":"INFO"}
[2025-06-28T03:42:00.496Z] INFO  [PID:1109499] ✅ extensions.confにinclude追加完了: campaign-167.conf {"level":"INFO"}
[2025-06-28T03:42:00.497Z] INFO  [PID:1109499] 📝 Step 3: Asterisk dialplan reload実行中... {"level":"INFO"}
[2025-06-28T03:42:00.497Z] INFO  [PID:1109499] 🔄 Asterisk dialplan reload実行中... {"level":"INFO"}
[2025-06-28T03:42:00.527Z] INFO  [PID:1109499] ✅ Asterisk dialplan reload成功: Dialplan reloaded. {"level":"INFO"}
[2025-06-28T03:42:00.528Z] INFO  [PID:1109499] 📝 Step 4: データベース記録中... {"level":"INFO"}
[2025-06-28T03:42:00.533Z] INFO  [PID:1109499] ✅ データベース記録完了 {"level":"INFO"}
[2025-06-28T03:42:00.533Z] INFO  [PID:1109499] 📝 Step 5: デプロイ検証中... {"level":"INFO"}
[2025-06-28T03:42:00.533Z] INFO  [PID:1109499] 🔍 コンテキスト検証中: autodialer-campaign-167 {"level":"INFO"}
[2025-06-28T03:42:00.559Z] WARN  [PID:1109499] ⚠️ コンテキスト検証結果不明: [ Context 'autodialer-campaign-167' created by 'pbx_config' ]
  '1' =>            1. NoOp(Operator transfer requested)          [campaign-167.conf:10]
                    2. Set(CAMPAIGN_ID=167)                       [campaign-167.conf:11]
                    3. Set(KEYPRESS=1)                            [campaign-167.conf:12]
                    4. Goto(operator-transfer-167,s,1)            [campaign-167.conf:13]
  '2' =>            1. NoOp(Operator transfer requested)          [campaign-167.conf:15]
                    2. Set(CAMPAIGN_ID=167)                       [campaign-167.conf:16]
                    3. Set(KEYPRESS=2)                            [campaign-167.conf:17]
                    4. Goto(operator-transfer-167,s,1)            [campaign-167.conf:18]
  '3' =>            1. NoOp(Operator transfer requested)          [campaign-167.conf:20]
                    2. Set(CAMPAIGN_ID=167)                       [campaign-167.conf:21]
                    3. Set(KEYPRESS=3)                            [campaign-167.conf:22]
                    4. Goto(operator-transfer-167,s,1)            [campaign-167.conf:23]
  '9' =>            1. NoOp(DNC requested)                        [campaign-167.conf:25]
                    2. Set(CAMPAIGN_ID=167)                       [campaign-167.conf:26]
                    3. Set(KEYPRESS=9)                            [campaign-167.conf:27]
                    4. Playback(custom/dnc-confirmation)          [campaign-167.conf:28]
                    5. Hangup()                                   [campaign-167.conf:29]
  'h' =>            1. NoOp(Hangup handler)                       [campaign-167.conf:39]
                    2. System(curl -X POST http://localhost:5000/api/callback/call-end -d "callId=167-${UNIQUEID}&duration=${ANSWEREDTIME}&disposition=${DIALSTATUS}&keypress=${KEYPRESS}") [campaign-167.conf:40]
  'i' =>            1. NoOp(Invalid input)                        [campaign-167.conf:35]
                    2. Playback(custom/invalid-option)            [campaign-167.conf:36]
                    3. Goto(s,4)                                  [campaign-167.conf:37]
  's' =>            1. Answer()                                   [campaign-167.conf:4]
                    2. Wait(1)                                    [campaign-167.conf:5]
                    3. Playback(45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302) [campaign-167.conf:6]
                    4. Playback(custom/default-menu)              [campaign-167.conf:7]
                    5. WaitExten(10)                              [campaign-167.conf:8]
  't' =>            1. NoOp(Timeout occurred)                     [campaign-167.conf:31]
                    2. Playback(custom/default-goodbye)           [campaign-167.conf:32]
                    3. Hangup()                                   [campaign-167.conf:33]

-= 8 extensions (30 priorities) in 1 context. =-
 {"level":"WARN"}
[2025-06-28T03:42:00.560Z] WARN  [PID:1109499] ⚠️ コンテキスト検証失敗 - 手動確認が必要です {"level":"WARN"}
[2025-06-28T03:42:00.561Z] INFO  [PID:1109499] 🚀 手動キャンペーン開始: 167 {"level":"INFO"}
[2025-06-28T03:42:00.569Z] INFO  [PID:1109499] 🎉 イベント: キャンペーン追加 - AN (ID: 167) {"level":"INFO"}
[2025-06-28T03:42:00.569Z] INFO  [PID:1109499] ✅ キャンペーン自動追加: "AN" (未処理: 1件) {"level":"INFO"}
[2025-06-28T03:42:00.569Z] INFO  [PID:1109499] ✅ 手動キャンペーン開始完了: "AN" {"level":"INFO"}
[2025-06-28T03:42:00.608Z] INFO  [PID:1109499] キャンペーン詳細取得: ID=167 {"level":"INFO"}
[2025-06-28T03:42:00.611Z] INFO  [PID:1109499] キャンペーン詳細取得完了: ID=167 {"level":"INFO"}
[2025-06-28T03:42:00.645Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:42:00.648Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:42:00.693Z] INFO  [PID:1109499] 音声ファイル一覧を取得します {"level":"INFO"}
[2025-06-28T03:42:00.696Z] INFO  [PID:1109499] 2件の音声ファイルを取得しました {"level":"INFO"}
[2025-06-28T03:42:00.697Z] INFO  [PID:1109499] キャンペーン音声取得開始: Campaign=167 {"level":"INFO"}
[2025-06-28T03:42:00.698Z] INFO  [PID:1109499] キャンペーン音声取得結果: Campaign=167, 件数=1 {"level":"INFO"}
[2025-06-28T03:42:00.698Z] INFO  [PID:1109499] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:42:00.700Z] INFO  [PID:1109499] キャンペーン音声取得開始: Campaign=167 {"level":"INFO"}
[2025-06-28T03:42:00.702Z] INFO  [PID:1109499] キャンペーン音声取得結果: Campaign=167, 件数=1 {"level":"INFO"}
[2025-06-28T03:42:00.702Z] INFO  [PID:1109499] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:42:00.702Z] INFO  [PID:1109499] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-167.conf {"level":"INFO"}
[2025-06-28T03:42:04.064Z] INFO  [PID:1109499] 📞 発信準備: 05018086649 (Campaign: AN, 試行回数: 0) {"level":"INFO"}
[2025-06-28T03:42:04.064Z] INFO  [PID:1109499] 🔧 発信診断開始: 05018086649 {"level":"INFO"}
[2025-06-28T03:42:04.074Z] INFO  [PID:1109499] キャンペーン音声取得開始: Campaign=167 {"level":"INFO"}
[2025-06-28T03:42:04.076Z] INFO  [PID:1109499] キャンペーン音声取得結果: Campaign=167, 件数=1 {"level":"INFO"}
[2025-06-28T03:42:04.076Z] INFO  [PID:1109499] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:42:04.076Z] INFO  [PID:1109499] 🎵 自動発信で音声ファイル取得成功: 1件 (Campaign: 167) {"level":"INFO"}
[2025-06-28T03:42:04.076Z] INFO  [PID:1109499] 🎵 音声1: welcome - 549444996463302 (45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav) {"level":"INFO"}
[2025-06-28T03:42:04.077Z] INFO  [PID:1109499] 🚀 音声付き自動発信実行: 05018086649 {"campaignId":167,"contactId":10162,"callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":1,"hasAudio":true,"level":"INFO"}
[2025-06-28T03:42:04.077Z] INFO  [PID:1109499] SIPプロバイダで発信: 05018086649 {"level":"INFO"}
[2025-06-28T03:42:04.077Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] ===== sipService.originate 開始 (AMI版) ===== {"level":"INFO"}
[2025-06-28T03:42:04.077Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] - phoneNumber: 05018086649 {"level":"INFO"}
[2025-06-28T03:42:04.077Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] - mockMode: false {"level":"INFO"}
[2025-06-28T03:42:04.077Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] - connected: true {"level":"INFO"}
[2025-06-28T03:42:04.078Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] 実発信モードで AMI発信を開始: 発信先=05018086649 {"level":"INFO"}
[2025-06-28T03:42:04.078Z] INFO  [PID:1109499] 🔍 SIPアカウント選択開始 {"level":"INFO"}
[2025-06-28T03:42:04.079Z] INFO  [PID:1109499] 🔍 キャンペーン167 → 発信者番号ID: 8 {"level":"INFO"}
[2025-06-28T03:42:04.079Z] INFO  [PID:1109499] 🔍 選択されたSIPアカウント: 03500007 {"level":"INFO"}
[2025-06-28T03:42:04.079Z] INFO  [PID:1109499] 🔍 - username: "03500007" (type: string) {"level":"INFO"}
[2025-06-28T03:42:04.079Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] AMI発信準備完了: {"level":"INFO"}
[2025-06-28T03:42:04.080Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] - formattedNumber: 05018086649 {"level":"INFO"}
[2025-06-28T03:42:04.080Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] - callId: ami-1751082124079-4638 {"level":"INFO"}
[2025-06-28T03:42:04.080Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し開始 ===== {"level":"INFO"}
[2025-06-28T03:42:04.080Z] INFO  [PID:1109499] 🔍 ===== AMI発信データ追跡開始 ===== {"level":"INFO"}
[2025-06-28T03:42:04.080Z] INFO  [PID:1109499] 🔍 STEP1-引数確認: sipAccount.username="03500007" (type: string) {"level":"INFO"}
[2025-06-28T03:42:04.080Z] INFO  [PID:1109499] 🔍 STEP1-引数確認: formattedNumber="05018086649" {"level":"INFO"}
[2025-06-28T03:42:04.080Z] INFO  [PID:1109499] 🔍 STEP1-引数確認: callId="ami-1751082124079-4638" {"level":"INFO"}
[2025-06-28T03:42:04.080Z] INFO  [PID:1109499] 🔍 STEP1-引数確認: campaignId="167" {"level":"INFO"}
[2025-06-28T03:42:04.080Z] INFO  [PID:1109499] 🔍 STEP3-ディープコピー: safeSipAccount.username="03500007" {"level":"INFO"}
[2025-06-28T03:42:04.081Z] INFO  [PID:1109499] 🔍 STEP4-Channel構築: "SIP/03500007@pantex.online" {"level":"INFO"}
[2025-06-28T03:42:04.081Z] INFO  [PID:1109499] ✅ データ整合性確認完了 - AMI送信実行 {"level":"INFO"}
[2025-06-28T03:42:04.081Z] INFO  [PID:1109499] 📤 AMI送信内容: {"level":"INFO"}
[2025-06-28T03:42:04.081Z] INFO  [PID:1109499] Action: Originate
Channel: PJSIP/05018086649@03500007
Context: autodialer-campaign-167
Exten: s
Priority: 1
CallerID: "0369087851" <0369087851>
Variable: CALLERID(name)=0369087851
Variable: CALLERID(num)=0369087851
Variable: PJSIP_HEADER(update,From)=\"0369087851\" <sip:0369087851@pantex.online>
ActionID: ami-1751082124079-4638
Async: yes

 {"level":"INFO"}
[2025-06-28T03:42:04.081Z] INFO  [PID:1109499] 📤 AMI送信開始: {"0":"A","1":"c","2":"t","3":"i","4":"o","5":"n","6":":","7":" ","8":"O","9":"r","10":"i","11":"g","12":"i","13":"n","14":"a","15":"t","16":"e","17":"\r","18":"\n","19":"C","20":"h","21":"a","22":"n","23":"n","24":"e","25":"l","26":":","27":" ","28":"P","29":"J","30":"S","31":"I","32":"P","33":"/","34":"0","35":"5","36":"0","37":"1","38":"8","39":"0","40":"8","41":"6","42":"6","43":"4","44":"9","45":"@","46":"0","47":"3","48":"5","49":"0","50":"0","51":"0","52":"0","53":"7","54":"\r","55":"\n","56":"C","57":"o","58":"n","59":"t","60":"e","61":"x","62":"t","63":":","64":" ","65":"a","66":"u","67":"t","68":"o","69":"d","70":"i","71":"a","72":"l","73":"e","74":"r","75":"-","76":"c","77":"a","78":"m","79":"p","80":"a","81":"i","82":"g","83":"n","84":"-","85":"1","86":"6","87":"7","88":"\r","89":"\n","90":"E","91":"x","92":"t","93":"e","94":"n","95":":","96":" ","97":"s","98":"\r","99":"\n","level":"INFO"}
[2025-06-28T03:42:04.082Z] INFO  [PID:1109499] AMI応答: Response: Success
ActionID: ami-1751082124079-4638
Message: Originate successfully queued

 {"level":"INFO"}
[2025-06-28T03:42:04.082Z] INFO  [PID:1109499] 📥 AMI応答受信: Response: Success
ActionID: ami-1751082124079-4638
Message: Originate successfully queued

 {"level":"INFO"}
[2025-06-28T03:42:04.082Z] INFO  [PID:1109499] ✅ AMI送信成功 {"level":"INFO"}
[2025-06-28T03:42:04.082Z] INFO  [PID:1109499] ✅ AMI送信成功 {"level":"INFO"}
[2025-06-28T03:42:04.082Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し完了: true ===== {"level":"INFO"}
[2025-06-28T03:42:04.082Z] INFO  [PID:1109499] 🔥 [SIP-DEBUG] sipService.originate 正常完了 (AMI版) {"level":"INFO"}
[2025-06-28T03:42:04.083Z] INFO  [PID:1109499] ✅ 音声付き自動発信成功: 05018086649 → CallID: ami-1751082124079-4638, Provider: sip, Audio: 1件 {"level":"INFO"}
[2025-06-28T03:42:04.092Z] INFO  [PID:1109499] 🎯 音声付き発信診断完了: 05018086649 (処理時間: 28ms, 音声: 1件) {"level":"INFO"}
[2025-06-28T03:42:05.650Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:42:05.655Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:42:06.092Z] INFO  [PID:1109499] 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
[2025-06-28T03:42:10.648Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:42:10.650Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:42:15.717Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:42:15.721Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:42:20.654Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:42:20.657Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:42:25.648Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:42:25.652Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:42:28.532Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:42:30.664Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:42:30.669Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:42:35.648Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:42:35.651Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:42:40.650Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:42:40.653Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:42:45.649Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:42:45.653Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:42:50.648Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:42:50.668Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:42:55.651Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:42:55.655Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:43:00.648Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:43:00.651Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:43:05.655Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:43:05.659Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:43:10.648Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:43:10.652Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:43:15.650Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:43:15.654Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:43:20.654Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:43:20.658Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:43:25.806Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:43:25.810Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:43:28.533Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:43:30.648Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:43:30.651Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:43:35.650Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:43:35.654Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:43:40.652Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:43:40.656Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:43:45.649Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:43:45.653Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:43:50.649Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:43:50.653Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:43:55.667Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:43:55.671Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:44:00.650Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:44:00.654Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:44:05.650Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:44:05.654Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:44:10.655Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:44:10.658Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:44:15.657Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:44:15.661Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:44:20.650Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:44:20.653Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:44:25.652Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:44:25.655Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:44:28.533Z] INFO  [PID:1109499] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:44:30.649Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:44:30.653Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:44:35.653Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:44:35.657Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:44:40.650Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:44:40.653Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:44:45.649Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:44:45.653Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:44:50.648Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:44:50.651Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:44:55.652Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:44:55.656Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:45:00.068Z] INFO  [PID:1109499] SIGINT受信 - DialerService安全停止 {"level":"INFO"}
[2025-06-28T03:45:00.069Z] INFO  [PID:1109499] 🚨 DialerService停止処理開始... {"level":"INFO"}
[2025-06-28T03:45:00.069Z] INFO  [PID:1109499] 🛑 自動発信システム停止 {"level":"INFO"}
[2025-06-28T03:45:00.069Z] INFO  [PID:1109499] ✅ DialerService停止完了 {"level":"INFO"}
[2025-06-28T03:45:00.070Z] INFO  [PID:1109499] SIGINT受信 - SIPサービス安全切断 {"level":"INFO"}
[2025-06-28T03:45:00.070Z] INFO  [PID:1109499] SIPサービスを切断しています... {"level":"INFO"}
[2025-06-28T03:45:00.072Z] INFO  [PID:1109499] ✅ SIPサービス切断完了 {"level":"INFO"}
[2025-06-28T03:45:00.648Z] INFO  [PID:1109499] キャンペーン統計取得: ID=167 {"level":"INFO"}
[2025-06-28T03:45:00.675Z] INFO  [PID:1109499] データベース接続プールを作成しました {"level":"INFO"}
[2025-06-28T03:45:00.681Z] INFO  [PID:1109499] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.046Z] INFO  [PID:1111244][0m Logger初期化完了 {"logLevel":"info","enableConsole":true,"enableFile":true,"logDir":"/var/www/autodialer/backend/logs","level":"INFO"}
[2025-06-28T03:45:03.046Z] INFO  [PID:1111244] Logger初期化完了 {"logLevel":"info","enableConsole":true,"enableFile":true,"logDir":"/var/www/autodialer/backend/logs","level":"INFO"}
2025-06-28T03:45:03: 🚀 ルーター登録開始...
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.296Z] INFO  [PID:1111244][0m 🚀 DialerService初期化: 自動連動システム=有効 {"level":"INFO"}
[2025-06-28T03:45:03.296Z] INFO  [PID:1111244] 🚀 DialerService初期化: 自動連動システム=有効 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.301Z] INFO  [PID:1111244][0m 🎯 自動システム開始試行 1/5 {"level":"INFO"}
[2025-06-28T03:45:03.301Z] INFO  [PID:1111244] 🎯 自動システム開始試行 1/5 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.303Z] INFO  [PID:1111244][0m 🎯 完全自動連動システム開始... {"level":"INFO"}
[2025-06-28T03:45:03.303Z] INFO  [PID:1111244] 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-28T03:45:03: プールが存在しないため再初期化します
2025-06-28T03:45:03: データベース接続試行 1/5...
2025-06-28T03:45:03: データベース接続設定: {
2025-06-28T03:45:03:   host: '127.0.0.1',
2025-06-28T03:45:03:   user: 'autodialer',
2025-06-28T03:45:03:   database: 'autodialer',
2025-06-28T03:45:03:   password: '***'
2025-06-28T03:45:03: }
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.320Z] INFO  [PID:1111244][0m SipService初期化: mockMode=false, sipcmdPath=/usr/local/bin/sipcmd-working {"level":"INFO"}
[2025-06-28T03:45:03.320Z] INFO  [PID:1111244] SipService初期化: mockMode=false, sipcmdPath=/usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.335Z] INFO  [PID:1111244][0m 💗 SIPヘルスチェック開始: 60000ms間隔 {"level":"INFO"}
[2025-06-28T03:45:03.335Z] INFO  [PID:1111244] 💗 SIPヘルスチェック開始: 60000ms間隔 {"level":"INFO"}
[2025-06-28T03:45:03.338Z] INFO  [PID:1111244] 🔧 コールサービス初期化完了: プロバイダ=SIP専用, モックモード=無効 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.338Z] INFO  [PID:1111244][0m 🔧 コールサービス初期化完了: プロバイダ=SIP専用, モックモード=無効 {"level":"INFO"}
2025-06-28T03:45:03: ✅ system router 登録成功
2025-06-28T03:45:03: ✅ contacts router 登録成功
2025-06-28T03:45:03: ✅ campaigns router 登録成功
2025-06-28T03:45:03: ✅ caller-ids router 登録成功
2025-06-28T03:45:03: ✅ calls router 登録成功
2025-06-28T03:45:03: ✅ transfer router 登録成功
2025-06-28T03:45:03: ✅ audio router 登録成功
2025-06-28T03:45:03: ✅ ivr router 登録成功
2025-06-28T03:45:03: 📊 ルーター登録状況: {
2025-06-28T03:45:03:   system: true,
2025-06-28T03:45:03:   contacts: true,
2025-06-28T03:45:03:   campaigns: true,
2025-06-28T03:45:03:   callerIds: true,
2025-06-28T03:45:03:   calls: true,
2025-06-28T03:45:03:   audio: true,
2025-06-28T03:45:03:   ivr: true,
2025-06-28T03:45:03:   transfer: true
2025-06-28T03:45:03: }
2025-06-28T03:45:03: 🚀 サーバー初期化開始...
2025-06-28T03:45:03: SQL実行: SELECT 1... 
[2025-06-28T03:45:03.510Z] INFO  [PID:1111244] 音声ファイルディレクトリを初期化しました: /var/www/autodialer/backend/audio-files {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.510Z] INFO  [PID:1111244][0m 音声ファイルディレクトリを初期化しました: /var/www/autodialer/backend/audio-files {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.520Z] INFO  [PID:1111244][0m IVRスクリプトディレクトリを初期化しました: /var/www/autodialer/backend/ivr-scripts {"level":"INFO"}
[2025-06-28T03:45:03.520Z] INFO  [PID:1111244] IVRスクリプトディレクトリを初期化しました: /var/www/autodialer/backend/ivr-scripts {"level":"INFO"}
2025-06-28T03:45:03: SQL実行成功: 結果行数=1
2025-06-28T03:45:03: ✅ データベース接続成功
2025-06-28T03:45:03: 🔧 SIPサービス初期化中...
[2025-06-28T03:45:03.611Z] INFO  [PID:1111244] 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.611Z] INFO  [PID:1111244][0m 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-28T03:45:03: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T03:45:03.616Z] INFO  [PID:1111244] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:45:03: SQL実行成功: 結果行数=1
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.616Z] INFO  [PID:1111244][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:45:03.616Z] INFO  [PID:1111244] 🔧 AMI接続初期化開始... {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.616Z] INFO  [PID:1111244][0m 🔧 AMI接続初期化開始... {"level":"INFO"}
[2025-06-28T03:45:03.626Z] INFO  [PID:1111244] ✅ AMI TCP接続成功 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.626Z] INFO  [PID:1111244][0m ✅ AMI TCP接続成功 {"level":"INFO"}
[2025-06-28T03:45:03.630Z] INFO  [PID:1111244] AMI応答: Asterisk Call Manager/10.0.0
Response: Success
Message: Authentication accepted

 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.630Z] INFO  [PID:1111244][0m AMI応答: Asterisk Call Manager/10.0.0
2025-06-28T03:45:03: Response: Success
2025-06-28T03:45:03: Message: Authentication accepted
2025-06-28T03:45:03: 
2025-06-28T03:45:03:  {"level":"INFO"}
[2025-06-28T03:45:03.631Z] INFO  [PID:1111244] ✅ AMI認証成功 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.631Z] INFO  [PID:1111244][0m ✅ AMI認証成功 {"level":"INFO"}
[2025-06-28T03:45:03.635Z] INFO  [PID:1111244] 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.635Z] INFO  [PID:1111244][0m 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
[2025-06-28T03:45:03.637Z] INFO  [PID:1111244] 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.637Z] INFO  [PID:1111244][0m 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-28T03:45:03: SQL実行: 
2025-06-28T03:45:03:         SELECT 
2025-06-28T03:45:03:           cc.id,
2025-06-28T03:45:03:           cc.caller_id_id,
2025-06-28T03:45:03:           cc.username,
2025-06-28T03:45:03:           cc.pas... 
[2025-06-28T03:45:03.642Z] INFO  [PID:1111244] データベース接続プールを作成しました {"level":"INFO"}
2025-06-28T03:45:03: データベース接続テスト成功: {
2025-06-28T03:45:03:   test: '1',
2025-06-28T03:45:03:   current_user_name: 'autodialer@localhost',
2025-06-28T03:45:03:   current_db: 'autodialer'
2025-06-28T03:45:03: }
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.642Z] INFO  [PID:1111244][0m データベース接続プールを作成しました {"level":"INFO"}
2025-06-28T03:45:03: SQL実行: SELECT 1 as test... 
2025-06-28T03:45:03: SQL実行成功: 結果行数=25
[2025-06-28T03:45:03.648Z] INFO  [PID:1111244] 📊 データベースクエリ結果: 25件のチャンネル {"level":"INFO"}
[2025-06-28T03:45:03.650Z] INFO  [PID:1111244] ✅ 合計25個のSIPチャンネルを読み込み {"level":"INFO"}
[2025-06-28T03:45:03.651Z] INFO  [PID:1111244] ✅ SIPアカウント読み込み成功: 25個 {"level":"INFO"}
[2025-06-28T03:45:03.651Z] INFO  [PID:1111244] 📞 発信者番号ID 8: 25チャンネル (0369087851) {"level":"INFO"}
[2025-06-28T03:45:03.651Z] INFO  [PID:1111244] ✅ SIPサービス接続完了: 25個のアカウント {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.648Z] INFO  [PID:1111244][0m 📊 データベースクエリ結果: 25件のチャンネル {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.650Z] INFO  [PID:1111244][0m ✅ 合計25個のSIPチャンネルを読み込み {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.651Z] INFO  [PID:1111244][0m ✅ SIPアカウント読み込み成功: 25個 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.651Z] INFO  [PID:1111244][0m 📞 発信者番号ID 8: 25チャンネル (0369087851) {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.651Z] INFO  [PID:1111244][0m ✅ SIPサービス接続完了: 25個のアカウント {"level":"INFO"}
[2025-06-28T03:45:03.651Z] INFO  [PID:1111244] 📊 SIPアカウント概要: {"level":"INFO"}
[2025-06-28T03:45:03.653Z] INFO  [PID:1111244]   - 総アカウント数: 25 {"level":"INFO"}
[2025-06-28T03:45:03.653Z] INFO  [PID:1111244]   - 利用可能: 25 {"level":"INFO"}
[2025-06-28T03:45:03.653Z] INFO  [PID:1111244]   - 使用中: 0 {"level":"INFO"}
[2025-06-28T03:45:03.653Z] INFO  [PID:1111244]   - エラー: 0 {"level":"INFO"}
[2025-06-28T03:45:03.654Z] INFO  [PID:1111244] 🔧 コールサービス初期化開始（SIP専用） {"level":"INFO"}
[2025-06-28T03:45:03.654Z] INFO  [PID:1111244] 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
[2025-06-28T03:45:03.656Z] INFO  [PID:1111244] ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.651Z] INFO  [PID:1111244][0m 📊 SIPアカウント概要: {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.653Z] INFO  [PID:1111244][0m   - 総アカウント数: 25 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.653Z] INFO  [PID:1111244][0m   - 利用可能: 25 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.653Z] INFO  [PID:1111244][0m   - 使用中: 0 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.653Z] INFO  [PID:1111244][0m   - エラー: 0 {"level":"INFO"}
2025-06-28T03:45:03: 📞 SIP初期化結果: true
2025-06-28T03:45:03: 📞 SIPアカウント数: 25
2025-06-28T03:45:03: 🔧 CallService初期化中...
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.654Z] INFO  [PID:1111244][0m 🔧 コールサービス初期化開始（SIP専用） {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.654Z] INFO  [PID:1111244][0m 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-28T03:45:03: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
2025-06-28T03:45:03: SQL実行成功: 結果行数=1
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.656Z] INFO  [PID:1111244][0m ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-28T03:45:03: SQL実行: 
2025-06-28T03:45:03:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:45:03:                ci.number as ca... 
[2025-06-28T03:45:03.662Z] INFO  [PID:1111244] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:45:03.662Z] INFO  [PID:1111244] 🔧 AMI接続初期化開始... {"level":"INFO"}
[2025-06-28T03:45:03.663Z] INFO  [PID:1111244] ✅ AMI TCP接続成功 {"level":"INFO"}
2025-06-28T03:45:03: SQL実行成功: 結果行数=1
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.662Z] INFO  [PID:1111244][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.662Z] INFO  [PID:1111244][0m 🔧 AMI接続初期化開始... {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.663Z] INFO  [PID:1111244][0m ✅ AMI TCP接続成功 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.671Z] INFO  [PID:1111244][0m AMI応答: Asterisk Call Manager/10.0.0
2025-06-28T03:45:03: Response: Success
2025-06-28T03:45:03: Message: Authentication accepted
2025-06-28T03:45:03: 
2025-06-28T03:45:03:  {"level":"INFO"}
[2025-06-28T03:45:03.671Z] INFO  [PID:1111244] AMI応答: Asterisk Call Manager/10.0.0
Response: Success
Message: Authentication accepted

 {"level":"INFO"}
[2025-06-28T03:45:03.672Z] INFO  [PID:1111244] ✅ AMI認証成功 {"level":"INFO"}
[2025-06-28T03:45:03.673Z] INFO  [PID:1111244] 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
[2025-06-28T03:45:03.673Z] INFO  [PID:1111244] 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.672Z] INFO  [PID:1111244][0m ✅ AMI認証成功 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.673Z] INFO  [PID:1111244][0m 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.673Z] INFO  [PID:1111244][0m 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-28T03:45:03: SQL実行: 
2025-06-28T03:45:03:         SELECT 
2025-06-28T03:45:03:           cc.id,
2025-06-28T03:45:03:           cc.caller_id_id,
2025-06-28T03:45:03:           cc.username,
2025-06-28T03:45:03:           cc.pas... 
2025-06-28T03:45:03: SQL実行成功: 結果行数=76
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.679Z] INFO  [PID:1111244][0m 📋 初期キャンペーンロード: 76件検出 {"level":"INFO"}
[2025-06-28T03:45:03.679Z] INFO  [PID:1111244] 📋 初期キャンペーンロード: 76件検出 {"level":"INFO"}
[2025-06-28T03:45:03.680Z] INFO  [PID:1111244] ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
[2025-06-28T03:45:03.681Z] INFO  [PID:1111244] 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.680Z] INFO  [PID:1111244][0m ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.681Z] INFO  [PID:1111244][0m 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
[2025-06-28T03:45:03.682Z] INFO  [PID:1111244] 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
[2025-06-28T03:45:03.684Z] INFO  [PID:1111244] 🚀 自動発信システム開始: 8000ms間隔 {"level":"INFO"}
[2025-06-28T03:45:03.684Z] INFO  [PID:1111244] ✅ 完全自動連動システム起動完了 {"level":"INFO"}
[2025-06-28T03:45:03.684Z] INFO  [PID:1111244] ✅ DialerService自動システム起動完了 - 安定版 {"level":"INFO"}
[2025-06-28T03:45:03.685Z] INFO  [PID:1111244] 📊 データベースクエリ結果: 25件のチャンネル {"level":"INFO"}
[2025-06-28T03:45:03.686Z] INFO  [PID:1111244] ✅ 合計25個のSIPチャンネルを読み込み {"level":"INFO"}
[2025-06-28T03:45:03.686Z] INFO  [PID:1111244] ✅ SIPアカウント読み込み成功: 25個 {"level":"INFO"}
[2025-06-28T03:45:03.686Z] INFO  [PID:1111244] 📞 発信者番号ID 8: 25チャンネル (0369087851) {"level":"INFO"}
[2025-06-28T03:45:03.686Z] INFO  [PID:1111244] ✅ SIPサービス接続完了: 25個のアカウント {"level":"INFO"}
[2025-06-28T03:45:03.686Z] INFO  [PID:1111244] 📊 SIPアカウント概要: {"level":"INFO"}
[2025-06-28T03:45:03.686Z] INFO  [PID:1111244]   - 総アカウント数: 25 {"level":"INFO"}
[2025-06-28T03:45:03.686Z] INFO  [PID:1111244]   - 利用可能: 25 {"level":"INFO"}
[2025-06-28T03:45:03.686Z] INFO  [PID:1111244]   - 使用中: 0 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.682Z] INFO  [PID:1111244][0m 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.684Z] INFO  [PID:1111244][0m 🚀 自動発信システム開始: 8000ms間隔 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.684Z] INFO  [PID:1111244][0m ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.684Z] INFO  [PID:1111244][0m ✅ DialerService自動システム起動完了 - 安定版 {"level":"INFO"}
2025-06-28T03:45:03: SQL実行成功: 結果行数=25
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.685Z] INFO  [PID:1111244][0m 📊 データベースクエリ結果: 25件のチャンネル {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.686Z] INFO  [PID:1111244][0m ✅ 合計25個のSIPチャンネルを読み込み {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.686Z] INFO  [PID:1111244][0m ✅ SIPアカウント読み込み成功: 25個 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.686Z] INFO  [PID:1111244][0m 📞 発信者番号ID 8: 25チャンネル (0369087851) {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.686Z] INFO  [PID:1111244][0m ✅ SIPサービス接続完了: 25個のアカウント {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.686Z] INFO  [PID:1111244][0m 📊 SIPアカウント概要: {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.686Z] INFO  [PID:1111244][0m   - 総アカウント数: 25 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.686Z] INFO  [PID:1111244][0m   - 利用可能: 25 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.686Z] INFO  [PID:1111244][0m   - 使用中: 0 {"level":"INFO"}
[2025-06-28T03:45:03.686Z] INFO  [PID:1111244]   - エラー: 0 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.686Z] INFO  [PID:1111244][0m   - エラー: 0 {"level":"INFO"}
2025-06-28T03:45:03: [36m[2025-06-28T03:45:03.690Z] INFO  [PID:1111244][0m ✅ コールサービス初期化完了（SIP） {"level":"INFO"}
[2025-06-28T03:45:03.690Z] INFO  [PID:1111244] ✅ コールサービス初期化完了（SIP） {"level":"INFO"}
2025-06-28T03:45:03: 📞 CallService初期化結果: true
2025-06-28T03:45:03: 🔧 DialerService手動初期化中...
2025-06-28T03:45:03: ✅ DialerService手動初期化完了
2025-06-28T03:45:03: 🔧 DialerService強制自動開始...
2025-06-28T03:45:03: ✅ サーバーが起動しました: http://0.0.0.0:5000
2025-06-28T03:45:03: 🎯 自動発信システム準備完了
2025-06-28T03:45:03: 🔗 利用可能なエンドポイント:
2025-06-28T03:45:03:   - GET  /health
2025-06-28T03:45:03:   - GET  /api/campaigns
2025-06-28T03:45:03:   - POST /api/campaigns/:id/start
2025-06-28T03:45:03:   - POST /api/calls/test
2025-06-28T03:45:03:   - GET  /api/campaigns/:id/transfer-settings
2025-06-28T03:45:03:   - POST /api/calls/transfer/dtmf
2025-06-28T03:45:05: GET /api/campaigns/167/stats - Origin: http://146.190.83.205:3003
[2025-06-28T03:45:05.696Z] INFO  [PID:1111244] キャンペーン統計取得: ID=167 {"level":"INFO"}
2025-06-28T03:45:05: [36m[2025-06-28T03:45:05.696Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=167 {"level":"INFO"}
2025-06-28T03:45:05: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:45:05: SQL実行成功: 結果行数=1
2025-06-28T03:45:05: SQL実行: 
2025-06-28T03:45:05:       SELECT 
2025-06-28T03:45:05:         COUNT(*) as total,
2025-06-28T03:45:05:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:45:05: SQL実行成功: 結果行数=1
2025-06-28T03:45:05: SQL実行: 
2025-06-28T03:45:05:       SELECT 
2025-06-28T03:45:05:         COUNT(*) as total_calls,
2025-06-28T03:45:05:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:45:05.712Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
2025-06-28T03:45:05: SQL実行成功: 結果行数=1
2025-06-28T03:45:05: [36m[2025-06-28T03:45:05.712Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
2025-06-28T03:45:08: SQL実行: 
2025-06-28T03:45:08:             SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:45:08:                    ci.numb... 
2025-06-28T03:45:08: SQL実行成功: 結果行数=76
2025-06-28T03:45:08: 📊 アクティブキャンペーン検出: 76件
2025-06-28T03:45:08: 🔄 アクティブキャンペーンを自動登録...
2025-06-28T03:45:10: GET /api/campaigns/167/stats - Origin: http://146.190.83.205:3003
[2025-06-28T03:45:10.650Z] INFO  [PID:1111244] キャンペーン統計取得: ID=167 {"level":"INFO"}
2025-06-28T03:45:10: [36m[2025-06-28T03:45:10.650Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=167 {"level":"INFO"}
2025-06-28T03:45:10: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:45:10: SQL実行成功: 結果行数=1
2025-06-28T03:45:10: SQL実行: 
2025-06-28T03:45:10:       SELECT 
2025-06-28T03:45:10:         COUNT(*) as total,
2025-06-28T03:45:10:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:45:10: SQL実行成功: 結果行数=1
2025-06-28T03:45:10: SQL実行: 
2025-06-28T03:45:10:       SELECT 
2025-06-28T03:45:10:         COUNT(*) as total_calls,
2025-06-28T03:45:10:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:45:10.657Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
2025-06-28T03:45:10: SQL実行成功: 結果行数=1
2025-06-28T03:45:10: [36m[2025-06-28T03:45:10.657Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:45:13.700Z] INFO  [PID:1111244] 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-28T03:45:13: [36m[2025-06-28T03:45:13.700Z] INFO  [PID:1111244][0m 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-28T03:45:13: SQL実行: SELECT 1 as test... 
[2025-06-28T03:45:13.702Z] INFO  [PID:1111244] ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-28T03:45:13: SQL実行成功: 結果行数=1
2025-06-28T03:45:13: [36m[2025-06-28T03:45:13.702Z] INFO  [PID:1111244][0m ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-28T03:45:13: SQL実行: 
2025-06-28T03:45:13:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:45:13:                ci.number as ca... 
[2025-06-28T03:45:13.707Z] INFO  [PID:1111244] 📋 初期キャンペーンロード: 76件検出 {"level":"INFO"}
[2025-06-28T03:45:13.708Z] INFO  [PID:1111244] ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
[2025-06-28T03:45:13.708Z] INFO  [PID:1111244] 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
[2025-06-28T03:45:13.708Z] INFO  [PID:1111244] 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
2025-06-28T03:45:13: SQL実行成功: 結果行数=76
2025-06-28T03:45:13: [36m[2025-06-28T03:45:13.707Z] INFO  [PID:1111244][0m 📋 初期キャンペーンロード: 76件検出 {"level":"INFO"}
2025-06-28T03:45:13: [36m[2025-06-28T03:45:13.708Z] INFO  [PID:1111244][0m ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
2025-06-28T03:45:13: [36m[2025-06-28T03:45:13.708Z] INFO  [PID:1111244][0m 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
2025-06-28T03:45:13: [36m[2025-06-28T03:45:13.708Z] INFO  [PID:1111244][0m 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
2025-06-28T03:45:13: [36m[2025-06-28T03:45:13.708Z] INFO  [PID:1111244][0m 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
[2025-06-28T03:45:13.708Z] INFO  [PID:1111244] 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
[2025-06-28T03:45:13.709Z] INFO  [PID:1111244] ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-28T03:45:13: [36m[2025-06-28T03:45:13.709Z] INFO  [PID:1111244][0m ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-28T03:45:13: ✅ DialerService自動システム開始完了
[2025-06-28T03:45:15.652Z] INFO  [PID:1111244] キャンペーン統計取得: ID=167 {"level":"INFO"}
2025-06-28T03:45:15: GET /api/campaigns/167/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:45:15: [36m[2025-06-28T03:45:15.652Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=167 {"level":"INFO"}
2025-06-28T03:45:15: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:45:15: SQL実行成功: 結果行数=1
2025-06-28T03:45:15: SQL実行: 
2025-06-28T03:45:15:       SELECT 
2025-06-28T03:45:15:         COUNT(*) as total,
2025-06-28T03:45:15:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:45:15: SQL実行成功: 結果行数=1
2025-06-28T03:45:15: SQL実行: 
2025-06-28T03:45:15:       SELECT 
2025-06-28T03:45:15:         COUNT(*) as total_calls,
2025-06-28T03:45:15:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:45:15.659Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
2025-06-28T03:45:15: SQL実行成功: 結果行数=1
2025-06-28T03:45:15: [36m[2025-06-28T03:45:15.659Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:45:20.650Z] INFO  [PID:1111244] キャンペーン統計取得: ID=167 {"level":"INFO"}
2025-06-28T03:45:20: GET /api/campaigns/167/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:45:20: [36m[2025-06-28T03:45:20.650Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=167 {"level":"INFO"}
2025-06-28T03:45:20: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:45:20: SQL実行成功: 結果行数=1
2025-06-28T03:45:20: SQL実行: 
2025-06-28T03:45:20:       SELECT 
2025-06-28T03:45:20:         COUNT(*) as total,
2025-06-28T03:45:20:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:45:20: SQL実行成功: 結果行数=1
2025-06-28T03:45:20: SQL実行: 
2025-06-28T03:45:20:       SELECT 
2025-06-28T03:45:20:         COUNT(*) as total_calls,
2025-06-28T03:45:20:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:45:20.656Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
2025-06-28T03:45:20: SQL実行成功: 結果行数=1
2025-06-28T03:45:20: [36m[2025-06-28T03:45:20.656Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:45:25.654Z] INFO  [PID:1111244] キャンペーン統計取得: ID=167 {"level":"INFO"}
2025-06-28T03:45:25: GET /api/campaigns/167/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:45:25: [36m[2025-06-28T03:45:25.654Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=167 {"level":"INFO"}
2025-06-28T03:45:25: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:45:25: SQL実行成功: 結果行数=1
2025-06-28T03:45:25: SQL実行: 
2025-06-28T03:45:25:       SELECT 
2025-06-28T03:45:25:         COUNT(*) as total,
2025-06-28T03:45:25:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:45:25: SQL実行成功: 結果行数=1
2025-06-28T03:45:25: SQL実行: 
2025-06-28T03:45:25:       SELECT 
2025-06-28T03:45:25:         COUNT(*) as total_calls,
2025-06-28T03:45:25:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:45:25.658Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
2025-06-28T03:45:25: SQL実行成功: 結果行数=1
2025-06-28T03:45:25: [36m[2025-06-28T03:45:25.658Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
2025-06-28T03:45:28: SQL実行: 
2025-06-28T03:45:28:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:45:28:                ci.number as ca... 
[2025-06-28T03:45:28.718Z] INFO  [PID:1111244] 🛑 自動発信システム停止 {"level":"INFO"}
[2025-06-28T03:45:28.718Z] INFO  [PID:1111244] 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-28T03:45:28: SQL実行成功: 結果行数=76
2025-06-28T03:45:28: [36m[2025-06-28T03:45:28.718Z] INFO  [PID:1111244][0m 🛑 自動発信システム停止 {"level":"INFO"}
2025-06-28T03:45:28: [36m[2025-06-28T03:45:28.718Z] INFO  [PID:1111244][0m 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
[2025-06-28T03:45:30.649Z] INFO  [PID:1111244] キャンペーン統計取得: ID=167 {"level":"INFO"}
2025-06-28T03:45:30: GET /api/campaigns/167/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:45:30: [36m[2025-06-28T03:45:30.649Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=167 {"level":"INFO"}
2025-06-28T03:45:30: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:45:30: SQL実行成功: 結果行数=1
2025-06-28T03:45:30: SQL実行: 
2025-06-28T03:45:30:       SELECT 
2025-06-28T03:45:30:         COUNT(*) as total,
2025-06-28T03:45:30:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:45:30: SQL実行成功: 結果行数=1
2025-06-28T03:45:30: SQL実行: 
2025-06-28T03:45:30:       SELECT 
2025-06-28T03:45:30:         COUNT(*) as total_calls,
2025-06-28T03:45:30:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:45:30: SQL実行成功: 結果行数=1
[2025-06-28T03:45:30.654Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
2025-06-28T03:45:30: [36m[2025-06-28T03:45:30.654Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:45:35.652Z] INFO  [PID:1111244] キャンペーン統計取得: ID=167 {"level":"INFO"}
2025-06-28T03:45:35: GET /api/campaigns/167/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:45:35: [36m[2025-06-28T03:45:35.652Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=167 {"level":"INFO"}
2025-06-28T03:45:35: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:45:35: SQL実行成功: 結果行数=1
2025-06-28T03:45:35: SQL実行: 
2025-06-28T03:45:35:       SELECT 
2025-06-28T03:45:35:         COUNT(*) as total,
2025-06-28T03:45:35:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:45:35: SQL実行成功: 結果行数=1
2025-06-28T03:45:35: SQL実行: 
2025-06-28T03:45:35:       SELECT 
2025-06-28T03:45:35:         COUNT(*) as total_calls,
2025-06-28T03:45:35:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:45:35.657Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
2025-06-28T03:45:35: SQL実行成功: 結果行数=1
2025-06-28T03:45:35: [36m[2025-06-28T03:45:35.657Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
[2025-06-28T03:45:40.651Z] INFO  [PID:1111244] キャンペーン統計取得: ID=167 {"level":"INFO"}
2025-06-28T03:45:40: GET /api/campaigns/167/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:45:40: [36m[2025-06-28T03:45:40.651Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=167 {"level":"INFO"}
2025-06-28T03:45:40: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:45:40: SQL実行成功: 結果行数=1
2025-06-28T03:45:40: SQL実行: 
2025-06-28T03:45:40:       SELECT 
2025-06-28T03:45:40:         COUNT(*) as total,
2025-06-28T03:45:40:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:45:40: SQL実行成功: 結果行数=1
2025-06-28T03:45:40: SQL実行: 
2025-06-28T03:45:40:       SELECT 
2025-06-28T03:45:40:         COUNT(*) as total_calls,
2025-06-28T03:45:40:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:45:40.656Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
2025-06-28T03:45:40: SQL実行成功: 結果行数=1
2025-06-28T03:45:40: [36m[2025-06-28T03:45:40.656Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
2025-06-28T03:45:43: SQL実行: SELECT 1... 
2025-06-28T03:45:43: SQL実行: 
2025-06-28T03:45:43:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:45:43:                ci.number as ca... 
2025-06-28T03:45:43: SQL実行成功: 結果行数=1
2025-06-28T03:45:43: SQL実行成功: 結果行数=76
[2025-06-28T03:45:45.649Z] INFO  [PID:1111244] キャンペーン統計取得: ID=167 {"level":"INFO"}
2025-06-28T03:45:45: GET /api/campaigns/167/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:45:45: [36m[2025-06-28T03:45:45.649Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=167 {"level":"INFO"}
2025-06-28T03:45:45: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:45:45: SQL実行成功: 結果行数=1
2025-06-28T03:45:45: SQL実行: 
2025-06-28T03:45:45:       SELECT 
2025-06-28T03:45:45:         COUNT(*) as total,
2025-06-28T03:45:45:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:45:45: SQL実行成功: 結果行数=1
2025-06-28T03:45:45: SQL実行: 
2025-06-28T03:45:45:       SELECT 
2025-06-28T03:45:45:         COUNT(*) as total_calls,
2025-06-28T03:45:45:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:45:45.659Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
2025-06-28T03:45:45: SQL実行成功: 結果行数=1
2025-06-28T03:45:45: [36m[2025-06-28T03:45:45.659Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=167, Progress=0% {"level":"INFO"}
2025-06-28T03:45:47: GET /api/campaigns - Origin: http://146.190.83.205:3003
[2025-06-28T03:45:47.182Z] INFO  [PID:1111244] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T03:45:47: [36m[2025-06-28T03:45:47.182Z] INFO  [PID:1111244][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T03:45:47: SQL実行: 
2025-06-28T03:45:47:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-28T03:45:47:        ... 
2025-06-28T03:45:47: SQL実行成功: 結果行数=50
2025-06-28T03:45:47: SQL実行: 
2025-06-28T03:45:47:       SELECT COUNT(*) as total
2025-06-28T03:45:47:       FROM campaigns c
2025-06-28T03:45:47:       WHERE 1=1
2025-06-28T03:45:47:     ... 
[2025-06-28T03:45:47.189Z] INFO  [PID:1111244] キャンペーン取得結果: 50/78件 {"level":"INFO"}
2025-06-28T03:45:47: SQL実行成功: 結果行数=1
2025-06-28T03:45:47: [36m[2025-06-28T03:45:47.189Z] INFO  [PID:1111244][0m キャンペーン取得結果: 50/78件 {"level":"INFO"}
2025-06-28T03:45:48: GET /api/caller-ids - Origin: http://146.190.83.205:3003
2025-06-28T03:45:48: 発信者番号一覧取得開始
2025-06-28T03:45:48: SQL実行: SELECT 1 as healthy, NOW() as timestamp, USER() as user, DATABASE() as db... 
2025-06-28T03:45:48: SQL実行成功: 結果行数=1
2025-06-28T03:45:48: データベース接続確認完了
2025-06-28T03:45:48: クエリ実行開始
2025-06-28T03:45:48: SQL実行: 
2025-06-28T03:45:48:       SELECT 
2025-06-28T03:45:48:         ci.id,
2025-06-28T03:45:48:         ci.number,
2025-06-28T03:45:48:         ci.description,
2025-06-28T03:45:48:         ci.provider,
2025-06-28T03:45:48:       ... 
2025-06-28T03:45:48: SQL実行成功: 結果行数=4
2025-06-28T03:45:48: クエリ実行完了: 4件取得
2025-06-28T03:45:48: 発信者番号一覧取得成功: 4
2025-06-28T03:45:58: SQL実行: 
2025-06-28T03:45:58:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:45:58:                ci.number as ca... 
2025-06-28T03:45:58: SQL実行成功: 結果行数=76
[2025-06-28T03:45:58.982Z] INFO  [PID:1111244] キャンペーン作成: Name=テスト {"level":"INFO"}
2025-06-28T03:45:58: POST /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-28T03:45:58: [36m[2025-06-28T03:45:58.982Z] INFO  [PID:1111244][0m キャンペーン作成: Name=テスト {"level":"INFO"}
2025-06-28T03:45:58: SQL実行: INSERT INTO campaigns (name, description, caller_id_id, script, status, created_at) VALUES (?, ?, ?,... パラメータ数: 5
[2025-06-28T03:45:58.996Z] INFO  [PID:1111244] キャンペーン作成完了: ID=168, Name=テスト {"level":"INFO"}
2025-06-28T03:45:58: SQL実行成功: 結果行数=不明
2025-06-28T03:45:58: [36m[2025-06-28T03:45:58.996Z] INFO  [PID:1111244][0m キャンペーン作成完了: ID=168, Name=テスト {"level":"INFO"}
[2025-06-28T03:46:00.046Z] INFO  [PID:1111244] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T03:46:00: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-28T03:46:00: [36m[2025-06-28T03:46:00.046Z] INFO  [PID:1111244][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T03:46:00: SQL実行: 
2025-06-28T03:46:00:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-28T03:46:00:        ... 
2025-06-28T03:46:00: SQL実行成功: 結果行数=50
2025-06-28T03:46:00: SQL実行: 
2025-06-28T03:46:00:       SELECT COUNT(*) as total
2025-06-28T03:46:00:       FROM campaigns c
2025-06-28T03:46:00:       WHERE 1=1
2025-06-28T03:46:00:     ... 
[2025-06-28T03:46:00.052Z] INFO  [PID:1111244] キャンペーン取得結果: 50/79件 {"level":"INFO"}
2025-06-28T03:46:00: SQL実行成功: 結果行数=1
2025-06-28T03:46:00: [36m[2025-06-28T03:46:00.052Z] INFO  [PID:1111244][0m キャンペーン取得結果: 50/79件 {"level":"INFO"}
[2025-06-28T03:46:01.716Z] INFO  [PID:1111244] キャンペーン詳細取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:01: GET /api/campaigns/168 - Origin: http://146.190.83.205:3003
2025-06-28T03:46:01: [36m[2025-06-28T03:46:01.716Z] INFO  [PID:1111244][0m キャンペーン詳細取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:01: SQL実行: 
2025-06-28T03:46:01:       SELECT c.*, 
2025-06-28T03:46:01:              ci.number as caller_id_number,
2025-06-28T03:46:01:              ci.description as calle... パラメータ数: 1
2025-06-28T03:46:01: SQL実行成功: 結果行数=1
2025-06-28T03:46:01: [36m[2025-06-28T03:46:01.726Z] INFO  [PID:1111244][0m キャンペーン詳細取得完了: ID=168 {"level":"INFO"}
[2025-06-28T03:46:01.726Z] INFO  [PID:1111244] キャンペーン詳細取得完了: ID=168 {"level":"INFO"}
[2025-06-28T03:46:01.765Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:01: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:46:01: [36m[2025-06-28T03:46:01.765Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:01: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:01: SQL実行成功: 結果行数=1
2025-06-28T03:46:01: SQL実行: 
2025-06-28T03:46:01:       SELECT 
2025-06-28T03:46:01:         COUNT(*) as total,
2025-06-28T03:46:01:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-28T03:46:01.778Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:01: SQL実行成功: 結果行数=1
2025-06-28T03:46:01: SQL実行: 
2025-06-28T03:46:01:       SELECT 
2025-06-28T03:46:01:         COUNT(*) as total_calls,
2025-06-28T03:46:01:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:46:01: SQL実行成功: 結果行数=1
2025-06-28T03:46:01: [36m[2025-06-28T03:46:01.778Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
[2025-06-28T03:46:03.013Z] INFO  [PID:1111244] 連絡先一覧取得: Campaign=168, Page=1, Limit=20 {"level":"INFO"}
[2025-06-28T03:46:03.021Z] INFO  [PID:1111244] 連絡先取得結果: Campaign=168, 件数=0, 全体=0 {"level":"INFO"}
2025-06-28T03:46:03: GET /api/campaigns/168/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
2025-06-28T03:46:03: [36m[2025-06-28T03:46:03.013Z] INFO  [PID:1111244][0m 連絡先一覧取得: Campaign=168, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T03:46:03: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:03: SQL実行成功: 結果行数=1
2025-06-28T03:46:03: SQL実行: 
2025-06-28T03:46:03:       SELECT c.*
2025-06-28T03:46:03:       FROM contacts c
2025-06-28T03:46:03:       WHERE c.campaign_id = ?
2025-06-28T03:46:03:      ORDER BY c.created_at DES... パラメータ数: 1
2025-06-28T03:46:03: SQL実行成功: 結果行数=0
2025-06-28T03:46:03: SQL実行: 
2025-06-28T03:46:03:       SELECT COUNT(*) as total
2025-06-28T03:46:03:       FROM contacts c
2025-06-28T03:46:03:       WHERE c.campaign_id = ?
2025-06-28T03:46:03:     ... パラメータ数: 1
2025-06-28T03:46:03: SQL実行成功: 結果行数=1
2025-06-28T03:46:03: [36m[2025-06-28T03:46:03.021Z] INFO  [PID:1111244][0m 連絡先取得結果: Campaign=168, 件数=0, 全体=0 {"level":"INFO"}
2025-06-28T03:46:03: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T03:46:03.338Z] INFO  [PID:1111244] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:46:03: SQL実行成功: 結果行数=1
2025-06-28T03:46:03: [36m[2025-06-28T03:46:03.338Z] INFO  [PID:1111244][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:46:09: POST /api/campaigns/168/contacts/upload - Origin: http://146.190.83.205:3003
[2025-06-28T03:46:09.482Z] INFO  [PID:1111244] 🚀 CSVアップロード開始 {"campaignId":"168","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-28T03:46:09.482Z","level":"INFO"}
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.482Z] INFO  [PID:1111244][0m 🚀 CSVアップロード開始 {"campaignId":"168","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-28T03:46:09.482Z","level":"INFO"}
2025-06-28T03:46:09: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T03:46:09.484Z] INFO  [PID:1111244] 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
2025-06-28T03:46:09: SQL実行成功: 結果行数=1
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.484Z] INFO  [PID:1111244][0m 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
[2025-06-28T03:46:09.487Z] WARN  [PID:1111244] CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
[2025-06-28T03:46:09.488Z] INFO  [PID:1111244] CSV解析完了: 1行のデータ {"level":"INFO"}
2025-06-28T03:46:09: [33m[2025-06-28T03:46:09.487Z] WARN  [PID:1111244][0m CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
[2025-06-28T03:46:09.488Z] INFO  [PID:1111244] 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.488Z] INFO  [PID:1111244][0m CSV解析完了: 1行のデータ {"level":"INFO"}
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.488Z] INFO  [PID:1111244][0m 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
[2025-06-28T03:46:09.488Z] INFO  [PID:1111244] 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.488Z] INFO  [PID:1111244][0m 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
[2025-06-28T03:46:09.489Z] INFO  [PID:1111244] 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.489Z] INFO  [PID:1111244][0m 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
[2025-06-28T03:46:09.489Z] INFO  [PID:1111244] 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.489Z] INFO  [PID:1111244][0m 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
[2025-06-28T03:46:09.489Z] INFO  [PID:1111244] バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
[2025-06-28T03:46:09.489Z] INFO  [PID:1111244] 🔍 重複チェック開始... {"level":"INFO"}
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.489Z] INFO  [PID:1111244][0m バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.489Z] INFO  [PID:1111244][0m 🔍 重複チェック開始... {"level":"INFO"}
2025-06-28T03:46:09: SQL実行: SELECT phone FROM contacts WHERE campaign_id = ?... パラメータ数: 1
[2025-06-28T03:46:09.491Z] INFO  [PID:1111244] 既存電話番号数: 0 {"level":"INFO"}
2025-06-28T03:46:09: SQL実行成功: 結果行数=0
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.491Z] INFO  [PID:1111244][0m 既存電話番号数: 0 {"level":"INFO"}
[2025-06-28T03:46:09.491Z] INFO  [PID:1111244] 新規データ追加: 05018086649 {"level":"INFO"}
[2025-06-28T03:46:09.491Z] INFO  [PID:1111244] 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
[2025-06-28T03:46:09.491Z] INFO  [PID:1111244] 💾 データベース挿入開始: 1件 {"level":"INFO"}
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.491Z] INFO  [PID:1111244][0m 新規データ追加: 05018086649 {"level":"INFO"}
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.491Z] INFO  [PID:1111244][0m 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.491Z] INFO  [PID:1111244][0m 💾 データベース挿入開始: 1件 {"level":"INFO"}
2025-06-28T03:46:09: SQL実行: START TRANSACTION... 
2025-06-28T03:46:09: SQL実行成功: 結果行数=不明
2025-06-28T03:46:09: SQL実行: INSERT INTO contacts (campaign_id, phone, name, company, status, created_at) VALUES (?, ?, ?, ?, ?, ... パラメータ数: 5
[2025-06-28T03:46:09.494Z] INFO  [PID:1111244] 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
2025-06-28T03:46:09: SQL実行成功: 結果行数=不明
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.494Z] INFO  [PID:1111244][0m 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
2025-06-28T03:46:09: SQL実行: COMMIT... 
[2025-06-28T03:46:09.499Z] INFO  [PID:1111244] ✅ 全件挿入完了: 1件 {"level":"INFO"}
2025-06-28T03:46:09: SQL実行成功: 結果行数=不明
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.499Z] INFO  [PID:1111244][0m ✅ 全件挿入完了: 1件 {"level":"INFO"}
2025-06-28T03:46:09: SQL実行: SELECT COUNT(*) as total FROM contacts WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T03:46:09: SQL実行成功: 結果行数=1
2025-06-28T03:46:09: SQL実行: SELECT COUNT(*) as completed FROM contacts WHERE campaign_id = ? AND status IN ("completed", "failed... パラメータ数: 1
2025-06-28T03:46:09: SQL実行成功: 結果行数=1
2025-06-28T03:46:09: SQL実行: UPDATE campaigns SET progress = ?, updated_at = NOW() WHERE id = ?... パラメータ数: 2
[2025-06-28T03:46:09.509Z] INFO  [PID:1111244] CSVアップロード完了 {"campaignId":"168","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
2025-06-28T03:46:09: SQL実行成功: 結果行数=不明
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.509Z] INFO  [PID:1111244][0m CSVアップロード完了 {"campaignId":"168","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
2025-06-28T03:46:09: GET /api/campaigns/168 - Origin: http://146.190.83.205:3003
[2025-06-28T03:46:09.545Z] INFO  [PID:1111244] キャンペーン詳細取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.545Z] INFO  [PID:1111244][0m キャンペーン詳細取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:09: SQL実行: 
2025-06-28T03:46:09:       SELECT c.*, 
2025-06-28T03:46:09:              ci.number as caller_id_number,
2025-06-28T03:46:09:              ci.description as calle... パラメータ数: 1
[2025-06-28T03:46:09.548Z] INFO  [PID:1111244] キャンペーン詳細取得完了: ID=168 {"level":"INFO"}
2025-06-28T03:46:09: SQL実行成功: 結果行数=1
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.548Z] INFO  [PID:1111244][0m キャンペーン詳細取得完了: ID=168 {"level":"INFO"}
[2025-06-28T03:46:09.584Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:09: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.584Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:09: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:09: SQL実行成功: 結果行数=1
2025-06-28T03:46:09: SQL実行: 
2025-06-28T03:46:09:       SELECT 
2025-06-28T03:46:09:         COUNT(*) as total,
2025-06-28T03:46:09:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:46:09: SQL実行成功: 結果行数=1
2025-06-28T03:46:09: SQL実行: 
2025-06-28T03:46:09:       SELECT 
2025-06-28T03:46:09:         COUNT(*) as total_calls,
2025-06-28T03:46:09:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:46:09.590Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:09: SQL実行成功: 結果行数=1
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.590Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:09: GET /api/campaigns/168/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
[2025-06-28T03:46:09.630Z] INFO  [PID:1111244] 連絡先一覧取得: Campaign=168, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.630Z] INFO  [PID:1111244][0m 連絡先一覧取得: Campaign=168, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T03:46:09: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:09: SQL実行成功: 結果行数=1
2025-06-28T03:46:09: SQL実行: 
2025-06-28T03:46:09:       SELECT c.*
2025-06-28T03:46:09:       FROM contacts c
2025-06-28T03:46:09:       WHERE c.campaign_id = ?
2025-06-28T03:46:09:      ORDER BY c.created_at DES... パラメータ数: 1
2025-06-28T03:46:09: SQL実行成功: 結果行数=1
2025-06-28T03:46:09: SQL実行: 
2025-06-28T03:46:09:       SELECT COUNT(*) as total
2025-06-28T03:46:09:       FROM contacts c
2025-06-28T03:46:09:       WHERE c.campaign_id = ?
2025-06-28T03:46:09:     ... パラメータ数: 1
[2025-06-28T03:46:09.646Z] INFO  [PID:1111244] 連絡先取得結果: Campaign=168, 件数=1, 全体=1 {"level":"INFO"}
2025-06-28T03:46:09: SQL実行成功: 結果行数=1
2025-06-28T03:46:09: [36m[2025-06-28T03:46:09.646Z] INFO  [PID:1111244][0m 連絡先取得結果: Campaign=168, 件数=1, 全体=1 {"level":"INFO"}
[2025-06-28T03:46:10.443Z] INFO  [PID:1111244] 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:46:10: GET /api/audio - Origin: http://146.190.83.205:3003
2025-06-28T03:46:10: [36m[2025-06-28T03:46:10.443Z] INFO  [PID:1111244][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:46:10: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
2025-06-28T03:46:10: GET /api/ivr/campaigns/168 - Origin: http://146.190.83.205:3003
2025-06-28T03:46:10: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T03:46:10.447Z] INFO  [PID:1111244] 2件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T03:46:10: SQL実行成功: 結果行数=2
2025-06-28T03:46:10: [36m[2025-06-28T03:46:10.447Z] INFO  [PID:1111244][0m 2件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T03:46:10: SQL実行成功: 結果行数=1
[2025-06-28T03:46:10.449Z] INFO  [PID:1111244] キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
2025-06-28T03:46:10: [36m[2025-06-28T03:46:10.449Z] INFO  [PID:1111244][0m キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
2025-06-28T03:46:10: SQL実行: 
2025-06-28T03:46:10:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:46:10:    ... パラメータ数: 1
[2025-06-28T03:46:10.451Z] INFO  [PID:1111244] キャンペーン音声取得結果: Campaign=168, 件数=0 {"level":"INFO"}
2025-06-28T03:46:10: SQL実行成功: 結果行数=0
[2025-06-28T03:46:10.451Z] WARN  [PID:1111244] キャンペーン 168 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-28T03:46:10: [36m[2025-06-28T03:46:10.451Z] INFO  [PID:1111244][0m キャンペーン音声取得結果: Campaign=168, 件数=0 {"level":"INFO"}
2025-06-28T03:46:10: [33m[2025-06-28T03:46:10.451Z] WARN  [PID:1111244][0m キャンペーン 168 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-28T03:46:10: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T03:46:10: SQL実行成功: 結果行数=0
2025-06-28T03:46:10: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T03:46:10.455Z] INFO  [PID:1111244] キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
2025-06-28T03:46:10: SQL実行成功: 結果行数=1
2025-06-28T03:46:10: [36m[2025-06-28T03:46:10.455Z] INFO  [PID:1111244][0m キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
[2025-06-28T03:46:10.457Z] INFO  [PID:1111244] キャンペーン音声取得結果: Campaign=168, 件数=0 {"level":"INFO"}
2025-06-28T03:46:10: SQL実行: 
2025-06-28T03:46:10:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:46:10:    ... パラメータ数: 1
[2025-06-28T03:46:10.457Z] WARN  [PID:1111244] キャンペーン 168 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-28T03:46:10: SQL実行成功: 結果行数=0
2025-06-28T03:46:10: [36m[2025-06-28T03:46:10.457Z] INFO  [PID:1111244][0m キャンペーン音声取得結果: Campaign=168, 件数=0 {"level":"INFO"}
2025-06-28T03:46:10: [33m[2025-06-28T03:46:10.457Z] WARN  [PID:1111244][0m キャンペーン 168 に音声ファイルが見つかりません {"level":"WARN"}
[2025-06-28T03:46:10.459Z] INFO  [PID:1111244] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-168.conf {"level":"INFO"}
2025-06-28T03:46:10: [36m[2025-06-28T03:46:10.459Z] INFO  [PID:1111244][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-168.conf {"level":"INFO"}
2025-06-28T03:46:12: POST /api/audio/assign - Origin: http://146.190.83.205:3003
[2025-06-28T03:46:12.513Z] INFO  [PID:1111244] 音声ファイル割り当て: キャンペーンID=168, 音声ID=test-audio-001, タイプ=welcome {"level":"INFO"}
2025-06-28T03:46:12: [36m[2025-06-28T03:46:12.513Z] INFO  [PID:1111244][0m 音声ファイル割り当て: キャンペーンID=168, 音声ID=test-audio-001, タイプ=welcome {"level":"INFO"}
2025-06-28T03:46:12: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:12: SQL実行成功: 結果行数=1
2025-06-28T03:46:12: SQL実行: SELECT id FROM audio_files WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:12: SQL実行成功: 結果行数=1
2025-06-28T03:46:12: SQL実行: SELECT * FROM campaign_audio WHERE campaign_id = ? AND audio_type = ?... パラメータ数: 2
2025-06-28T03:46:12: SQL実行成功: 結果行数=0
2025-06-28T03:46:12: SQL実行: INSERT INTO campaign_audio (campaign_id, audio_file_id, audio_type, created_at) VALUES (?, ?, ?, NOW... パラメータ数: 3
[2025-06-28T03:46:12.522Z] INFO  [PID:1111244] 新規割り当てを作成しました: キャンペーンID=168, タイプ=welcome {"level":"INFO"}
2025-06-28T03:46:12: SQL実行成功: 結果行数=不明
2025-06-28T03:46:12: [36m[2025-06-28T03:46:12.522Z] INFO  [PID:1111244][0m 新規割り当てを作成しました: キャンペーンID=168, タイプ=welcome {"level":"INFO"}
2025-06-28T03:46:12: GET /api/ivr/campaigns/168 - Origin: http://146.190.83.205:3003
2025-06-28T03:46:12: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:12: SQL実行成功: 結果行数=1
[2025-06-28T03:46:12.559Z] INFO  [PID:1111244] キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
2025-06-28T03:46:12: [36m[2025-06-28T03:46:12.559Z] INFO  [PID:1111244][0m キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
2025-06-28T03:46:12: SQL実行: 
2025-06-28T03:46:12:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:46:12:    ... パラメータ数: 1
[2025-06-28T03:46:12.560Z] INFO  [PID:1111244] キャンペーン音声取得結果: Campaign=168, 件数=1 {"level":"INFO"}
2025-06-28T03:46:12: SQL実行成功: 結果行数=1
[2025-06-28T03:46:12.561Z] INFO  [PID:1111244] 音声ファイル詳細: タイプ=welcome, 名前=テスト音声ファイル, ファイル名=welcome-test.wav {"level":"INFO"}
2025-06-28T03:46:12: [36m[2025-06-28T03:46:12.560Z] INFO  [PID:1111244][0m キャンペーン音声取得結果: Campaign=168, 件数=1 {"level":"INFO"}
2025-06-28T03:46:12: [36m[2025-06-28T03:46:12.561Z] INFO  [PID:1111244][0m 音声ファイル詳細: タイプ=welcome, 名前=テスト音声ファイル, ファイル名=welcome-test.wav {"level":"INFO"}
2025-06-28T03:46:12: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T03:46:12: SQL実行成功: 結果行数=0
2025-06-28T03:46:12: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T03:46:12.562Z] INFO  [PID:1111244] キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
2025-06-28T03:46:12: SQL実行成功: 結果行数=1
2025-06-28T03:46:12: [36m[2025-06-28T03:46:12.562Z] INFO  [PID:1111244][0m キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
2025-06-28T03:46:12: SQL実行: 
2025-06-28T03:46:12:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:46:12:    ... パラメータ数: 1
[2025-06-28T03:46:12.563Z] INFO  [PID:1111244] キャンペーン音声取得結果: Campaign=168, 件数=1 {"level":"INFO"}
2025-06-28T03:46:12: SQL実行成功: 結果行数=1
[2025-06-28T03:46:12.564Z] INFO  [PID:1111244] 音声ファイル詳細: タイプ=welcome, 名前=テスト音声ファイル, ファイル名=welcome-test.wav {"level":"INFO"}
2025-06-28T03:46:12: [36m[2025-06-28T03:46:12.563Z] INFO  [PID:1111244][0m キャンペーン音声取得結果: Campaign=168, 件数=1 {"level":"INFO"}
2025-06-28T03:46:12: [36m[2025-06-28T03:46:12.564Z] INFO  [PID:1111244][0m 音声ファイル詳細: タイプ=welcome, 名前=テスト音声ファイル, ファイル名=welcome-test.wav {"level":"INFO"}
[2025-06-28T03:46:12.564Z] INFO  [PID:1111244] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-168.conf {"level":"INFO"}
2025-06-28T03:46:12: [36m[2025-06-28T03:46:12.564Z] INFO  [PID:1111244][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-168.conf {"level":"INFO"}
2025-06-28T03:46:13: SQL実行: SELECT 1... 
2025-06-28T03:46:13: SQL実行成功: 結果行数=1
2025-06-28T03:46:13: SQL実行: 
2025-06-28T03:46:13:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:46:13:                ci.number as ca... 
2025-06-28T03:46:13: SQL実行成功: 結果行数=76
2025-06-28T03:46:14: POST /api/campaigns/168/start - Origin: http://146.190.83.205:3003
2025-06-28T03:46:14: 🔍 campaignsController.startCampaign 開始: { campaignId: '168' }
2025-06-28T03:46:14: SQL実行: 
2025-06-28T03:46:14:       SELECT c.*, ci.active as caller_id_active,
2025-06-28T03:46:14:              (SELECT COUNT(*) FROM contacts WHERE ... パラメータ数: 1
2025-06-28T03:46:14: SQL実行成功: 結果行数=1
2025-06-28T03:46:14: 🔍 修正後のクエリ結果: {
2025-06-28T03:46:14:   rows_length: 1,
2025-06-28T03:46:14:   campaign_exists: 'YES',
2025-06-28T03:46:14:   caller_id_id: 8,
2025-06-28T03:46:14:   caller_id_active: 1,
2025-06-28T03:46:14:   contact_count: '1'
2025-06-28T03:46:14: }
2025-06-28T03:46:14: 🔍 検証開始: {
2025-06-28T03:46:14:   'campaign.caller_id_id': 8,
2025-06-28T03:46:14:   'campaign.caller_id_active': 1,
2025-06-28T03:46:14:   'typeof caller_id_id': 'number',
2025-06-28T03:46:14:   'typeof caller_id_active': 'number',
2025-06-28T03:46:14:   '!campaign.caller_id_id': false,
2025-06-28T03:46:14:   '!campaign.caller_id_active': false
2025-06-28T03:46:14: }
2025-06-28T03:46:14: ✅ 検証完了、IVRデプロイ開始
[2025-06-28T03:46:14.121Z] INFO  [PID:1111244] 🚀 キャンペーン 168 のIVRスクリプト完全デプロイ開始... {"level":"INFO"}
[2025-06-28T03:46:14.121Z] INFO  [PID:1111244] 📝 Step 1: IVRスクリプト生成中... {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.121Z] INFO  [PID:1111244][0m 🚀 キャンペーン 168 のIVRスクリプト完全デプロイ開始... {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.121Z] INFO  [PID:1111244][0m 📝 Step 1: IVRスクリプト生成中... {"level":"INFO"}
2025-06-28T03:46:14: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T03:46:14.123Z] INFO  [PID:1111244] キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
2025-06-28T03:46:14: SQL実行成功: 結果行数=1
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.123Z] INFO  [PID:1111244][0m キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
2025-06-28T03:46:14: SQL実行: 
2025-06-28T03:46:14:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:46:14:    ... パラメータ数: 1
[2025-06-28T03:46:14.125Z] INFO  [PID:1111244] キャンペーン音声取得結果: Campaign=168, 件数=1 {"level":"INFO"}
2025-06-28T03:46:14: SQL実行成功: 結果行数=1
[2025-06-28T03:46:14.125Z] INFO  [PID:1111244] 音声ファイル詳細: タイプ=welcome, 名前=テスト音声ファイル, ファイル名=welcome-test.wav {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.125Z] INFO  [PID:1111244][0m キャンペーン音声取得結果: Campaign=168, 件数=1 {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.125Z] INFO  [PID:1111244][0m 音声ファイル詳細: タイプ=welcome, 名前=テスト音声ファイル, ファイル名=welcome-test.wav {"level":"INFO"}
[2025-06-28T03:46:14.126Z] INFO  [PID:1111244] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-168.conf {"level":"INFO"}
[2025-06-28T03:46:14.126Z] INFO  [PID:1111244] ✅ IVRスクリプト生成完了: /var/www/autodialer/backend/ivr-scripts/campaign-168.conf {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.126Z] INFO  [PID:1111244][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-168.conf {"level":"INFO"}
[2025-06-28T03:46:14.126Z] INFO  [PID:1111244] 📝 Step 2: extensions.confへのinclude追加中... {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.126Z] INFO  [PID:1111244][0m ✅ IVRスクリプト生成完了: /var/www/autodialer/backend/ivr-scripts/campaign-168.conf {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.126Z] INFO  [PID:1111244][0m 📝 Step 2: extensions.confへのinclude追加中... {"level":"INFO"}
[2025-06-28T03:46:14.126Z] INFO  [PID:1111244] 🔧 extensions.conf include追加: #include "/var/www/autodialer/backend/ivr-scripts/campaign-168.conf" {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.126Z] INFO  [PID:1111244][0m 🔧 extensions.conf include追加: #include "/var/www/autodialer/backend/ivr-scripts/campaign-168.conf" {"level":"INFO"}
[2025-06-28T03:46:14.128Z] INFO  [PID:1111244] ✅ extensions.confにinclude追加完了: campaign-168.conf {"level":"INFO"}
[2025-06-28T03:46:14.128Z] INFO  [PID:1111244] 📝 Step 3: Asterisk dialplan reload実行中... {"level":"INFO"}
[2025-06-28T03:46:14.129Z] INFO  [PID:1111244] 🔄 Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.128Z] INFO  [PID:1111244][0m ✅ extensions.confにinclude追加完了: campaign-168.conf {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.128Z] INFO  [PID:1111244][0m 📝 Step 3: Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.129Z] INFO  [PID:1111244][0m 🔄 Asterisk dialplan reload実行中... {"level":"INFO"}
[2025-06-28T03:46:14.162Z] INFO  [PID:1111244] ✅ Asterisk dialplan reload成功: Dialplan reloaded. {"level":"INFO"}
[2025-06-28T03:46:14.163Z] INFO  [PID:1111244] 📝 Step 4: データベース記録中... {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.162Z] INFO  [PID:1111244][0m ✅ Asterisk dialplan reload成功: Dialplan reloaded. {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.163Z] INFO  [PID:1111244][0m 📝 Step 4: データベース記録中... {"level":"INFO"}
2025-06-28T03:46:14: SQL実行: UPDATE campaigns SET ivr_deployed = true, ivr_deploy_time = NOW() WHERE id = ?... パラメータ数: 1
[2025-06-28T03:46:14.167Z] INFO  [PID:1111244] ✅ データベース記録完了 {"level":"INFO"}
2025-06-28T03:46:14: SQL実行成功: 結果行数=不明
[2025-06-28T03:46:14.168Z] INFO  [PID:1111244] 📝 Step 5: デプロイ検証中... {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.167Z] INFO  [PID:1111244][0m ✅ データベース記録完了 {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.168Z] INFO  [PID:1111244][0m 📝 Step 5: デプロイ検証中... {"level":"INFO"}
[2025-06-28T03:46:14.168Z] INFO  [PID:1111244] 🔍 コンテキスト検証中: autodialer-campaign-168 {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.168Z] INFO  [PID:1111244][0m 🔍 コンテキスト検証中: autodialer-campaign-168 {"level":"INFO"}
[2025-06-28T03:46:14.193Z] WARN  [PID:1111244] ⚠️ コンテキスト検証結果不明: [ Context 'autodialer-campaign-168' created by 'pbx_config' ]
  '1' =>            1. NoOp(Operator transfer requested)          [campaign-168.conf:10]
                    2. Set(CAMPAIGN_ID=168)                       [campaign-168.conf:11]
                    3. Set(KEYPRESS=1)                            [campaign-168.conf:12]
                    4. Goto(operator-transfer-168,s,1)            [campaign-168.conf:13]
  '2' =>            1. NoOp(Operator transfer requested)          [campaign-168.conf:15]
                    2. Set(CAMPAIGN_ID=168)                       [campaign-168.conf:16]
                    3. Set(KEYPRESS=2)                            [campaign-168.conf:17]
                    4. Goto(operator-transfer-168,s,1)            [campaign-168.conf:18]
  '3' =>            1. NoOp(Operator transfer requested)          [campaign-168.conf:20]
                    2. Set(CAMPAIGN_ID=168)                       [campaign-168.conf:21]
                    3. Set(KEYPRESS=3)                            [campaign-168.conf:22]
                    4. Goto(operator-transfer-168,s,1)            [campaign-168.conf:23]
  '9' =>            1. NoOp(DNC requested)                        [campaign-168.conf:25]
                    2. Set(CAMPAIGN_ID=168)                       [campaign-168.conf:26]
                    3. Set(KEYPRESS=9)                            [campaign-168.conf:27]
                    4. Playback(custom/dnc-confirmation)          [campaign-168.conf:28]
                    5. Hangup()                                   [campaign-168.conf:29]
  'h' =>            1. NoOp(Hangup handler)                       [campaign-168.conf:39]
                    2. System(curl -X POST http://localhost:5000/api/callback/call-end -d "callId=168-${UNIQUEID}&duration=${ANSWEREDTIME}&disposition=${DIALSTATUS}&keypress=${KEYPRESS}") [campaign-168.conf:40]
  'i' =>            1. NoOp(Invalid input)                        [campaign-168.conf:35]
                    2. Playback(custom/invalid-option)            [campaign-168.conf:36]
                    3. Goto(s,4)                                  [campaign-168.conf:37]
  's' =>            1. Answer()                                   [campaign-168.conf:4]
                    2. Wait(1)                                    [campaign-168.conf:5]
                    3. Playback(welcome-test)                     [campaign-168.conf:6]
                    4. Playback(vm-tempgreeting)                  [campaign-168.conf:7]
                    5. WaitExten(10)                              [campaign-168.conf:8]
  't' =>            1. NoOp(Timeout occurred)                     [campaign-168.conf:31]
                    2. Playback(goodbye)                          [campaign-168.conf:32]
                    3. Hangup()                                   [campaign-168.conf:33]

-= 8 extensions (30 priorities) in 1 context. =-
 {"level":"WARN"}
[2025-06-28T03:46:14.193Z] WARN  [PID:1111244] ⚠️ コンテキスト検証失敗 - 手動確認が必要です {"level":"WARN"}
2025-06-28T03:46:14: [33m[2025-06-28T03:46:14.193Z] WARN  [PID:1111244][0m ⚠️ コンテキスト検証結果不明: [ Context 'autodialer-campaign-168' created by 'pbx_config' ]
2025-06-28T03:46:14:   '1' =>            1. NoOp(Operator transfer requested)          [campaign-168.conf:10]
2025-06-28T03:46:14:                     2. Set(CAMPAIGN_ID=168)                       [campaign-168.conf:11]
2025-06-28T03:46:14:                     3. Set(KEYPRESS=1)                            [campaign-168.conf:12]
2025-06-28T03:46:14:                     4. Goto(operator-transfer-168,s,1)            [campaign-168.conf:13]
2025-06-28T03:46:14:   '2' =>            1. NoOp(Operator transfer requested)          [campaign-168.conf:15]
2025-06-28T03:46:14:                     2. Set(CAMPAIGN_ID=168)                       [campaign-168.conf:16]
2025-06-28T03:46:14:                     3. Set(KEYPRESS=2)                            [campaign-168.conf:17]
2025-06-28T03:46:14:                     4. Goto(operator-transfer-168,s,1)            [campaign-168.conf:18]
2025-06-28T03:46:14:   '3' =>            1. NoOp(Operator transfer requested)          [campaign-168.conf:20]
2025-06-28T03:46:14:                     2. Set(CAMPAIGN_ID=168)                       [campaign-168.conf:21]
2025-06-28T03:46:14:                     3. Set(KEYPRESS=3)                            [campaign-168.conf:22]
2025-06-28T03:46:14:                     4. Goto(operator-transfer-168,s,1)            [campaign-168.conf:23]
2025-06-28T03:46:14:   '9' =>            1. NoOp(DNC requested)                        [campaign-168.conf:25]
2025-06-28T03:46:14:                     2. Set(CAMPAIGN_ID=168)                       [campaign-168.conf:26]
2025-06-28T03:46:14:                     3. Set(KEYPRESS=9)                            [campaign-168.conf:27]
2025-06-28T03:46:14:                     4. Playback(custom/dnc-confirmation)          [campaign-168.conf:28]
2025-06-28T03:46:14:                     5. Hangup()                                   [campaign-168.conf:29]
2025-06-28T03:46:14:   'h' =>            1. NoOp(Hangup handler)                       [campaign-168.conf:39]
2025-06-28T03:46:14:                     2. System(curl -X POST http://localhost:5000/api/callback/call-end -d "callId=168-${UNIQUEID}&duration=${ANSWEREDTIME}&disposition=${DIALSTATUS}&keypress=${KEYPRESS}") [campaign-168.conf:40]
2025-06-28T03:46:14:   'i' =>            1. NoOp(Invalid input)                        [campaign-168.conf:35]
2025-06-28T03:46:14:                     2. Playback(custom/invalid-option)            [campaign-168.conf:36]
2025-06-28T03:46:14:                     3. Goto(s,4)                                  [campaign-168.conf:37]
2025-06-28T03:46:14:   's' =>            1. Answer()                                   [campaign-168.conf:4]
2025-06-28T03:46:14:                     2. Wait(1)                                    [campaign-168.conf:5]
2025-06-28T03:46:14:                     3. Playback(welcome-test)                     [campaign-168.conf:6]
2025-06-28T03:46:14:                     4. Playback(vm-tempgreeting)                  [campaign-168.conf:7]
2025-06-28T03:46:14:                     5. WaitExten(10)                              [campaign-168.conf:8]
2025-06-28T03:46:14:   't' =>            1. NoOp(Timeout occurred)                     [campaign-168.conf:31]
2025-06-28T03:46:14:                     2. Playback(goodbye)                          [campaign-168.conf:32]
2025-06-28T03:46:14:                     3. Hangup()                                   [campaign-168.conf:33]
2025-06-28T03:46:14: 
2025-06-28T03:46:14: -= 8 extensions (30 priorities) in 1 context. =-
2025-06-28T03:46:14:  {"level":"WARN"}
[2025-06-28T03:46:14.194Z] INFO  [PID:1111244] 🚀 手動キャンペーン開始: 168 {"level":"INFO"}
2025-06-28T03:46:14: [33m[2025-06-28T03:46:14.193Z] WARN  [PID:1111244][0m ⚠️ コンテキスト検証失敗 - 手動確認が必要です {"level":"WARN"}
2025-06-28T03:46:14: ✅ IVRスクリプト自動デプロイ完了: キャンペーン 168 {
2025-06-28T03:46:14:   scriptPath: '/var/www/autodialer/backend/ivr-scripts/campaign-168.conf',
2025-06-28T03:46:14:   message: 'キャンペーン 168 のIVRスクリプトが完全デプロイされました'
2025-06-28T03:46:14: }
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.194Z] INFO  [PID:1111244][0m 🚀 手動キャンペーン開始: 168 {"level":"INFO"}
2025-06-28T03:46:14: SQL実行: 
2025-06-28T03:46:14:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:46:14:                ci.number as ca... パラメータ数: 1
2025-06-28T03:46:14: SQL実行成功: 結果行数=1
2025-06-28T03:46:14: SQL実行: UPDATE campaigns SET status = ?, updated_at = NOW() WHERE id = ?... パラメータ数: 2
2025-06-28T03:46:14: SQL実行成功: 結果行数=不明
[2025-06-28T03:46:14.205Z] INFO  [PID:1111244] 🎉 イベント: キャンペーン追加 - テスト (ID: 168) {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.205Z] INFO  [PID:1111244][0m 🎉 イベント: キャンペーン追加 - テスト (ID: 168) {"level":"INFO"}
[2025-06-28T03:46:14.206Z] INFO  [PID:1111244] ✅ キャンペーン自動追加: "テスト" (未処理: 1件) {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.206Z] INFO  [PID:1111244][0m ✅ キャンペーン自動追加: "テスト" (未処理: 1件) {"level":"INFO"}
[2025-06-28T03:46:14.206Z] INFO  [PID:1111244] 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
[2025-06-28T03:46:14.206Z] INFO  [PID:1111244] ✅ 手動キャンペーン開始完了: "テスト" {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.206Z] INFO  [PID:1111244][0m 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.206Z] INFO  [PID:1111244][0m ✅ 手動キャンペーン開始完了: "テスト" {"level":"INFO"}
[2025-06-28T03:46:14.242Z] INFO  [PID:1111244] キャンペーン詳細取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:14: GET /api/campaigns/168 - Origin: http://146.190.83.205:3003
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.242Z] INFO  [PID:1111244][0m キャンペーン詳細取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:14: SQL実行: 
2025-06-28T03:46:14:       SELECT c.*, 
2025-06-28T03:46:14:              ci.number as caller_id_number,
2025-06-28T03:46:14:              ci.description as calle... パラメータ数: 1
[2025-06-28T03:46:14.246Z] INFO  [PID:1111244] キャンペーン詳細取得完了: ID=168 {"level":"INFO"}
2025-06-28T03:46:14: SQL実行成功: 結果行数=1
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.246Z] INFO  [PID:1111244][0m キャンペーン詳細取得完了: ID=168 {"level":"INFO"}
[2025-06-28T03:46:14.281Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:14: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.281Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:14: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:14: SQL実行成功: 結果行数=1
2025-06-28T03:46:14: SQL実行: 
2025-06-28T03:46:14:       SELECT 
2025-06-28T03:46:14:         COUNT(*) as total,
2025-06-28T03:46:14:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:46:14: SQL実行成功: 結果行数=1
2025-06-28T03:46:14: SQL実行: 
2025-06-28T03:46:14:       SELECT 
2025-06-28T03:46:14:         COUNT(*) as total_calls,
2025-06-28T03:46:14:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:46:14.286Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:14: SQL実行成功: 結果行数=1
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.286Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:14: GET /api/ivr/campaigns/168 - Origin: http://146.190.83.205:3003
[2025-06-28T03:46:14.323Z] INFO  [PID:1111244] 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:46:14: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:14: GET /api/audio - Origin: http://146.190.83.205:3003
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.323Z] INFO  [PID:1111244][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:46:14: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
[2025-06-28T03:46:14.326Z] INFO  [PID:1111244] キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
2025-06-28T03:46:14: SQL実行成功: 結果行数=1
[2025-06-28T03:46:14.327Z] INFO  [PID:1111244] 2件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.326Z] INFO  [PID:1111244][0m キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
2025-06-28T03:46:14: SQL実行: 
2025-06-28T03:46:14:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:46:14:    ... パラメータ数: 1
2025-06-28T03:46:14: SQL実行成功: 結果行数=2
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.327Z] INFO  [PID:1111244][0m 2件の音声ファイルを取得しました {"level":"INFO"}
[2025-06-28T03:46:14.328Z] INFO  [PID:1111244] キャンペーン音声取得結果: Campaign=168, 件数=1 {"level":"INFO"}
2025-06-28T03:46:14: SQL実行成功: 結果行数=1
[2025-06-28T03:46:14.328Z] INFO  [PID:1111244] 音声ファイル詳細: タイプ=welcome, 名前=テスト音声ファイル, ファイル名=welcome-test.wav {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.328Z] INFO  [PID:1111244][0m キャンペーン音声取得結果: Campaign=168, 件数=1 {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.328Z] INFO  [PID:1111244][0m 音声ファイル詳細: タイプ=welcome, 名前=テスト音声ファイル, ファイル名=welcome-test.wav {"level":"INFO"}
2025-06-28T03:46:14: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T03:46:14: SQL実行成功: 結果行数=0
[2025-06-28T03:46:14.330Z] INFO  [PID:1111244] キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
2025-06-28T03:46:14: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
2025-06-28T03:46:14: SQL実行成功: 結果行数=1
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.330Z] INFO  [PID:1111244][0m キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
2025-06-28T03:46:14: SQL実行: 
2025-06-28T03:46:14:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:46:14:    ... パラメータ数: 1
2025-06-28T03:46:14: SQL実行成功: 結果行数=1
[2025-06-28T03:46:14.331Z] INFO  [PID:1111244] キャンペーン音声取得結果: Campaign=168, 件数=1 {"level":"INFO"}
[2025-06-28T03:46:14.331Z] INFO  [PID:1111244] 音声ファイル詳細: タイプ=welcome, 名前=テスト音声ファイル, ファイル名=welcome-test.wav {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.331Z] INFO  [PID:1111244][0m キャンペーン音声取得結果: Campaign=168, 件数=1 {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.331Z] INFO  [PID:1111244][0m 音声ファイル詳細: タイプ=welcome, 名前=テスト音声ファイル, ファイル名=welcome-test.wav {"level":"INFO"}
[2025-06-28T03:46:14.334Z] INFO  [PID:1111244] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-168.conf {"level":"INFO"}
2025-06-28T03:46:14: [36m[2025-06-28T03:46:14.334Z] INFO  [PID:1111244][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-168.conf {"level":"INFO"}
[2025-06-28T03:46:15.996Z] INFO  [PID:1111244] 連絡先一覧取得: Campaign=168, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T03:46:15: GET /api/campaigns/168/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
2025-06-28T03:46:15: [36m[2025-06-28T03:46:15.996Z] INFO  [PID:1111244][0m 連絡先一覧取得: Campaign=168, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T03:46:15: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:15: SQL実行成功: 結果行数=1
2025-06-28T03:46:15: SQL実行: 
2025-06-28T03:46:15:       SELECT c.*
2025-06-28T03:46:15:       FROM contacts c
2025-06-28T03:46:15:       WHERE c.campaign_id = ?
2025-06-28T03:46:15:      ORDER BY c.created_at DES... パラメータ数: 1
2025-06-28T03:46:16: SQL実行成功: 結果行数=1
2025-06-28T03:46:16: SQL実行: 
2025-06-28T03:46:16:       SELECT COUNT(*) as total
2025-06-28T03:46:16:       FROM contacts c
2025-06-28T03:46:16:       WHERE c.campaign_id = ?
2025-06-28T03:46:16:     ... パラメータ数: 1
[2025-06-28T03:46:16.001Z] INFO  [PID:1111244] 連絡先取得結果: Campaign=168, 件数=1, 全体=1 {"level":"INFO"}
2025-06-28T03:46:16: SQL実行成功: 結果行数=1
2025-06-28T03:46:16: [36m[2025-06-28T03:46:16.001Z] INFO  [PID:1111244][0m 連絡先取得結果: Campaign=168, 件数=1, 全体=1 {"level":"INFO"}
2025-06-28T03:46:19: SQL実行: 
2025-06-28T03:46:19:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:46:19:           FROM contacts 
2025-06-28T03:46:19:           WHERE c... パラメータ数: 1
[2025-06-28T03:46:19.210Z] INFO  [PID:1111244] 📞 発信準備: 05018086649 (Campaign: テスト, 試行回数: 0) {"level":"INFO"}
2025-06-28T03:46:19: SQL実行成功: 結果行数=1
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.210Z] INFO  [PID:1111244][0m 📞 発信準備: 05018086649 (Campaign: テスト, 試行回数: 0) {"level":"INFO"}
[2025-06-28T03:46:19.211Z] INFO  [PID:1111244] 🔧 発信診断開始: 05018086649 {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.211Z] INFO  [PID:1111244][0m 🔧 発信診断開始: 05018086649 {"level":"INFO"}
2025-06-28T03:46:19: SQL実行: UPDATE contacts SET status = ?, last_attempt = NOW(), attempt_count = attempt_count + 1 WHERE id = ?... パラメータ数: 2
2025-06-28T03:46:19: SQL実行成功: 結果行数=不明
2025-06-28T03:46:19: SQL実行: SELECT * FROM caller_ids WHERE id = ? AND active = true... パラメータ数: 1
[2025-06-28T03:46:19.221Z] INFO  [PID:1111244] キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
2025-06-28T03:46:19: SQL実行成功: 結果行数=1
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.221Z] INFO  [PID:1111244][0m キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
2025-06-28T03:46:19: SQL実行: 
2025-06-28T03:46:19:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:46:19:    ... パラメータ数: 1
[2025-06-28T03:46:19.222Z] INFO  [PID:1111244] キャンペーン音声取得結果: Campaign=168, 件数=1 {"level":"INFO"}
2025-06-28T03:46:19: SQL実行成功: 結果行数=1
[2025-06-28T03:46:19.223Z] INFO  [PID:1111244] 音声ファイル詳細: タイプ=welcome, 名前=テスト音声ファイル, ファイル名=welcome-test.wav {"level":"INFO"}
[2025-06-28T03:46:19.223Z] INFO  [PID:1111244] 🎵 自動発信で音声ファイル取得成功: 1件 (Campaign: 168) {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.222Z] INFO  [PID:1111244][0m キャンペーン音声取得結果: Campaign=168, 件数=1 {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.223Z] INFO  [PID:1111244][0m 音声ファイル詳細: タイプ=welcome, 名前=テスト音声ファイル, ファイル名=welcome-test.wav {"level":"INFO"}
[2025-06-28T03:46:19.223Z] INFO  [PID:1111244] 🎵 音声1: welcome - テスト音声ファイル (welcome-test.wav) {"level":"INFO"}
[2025-06-28T03:46:19.223Z] INFO  [PID:1111244] 🚀 音声付き自動発信実行: 05018086649 {"campaignId":168,"contactId":10163,"callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":1,"hasAudio":true,"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.223Z] INFO  [PID:1111244][0m 🎵 自動発信で音声ファイル取得成功: 1件 (Campaign: 168) {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.223Z] INFO  [PID:1111244][0m 🎵 音声1: welcome - テスト音声ファイル (welcome-test.wav) {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.223Z] INFO  [PID:1111244][0m 🚀 音声付き自動発信実行: 05018086649 {"campaignId":168,"contactId":10163,"callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":1,"hasAudio":true,"level":"INFO"}
2025-06-28T03:46:19: 🚀🚀🚀 CALLSERVICE-START: originateメソッド開始（SIP専用）
[2025-06-28T03:46:19.224Z] INFO  [PID:1111244] SIPプロバイダで発信: 05018086649 {"level":"INFO"}
2025-06-28T03:46:19: 🚀🚀🚀 CALLSERVICE-PARAMS: {"phoneNumber":"05018086649","callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","context":"autodialer","exten":"s","priority":1,"variables":{"CAMPAIGN_ID":168,"CONTACT_ID":10163,"CONTACT_NAME":"","COMPANY":"","AUTO_DIAL":"true","DIALER_VERSION":"v2.0"},"callerIdData":{"id":8,"number":"0369087851","description":"6/9 契約開始　1番号（25U、23CH）","provider":"外部","domain":"pantex.online","active":1,"created_at":"2025-06-14 10:02:51"},"mockMode":false,"provider":"sip","campaignAudio":[{"audio_type":"welcome","id":"test-audio-001","name":"テスト音声ファイル","filename":"welcome-test.wav","mimetype":"audio/wav","description":"テスト用音声メッセージ","path":"/var/www/autodialer/backend/audio-files/welcome-test.wav"}]}
2025-06-28T03:46:19: 🚀🚀🚀 CALLSERVICE-PROVIDER: sip（固定）
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.224Z] INFO  [PID:1111244][0m SIPプロバイダで発信: 05018086649 {"level":"INFO"}
2025-06-28T03:46:19: 🚀🚀🚀 CALLSERVICE-SERVICE: SIPサービス利用可能
2025-06-28T03:46:19: 🚀🚀🚀 CALLSERVICE-EXEC-1: SIP発信実行直前
[2025-06-28T03:46:19.224Z] INFO  [PID:1111244] 🔥 [SIP-DEBUG] ===== sipService.originate 開始 (AMI版) ===== {"level":"INFO"}
[2025-06-28T03:46:19.224Z] INFO  [PID:1111244] 🔥 [SIP-DEBUG] - phoneNumber: 05018086649 {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.224Z] INFO  [PID:1111244][0m 🔥 [SIP-DEBUG] ===== sipService.originate 開始 (AMI版) ===== {"level":"INFO"}
[2025-06-28T03:46:19.224Z] INFO  [PID:1111244] 🔥 [SIP-DEBUG] - mockMode: false {"level":"INFO"}
[2025-06-28T03:46:19.225Z] INFO  [PID:1111244] 🔥 [SIP-DEBUG] - connected: true {"level":"INFO"}
[2025-06-28T03:46:19.225Z] INFO  [PID:1111244] 🔥 [SIP-DEBUG] 実発信モードで AMI発信を開始: 発信先=05018086649 {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.224Z] INFO  [PID:1111244][0m 🔥 [SIP-DEBUG] - phoneNumber: 05018086649 {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.224Z] INFO  [PID:1111244][0m 🔥 [SIP-DEBUG] - mockMode: false {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.225Z] INFO  [PID:1111244][0m 🔥 [SIP-DEBUG] - connected: true {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.225Z] INFO  [PID:1111244][0m 🔥 [SIP-DEBUG] 実発信モードで AMI発信を開始: 発信先=05018086649 {"level":"INFO"}
[2025-06-28T03:46:19.225Z] INFO  [PID:1111244] 🔍 SIPアカウント選択開始 {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.225Z] INFO  [PID:1111244][0m 🔍 SIPアカウント選択開始 {"level":"INFO"}
2025-06-28T03:46:19: SQL実行: SELECT caller_id_id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T03:46:19.226Z] INFO  [PID:1111244] 🔍 キャンペーン168 → 発信者番号ID: 8 {"level":"INFO"}
2025-06-28T03:46:19: SQL実行成功: 結果行数=1
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.226Z] INFO  [PID:1111244][0m 🔍 キャンペーン168 → 発信者番号ID: 8 {"level":"INFO"}
[2025-06-28T03:46:19.227Z] INFO  [PID:1111244] 🔍 選択されたSIPアカウント: 03500001 {"level":"INFO"}
[2025-06-28T03:46:19.227Z] INFO  [PID:1111244] 🔍 - username: "03500001" (type: string) {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.227Z] INFO  [PID:1111244][0m 🔍 選択されたSIPアカウント: 03500001 {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.227Z] INFO  [PID:1111244][0m 🔍 - username: "03500001" (type: string) {"level":"INFO"}
[2025-06-28T03:46:19.227Z] INFO  [PID:1111244] 🔥 [SIP-DEBUG] AMI発信準備完了: {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.227Z] INFO  [PID:1111244][0m 🔥 [SIP-DEBUG] AMI発信準備完了: {"level":"INFO"}
[2025-06-28T03:46:19.227Z] INFO  [PID:1111244] 🔥 [SIP-DEBUG] - formattedNumber: 05018086649 {"level":"INFO"}
[2025-06-28T03:46:19.227Z] INFO  [PID:1111244] 🔥 [SIP-DEBUG] - callId: ami-1751082379227-8596 {"level":"INFO"}
[2025-06-28T03:46:19.227Z] INFO  [PID:1111244] 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し開始 ===== {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.227Z] INFO  [PID:1111244][0m 🔥 [SIP-DEBUG] - formattedNumber: 05018086649 {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.227Z] INFO  [PID:1111244][0m 🔥 [SIP-DEBUG] - callId: ami-1751082379227-8596 {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.227Z] INFO  [PID:1111244][0m 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し開始 ===== {"level":"INFO"}
[2025-06-28T03:46:19.228Z] INFO  [PID:1111244] 🔍 ===== AMI発信データ追跡開始 ===== {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.228Z] INFO  [PID:1111244][0m 🔍 ===== AMI発信データ追跡開始 ===== {"level":"INFO"}
[2025-06-28T03:46:19.228Z] INFO  [PID:1111244] 🔍 STEP1-引数確認: sipAccount.username="03500001" (type: string) {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.228Z] INFO  [PID:1111244][0m 🔍 STEP1-引数確認: sipAccount.username="03500001" (type: string) {"level":"INFO"}
[2025-06-28T03:46:19.228Z] INFO  [PID:1111244] 🔍 STEP1-引数確認: formattedNumber="05018086649" {"level":"INFO"}
[2025-06-28T03:46:19.228Z] INFO  [PID:1111244] 🔍 STEP1-引数確認: callId="ami-1751082379227-8596" {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.228Z] INFO  [PID:1111244][0m 🔍 STEP1-引数確認: formattedNumber="05018086649" {"level":"INFO"}
[2025-06-28T03:46:19.228Z] INFO  [PID:1111244] 🔍 STEP1-引数確認: campaignId="168" {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.228Z] INFO  [PID:1111244][0m 🔍 STEP1-引数確認: callId="ami-1751082379227-8596" {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.228Z] INFO  [PID:1111244][0m 🔍 STEP1-引数確認: campaignId="168" {"level":"INFO"}
[2025-06-28T03:46:19.228Z] INFO  [PID:1111244] 🔍 STEP3-ディープコピー: safeSipAccount.username="03500001" {"level":"INFO"}
[2025-06-28T03:46:19.229Z] INFO  [PID:1111244] 🔍 STEP4-Channel構築: "SIP/03500001@pantex.online" {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.228Z] INFO  [PID:1111244][0m 🔍 STEP3-ディープコピー: safeSipAccount.username="03500001" {"level":"INFO"}
[2025-06-28T03:46:19.229Z] INFO  [PID:1111244] ✅ データ整合性確認完了 - AMI送信実行 {"level":"INFO"}
[2025-06-28T03:46:19.229Z] INFO  [PID:1111244] 📤 AMI送信内容: {"level":"INFO"}
[2025-06-28T03:46:19.229Z] INFO  [PID:1111244] Action: Originate
Channel: PJSIP/05018086649@03500001
Context: autodialer-campaign-168
Exten: s
Priority: 1
CallerID: "0369087851" <0369087851>
Variable: CALLERID(name)=0369087851
Variable: CALLERID(num)=0369087851
Variable: PJSIP_HEADER(update,From)=\"0369087851\" <sip:0369087851@pantex.online>
ActionID: ami-1751082379227-8596
Async: yes

 {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.229Z] INFO  [PID:1111244][0m 🔍 STEP4-Channel構築: "SIP/03500001@pantex.online" {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.229Z] INFO  [PID:1111244][0m ✅ データ整合性確認完了 - AMI送信実行 {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.229Z] INFO  [PID:1111244][0m 📤 AMI送信内容: {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.229Z] INFO  [PID:1111244][0m Action: Originate
2025-06-28T03:46:19: Channel: PJSIP/05018086649@03500001
2025-06-28T03:46:19: Context: autodialer-campaign-168
2025-06-28T03:46:19: Exten: s
2025-06-28T03:46:19: Priority: 1
2025-06-28T03:46:19: CallerID: "0369087851" <0369087851>
2025-06-28T03:46:19: Variable: CALLERID(name)=0369087851
2025-06-28T03:46:19: Variable: CALLERID(num)=0369087851
2025-06-28T03:46:19: Variable: PJSIP_HEADER(update,From)=\"0369087851\" <sip:0369087851@pantex.online>
2025-06-28T03:46:19: ActionID: ami-1751082379227-8596
2025-06-28T03:46:19: Async: yes
2025-06-28T03:46:19: 
2025-06-28T03:46:19:  {"level":"INFO"}
[2025-06-28T03:46:19.229Z] INFO  [PID:1111244] 📤 AMI送信開始: {"0":"A","1":"c","2":"t","3":"i","4":"o","5":"n","6":":","7":" ","8":"O","9":"r","10":"i","11":"g","12":"i","13":"n","14":"a","15":"t","16":"e","17":"\r","18":"\n","19":"C","20":"h","21":"a","22":"n","23":"n","24":"e","25":"l","26":":","27":" ","28":"P","29":"J","30":"S","31":"I","32":"P","33":"/","34":"0","35":"5","36":"0","37":"1","38":"8","39":"0","40":"8","41":"6","42":"6","43":"4","44":"9","45":"@","46":"0","47":"3","48":"5","49":"0","50":"0","51":"0","52":"0","53":"1","54":"\r","55":"\n","56":"C","57":"o","58":"n","59":"t","60":"e","61":"x","62":"t","63":":","64":" ","65":"a","66":"u","67":"t","68":"o","69":"d","70":"i","71":"a","72":"l","73":"e","74":"r","75":"-","76":"c","77":"a","78":"m","79":"p","80":"a","81":"i","82":"g","83":"n","84":"-","85":"1","86":"6","87":"8","88":"\r","89":"\n","90":"E","91":"x","92":"t","93":"e","94":"n","95":":","96":" ","97":"s","98":"\r","99":"\n","level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.229Z] INFO  [PID:1111244][0m 📤 AMI送信開始: {"0":"A","1":"c","2":"t","3":"i","4":"o","5":"n","6":":","7":" ","8":"O","9":"r","10":"i","11":"g","12":"i","13":"n","14":"a","15":"t","16":"e","17":"\r","18":"\n","19":"C","20":"h","21":"a","22":"n","23":"n","24":"e","25":"l","26":":","27":" ","28":"P","29":"J","30":"S","31":"I","32":"P","33":"/","34":"0","35":"5","36":"0","37":"1","38":"8","39":"0","40":"8","41":"6","42":"6","43":"4","44":"9","45":"@","46":"0","47":"3","48":"5","49":"0","50":"0","51":"0","52":"0","53":"1","54":"\r","55":"\n","56":"C","57":"o","58":"n","59":"t","60":"e","61":"x","62":"t","63":":","64":" ","65":"a","66":"u","67":"t","68":"o","69":"d","70":"i","71":"a","72":"l","73":"e","74":"r","75":"-","76":"c","77":"a","78":"m","79":"p","80":"a","81":"i","82":"g","83":"n","84":"-","85":"1","86":"6","87":"8","88":"\r","89":"\n","90":"E","91":"x","92":"t","93":"e","94":"n","95":":","96":" ","97":"s","98":"\r","99":"\n","level":"INFO"}
[2025-06-28T03:46:19.232Z] INFO  [PID:1111244] AMI応答: Response: Success
ActionID: ami-1751082379227-8596
Message: Originate successfully queued

 {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.232Z] INFO  [PID:1111244][0m AMI応答: Response: Success
2025-06-28T03:46:19: ActionID: ami-1751082379227-8596
2025-06-28T03:46:19: Message: Originate successfully queued
2025-06-28T03:46:19: 
2025-06-28T03:46:19:  {"level":"INFO"}
[2025-06-28T03:46:19.232Z] INFO  [PID:1111244] 📥 AMI応答受信: Response: Success
ActionID: ami-1751082379227-8596
Message: Originate successfully queued

 {"level":"INFO"}
[2025-06-28T03:46:19.233Z] INFO  [PID:1111244] ✅ AMI送信成功 {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.232Z] INFO  [PID:1111244][0m 📥 AMI応答受信: Response: Success
2025-06-28T03:46:19: ActionID: ami-1751082379227-8596
2025-06-28T03:46:19: Message: Originate successfully queued
2025-06-28T03:46:19: 
2025-06-28T03:46:19:  {"level":"INFO"}
[2025-06-28T03:46:19.233Z] INFO  [PID:1111244] ✅ AMI送信成功 {"level":"INFO"}
[2025-06-28T03:46:19.233Z] INFO  [PID:1111244] 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し完了: true ===== {"level":"INFO"}
[2025-06-28T03:46:19.234Z] INFO  [PID:1111244] 🔥 [SIP-DEBUG] sipService.originate 正常完了 (AMI版) {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.233Z] INFO  [PID:1111244][0m ✅ AMI送信成功 {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.233Z] INFO  [PID:1111244][0m ✅ AMI送信成功 {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.233Z] INFO  [PID:1111244][0m 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し完了: true ===== {"level":"INFO"}
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.234Z] INFO  [PID:1111244][0m 🔥 [SIP-DEBUG] sipService.originate 正常完了 (AMI版) {"level":"INFO"}
[2025-06-28T03:46:19.238Z] INFO  [PID:1111244] ✅ 音声付き自動発信成功: 05018086649 → CallID: ami-1751082379227-8596, Provider: sip, Audio: 1件 {"level":"INFO"}
2025-06-28T03:46:19: 🚀🚀🚀 CALLSERVICE-EXEC-2: SIP発信完了: レスポンスあり
2025-06-28T03:46:19: 🚀🚀🚀 CALLSERVICE-SUCCESS: SIP発信成功
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.238Z] INFO  [PID:1111244][0m ✅ 音声付き自動発信成功: 05018086649 → CallID: ami-1751082379227-8596, Provider: sip, Audio: 1件 {"level":"INFO"}
2025-06-28T03:46:19: SQL実行: 
2025-06-28T03:46:19:         INSERT INTO call_logs 
2025-06-28T03:46:19:         (contact_id, campaign_id, caller_id_id, call_id, phone_numbe... パラメータ数: 8
[2025-06-28T03:46:19.245Z] INFO  [PID:1111244] 🎯 音声付き発信診断完了: 05018086649 (処理時間: 34ms, 音声: 1件) {"level":"INFO"}
2025-06-28T03:46:19: SQL実行成功: 結果行数=不明
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.245Z] INFO  [PID:1111244][0m 🎯 音声付き発信診断完了: 05018086649 (処理時間: 34ms, 音声: 1件) {"level":"INFO"}
[2025-06-28T03:46:19.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:19: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:19: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:19: SQL実行成功: 結果行数=1
2025-06-28T03:46:19: SQL実行: 
2025-06-28T03:46:19:       SELECT 
2025-06-28T03:46:19:         COUNT(*) as total,
2025-06-28T03:46:19:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:46:19: SQL実行成功: 結果行数=1
2025-06-28T03:46:19: SQL実行: 
2025-06-28T03:46:19:       SELECT 
2025-06-28T03:46:19:         COUNT(*) as total_calls,
2025-06-28T03:46:19:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:46:19.288Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:19: SQL実行成功: 結果行数=1
2025-06-28T03:46:19: [36m[2025-06-28T03:46:19.288Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
[2025-06-28T03:46:21.246Z] INFO  [PID:1111244] 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
2025-06-28T03:46:21: [36m[2025-06-28T03:46:21.246Z] INFO  [PID:1111244][0m 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
2025-06-28T03:46:24: SQL実行: 
2025-06-28T03:46:24:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:46:24:           FROM contacts 
2025-06-28T03:46:24:           WHERE c... パラメータ数: 1
2025-06-28T03:46:24: SQL実行成功: 結果行数=0
2025-06-28T03:46:24: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:46:24: SQL実行成功: 結果行数=1
[2025-06-28T03:46:24.282Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:24: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:46:24: [36m[2025-06-28T03:46:24.282Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:24: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:24: SQL実行成功: 結果行数=1
2025-06-28T03:46:24: SQL実行: 
2025-06-28T03:46:24:       SELECT 
2025-06-28T03:46:24:         COUNT(*) as total,
2025-06-28T03:46:24:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:46:24: SQL実行成功: 結果行数=1
2025-06-28T03:46:24: SQL実行: 
2025-06-28T03:46:24:       SELECT 
2025-06-28T03:46:24:         COUNT(*) as total_calls,
2025-06-28T03:46:24:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:46:24.286Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:24: SQL実行成功: 結果行数=1
2025-06-28T03:46:24: [36m[2025-06-28T03:46:24.286Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:28: SQL実行: 
2025-06-28T03:46:28:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:46:28:                ci.number as ca... 
2025-06-28T03:46:28: SQL実行成功: 結果行数=77
2025-06-28T03:46:29: SQL実行: 
2025-06-28T03:46:29:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:46:29:           FROM contacts 
2025-06-28T03:46:29:           WHERE c... パラメータ数: 1
2025-06-28T03:46:29: SQL実行成功: 結果行数=0
2025-06-28T03:46:29: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:46:29: SQL実行成功: 結果行数=1
[2025-06-28T03:46:29.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:29: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:46:29: [36m[2025-06-28T03:46:29.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:29: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:29: SQL実行成功: 結果行数=1
2025-06-28T03:46:29: SQL実行: 
2025-06-28T03:46:29:       SELECT 
2025-06-28T03:46:29:         COUNT(*) as total,
2025-06-28T03:46:29:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:46:29: SQL実行成功: 結果行数=1
2025-06-28T03:46:29: SQL実行: 
2025-06-28T03:46:29:       SELECT 
2025-06-28T03:46:29:         COUNT(*) as total_calls,
2025-06-28T03:46:29:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:46:29.288Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:29: SQL実行成功: 結果行数=1
2025-06-28T03:46:29: [36m[2025-06-28T03:46:29.288Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:34: SQL実行: 
2025-06-28T03:46:34:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:46:34:           FROM contacts 
2025-06-28T03:46:34:           WHERE c... パラメータ数: 1
2025-06-28T03:46:34: SQL実行成功: 結果行数=0
2025-06-28T03:46:34: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:46:34: SQL実行成功: 結果行数=1
[2025-06-28T03:46:34.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:34: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:46:34: [36m[2025-06-28T03:46:34.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:34: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:34: SQL実行成功: 結果行数=1
2025-06-28T03:46:34: SQL実行: 
2025-06-28T03:46:34:       SELECT 
2025-06-28T03:46:34:         COUNT(*) as total,
2025-06-28T03:46:34:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:46:34: SQL実行成功: 結果行数=1
2025-06-28T03:46:34: SQL実行: 
2025-06-28T03:46:34:       SELECT 
2025-06-28T03:46:34:         COUNT(*) as total_calls,
2025-06-28T03:46:34:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:46:34: SQL実行成功: 結果行数=1
[2025-06-28T03:46:34.289Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:34: [36m[2025-06-28T03:46:34.289Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:39: SQL実行: 
2025-06-28T03:46:39:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:46:39:           FROM contacts 
2025-06-28T03:46:39:           WHERE c... パラメータ数: 1
2025-06-28T03:46:39: SQL実行成功: 結果行数=0
2025-06-28T03:46:39: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:46:39: SQL実行成功: 結果行数=1
[2025-06-28T03:46:39.286Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:39: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:46:39: [36m[2025-06-28T03:46:39.286Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:39: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:39: SQL実行成功: 結果行数=1
2025-06-28T03:46:39: SQL実行: 
2025-06-28T03:46:39:       SELECT 
2025-06-28T03:46:39:         COUNT(*) as total,
2025-06-28T03:46:39:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:46:39: SQL実行成功: 結果行数=1
2025-06-28T03:46:39: SQL実行: 
2025-06-28T03:46:39:       SELECT 
2025-06-28T03:46:39:         COUNT(*) as total_calls,
2025-06-28T03:46:39:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:46:39.291Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:39: SQL実行成功: 結果行数=1
2025-06-28T03:46:39: [36m[2025-06-28T03:46:39.291Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:39: POST /api/callback/call-end - Origin: none
2025-06-28T03:46:39: ❌ 404 Not Found: POST /api/callback/call-end
[2025-06-28T03:46:41.829Z] INFO  [PID:1111244] 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:46:41: GET /api/ivr/campaigns/168 - Origin: http://146.190.83.205:3003
2025-06-28T03:46:41: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:41: GET /api/audio - Origin: http://146.190.83.205:3003
2025-06-28T03:46:41: [36m[2025-06-28T03:46:41.829Z] INFO  [PID:1111244][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:46:41: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
2025-06-28T03:46:41: SQL実行成功: 結果行数=1
2025-06-28T03:46:41: [36m[2025-06-28T03:46:41.831Z] INFO  [PID:1111244][0m キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
[2025-06-28T03:46:41.831Z] INFO  [PID:1111244] キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
2025-06-28T03:46:41: SQL実行: 
2025-06-28T03:46:41:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:46:41:    ... パラメータ数: 1
[2025-06-28T03:46:41.833Z] INFO  [PID:1111244] 2件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T03:46:41: SQL実行成功: 結果行数=2
2025-06-28T03:46:41: [36m[2025-06-28T03:46:41.833Z] INFO  [PID:1111244][0m 2件の音声ファイルを取得しました {"level":"INFO"}
[2025-06-28T03:46:41.834Z] INFO  [PID:1111244] キャンペーン音声取得結果: Campaign=168, 件数=1 {"level":"INFO"}
2025-06-28T03:46:41: SQL実行成功: 結果行数=1
[2025-06-28T03:46:41.834Z] INFO  [PID:1111244] 音声ファイル詳細: タイプ=welcome, 名前=テスト音声ファイル, ファイル名=welcome-test.wav {"level":"INFO"}
2025-06-28T03:46:41: [36m[2025-06-28T03:46:41.834Z] INFO  [PID:1111244][0m キャンペーン音声取得結果: Campaign=168, 件数=1 {"level":"INFO"}
2025-06-28T03:46:41: [36m[2025-06-28T03:46:41.834Z] INFO  [PID:1111244][0m 音声ファイル詳細: タイプ=welcome, 名前=テスト音声ファイル, ファイル名=welcome-test.wav {"level":"INFO"}
2025-06-28T03:46:41: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T03:46:41: SQL実行成功: 結果行数=0
2025-06-28T03:46:41: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T03:46:41.836Z] INFO  [PID:1111244] キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
2025-06-28T03:46:41: SQL実行成功: 結果行数=1
2025-06-28T03:46:41: [36m[2025-06-28T03:46:41.836Z] INFO  [PID:1111244][0m キャンペーン音声取得開始: Campaign=168 {"level":"INFO"}
2025-06-28T03:46:41: SQL実行: 
2025-06-28T03:46:41:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:46:41:    ... パラメータ数: 1
[2025-06-28T03:46:41.837Z] INFO  [PID:1111244] キャンペーン音声取得結果: Campaign=168, 件数=1 {"level":"INFO"}
[2025-06-28T03:46:41.837Z] INFO  [PID:1111244] 音声ファイル詳細: タイプ=welcome, 名前=テスト音声ファイル, ファイル名=welcome-test.wav {"level":"INFO"}
2025-06-28T03:46:41: SQL実行成功: 結果行数=1
2025-06-28T03:46:41: [36m[2025-06-28T03:46:41.837Z] INFO  [PID:1111244][0m キャンペーン音声取得結果: Campaign=168, 件数=1 {"level":"INFO"}
2025-06-28T03:46:41: [36m[2025-06-28T03:46:41.837Z] INFO  [PID:1111244][0m 音声ファイル詳細: タイプ=welcome, 名前=テスト音声ファイル, ファイル名=welcome-test.wav {"level":"INFO"}
[2025-06-28T03:46:41.838Z] INFO  [PID:1111244] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-168.conf {"level":"INFO"}
2025-06-28T03:46:41: [36m[2025-06-28T03:46:41.838Z] INFO  [PID:1111244][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-168.conf {"level":"INFO"}
2025-06-28T03:46:43: SQL実行: SELECT 1... 
2025-06-28T03:46:43: SQL実行成功: 結果行数=1
2025-06-28T03:46:43: SQL実行: 
2025-06-28T03:46:43:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:46:43:                ci.number as ca... 
2025-06-28T03:46:43: SQL実行成功: 結果行数=77
2025-06-28T03:46:44: SQL実行: 
2025-06-28T03:46:44:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:46:44:           FROM contacts 
2025-06-28T03:46:44:           WHERE c... パラメータ数: 1
2025-06-28T03:46:44: SQL実行成功: 結果行数=0
2025-06-28T03:46:44: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:46:44: SQL実行成功: 結果行数=1
[2025-06-28T03:46:44.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:44: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:46:44: [36m[2025-06-28T03:46:44.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:44: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:44: SQL実行成功: 結果行数=1
2025-06-28T03:46:44: SQL実行: 
2025-06-28T03:46:44:       SELECT 
2025-06-28T03:46:44:         COUNT(*) as total,
2025-06-28T03:46:44:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:46:44: SQL実行成功: 結果行数=1
2025-06-28T03:46:44: SQL実行: 
2025-06-28T03:46:44:       SELECT 
2025-06-28T03:46:44:         COUNT(*) as total_calls,
2025-06-28T03:46:44:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:46:44.288Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:44: SQL実行成功: 結果行数=1
2025-06-28T03:46:44: [36m[2025-06-28T03:46:44.288Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:49: SQL実行: 
2025-06-28T03:46:49:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:46:49:           FROM contacts 
2025-06-28T03:46:49:           WHERE c... パラメータ数: 1
2025-06-28T03:46:49: SQL実行成功: 結果行数=0
2025-06-28T03:46:49: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:46:49: SQL実行成功: 結果行数=1
[2025-06-28T03:46:49.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:49: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:46:49: [36m[2025-06-28T03:46:49.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:49: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:49: SQL実行成功: 結果行数=1
2025-06-28T03:46:49: SQL実行: 
2025-06-28T03:46:49:       SELECT 
2025-06-28T03:46:49:         COUNT(*) as total,
2025-06-28T03:46:49:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:46:49: SQL実行成功: 結果行数=1
2025-06-28T03:46:49: SQL実行: 
2025-06-28T03:46:49:       SELECT 
2025-06-28T03:46:49:         COUNT(*) as total_calls,
2025-06-28T03:46:49:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:46:49.288Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:49: SQL実行成功: 結果行数=1
2025-06-28T03:46:49: [36m[2025-06-28T03:46:49.288Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:54: SQL実行: 
2025-06-28T03:46:54:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:46:54:           FROM contacts 
2025-06-28T03:46:54:           WHERE c... パラメータ数: 1
2025-06-28T03:46:54: SQL実行成功: 結果行数=0
2025-06-28T03:46:54: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:46:54: SQL実行成功: 結果行数=1
[2025-06-28T03:46:54.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:54: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:46:54: [36m[2025-06-28T03:46:54.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:54: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:54: SQL実行成功: 結果行数=1
2025-06-28T03:46:54: SQL実行: 
2025-06-28T03:46:54:       SELECT 
2025-06-28T03:46:54:         COUNT(*) as total,
2025-06-28T03:46:54:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:46:54: SQL実行成功: 結果行数=1
2025-06-28T03:46:54: SQL実行: 
2025-06-28T03:46:54:       SELECT 
2025-06-28T03:46:54:         COUNT(*) as total_calls,
2025-06-28T03:46:54:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:46:54: SQL実行成功: 結果行数=1
[2025-06-28T03:46:54.288Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:54: [36m[2025-06-28T03:46:54.288Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:58: SQL実行: 
2025-06-28T03:46:58:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:46:58:                ci.number as ca... 
2025-06-28T03:46:58: SQL実行成功: 結果行数=77
2025-06-28T03:46:59: SQL実行: 
2025-06-28T03:46:59:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:46:59:           FROM contacts 
2025-06-28T03:46:59:           WHERE c... パラメータ数: 1
2025-06-28T03:46:59: SQL実行成功: 結果行数=0
2025-06-28T03:46:59: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:46:59: SQL実行成功: 結果行数=1
[2025-06-28T03:46:59.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:59: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:46:59: [36m[2025-06-28T03:46:59.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:46:59: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:46:59: SQL実行成功: 結果行数=1
2025-06-28T03:46:59: SQL実行: 
2025-06-28T03:46:59:       SELECT 
2025-06-28T03:46:59:         COUNT(*) as total,
2025-06-28T03:46:59:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:46:59: SQL実行成功: 結果行数=1
2025-06-28T03:46:59: SQL実行: 
2025-06-28T03:46:59:       SELECT 
2025-06-28T03:46:59:         COUNT(*) as total_calls,
2025-06-28T03:46:59:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:46:59.289Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:46:59: SQL実行成功: 結果行数=1
2025-06-28T03:46:59: [36m[2025-06-28T03:46:59.289Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:03: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T03:47:03.338Z] INFO  [PID:1111244] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:47:03: SQL実行成功: 結果行数=1
2025-06-28T03:47:03: [36m[2025-06-28T03:47:03.338Z] INFO  [PID:1111244][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:47:04: SQL実行: 
2025-06-28T03:47:04:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:47:04:           FROM contacts 
2025-06-28T03:47:04:           WHERE c... パラメータ数: 1
2025-06-28T03:47:04: SQL実行成功: 結果行数=0
2025-06-28T03:47:04: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:47:04: SQL実行成功: 結果行数=1
[2025-06-28T03:47:04.285Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:04: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:47:04: [36m[2025-06-28T03:47:04.285Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:04: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:47:04: SQL実行成功: 結果行数=1
2025-06-28T03:47:04: SQL実行: 
2025-06-28T03:47:04:       SELECT 
2025-06-28T03:47:04:         COUNT(*) as total,
2025-06-28T03:47:04:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:47:04: SQL実行成功: 結果行数=1
2025-06-28T03:47:04: SQL実行: 
2025-06-28T03:47:04:       SELECT 
2025-06-28T03:47:04:         COUNT(*) as total_calls,
2025-06-28T03:47:04:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:47:04: SQL実行成功: 結果行数=1
[2025-06-28T03:47:04.289Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:04: [36m[2025-06-28T03:47:04.289Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:09: SQL実行: 
2025-06-28T03:47:09:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:47:09:           FROM contacts 
2025-06-28T03:47:09:           WHERE c... パラメータ数: 1
2025-06-28T03:47:09: SQL実行成功: 結果行数=0
2025-06-28T03:47:09: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:47:09: SQL実行成功: 結果行数=1
[2025-06-28T03:47:09.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:09: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:47:09: [36m[2025-06-28T03:47:09.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:09: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:47:09: SQL実行成功: 結果行数=1
2025-06-28T03:47:09: SQL実行: 
2025-06-28T03:47:09:       SELECT 
2025-06-28T03:47:09:         COUNT(*) as total,
2025-06-28T03:47:09:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:47:09: SQL実行成功: 結果行数=1
2025-06-28T03:47:09: SQL実行: 
2025-06-28T03:47:09:       SELECT 
2025-06-28T03:47:09:         COUNT(*) as total_calls,
2025-06-28T03:47:09:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:47:09.290Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:09: SQL実行成功: 結果行数=1
2025-06-28T03:47:09: [36m[2025-06-28T03:47:09.290Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:13: SQL実行: SELECT 1... 
2025-06-28T03:47:13: SQL実行成功: 結果行数=1
2025-06-28T03:47:13: SQL実行: 
2025-06-28T03:47:13:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:47:13:                ci.number as ca... 
2025-06-28T03:47:13: SQL実行成功: 結果行数=77
2025-06-28T03:47:14: SQL実行: 
2025-06-28T03:47:14:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:47:14:           FROM contacts 
2025-06-28T03:47:14:           WHERE c... パラメータ数: 1
2025-06-28T03:47:14: SQL実行成功: 結果行数=0
2025-06-28T03:47:14: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:47:14: SQL実行成功: 結果行数=1
[2025-06-28T03:47:14.282Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:14: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:47:14: [36m[2025-06-28T03:47:14.282Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:14: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:47:14: SQL実行成功: 結果行数=1
2025-06-28T03:47:14: SQL実行: 
2025-06-28T03:47:14:       SELECT 
2025-06-28T03:47:14:         COUNT(*) as total,
2025-06-28T03:47:14:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:47:14: SQL実行成功: 結果行数=1
2025-06-28T03:47:14: SQL実行: 
2025-06-28T03:47:14:       SELECT 
2025-06-28T03:47:14:         COUNT(*) as total_calls,
2025-06-28T03:47:14:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:47:14.286Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:14: SQL実行成功: 結果行数=1
2025-06-28T03:47:14: [36m[2025-06-28T03:47:14.286Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:19: SQL実行: 
2025-06-28T03:47:19:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:47:19:           FROM contacts 
2025-06-28T03:47:19:           WHERE c... パラメータ数: 1
2025-06-28T03:47:19: SQL実行成功: 結果行数=0
2025-06-28T03:47:19: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:47:19: SQL実行成功: 結果行数=1
[2025-06-28T03:47:19.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:19: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:47:19: [36m[2025-06-28T03:47:19.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:19: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:47:19: SQL実行成功: 結果行数=1
2025-06-28T03:47:19: SQL実行: 
2025-06-28T03:47:19:       SELECT 
2025-06-28T03:47:19:         COUNT(*) as total,
2025-06-28T03:47:19:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:47:19: SQL実行成功: 結果行数=1
2025-06-28T03:47:19: SQL実行: 
2025-06-28T03:47:19:       SELECT 
2025-06-28T03:47:19:         COUNT(*) as total_calls,
2025-06-28T03:47:19:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:47:19.289Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:19: SQL実行成功: 結果行数=1
2025-06-28T03:47:19: [36m[2025-06-28T03:47:19.289Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:24: SQL実行: 
2025-06-28T03:47:24:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:47:24:           FROM contacts 
2025-06-28T03:47:24:           WHERE c... パラメータ数: 1
2025-06-28T03:47:24: SQL実行成功: 結果行数=0
2025-06-28T03:47:24: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:47:24: SQL実行成功: 結果行数=1
[2025-06-28T03:47:24.283Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:24: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:47:24: [36m[2025-06-28T03:47:24.283Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:24: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:47:24: SQL実行成功: 結果行数=1
2025-06-28T03:47:24: SQL実行: 
2025-06-28T03:47:24:       SELECT 
2025-06-28T03:47:24:         COUNT(*) as total,
2025-06-28T03:47:24:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:47:24: SQL実行成功: 結果行数=1
2025-06-28T03:47:24: SQL実行: 
2025-06-28T03:47:24:       SELECT 
2025-06-28T03:47:24:         COUNT(*) as total_calls,
2025-06-28T03:47:24:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:47:24.286Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:24: SQL実行成功: 結果行数=1
2025-06-28T03:47:24: [36m[2025-06-28T03:47:24.286Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:28: SQL実行: 
2025-06-28T03:47:28:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:47:28:                ci.number as ca... 
2025-06-28T03:47:28: SQL実行成功: 結果行数=77
2025-06-28T03:47:29: SQL実行: 
2025-06-28T03:47:29:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:47:29:           FROM contacts 
2025-06-28T03:47:29:           WHERE c... パラメータ数: 1
2025-06-28T03:47:29: SQL実行成功: 結果行数=0
2025-06-28T03:47:29: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:47:29: SQL実行成功: 結果行数=1
[2025-06-28T03:47:29.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:29: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:47:29: [36m[2025-06-28T03:47:29.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:29: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:47:29: SQL実行成功: 結果行数=1
2025-06-28T03:47:29: SQL実行: 
2025-06-28T03:47:29:       SELECT 
2025-06-28T03:47:29:         COUNT(*) as total,
2025-06-28T03:47:29:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:47:29: SQL実行成功: 結果行数=1
2025-06-28T03:47:29: SQL実行: 
2025-06-28T03:47:29:       SELECT 
2025-06-28T03:47:29:         COUNT(*) as total_calls,
2025-06-28T03:47:29:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:47:29.288Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:29: SQL実行成功: 結果行数=1
2025-06-28T03:47:29: [36m[2025-06-28T03:47:29.288Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:34: SQL実行: 
2025-06-28T03:47:34:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:47:34:           FROM contacts 
2025-06-28T03:47:34:           WHERE c... パラメータ数: 1
2025-06-28T03:47:34: SQL実行成功: 結果行数=0
2025-06-28T03:47:34: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:47:34: SQL実行成功: 結果行数=1
[2025-06-28T03:47:34.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:34: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:47:34: [36m[2025-06-28T03:47:34.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:34: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:47:34: SQL実行成功: 結果行数=1
2025-06-28T03:47:34: SQL実行: 
2025-06-28T03:47:34:       SELECT 
2025-06-28T03:47:34:         COUNT(*) as total,
2025-06-28T03:47:34:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:47:34: SQL実行成功: 結果行数=1
2025-06-28T03:47:34: SQL実行: 
2025-06-28T03:47:34:       SELECT 
2025-06-28T03:47:34:         COUNT(*) as total_calls,
2025-06-28T03:47:34:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:47:34.288Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:34: SQL実行成功: 結果行数=1
2025-06-28T03:47:34: [36m[2025-06-28T03:47:34.288Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:39: SQL実行: 
2025-06-28T03:47:39:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:47:39:           FROM contacts 
2025-06-28T03:47:39:           WHERE c... パラメータ数: 1
2025-06-28T03:47:39: SQL実行成功: 結果行数=0
2025-06-28T03:47:39: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:47:39: SQL実行成功: 結果行数=1
2025-06-28T03:47:39: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:47:39: [36m[2025-06-28T03:47:39.283Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
[2025-06-28T03:47:39.283Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:39: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:47:39: SQL実行成功: 結果行数=1
2025-06-28T03:47:39: SQL実行: 
2025-06-28T03:47:39:       SELECT 
2025-06-28T03:47:39:         COUNT(*) as total,
2025-06-28T03:47:39:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:47:39: SQL実行成功: 結果行数=1
2025-06-28T03:47:39: SQL実行: 
2025-06-28T03:47:39:       SELECT 
2025-06-28T03:47:39:         COUNT(*) as total_calls,
2025-06-28T03:47:39:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:47:39.290Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:39: SQL実行成功: 結果行数=1
2025-06-28T03:47:39: [36m[2025-06-28T03:47:39.290Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:43: SQL実行: SELECT 1... 
2025-06-28T03:47:43: SQL実行成功: 結果行数=1
2025-06-28T03:47:43: SQL実行: 
2025-06-28T03:47:43:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:47:43:                ci.number as ca... 
2025-06-28T03:47:43: SQL実行成功: 結果行数=77
2025-06-28T03:47:44: SQL実行: 
2025-06-28T03:47:44:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:47:44:           FROM contacts 
2025-06-28T03:47:44:           WHERE c... パラメータ数: 1
2025-06-28T03:47:44: SQL実行成功: 結果行数=0
2025-06-28T03:47:44: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:47:44: SQL実行成功: 結果行数=1
[2025-06-28T03:47:44.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:44: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:47:44: [36m[2025-06-28T03:47:44.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:44: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:47:44: SQL実行成功: 結果行数=1
2025-06-28T03:47:44: SQL実行: 
2025-06-28T03:47:44:       SELECT 
2025-06-28T03:47:44:         COUNT(*) as total,
2025-06-28T03:47:44:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:47:44: SQL実行成功: 結果行数=1
2025-06-28T03:47:44: SQL実行: 
2025-06-28T03:47:44:       SELECT 
2025-06-28T03:47:44:         COUNT(*) as total_calls,
2025-06-28T03:47:44:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:47:44.289Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:44: SQL実行成功: 結果行数=1
2025-06-28T03:47:44: [36m[2025-06-28T03:47:44.289Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:49: SQL実行: 
2025-06-28T03:47:49:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:47:49:           FROM contacts 
2025-06-28T03:47:49:           WHERE c... パラメータ数: 1
2025-06-28T03:47:49: SQL実行成功: 結果行数=0
2025-06-28T03:47:49: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:47:49: SQL実行成功: 結果行数=1
[2025-06-28T03:47:49.286Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:49: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:47:49: [36m[2025-06-28T03:47:49.286Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:49: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:47:49: SQL実行成功: 結果行数=1
2025-06-28T03:47:49: SQL実行: 
2025-06-28T03:47:49:       SELECT 
2025-06-28T03:47:49:         COUNT(*) as total,
2025-06-28T03:47:49:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:47:49: SQL実行成功: 結果行数=1
2025-06-28T03:47:49: SQL実行: 
2025-06-28T03:47:49:       SELECT 
2025-06-28T03:47:49:         COUNT(*) as total_calls,
2025-06-28T03:47:49:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:47:49.290Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:49: SQL実行成功: 結果行数=1
2025-06-28T03:47:49: [36m[2025-06-28T03:47:49.290Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:54: SQL実行: 
2025-06-28T03:47:54:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:47:54:           FROM contacts 
2025-06-28T03:47:54:           WHERE c... パラメータ数: 1
2025-06-28T03:47:54: SQL実行成功: 結果行数=0
2025-06-28T03:47:54: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:47:54: SQL実行成功: 結果行数=1
[2025-06-28T03:47:54.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:54: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:47:54: [36m[2025-06-28T03:47:54.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:54: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:47:54: SQL実行成功: 結果行数=1
2025-06-28T03:47:54: SQL実行: 
2025-06-28T03:47:54:       SELECT 
2025-06-28T03:47:54:         COUNT(*) as total,
2025-06-28T03:47:54:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:47:54: SQL実行成功: 結果行数=1
2025-06-28T03:47:54: SQL実行: 
2025-06-28T03:47:54:       SELECT 
2025-06-28T03:47:54:         COUNT(*) as total_calls,
2025-06-28T03:47:54:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:47:54: SQL実行成功: 結果行数=1
[2025-06-28T03:47:54.287Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:54: [36m[2025-06-28T03:47:54.287Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:58: SQL実行: 
2025-06-28T03:47:58:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:47:58:                ci.number as ca... 
2025-06-28T03:47:58: SQL実行成功: 結果行数=77
2025-06-28T03:47:59: SQL実行: 
2025-06-28T03:47:59:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:47:59:           FROM contacts 
2025-06-28T03:47:59:           WHERE c... パラメータ数: 1
2025-06-28T03:47:59: SQL実行成功: 結果行数=0
2025-06-28T03:47:59: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:47:59: SQL実行成功: 結果行数=1
[2025-06-28T03:47:59.288Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:59: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:47:59: [36m[2025-06-28T03:47:59.288Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:47:59: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:47:59: SQL実行成功: 結果行数=1
2025-06-28T03:47:59: SQL実行: 
2025-06-28T03:47:59:       SELECT 
2025-06-28T03:47:59:         COUNT(*) as total,
2025-06-28T03:47:59:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:47:59: SQL実行成功: 結果行数=1
2025-06-28T03:47:59: SQL実行: 
2025-06-28T03:47:59:       SELECT 
2025-06-28T03:47:59:         COUNT(*) as total_calls,
2025-06-28T03:47:59:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:47:59: SQL実行成功: 結果行数=1
[2025-06-28T03:47:59.291Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:47:59: [36m[2025-06-28T03:47:59.291Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:03: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T03:48:03.339Z] INFO  [PID:1111244] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:48:03: SQL実行成功: 結果行数=1
2025-06-28T03:48:03: [36m[2025-06-28T03:48:03.339Z] INFO  [PID:1111244][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:48:04: SQL実行: 
2025-06-28T03:48:04:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:48:04:           FROM contacts 
2025-06-28T03:48:04:           WHERE c... パラメータ数: 1
2025-06-28T03:48:04: SQL実行成功: 結果行数=0
2025-06-28T03:48:04: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:48:04: SQL実行成功: 結果行数=1
[2025-06-28T03:48:04.287Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:04: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:48:04: [36m[2025-06-28T03:48:04.287Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:04: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:48:04: SQL実行成功: 結果行数=1
2025-06-28T03:48:04: SQL実行: 
2025-06-28T03:48:04:       SELECT 
2025-06-28T03:48:04:         COUNT(*) as total,
2025-06-28T03:48:04:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:48:04: SQL実行成功: 結果行数=1
2025-06-28T03:48:04: SQL実行: 
2025-06-28T03:48:04:       SELECT 
2025-06-28T03:48:04:         COUNT(*) as total_calls,
2025-06-28T03:48:04:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:48:04.304Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:04: SQL実行成功: 結果行数=1
2025-06-28T03:48:04: [36m[2025-06-28T03:48:04.304Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:09: SQL実行: 
2025-06-28T03:48:09:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:48:09:           FROM contacts 
2025-06-28T03:48:09:           WHERE c... パラメータ数: 1
2025-06-28T03:48:09: SQL実行成功: 結果行数=0
2025-06-28T03:48:09: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:48:09: SQL実行成功: 結果行数=1
[2025-06-28T03:48:09.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:09: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:48:09: [36m[2025-06-28T03:48:09.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:09: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:48:09: SQL実行成功: 結果行数=1
2025-06-28T03:48:09: SQL実行: 
2025-06-28T03:48:09:       SELECT 
2025-06-28T03:48:09:         COUNT(*) as total,
2025-06-28T03:48:09:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:48:09: SQL実行成功: 結果行数=1
2025-06-28T03:48:09: SQL実行: 
2025-06-28T03:48:09:       SELECT 
2025-06-28T03:48:09:         COUNT(*) as total_calls,
2025-06-28T03:48:09:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:48:09.289Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:09: SQL実行成功: 結果行数=1
2025-06-28T03:48:09: [36m[2025-06-28T03:48:09.289Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:13: SQL実行: SELECT 1... 
2025-06-28T03:48:13: SQL実行成功: 結果行数=1
2025-06-28T03:48:13: SQL実行: 
2025-06-28T03:48:13:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:48:13:                ci.number as ca... 
2025-06-28T03:48:13: SQL実行成功: 結果行数=77
2025-06-28T03:48:14: SQL実行: 
2025-06-28T03:48:14:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:48:14:           FROM contacts 
2025-06-28T03:48:14:           WHERE c... パラメータ数: 1
2025-06-28T03:48:14: SQL実行成功: 結果行数=0
2025-06-28T03:48:14: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:48:14: SQL実行成功: 結果行数=1
[2025-06-28T03:48:14.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:14: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:48:14: [36m[2025-06-28T03:48:14.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:14: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:48:14: SQL実行成功: 結果行数=1
2025-06-28T03:48:14: SQL実行: 
2025-06-28T03:48:14:       SELECT 
2025-06-28T03:48:14:         COUNT(*) as total,
2025-06-28T03:48:14:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:48:14: SQL実行成功: 結果行数=1
2025-06-28T03:48:14: SQL実行: 
2025-06-28T03:48:14:       SELECT 
2025-06-28T03:48:14:         COUNT(*) as total_calls,
2025-06-28T03:48:14:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:48:14.288Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:14: SQL実行成功: 結果行数=1
2025-06-28T03:48:14: [36m[2025-06-28T03:48:14.288Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:19: SQL実行: 
2025-06-28T03:48:19:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:48:19:           FROM contacts 
2025-06-28T03:48:19:           WHERE c... パラメータ数: 1
2025-06-28T03:48:19: SQL実行成功: 結果行数=0
2025-06-28T03:48:19: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:48:19: SQL実行成功: 結果行数=1
[2025-06-28T03:48:19.286Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:19: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:48:19: [36m[2025-06-28T03:48:19.286Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:19: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:48:19: SQL実行成功: 結果行数=1
2025-06-28T03:48:19: SQL実行: 
2025-06-28T03:48:19:       SELECT 
2025-06-28T03:48:19:         COUNT(*) as total,
2025-06-28T03:48:19:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:48:19: SQL実行成功: 結果行数=1
2025-06-28T03:48:19: SQL実行: 
2025-06-28T03:48:19:       SELECT 
2025-06-28T03:48:19:         COUNT(*) as total_calls,
2025-06-28T03:48:19:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:48:19.291Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:19: SQL実行成功: 結果行数=1
2025-06-28T03:48:19: [36m[2025-06-28T03:48:19.291Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:24: SQL実行: 
2025-06-28T03:48:24:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:48:24:           FROM contacts 
2025-06-28T03:48:24:           WHERE c... パラメータ数: 1
2025-06-28T03:48:24: SQL実行成功: 結果行数=0
2025-06-28T03:48:24: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:48:24: SQL実行成功: 結果行数=1
[2025-06-28T03:48:24.290Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:24: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:48:24: [36m[2025-06-28T03:48:24.290Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:24: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:48:24: SQL実行成功: 結果行数=1
2025-06-28T03:48:24: SQL実行: 
2025-06-28T03:48:24:       SELECT 
2025-06-28T03:48:24:         COUNT(*) as total,
2025-06-28T03:48:24:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:48:24: SQL実行成功: 結果行数=1
2025-06-28T03:48:24: SQL実行: 
2025-06-28T03:48:24:       SELECT 
2025-06-28T03:48:24:         COUNT(*) as total_calls,
2025-06-28T03:48:24:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:48:24.294Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:24: SQL実行成功: 結果行数=1
2025-06-28T03:48:24: [36m[2025-06-28T03:48:24.294Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:28: SQL実行: 
2025-06-28T03:48:28:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:48:28:                ci.number as ca... 
2025-06-28T03:48:28: SQL実行成功: 結果行数=77
2025-06-28T03:48:29: SQL実行: 
2025-06-28T03:48:29:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:48:29:           FROM contacts 
2025-06-28T03:48:29:           WHERE c... パラメータ数: 1
2025-06-28T03:48:29: SQL実行成功: 結果行数=0
2025-06-28T03:48:29: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:48:29: SQL実行成功: 結果行数=1
[2025-06-28T03:48:29.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:29: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:48:29: [36m[2025-06-28T03:48:29.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:29: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:48:29: SQL実行成功: 結果行数=1
2025-06-28T03:48:29: SQL実行: 
2025-06-28T03:48:29:       SELECT 
2025-06-28T03:48:29:         COUNT(*) as total,
2025-06-28T03:48:29:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:48:29: SQL実行成功: 結果行数=1
2025-06-28T03:48:29: SQL実行: 
2025-06-28T03:48:29:       SELECT 
2025-06-28T03:48:29:         COUNT(*) as total_calls,
2025-06-28T03:48:29:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:48:29.289Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:29: SQL実行成功: 結果行数=1
2025-06-28T03:48:29: [36m[2025-06-28T03:48:29.289Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:34: SQL実行: 
2025-06-28T03:48:34:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:48:34:           FROM contacts 
2025-06-28T03:48:34:           WHERE c... パラメータ数: 1
2025-06-28T03:48:34: SQL実行成功: 結果行数=0
2025-06-28T03:48:34: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:48:34: SQL実行成功: 結果行数=1
[2025-06-28T03:48:34.292Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:34: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:48:34: [36m[2025-06-28T03:48:34.292Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:34: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:48:34: SQL実行成功: 結果行数=1
2025-06-28T03:48:34: SQL実行: 
2025-06-28T03:48:34:       SELECT 
2025-06-28T03:48:34:         COUNT(*) as total,
2025-06-28T03:48:34:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:48:34: SQL実行成功: 結果行数=1
2025-06-28T03:48:34: SQL実行: 
2025-06-28T03:48:34:       SELECT 
2025-06-28T03:48:34:         COUNT(*) as total_calls,
2025-06-28T03:48:34:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:48:34.295Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:34: SQL実行成功: 結果行数=1
2025-06-28T03:48:34: [36m[2025-06-28T03:48:34.295Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:39: SQL実行: 
2025-06-28T03:48:39:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:48:39:           FROM contacts 
2025-06-28T03:48:39:           WHERE c... パラメータ数: 1
2025-06-28T03:48:39: SQL実行成功: 結果行数=0
2025-06-28T03:48:39: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:48:39: SQL実行成功: 結果行数=1
[2025-06-28T03:48:39.285Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:39: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:48:39: [36m[2025-06-28T03:48:39.285Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:39: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:48:39: SQL実行成功: 結果行数=1
2025-06-28T03:48:39: SQL実行: 
2025-06-28T03:48:39:       SELECT 
2025-06-28T03:48:39:         COUNT(*) as total,
2025-06-28T03:48:39:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:48:39: SQL実行成功: 結果行数=1
2025-06-28T03:48:39: SQL実行: 
2025-06-28T03:48:39:       SELECT 
2025-06-28T03:48:39:         COUNT(*) as total_calls,
2025-06-28T03:48:39:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:48:39.289Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:39: SQL実行成功: 結果行数=1
2025-06-28T03:48:39: [36m[2025-06-28T03:48:39.289Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:43: SQL実行: SELECT 1... 
2025-06-28T03:48:43: SQL実行成功: 結果行数=1
2025-06-28T03:48:43: SQL実行: 
2025-06-28T03:48:43:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:48:43:                ci.number as ca... 
2025-06-28T03:48:43: SQL実行成功: 結果行数=77
2025-06-28T03:48:44: SQL実行: 
2025-06-28T03:48:44:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:48:44:           FROM contacts 
2025-06-28T03:48:44:           WHERE c... パラメータ数: 1
2025-06-28T03:48:44: SQL実行成功: 結果行数=0
2025-06-28T03:48:44: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:48:44: SQL実行成功: 結果行数=1
[2025-06-28T03:48:44.285Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:44: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:48:44: [36m[2025-06-28T03:48:44.285Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:44: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:48:44: SQL実行成功: 結果行数=1
2025-06-28T03:48:44: SQL実行: 
2025-06-28T03:48:44:       SELECT 
2025-06-28T03:48:44:         COUNT(*) as total,
2025-06-28T03:48:44:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:48:44: SQL実行成功: 結果行数=1
2025-06-28T03:48:44: SQL実行: 
2025-06-28T03:48:44:       SELECT 
2025-06-28T03:48:44:         COUNT(*) as total_calls,
2025-06-28T03:48:44:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:48:44.289Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:44: SQL実行成功: 結果行数=1
2025-06-28T03:48:44: [36m[2025-06-28T03:48:44.289Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:49: SQL実行: 
2025-06-28T03:48:49:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:48:49:           FROM contacts 
2025-06-28T03:48:49:           WHERE c... パラメータ数: 1
2025-06-28T03:48:49: SQL実行成功: 結果行数=0
2025-06-28T03:48:49: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:48:49: SQL実行成功: 結果行数=1
[2025-06-28T03:48:49.286Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:49: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:48:49: [36m[2025-06-28T03:48:49.286Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:49: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:48:49: SQL実行成功: 結果行数=1
2025-06-28T03:48:49: SQL実行: 
2025-06-28T03:48:49:       SELECT 
2025-06-28T03:48:49:         COUNT(*) as total,
2025-06-28T03:48:49:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:48:49: SQL実行成功: 結果行数=1
2025-06-28T03:48:49: SQL実行: 
2025-06-28T03:48:49:       SELECT 
2025-06-28T03:48:49:         COUNT(*) as total_calls,
2025-06-28T03:48:49:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:48:49.290Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:49: SQL実行成功: 結果行数=1
2025-06-28T03:48:49: [36m[2025-06-28T03:48:49.290Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:54: SQL実行: 
2025-06-28T03:48:54:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:48:54:           FROM contacts 
2025-06-28T03:48:54:           WHERE c... パラメータ数: 1
2025-06-28T03:48:54: SQL実行成功: 結果行数=0
2025-06-28T03:48:54: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:48:54: SQL実行成功: 結果行数=1
[2025-06-28T03:48:54.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:54: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:48:54: [36m[2025-06-28T03:48:54.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:54: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:48:54: SQL実行成功: 結果行数=1
2025-06-28T03:48:54: SQL実行: 
2025-06-28T03:48:54:       SELECT 
2025-06-28T03:48:54:         COUNT(*) as total,
2025-06-28T03:48:54:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:48:54: SQL実行成功: 結果行数=1
2025-06-28T03:48:54: SQL実行: 
2025-06-28T03:48:54:       SELECT 
2025-06-28T03:48:54:         COUNT(*) as total_calls,
2025-06-28T03:48:54:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:48:54: SQL実行成功: 結果行数=1
[2025-06-28T03:48:54.287Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:54: [36m[2025-06-28T03:48:54.287Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:58: SQL実行: 
2025-06-28T03:48:58:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:48:58:                ci.number as ca... 
2025-06-28T03:48:58: SQL実行成功: 結果行数=77
2025-06-28T03:48:59: SQL実行: 
2025-06-28T03:48:59:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:48:59:           FROM contacts 
2025-06-28T03:48:59:           WHERE c... パラメータ数: 1
2025-06-28T03:48:59: SQL実行成功: 結果行数=0
2025-06-28T03:48:59: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:48:59: SQL実行成功: 結果行数=1
[2025-06-28T03:48:59.285Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:59: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:48:59: [36m[2025-06-28T03:48:59.285Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:48:59: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:48:59: SQL実行成功: 結果行数=1
2025-06-28T03:48:59: SQL実行: 
2025-06-28T03:48:59:       SELECT 
2025-06-28T03:48:59:         COUNT(*) as total,
2025-06-28T03:48:59:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:48:59: SQL実行成功: 結果行数=1
2025-06-28T03:48:59: SQL実行: 
2025-06-28T03:48:59:       SELECT 
2025-06-28T03:48:59:         COUNT(*) as total_calls,
2025-06-28T03:48:59:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:48:59.288Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:48:59: SQL実行成功: 結果行数=1
2025-06-28T03:48:59: [36m[2025-06-28T03:48:59.288Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:03: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T03:49:03.339Z] INFO  [PID:1111244] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:49:03: SQL実行成功: 結果行数=1
2025-06-28T03:49:03: [36m[2025-06-28T03:49:03.339Z] INFO  [PID:1111244][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:49:04: SQL実行: 
2025-06-28T03:49:04:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:49:04:           FROM contacts 
2025-06-28T03:49:04:           WHERE c... パラメータ数: 1
2025-06-28T03:49:04: SQL実行成功: 結果行数=0
2025-06-28T03:49:04: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:49:04: SQL実行成功: 結果行数=1
[2025-06-28T03:49:04.286Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:04: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:49:04: [36m[2025-06-28T03:49:04.286Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:04: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:49:04: SQL実行成功: 結果行数=1
2025-06-28T03:49:04: SQL実行: 
2025-06-28T03:49:04:       SELECT 
2025-06-28T03:49:04:         COUNT(*) as total,
2025-06-28T03:49:04:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:49:04: SQL実行成功: 結果行数=1
2025-06-28T03:49:04: SQL実行: 
2025-06-28T03:49:04:       SELECT 
2025-06-28T03:49:04:         COUNT(*) as total_calls,
2025-06-28T03:49:04:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:49:04: SQL実行成功: 結果行数=1
[2025-06-28T03:49:04.291Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:04: [36m[2025-06-28T03:49:04.291Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:09: SQL実行: 
2025-06-28T03:49:09:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:49:09:           FROM contacts 
2025-06-28T03:49:09:           WHERE c... パラメータ数: 1
2025-06-28T03:49:09: SQL実行成功: 結果行数=0
2025-06-28T03:49:09: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:49:09: SQL実行成功: 結果行数=1
[2025-06-28T03:49:09.285Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:09: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:49:09: [36m[2025-06-28T03:49:09.285Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:09: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:49:09: SQL実行成功: 結果行数=1
2025-06-28T03:49:09: SQL実行: 
2025-06-28T03:49:09:       SELECT 
2025-06-28T03:49:09:         COUNT(*) as total,
2025-06-28T03:49:09:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:49:09: SQL実行成功: 結果行数=1
2025-06-28T03:49:09: SQL実行: 
2025-06-28T03:49:09:       SELECT 
2025-06-28T03:49:09:         COUNT(*) as total_calls,
2025-06-28T03:49:09:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:49:09.290Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:09: SQL実行成功: 結果行数=1
2025-06-28T03:49:09: [36m[2025-06-28T03:49:09.290Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:13: SQL実行: SELECT 1... 
2025-06-28T03:49:13: SQL実行成功: 結果行数=1
2025-06-28T03:49:13: SQL実行: 
2025-06-28T03:49:13:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:49:13:                ci.number as ca... 
2025-06-28T03:49:13: SQL実行成功: 結果行数=77
2025-06-28T03:49:14: SQL実行: 
2025-06-28T03:49:14:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:49:14:           FROM contacts 
2025-06-28T03:49:14:           WHERE c... パラメータ数: 1
2025-06-28T03:49:14: SQL実行成功: 結果行数=0
2025-06-28T03:49:14: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:49:14: SQL実行成功: 結果行数=1
[2025-06-28T03:49:14.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:14: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:49:14: [36m[2025-06-28T03:49:14.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:14: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:49:14: SQL実行成功: 結果行数=1
2025-06-28T03:49:14: SQL実行: 
2025-06-28T03:49:14:       SELECT 
2025-06-28T03:49:14:         COUNT(*) as total,
2025-06-28T03:49:14:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:49:14: SQL実行成功: 結果行数=1
2025-06-28T03:49:14: SQL実行: 
2025-06-28T03:49:14:       SELECT 
2025-06-28T03:49:14:         COUNT(*) as total_calls,
2025-06-28T03:49:14:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:49:14: SQL実行成功: 結果行数=1
[2025-06-28T03:49:14.288Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:14: [36m[2025-06-28T03:49:14.288Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:19: SQL実行: 
2025-06-28T03:49:19:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:49:19:           FROM contacts 
2025-06-28T03:49:19:           WHERE c... パラメータ数: 1
2025-06-28T03:49:19: SQL実行成功: 結果行数=0
2025-06-28T03:49:19: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:49:19: SQL実行成功: 結果行数=1
[2025-06-28T03:49:19.286Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:19: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:49:19: [36m[2025-06-28T03:49:19.286Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:19: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:49:19: SQL実行成功: 結果行数=1
2025-06-28T03:49:19: SQL実行: 
2025-06-28T03:49:19:       SELECT 
2025-06-28T03:49:19:         COUNT(*) as total,
2025-06-28T03:49:19:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:49:19: SQL実行成功: 結果行数=1
2025-06-28T03:49:19: SQL実行: 
2025-06-28T03:49:19:       SELECT 
2025-06-28T03:49:19:         COUNT(*) as total_calls,
2025-06-28T03:49:19:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:49:19.292Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:19: SQL実行成功: 結果行数=1
2025-06-28T03:49:19: [36m[2025-06-28T03:49:19.292Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:24: SQL実行: 
2025-06-28T03:49:24:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:49:24:           FROM contacts 
2025-06-28T03:49:24:           WHERE c... パラメータ数: 1
2025-06-28T03:49:24: SQL実行成功: 結果行数=0
2025-06-28T03:49:24: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:49:24: SQL実行成功: 結果行数=1
[2025-06-28T03:49:24.287Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:24: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:49:24: [36m[2025-06-28T03:49:24.287Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:24: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:49:24: SQL実行成功: 結果行数=1
2025-06-28T03:49:24: SQL実行: 
2025-06-28T03:49:24:       SELECT 
2025-06-28T03:49:24:         COUNT(*) as total,
2025-06-28T03:49:24:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:49:24: SQL実行成功: 結果行数=1
2025-06-28T03:49:24: SQL実行: 
2025-06-28T03:49:24:       SELECT 
2025-06-28T03:49:24:         COUNT(*) as total_calls,
2025-06-28T03:49:24:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:49:24.294Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:24: SQL実行成功: 結果行数=1
2025-06-28T03:49:24: [36m[2025-06-28T03:49:24.294Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:28: SQL実行: 
2025-06-28T03:49:28:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:49:28:                ci.number as ca... 
2025-06-28T03:49:28: SQL実行成功: 結果行数=77
2025-06-28T03:49:29: SQL実行: 
2025-06-28T03:49:29:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:49:29:           FROM contacts 
2025-06-28T03:49:29:           WHERE c... パラメータ数: 1
2025-06-28T03:49:29: SQL実行成功: 結果行数=0
2025-06-28T03:49:29: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:49:29: SQL実行成功: 結果行数=1
[2025-06-28T03:49:29.287Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:29: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:49:29: [36m[2025-06-28T03:49:29.287Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:29: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:49:29: SQL実行成功: 結果行数=1
2025-06-28T03:49:29: SQL実行: 
2025-06-28T03:49:29:       SELECT 
2025-06-28T03:49:29:         COUNT(*) as total,
2025-06-28T03:49:29:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:49:29: SQL実行成功: 結果行数=1
2025-06-28T03:49:29: SQL実行: 
2025-06-28T03:49:29:       SELECT 
2025-06-28T03:49:29:         COUNT(*) as total_calls,
2025-06-28T03:49:29:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:49:29.292Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:29: SQL実行成功: 結果行数=1
2025-06-28T03:49:29: [36m[2025-06-28T03:49:29.292Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:34: SQL実行: 
2025-06-28T03:49:34:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:49:34:           FROM contacts 
2025-06-28T03:49:34:           WHERE c... パラメータ数: 1
2025-06-28T03:49:34: SQL実行成功: 結果行数=0
2025-06-28T03:49:34: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:49:34: SQL実行成功: 結果行数=1
[2025-06-28T03:49:34.285Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:34: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:49:34: [36m[2025-06-28T03:49:34.285Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:34: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:49:34: SQL実行成功: 結果行数=1
2025-06-28T03:49:34: SQL実行: 
2025-06-28T03:49:34:       SELECT 
2025-06-28T03:49:34:         COUNT(*) as total,
2025-06-28T03:49:34:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:49:34: SQL実行成功: 結果行数=1
2025-06-28T03:49:34: SQL実行: 
2025-06-28T03:49:34:       SELECT 
2025-06-28T03:49:34:         COUNT(*) as total_calls,
2025-06-28T03:49:34:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:49:34.290Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:34: SQL実行成功: 結果行数=1
2025-06-28T03:49:34: [36m[2025-06-28T03:49:34.290Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:39: SQL実行: 
2025-06-28T03:49:39:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:49:39:           FROM contacts 
2025-06-28T03:49:39:           WHERE c... パラメータ数: 1
2025-06-28T03:49:39: SQL実行成功: 結果行数=0
2025-06-28T03:49:39: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:49:39: SQL実行成功: 結果行数=1
[2025-06-28T03:49:39.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:39: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:49:39: [36m[2025-06-28T03:49:39.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:39: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:49:39: SQL実行成功: 結果行数=1
2025-06-28T03:49:39: SQL実行: 
2025-06-28T03:49:39:       SELECT 
2025-06-28T03:49:39:         COUNT(*) as total,
2025-06-28T03:49:39:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:49:39: SQL実行成功: 結果行数=1
2025-06-28T03:49:39: SQL実行: 
2025-06-28T03:49:39:       SELECT 
2025-06-28T03:49:39:         COUNT(*) as total_calls,
2025-06-28T03:49:39:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:49:39: SQL実行成功: 結果行数=1
[2025-06-28T03:49:39.288Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:39: [36m[2025-06-28T03:49:39.288Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:43: SQL実行: SELECT 1... 
2025-06-28T03:49:43: SQL実行成功: 結果行数=1
2025-06-28T03:49:43: SQL実行: 
2025-06-28T03:49:43:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:49:43:                ci.number as ca... 
2025-06-28T03:49:43: SQL実行成功: 結果行数=77
2025-06-28T03:49:44: SQL実行: 
2025-06-28T03:49:44:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:49:44:           FROM contacts 
2025-06-28T03:49:44:           WHERE c... パラメータ数: 1
2025-06-28T03:49:44: SQL実行成功: 結果行数=0
2025-06-28T03:49:44: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:49:44: SQL実行成功: 結果行数=1
[2025-06-28T03:49:44.286Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:44: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:49:44: [36m[2025-06-28T03:49:44.286Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:44: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:49:44: SQL実行成功: 結果行数=1
2025-06-28T03:49:44: SQL実行: 
2025-06-28T03:49:44:       SELECT 
2025-06-28T03:49:44:         COUNT(*) as total,
2025-06-28T03:49:44:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:49:44: SQL実行成功: 結果行数=1
2025-06-28T03:49:44: SQL実行: 
2025-06-28T03:49:44:       SELECT 
2025-06-28T03:49:44:         COUNT(*) as total_calls,
2025-06-28T03:49:44:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:49:44.290Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:44: SQL実行成功: 結果行数=1
2025-06-28T03:49:44: [36m[2025-06-28T03:49:44.290Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:49: SQL実行: 
2025-06-28T03:49:49:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:49:49:           FROM contacts 
2025-06-28T03:49:49:           WHERE c... パラメータ数: 1
2025-06-28T03:49:49: SQL実行成功: 結果行数=0
2025-06-28T03:49:49: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:49:49: SQL実行成功: 結果行数=1
[2025-06-28T03:49:49.286Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:49: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:49:49: [36m[2025-06-28T03:49:49.286Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:49: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:49:49: SQL実行成功: 結果行数=1
2025-06-28T03:49:49: SQL実行: 
2025-06-28T03:49:49:       SELECT 
2025-06-28T03:49:49:         COUNT(*) as total,
2025-06-28T03:49:49:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:49:49: SQL実行成功: 結果行数=1
2025-06-28T03:49:49: SQL実行: 
2025-06-28T03:49:49:       SELECT 
2025-06-28T03:49:49:         COUNT(*) as total_calls,
2025-06-28T03:49:49:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:49:49.289Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:49: SQL実行成功: 結果行数=1
2025-06-28T03:49:49: [36m[2025-06-28T03:49:49.289Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:54: SQL実行: 
2025-06-28T03:49:54:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:49:54:           FROM contacts 
2025-06-28T03:49:54:           WHERE c... パラメータ数: 1
2025-06-28T03:49:54: SQL実行成功: 結果行数=0
2025-06-28T03:49:54: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:49:54: SQL実行成功: 結果行数=1
[2025-06-28T03:49:54.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:54: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:49:54: [36m[2025-06-28T03:49:54.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:54: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:49:54: SQL実行成功: 結果行数=1
2025-06-28T03:49:54: SQL実行: 
2025-06-28T03:49:54:       SELECT 
2025-06-28T03:49:54:         COUNT(*) as total,
2025-06-28T03:49:54:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:49:54: SQL実行成功: 結果行数=1
2025-06-28T03:49:54: SQL実行: 
2025-06-28T03:49:54:       SELECT 
2025-06-28T03:49:54:         COUNT(*) as total_calls,
2025-06-28T03:49:54:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:49:54.288Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:54: SQL実行成功: 結果行数=1
2025-06-28T03:49:54: [36m[2025-06-28T03:49:54.288Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:58: SQL実行: 
2025-06-28T03:49:58:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:49:58:                ci.number as ca... 
2025-06-28T03:49:58: SQL実行成功: 結果行数=77
2025-06-28T03:49:59: SQL実行: 
2025-06-28T03:49:59:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:49:59:           FROM contacts 
2025-06-28T03:49:59:           WHERE c... パラメータ数: 1
2025-06-28T03:49:59: SQL実行成功: 結果行数=0
2025-06-28T03:49:59: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:49:59: SQL実行成功: 結果行数=1
[2025-06-28T03:49:59.285Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:59: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:49:59: [36m[2025-06-28T03:49:59.285Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:49:59: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:49:59: SQL実行成功: 結果行数=1
2025-06-28T03:49:59: SQL実行: 
2025-06-28T03:49:59:       SELECT 
2025-06-28T03:49:59:         COUNT(*) as total,
2025-06-28T03:49:59:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:49:59: SQL実行成功: 結果行数=1
2025-06-28T03:49:59: SQL実行: 
2025-06-28T03:49:59:       SELECT 
2025-06-28T03:49:59:         COUNT(*) as total_calls,
2025-06-28T03:49:59:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:49:59.290Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:49:59: SQL実行成功: 結果行数=1
2025-06-28T03:49:59: [36m[2025-06-28T03:49:59.290Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:03: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
2025-06-28T03:50:03: SQL実行成功: 結果行数=1
[2025-06-28T03:50:03.344Z] INFO  [PID:1111244] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:50:03: [36m[2025-06-28T03:50:03.344Z] INFO  [PID:1111244][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:50:04: SQL実行: 
2025-06-28T03:50:04:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:50:04:           FROM contacts 
2025-06-28T03:50:04:           WHERE c... パラメータ数: 1
2025-06-28T03:50:04: SQL実行成功: 結果行数=0
2025-06-28T03:50:04: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:50:04: SQL実行成功: 結果行数=1
[2025-06-28T03:50:04.289Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:04: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:50:04: [36m[2025-06-28T03:50:04.289Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:04: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:50:04: SQL実行成功: 結果行数=1
2025-06-28T03:50:04: SQL実行: 
2025-06-28T03:50:04:       SELECT 
2025-06-28T03:50:04:         COUNT(*) as total,
2025-06-28T03:50:04:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:50:04: SQL実行成功: 結果行数=1
2025-06-28T03:50:04: SQL実行: 
2025-06-28T03:50:04:       SELECT 
2025-06-28T03:50:04:         COUNT(*) as total_calls,
2025-06-28T03:50:04:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:50:04.295Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:04: SQL実行成功: 結果行数=1
2025-06-28T03:50:04: [36m[2025-06-28T03:50:04.295Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:09: SQL実行: 
2025-06-28T03:50:09:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:50:09:           FROM contacts 
2025-06-28T03:50:09:           WHERE c... パラメータ数: 1
2025-06-28T03:50:09: SQL実行成功: 結果行数=0
2025-06-28T03:50:09: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:50:09: SQL実行成功: 結果行数=1
[2025-06-28T03:50:09.286Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:09: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:50:09: [36m[2025-06-28T03:50:09.286Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:09: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:50:09: SQL実行成功: 結果行数=1
2025-06-28T03:50:09: SQL実行: 
2025-06-28T03:50:09:       SELECT 
2025-06-28T03:50:09:         COUNT(*) as total,
2025-06-28T03:50:09:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:50:09: SQL実行成功: 結果行数=1
2025-06-28T03:50:09: SQL実行: 
2025-06-28T03:50:09:       SELECT 
2025-06-28T03:50:09:         COUNT(*) as total_calls,
2025-06-28T03:50:09:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:50:09.293Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:09: SQL実行成功: 結果行数=1
2025-06-28T03:50:09: [36m[2025-06-28T03:50:09.293Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:13: SQL実行: SELECT 1... 
2025-06-28T03:50:13: SQL実行成功: 結果行数=1
2025-06-28T03:50:13: SQL実行: 
2025-06-28T03:50:13:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:50:13:                ci.number as ca... 
2025-06-28T03:50:13: SQL実行成功: 結果行数=77
2025-06-28T03:50:14: SQL実行: 
2025-06-28T03:50:14:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:50:14:           FROM contacts 
2025-06-28T03:50:14:           WHERE c... パラメータ数: 1
2025-06-28T03:50:14: SQL実行成功: 結果行数=0
2025-06-28T03:50:14: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:50:14: SQL実行成功: 結果行数=1
[2025-06-28T03:50:14.285Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:14: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:50:14: [36m[2025-06-28T03:50:14.285Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:14: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:50:14: SQL実行成功: 結果行数=1
2025-06-28T03:50:14: SQL実行: 
2025-06-28T03:50:14:       SELECT 
2025-06-28T03:50:14:         COUNT(*) as total,
2025-06-28T03:50:14:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:50:14: SQL実行成功: 結果行数=1
2025-06-28T03:50:14: SQL実行: 
2025-06-28T03:50:14:       SELECT 
2025-06-28T03:50:14:         COUNT(*) as total_calls,
2025-06-28T03:50:14:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:50:14: SQL実行成功: 結果行数=1
[2025-06-28T03:50:14.288Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:14: [36m[2025-06-28T03:50:14.288Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:19: SQL実行: 
2025-06-28T03:50:19:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:50:19:           FROM contacts 
2025-06-28T03:50:19:           WHERE c... パラメータ数: 1
2025-06-28T03:50:19: SQL実行成功: 結果行数=0
2025-06-28T03:50:19: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:50:19: SQL実行成功: 結果行数=1
[2025-06-28T03:50:19.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:19: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:50:19: [36m[2025-06-28T03:50:19.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:19: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:50:19: SQL実行成功: 結果行数=1
2025-06-28T03:50:19: SQL実行: 
2025-06-28T03:50:19:       SELECT 
2025-06-28T03:50:19:         COUNT(*) as total,
2025-06-28T03:50:19:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:50:19: SQL実行成功: 結果行数=1
2025-06-28T03:50:19: SQL実行: 
2025-06-28T03:50:19:       SELECT 
2025-06-28T03:50:19:         COUNT(*) as total_calls,
2025-06-28T03:50:19:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:50:19.289Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:19: SQL実行成功: 結果行数=1
2025-06-28T03:50:19: [36m[2025-06-28T03:50:19.289Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:24: SQL実行: 
2025-06-28T03:50:24:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:50:24:           FROM contacts 
2025-06-28T03:50:24:           WHERE c... パラメータ数: 1
2025-06-28T03:50:24: SQL実行成功: 結果行数=0
2025-06-28T03:50:24: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:50:24: SQL実行成功: 結果行数=1
[2025-06-28T03:50:24.286Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:24: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:50:24: [36m[2025-06-28T03:50:24.286Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:24: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:50:24: SQL実行成功: 結果行数=1
2025-06-28T03:50:24: SQL実行: 
2025-06-28T03:50:24:       SELECT 
2025-06-28T03:50:24:         COUNT(*) as total,
2025-06-28T03:50:24:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:50:24: SQL実行成功: 結果行数=1
2025-06-28T03:50:24: SQL実行: 
2025-06-28T03:50:24:       SELECT 
2025-06-28T03:50:24:         COUNT(*) as total_calls,
2025-06-28T03:50:24:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:50:24.291Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:24: SQL実行成功: 結果行数=1
2025-06-28T03:50:24: [36m[2025-06-28T03:50:24.291Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:28: SQL実行: 
2025-06-28T03:50:28:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:50:28:                ci.number as ca... 
2025-06-28T03:50:28: SQL実行成功: 結果行数=77
2025-06-28T03:50:29: SQL実行: 
2025-06-28T03:50:29:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:50:29:           FROM contacts 
2025-06-28T03:50:29:           WHERE c... パラメータ数: 1
2025-06-28T03:50:29: SQL実行成功: 結果行数=0
2025-06-28T03:50:29: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:50:29: SQL実行成功: 結果行数=1
[2025-06-28T03:50:29.286Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:29: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:50:29: [36m[2025-06-28T03:50:29.286Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:29: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:50:29: SQL実行成功: 結果行数=1
2025-06-28T03:50:29: SQL実行: 
2025-06-28T03:50:29:       SELECT 
2025-06-28T03:50:29:         COUNT(*) as total,
2025-06-28T03:50:29:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:50:29: SQL実行成功: 結果行数=1
2025-06-28T03:50:29: SQL実行: 
2025-06-28T03:50:29:       SELECT 
2025-06-28T03:50:29:         COUNT(*) as total_calls,
2025-06-28T03:50:29:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:50:29: SQL実行成功: 結果行数=1
[2025-06-28T03:50:29.290Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:29: [36m[2025-06-28T03:50:29.290Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:34: SQL実行: 
2025-06-28T03:50:34:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:50:34:           FROM contacts 
2025-06-28T03:50:34:           WHERE c... パラメータ数: 1
2025-06-28T03:50:34: SQL実行成功: 結果行数=0
2025-06-28T03:50:34: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:50:34: SQL実行成功: 結果行数=1
[2025-06-28T03:50:34.284Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:34: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:50:34: [36m[2025-06-28T03:50:34.284Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:34: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:50:34: SQL実行成功: 結果行数=1
2025-06-28T03:50:34: SQL実行: 
2025-06-28T03:50:34:       SELECT 
2025-06-28T03:50:34:         COUNT(*) as total,
2025-06-28T03:50:34:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:50:34: SQL実行成功: 結果行数=1
2025-06-28T03:50:34: SQL実行: 
2025-06-28T03:50:34:       SELECT 
2025-06-28T03:50:34:         COUNT(*) as total_calls,
2025-06-28T03:50:34:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:50:34.288Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:34: SQL実行成功: 結果行数=1
2025-06-28T03:50:34: [36m[2025-06-28T03:50:34.288Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:39: SQL実行: 
2025-06-28T03:50:39:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:50:39:           FROM contacts 
2025-06-28T03:50:39:           WHERE c... パラメータ数: 1
2025-06-28T03:50:39: SQL実行成功: 結果行数=0
2025-06-28T03:50:39: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:50:39: SQL実行成功: 結果行数=1
[2025-06-28T03:50:39.286Z] INFO  [PID:1111244] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:39: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:50:39: [36m[2025-06-28T03:50:39.286Z] INFO  [PID:1111244][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:39: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:50:39: SQL実行成功: 結果行数=1
2025-06-28T03:50:39: SQL実行: 
2025-06-28T03:50:39:       SELECT 
2025-06-28T03:50:39:         COUNT(*) as total,
2025-06-28T03:50:39:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:50:39: SQL実行成功: 結果行数=1
2025-06-28T03:50:39: SQL実行: 
2025-06-28T03:50:39:       SELECT 
2025-06-28T03:50:39:         COUNT(*) as total_calls,
2025-06-28T03:50:39:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:50:39.291Z] INFO  [PID:1111244] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:39: SQL実行成功: 結果行数=1
2025-06-28T03:50:39: [36m[2025-06-28T03:50:39.291Z] INFO  [PID:1111244][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
[2025-06-28T03:50:41.338Z] INFO  [PID:1111244] SIGINT受信 - DialerService安全停止 {"level":"INFO"}
2025-06-28T03:50:41: [36m[2025-06-28T03:50:41.338Z] INFO  [PID:1111244][0m SIGINT受信 - DialerService安全停止 {"level":"INFO"}
[2025-06-28T03:50:41.338Z] INFO  [PID:1111244] 🚨 DialerService停止処理開始... {"level":"INFO"}
2025-06-28T03:50:41: [36m[2025-06-28T03:50:41.338Z] INFO  [PID:1111244][0m 🚨 DialerService停止処理開始... {"level":"INFO"}
[2025-06-28T03:50:41.338Z] INFO  [PID:1111244] 🛑 自動発信システム停止 {"level":"INFO"}
2025-06-28T03:50:41: [36m[2025-06-28T03:50:41.338Z] INFO  [PID:1111244][0m 🛑 自動発信システム停止 {"level":"INFO"}
[2025-06-28T03:50:41.338Z] INFO  [PID:1111244] ✅ DialerService停止完了 {"level":"INFO"}
2025-06-28T03:50:41: [36m[2025-06-28T03:50:41.338Z] INFO  [PID:1111244][0m ✅ DialerService停止完了 {"level":"INFO"}
[2025-06-28T03:50:41.339Z] INFO  [PID:1111244] SIGINT受信 - SIPサービス安全切断 {"level":"INFO"}
2025-06-28T03:50:41: [36m[2025-06-28T03:50:41.339Z] INFO  [PID:1111244][0m SIGINT受信 - SIPサービス安全切断 {"level":"INFO"}
[2025-06-28T03:50:41.339Z] INFO  [PID:1111244] SIPサービスを切断しています... {"level":"INFO"}
2025-06-28T03:50:41: [36m[2025-06-28T03:50:41.339Z] INFO  [PID:1111244][0m SIPサービスを切断しています... {"level":"INFO"}
2025-06-28T03:50:41: アプリケーションを終了します...
2025-06-28T03:50:41: データベースプールを閉じています...
[2025-06-28T03:50:41.341Z] INFO  [PID:1111244] ✅ SIPサービス切断完了 {"level":"INFO"}
2025-06-28T03:50:41: [36m[2025-06-28T03:50:41.341Z] INFO  [PID:1111244][0m ✅ SIPサービス切断完了 {"level":"INFO"}
2025-06-28T03:50:41: データベースプールを閉じました
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.419Z] INFO  [PID:1111440][0m Logger初期化完了 {"logLevel":"info","enableConsole":true,"enableFile":true,"logDir":"/var/www/autodialer/backend/logs","level":"INFO"}
[2025-06-28T03:50:43.419Z] INFO  [PID:1111440] Logger初期化完了 {"logLevel":"info","enableConsole":true,"enableFile":true,"logDir":"/var/www/autodialer/backend/logs","level":"INFO"}
2025-06-28T03:50:43: 🚀 ルーター登録開始...
[2025-06-28T03:50:43.517Z] INFO  [PID:1111440] 🚀 DialerService初期化: 自動連動システム=有効 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.517Z] INFO  [PID:1111440][0m 🚀 DialerService初期化: 自動連動システム=有効 {"level":"INFO"}
[2025-06-28T03:50:43.518Z] INFO  [PID:1111440] 🎯 自動システム開始試行 1/5 {"level":"INFO"}
[2025-06-28T03:50:43.518Z] INFO  [PID:1111440] 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.518Z] INFO  [PID:1111440][0m 🎯 自動システム開始試行 1/5 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.518Z] INFO  [PID:1111440][0m 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-28T03:50:43: プールが存在しないため再初期化します
2025-06-28T03:50:43: データベース接続試行 1/5...
2025-06-28T03:50:43: データベース接続設定: {
2025-06-28T03:50:43:   host: '127.0.0.1',
2025-06-28T03:50:43:   user: 'autodialer',
2025-06-28T03:50:43:   database: 'autodialer',
2025-06-28T03:50:43:   password: '***'
2025-06-28T03:50:43: }
[2025-06-28T03:50:43.529Z] INFO  [PID:1111440] SipService初期化: mockMode=false, sipcmdPath=/usr/local/bin/sipcmd-working {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.529Z] INFO  [PID:1111440][0m SipService初期化: mockMode=false, sipcmdPath=/usr/local/bin/sipcmd-working {"level":"INFO"}
[2025-06-28T03:50:43.529Z] INFO  [PID:1111440] 💗 SIPヘルスチェック開始: 60000ms間隔 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.529Z] INFO  [PID:1111440][0m 💗 SIPヘルスチェック開始: 60000ms間隔 {"level":"INFO"}
[2025-06-28T03:50:43.530Z] INFO  [PID:1111440] 🔧 コールサービス初期化完了: プロバイダ=SIP専用, モックモード=無効 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.530Z] INFO  [PID:1111440][0m 🔧 コールサービス初期化完了: プロバイダ=SIP専用, モックモード=無効 {"level":"INFO"}
2025-06-28T03:50:43: ✅ system router 登録成功
2025-06-28T03:50:43: ✅ contacts router 登録成功
2025-06-28T03:50:43: ✅ campaigns router 登録成功
2025-06-28T03:50:43: ✅ caller-ids router 登録成功
2025-06-28T03:50:43: ✅ calls router 登録成功
2025-06-28T03:50:43: ✅ transfer router 登録成功
2025-06-28T03:50:43: ✅ audio router 登録成功
2025-06-28T03:50:43: ✅ ivr router 登録成功
2025-06-28T03:50:43: 📊 ルーター登録状況: {
2025-06-28T03:50:43:   system: true,
2025-06-28T03:50:43:   contacts: true,
2025-06-28T03:50:43:   campaigns: true,
2025-06-28T03:50:43:   callerIds: true,
2025-06-28T03:50:43:   calls: true,
2025-06-28T03:50:43:   audio: true,
2025-06-28T03:50:43:   ivr: true,
2025-06-28T03:50:43:   transfer: true
2025-06-28T03:50:43: }
2025-06-28T03:50:43: 🚀 サーバー初期化開始...
2025-06-28T03:50:43: SQL実行: SELECT 1... 
[2025-06-28T03:50:43.590Z] INFO  [PID:1111440] 音声ファイルディレクトリを初期化しました: /var/www/autodialer/backend/audio-files {"level":"INFO"}
[2025-06-28T03:50:43.590Z] INFO  [PID:1111440] IVRスクリプトディレクトリを初期化しました: /var/www/autodialer/backend/ivr-scripts {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.590Z] INFO  [PID:1111440][0m 音声ファイルディレクトリを初期化しました: /var/www/autodialer/backend/audio-files {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.590Z] INFO  [PID:1111440][0m IVRスクリプトディレクトリを初期化しました: /var/www/autodialer/backend/ivr-scripts {"level":"INFO"}
2025-06-28T03:50:43: SQL実行成功: 結果行数=1
2025-06-28T03:50:43: ✅ データベース接続成功
2025-06-28T03:50:43: 🔧 SIPサービス初期化中...
[2025-06-28T03:50:43.632Z] INFO  [PID:1111440] 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.632Z] INFO  [PID:1111440][0m 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-28T03:50:43: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T03:50:43.635Z] INFO  [PID:1111440] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:50:43: SQL実行成功: 結果行数=1
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.635Z] INFO  [PID:1111440][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:50:43.636Z] INFO  [PID:1111440] 🔧 AMI接続初期化開始... {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.636Z] INFO  [PID:1111440][0m 🔧 AMI接続初期化開始... {"level":"INFO"}
[2025-06-28T03:50:43.637Z] INFO  [PID:1111440] データベース接続プールを作成しました {"level":"INFO"}
2025-06-28T03:50:43: データベース接続テスト成功: {
2025-06-28T03:50:43:   test: '1',
2025-06-28T03:50:43:   current_user_name: 'autodialer@localhost',
2025-06-28T03:50:43:   current_db: 'autodialer'
2025-06-28T03:50:43: }
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.637Z] INFO  [PID:1111440][0m データベース接続プールを作成しました {"level":"INFO"}
2025-06-28T03:50:43: SQL実行: SELECT 1 as test... 
[2025-06-28T03:50:43.638Z] INFO  [PID:1111440] ✅ AMI TCP接続成功 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.638Z] INFO  [PID:1111440][0m ✅ AMI TCP接続成功 {"level":"INFO"}
[2025-06-28T03:50:43.640Z] INFO  [PID:1111440] ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-28T03:50:43: SQL実行成功: 結果行数=1
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.640Z] INFO  [PID:1111440][0m ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-28T03:50:43: SQL実行: 
2025-06-28T03:50:43:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:50:43:                ci.number as ca... 
[2025-06-28T03:50:43.642Z] INFO  [PID:1111440] AMI応答: Asterisk Call Manager/10.0.0
Response: Success
Message: Authentication accepted

 {"level":"INFO"}
[2025-06-28T03:50:43.643Z] INFO  [PID:1111440] ✅ AMI認証成功 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.642Z] INFO  [PID:1111440][0m AMI応答: Asterisk Call Manager/10.0.0
2025-06-28T03:50:43: Response: Success
2025-06-28T03:50:43: Message: Authentication accepted
2025-06-28T03:50:43: 
2025-06-28T03:50:43:  {"level":"INFO"}
[2025-06-28T03:50:43.643Z] INFO  [PID:1111440] 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.643Z] INFO  [PID:1111440][0m ✅ AMI認証成功 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.643Z] INFO  [PID:1111440][0m 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
[2025-06-28T03:50:43.643Z] INFO  [PID:1111440] 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.643Z] INFO  [PID:1111440][0m 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-28T03:50:43: SQL実行: 
2025-06-28T03:50:43:         SELECT 
2025-06-28T03:50:43:           cc.id,
2025-06-28T03:50:43:           cc.caller_id_id,
2025-06-28T03:50:43:           cc.username,
2025-06-28T03:50:43:           cc.pas... 
[2025-06-28T03:50:43.647Z] INFO  [PID:1111440] 📋 初期キャンペーンロード: 77件検出 {"level":"INFO"}
[2025-06-28T03:50:43.647Z] INFO  [PID:1111440] ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
2025-06-28T03:50:43: SQL実行成功: 結果行数=77
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.647Z] INFO  [PID:1111440][0m 📋 初期キャンペーンロード: 77件検出 {"level":"INFO"}
[2025-06-28T03:50:43.647Z] INFO  [PID:1111440] 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.647Z] INFO  [PID:1111440][0m ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.647Z] INFO  [PID:1111440][0m 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
[2025-06-28T03:50:43.647Z] INFO  [PID:1111440] 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
[2025-06-28T03:50:43.648Z] INFO  [PID:1111440] 🚀 自動発信システム開始: 8000ms間隔 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.647Z] INFO  [PID:1111440][0m 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
[2025-06-28T03:50:43.648Z] INFO  [PID:1111440] ✅ 完全自動連動システム起動完了 {"level":"INFO"}
[2025-06-28T03:50:43.648Z] INFO  [PID:1111440] ✅ DialerService自動システム起動完了 - 安定版 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.648Z] INFO  [PID:1111440][0m 🚀 自動発信システム開始: 8000ms間隔 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.648Z] INFO  [PID:1111440][0m ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.648Z] INFO  [PID:1111440][0m ✅ DialerService自動システム起動完了 - 安定版 {"level":"INFO"}
[2025-06-28T03:50:43.649Z] INFO  [PID:1111440] 📊 データベースクエリ結果: 25件のチャンネル {"level":"INFO"}
2025-06-28T03:50:43: SQL実行成功: 結果行数=25
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.649Z] INFO  [PID:1111440][0m 📊 データベースクエリ結果: 25件のチャンネル {"level":"INFO"}
[2025-06-28T03:50:43.650Z] INFO  [PID:1111440] ✅ 合計25個のSIPチャンネルを読み込み {"level":"INFO"}
[2025-06-28T03:50:43.650Z] INFO  [PID:1111440] ✅ SIPアカウント読み込み成功: 25個 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.650Z] INFO  [PID:1111440][0m ✅ 合計25個のSIPチャンネルを読み込み {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.650Z] INFO  [PID:1111440][0m ✅ SIPアカウント読み込み成功: 25個 {"level":"INFO"}
[2025-06-28T03:50:43.650Z] INFO  [PID:1111440] 📞 発信者番号ID 8: 25チャンネル (0369087851) {"level":"INFO"}
[2025-06-28T03:50:43.650Z] INFO  [PID:1111440] ✅ SIPサービス接続完了: 25個のアカウント {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.650Z] INFO  [PID:1111440][0m 📞 発信者番号ID 8: 25チャンネル (0369087851) {"level":"INFO"}
[2025-06-28T03:50:43.650Z] INFO  [PID:1111440] 📊 SIPアカウント概要: {"level":"INFO"}
[2025-06-28T03:50:43.650Z] INFO  [PID:1111440]   - 総アカウント数: 25 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.650Z] INFO  [PID:1111440][0m ✅ SIPサービス接続完了: 25個のアカウント {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.650Z] INFO  [PID:1111440][0m 📊 SIPアカウント概要: {"level":"INFO"}
[2025-06-28T03:50:43.651Z] INFO  [PID:1111440]   - 利用可能: 25 {"level":"INFO"}
[2025-06-28T03:50:43.651Z] INFO  [PID:1111440]   - 使用中: 0 {"level":"INFO"}
[2025-06-28T03:50:43.651Z] INFO  [PID:1111440]   - エラー: 0 {"level":"INFO"}
[2025-06-28T03:50:43.651Z] INFO  [PID:1111440] 🔧 コールサービス初期化開始（SIP専用） {"level":"INFO"}
[2025-06-28T03:50:43.651Z] INFO  [PID:1111440] 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.650Z] INFO  [PID:1111440][0m   - 総アカウント数: 25 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.651Z] INFO  [PID:1111440][0m   - 利用可能: 25 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.651Z] INFO  [PID:1111440][0m   - 使用中: 0 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.651Z] INFO  [PID:1111440][0m   - エラー: 0 {"level":"INFO"}
2025-06-28T03:50:43: 📞 SIP初期化結果: true
2025-06-28T03:50:43: 📞 SIPアカウント数: 25
2025-06-28T03:50:43: 🔧 CallService初期化中...
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.651Z] INFO  [PID:1111440][0m 🔧 コールサービス初期化開始（SIP専用） {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.651Z] INFO  [PID:1111440][0m 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-28T03:50:43: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T03:50:43.653Z] INFO  [PID:1111440] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:50:43: SQL実行成功: 結果行数=1
[2025-06-28T03:50:43.653Z] INFO  [PID:1111440] 🔧 AMI接続初期化開始... {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.653Z] INFO  [PID:1111440][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.653Z] INFO  [PID:1111440][0m 🔧 AMI接続初期化開始... {"level":"INFO"}
[2025-06-28T03:50:43.654Z] INFO  [PID:1111440] ✅ AMI TCP接続成功 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.654Z] INFO  [PID:1111440][0m ✅ AMI TCP接続成功 {"level":"INFO"}
[2025-06-28T03:50:43.655Z] INFO  [PID:1111440] AMI応答: Asterisk Call Manager/10.0.0
Response: Success
Message: Authentication accepted

 {"level":"INFO"}
[2025-06-28T03:50:43.655Z] INFO  [PID:1111440] ✅ AMI認証成功 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.655Z] INFO  [PID:1111440][0m AMI応答: Asterisk Call Manager/10.0.0
2025-06-28T03:50:43: Response: Success
2025-06-28T03:50:43: Message: Authentication accepted
2025-06-28T03:50:43: 
2025-06-28T03:50:43:  {"level":"INFO"}
[2025-06-28T03:50:43.655Z] INFO  [PID:1111440] 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.655Z] INFO  [PID:1111440][0m ✅ AMI認証成功 {"level":"INFO"}
[2025-06-28T03:50:43.655Z] INFO  [PID:1111440] 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.655Z] INFO  [PID:1111440][0m 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.655Z] INFO  [PID:1111440][0m 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-28T03:50:43: SQL実行: 
2025-06-28T03:50:43:         SELECT 
2025-06-28T03:50:43:           cc.id,
2025-06-28T03:50:43:           cc.caller_id_id,
2025-06-28T03:50:43:           cc.username,
2025-06-28T03:50:43:           cc.pas... 
[2025-06-28T03:50:43.658Z] INFO  [PID:1111440] 📊 データベースクエリ結果: 25件のチャンネル {"level":"INFO"}
2025-06-28T03:50:43: SQL実行成功: 結果行数=25
[2025-06-28T03:50:43.658Z] INFO  [PID:1111440] ✅ 合計25個のSIPチャンネルを読み込み {"level":"INFO"}
[2025-06-28T03:50:43.658Z] INFO  [PID:1111440] ✅ SIPアカウント読み込み成功: 25個 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.658Z] INFO  [PID:1111440][0m 📊 データベースクエリ結果: 25件のチャンネル {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.658Z] INFO  [PID:1111440][0m ✅ 合計25個のSIPチャンネルを読み込み {"level":"INFO"}
[2025-06-28T03:50:43.658Z] INFO  [PID:1111440] 📞 発信者番号ID 8: 25チャンネル (0369087851) {"level":"INFO"}
[2025-06-28T03:50:43.658Z] INFO  [PID:1111440] ✅ SIPサービス接続完了: 25個のアカウント {"level":"INFO"}
[2025-06-28T03:50:43.658Z] INFO  [PID:1111440] 📊 SIPアカウント概要: {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.658Z] INFO  [PID:1111440][0m ✅ SIPアカウント読み込み成功: 25個 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.658Z] INFO  [PID:1111440][0m 📞 発信者番号ID 8: 25チャンネル (0369087851) {"level":"INFO"}
[2025-06-28T03:50:43.658Z] INFO  [PID:1111440]   - 総アカウント数: 25 {"level":"INFO"}
[2025-06-28T03:50:43.658Z] INFO  [PID:1111440]   - 利用可能: 25 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.658Z] INFO  [PID:1111440][0m ✅ SIPサービス接続完了: 25個のアカウント {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.658Z] INFO  [PID:1111440][0m 📊 SIPアカウント概要: {"level":"INFO"}
[2025-06-28T03:50:43.658Z] INFO  [PID:1111440]   - 使用中: 0 {"level":"INFO"}
[2025-06-28T03:50:43.658Z] INFO  [PID:1111440]   - エラー: 0 {"level":"INFO"}
[2025-06-28T03:50:43.658Z] INFO  [PID:1111440] ✅ コールサービス初期化完了（SIP） {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.658Z] INFO  [PID:1111440][0m   - 総アカウント数: 25 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.658Z] INFO  [PID:1111440][0m   - 利用可能: 25 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.658Z] INFO  [PID:1111440][0m   - 使用中: 0 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.658Z] INFO  [PID:1111440][0m   - エラー: 0 {"level":"INFO"}
2025-06-28T03:50:43: [36m[2025-06-28T03:50:43.658Z] INFO  [PID:1111440][0m ✅ コールサービス初期化完了（SIP） {"level":"INFO"}
2025-06-28T03:50:43: 📞 CallService初期化結果: true
2025-06-28T03:50:43: 🔧 DialerService手動初期化中...
2025-06-28T03:50:43: ✅ DialerService手動初期化完了
2025-06-28T03:50:43: 🔧 DialerService強制自動開始...
2025-06-28T03:50:43: ✅ サーバーが起動しました: http://0.0.0.0:5000
2025-06-28T03:50:43: 🎯 自動発信システム準備完了
2025-06-28T03:50:43: 🔗 利用可能なエンドポイント:
2025-06-28T03:50:43:   - GET  /health
2025-06-28T03:50:43:   - GET  /api/campaigns
2025-06-28T03:50:43:   - POST /api/campaigns/:id/start
2025-06-28T03:50:43:   - POST /api/calls/test
2025-06-28T03:50:43:   - GET  /api/campaigns/:id/transfer-settings
2025-06-28T03:50:43:   - POST /api/calls/transfer/dtmf
2025-06-28T03:50:44: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
[2025-06-28T03:50:44.324Z] INFO  [PID:1111440] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:44: [36m[2025-06-28T03:50:44.324Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:44: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:50:44: SQL実行成功: 結果行数=1
2025-06-28T03:50:44: SQL実行: 
2025-06-28T03:50:44:       SELECT 
2025-06-28T03:50:44:         COUNT(*) as total,
2025-06-28T03:50:44:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:50:44: SQL実行成功: 結果行数=1
2025-06-28T03:50:44: SQL実行: 
2025-06-28T03:50:44:       SELECT 
2025-06-28T03:50:44:         COUNT(*) as total_calls,
2025-06-28T03:50:44:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:50:44.331Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:44: SQL実行成功: 結果行数=1
2025-06-28T03:50:44: [36m[2025-06-28T03:50:44.331Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:48: SQL実行: 
2025-06-28T03:50:48:             SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:50:48:                    ci.numb... 
2025-06-28T03:50:48: SQL実行成功: 結果行数=77
2025-06-28T03:50:48: 📊 アクティブキャンペーン検出: 77件
2025-06-28T03:50:48: 🔄 アクティブキャンペーンを自動登録...
2025-06-28T03:50:49: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
[2025-06-28T03:50:49.289Z] INFO  [PID:1111440] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:49: [36m[2025-06-28T03:50:49.289Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:49: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:50:49: SQL実行成功: 結果行数=1
2025-06-28T03:50:49: SQL実行: 
2025-06-28T03:50:49:       SELECT 
2025-06-28T03:50:49:         COUNT(*) as total,
2025-06-28T03:50:49:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:50:49: SQL実行成功: 結果行数=1
2025-06-28T03:50:49: SQL実行: 
2025-06-28T03:50:49:       SELECT 
2025-06-28T03:50:49:         COUNT(*) as total_calls,
2025-06-28T03:50:49:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:50:49: SQL実行成功: 結果行数=1
[2025-06-28T03:50:49.293Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:49: [36m[2025-06-28T03:50:49.293Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
[2025-06-28T03:50:53.661Z] INFO  [PID:1111440] 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-28T03:50:53: [36m[2025-06-28T03:50:53.661Z] INFO  [PID:1111440][0m 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-28T03:50:53: SQL実行: SELECT 1 as test... 
[2025-06-28T03:50:53.663Z] INFO  [PID:1111440] ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-28T03:50:53: SQL実行成功: 結果行数=1
2025-06-28T03:50:53: [36m[2025-06-28T03:50:53.663Z] INFO  [PID:1111440][0m ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-28T03:50:53: SQL実行: 
2025-06-28T03:50:53:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:50:53:                ci.number as ca... 
[2025-06-28T03:50:53.670Z] INFO  [PID:1111440] 📋 初期キャンペーンロード: 77件検出 {"level":"INFO"}
2025-06-28T03:50:53: SQL実行成功: 結果行数=77
[2025-06-28T03:50:53.670Z] INFO  [PID:1111440] ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
2025-06-28T03:50:53: [36m[2025-06-28T03:50:53.670Z] INFO  [PID:1111440][0m 📋 初期キャンペーンロード: 77件検出 {"level":"INFO"}
2025-06-28T03:50:53: [36m[2025-06-28T03:50:53.670Z] INFO  [PID:1111440][0m ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
[2025-06-28T03:50:53.671Z] INFO  [PID:1111440] 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
2025-06-28T03:50:53: [36m[2025-06-28T03:50:53.671Z] INFO  [PID:1111440][0m 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
[2025-06-28T03:50:53.671Z] INFO  [PID:1111440] 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
2025-06-28T03:50:53: [36m[2025-06-28T03:50:53.671Z] INFO  [PID:1111440][0m 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
[2025-06-28T03:50:53.671Z] INFO  [PID:1111440] 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
[2025-06-28T03:50:53.671Z] INFO  [PID:1111440] ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-28T03:50:53: [36m[2025-06-28T03:50:53.671Z] INFO  [PID:1111440][0m 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
2025-06-28T03:50:53: [36m[2025-06-28T03:50:53.671Z] INFO  [PID:1111440][0m ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-28T03:50:53: ✅ DialerService自動システム開始完了
[2025-06-28T03:50:54.286Z] INFO  [PID:1111440] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:54: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:50:54: [36m[2025-06-28T03:50:54.286Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:54: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:50:54: SQL実行成功: 結果行数=1
2025-06-28T03:50:54: SQL実行: 
2025-06-28T03:50:54:       SELECT 
2025-06-28T03:50:54:         COUNT(*) as total,
2025-06-28T03:50:54:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:50:54: SQL実行成功: 結果行数=1
2025-06-28T03:50:54: SQL実行: 
2025-06-28T03:50:54:       SELECT 
2025-06-28T03:50:54:         COUNT(*) as total_calls,
2025-06-28T03:50:54:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:50:54.291Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:54: SQL実行成功: 結果行数=1
2025-06-28T03:50:54: [36m[2025-06-28T03:50:54.291Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:54: GET /api/auth/profile - Origin: http://146.190.83.205:3003
2025-06-28T03:50:54: GET /api/campaigns/168 - Origin: http://146.190.83.205:3003
[2025-06-28T03:50:54.973Z] INFO  [PID:1111440] キャンペーン詳細取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:54: [36m[2025-06-28T03:50:54.973Z] INFO  [PID:1111440][0m キャンペーン詳細取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:54: SQL実行: 
2025-06-28T03:50:54:       SELECT c.*, 
2025-06-28T03:50:54:              ci.number as caller_id_number,
2025-06-28T03:50:54:              ci.description as calle... パラメータ数: 1
[2025-06-28T03:50:54.977Z] INFO  [PID:1111440] キャンペーン詳細取得完了: ID=168 {"level":"INFO"}
2025-06-28T03:50:54: SQL実行成功: 結果行数=1
2025-06-28T03:50:54: [36m[2025-06-28T03:50:54.977Z] INFO  [PID:1111440][0m キャンペーン詳細取得完了: ID=168 {"level":"INFO"}
[2025-06-28T03:50:55.013Z] INFO  [PID:1111440] キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:55: GET /api/campaigns/168/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:50:55: [36m[2025-06-28T03:50:55.013Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=168 {"level":"INFO"}
2025-06-28T03:50:55: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:50:55: SQL実行成功: 結果行数=1
2025-06-28T03:50:55: SQL実行: 
2025-06-28T03:50:55:       SELECT 
2025-06-28T03:50:55:         COUNT(*) as total,
2025-06-28T03:50:55:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:50:55: SQL実行成功: 結果行数=1
2025-06-28T03:50:55: SQL実行: 
2025-06-28T03:50:55:       SELECT 
2025-06-28T03:50:55:         COUNT(*) as total_calls,
2025-06-28T03:50:55:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:50:55.018Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:55: SQL実行成功: 結果行数=1
2025-06-28T03:50:55: [36m[2025-06-28T03:50:55.018Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=168, Progress=0% {"level":"INFO"}
2025-06-28T03:50:55: GET /api/campaigns - Origin: http://146.190.83.205:3003
[2025-06-28T03:50:55.865Z] INFO  [PID:1111440] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T03:50:55: [36m[2025-06-28T03:50:55.865Z] INFO  [PID:1111440][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T03:50:55: SQL実行: 
2025-06-28T03:50:55:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-28T03:50:55:        ... 
2025-06-28T03:50:55: SQL実行成功: 結果行数=50
2025-06-28T03:50:55: SQL実行: 
2025-06-28T03:50:55:       SELECT COUNT(*) as total
2025-06-28T03:50:55:       FROM campaigns c
2025-06-28T03:50:55:       WHERE 1=1
2025-06-28T03:50:55:     ... 
[2025-06-28T03:50:55.871Z] INFO  [PID:1111440] キャンペーン取得結果: 50/79件 {"level":"INFO"}
2025-06-28T03:50:55: SQL実行成功: 結果行数=1
2025-06-28T03:50:55: [36m[2025-06-28T03:50:55.871Z] INFO  [PID:1111440][0m キャンペーン取得結果: 50/79件 {"level":"INFO"}
2025-06-28T03:50:57: GET /api/caller-ids - Origin: http://146.190.83.205:3003
2025-06-28T03:50:57: 発信者番号一覧取得開始
2025-06-28T03:50:57: SQL実行: SELECT 1 as healthy, NOW() as timestamp, USER() as user, DATABASE() as db... 
2025-06-28T03:50:57: SQL実行成功: 結果行数=1
2025-06-28T03:50:57: データベース接続確認完了
2025-06-28T03:50:57: クエリ実行開始
2025-06-28T03:50:57: SQL実行: 
2025-06-28T03:50:57:       SELECT 
2025-06-28T03:50:57:         ci.id,
2025-06-28T03:50:57:         ci.number,
2025-06-28T03:50:57:         ci.description,
2025-06-28T03:50:57:         ci.provider,
2025-06-28T03:50:57:       ... 
2025-06-28T03:50:57: SQL実行成功: 結果行数=4
2025-06-28T03:50:57: クエリ実行完了: 4件取得
2025-06-28T03:50:57: 発信者番号一覧取得成功: 4
2025-06-28T03:51:08: SQL実行: 
2025-06-28T03:51:08:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:51:08:                ci.number as ca... 
[2025-06-28T03:51:08.677Z] INFO  [PID:1111440] 🛑 自動発信システム停止 {"level":"INFO"}
[2025-06-28T03:51:08.678Z] INFO  [PID:1111440] 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-28T03:51:08: SQL実行成功: 結果行数=77
2025-06-28T03:51:08: [36m[2025-06-28T03:51:08.677Z] INFO  [PID:1111440][0m 🛑 自動発信システム停止 {"level":"INFO"}
2025-06-28T03:51:08: [36m[2025-06-28T03:51:08.678Z] INFO  [PID:1111440][0m 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
[2025-06-28T03:51:09.447Z] INFO  [PID:1111440] キャンペーン作成: Name=デモ {"level":"INFO"}
2025-06-28T03:51:09: POST /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-28T03:51:09: [36m[2025-06-28T03:51:09.447Z] INFO  [PID:1111440][0m キャンペーン作成: Name=デモ {"level":"INFO"}
2025-06-28T03:51:09: SQL実行: INSERT INTO campaigns (name, description, caller_id_id, script, status, created_at) VALUES (?, ?, ?,... パラメータ数: 5
2025-06-28T03:51:09: SQL実行成功: 結果行数=不明
2025-06-28T03:51:09: [36m[2025-06-28T03:51:09.454Z] INFO  [PID:1111440][0m キャンペーン作成完了: ID=169, Name=デモ {"level":"INFO"}
[2025-06-28T03:51:09.454Z] INFO  [PID:1111440] キャンペーン作成完了: ID=169, Name=デモ {"level":"INFO"}
[2025-06-28T03:51:10.511Z] INFO  [PID:1111440] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T03:51:10: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-28T03:51:10: [36m[2025-06-28T03:51:10.511Z] INFO  [PID:1111440][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T03:51:10: SQL実行: 
2025-06-28T03:51:10:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-28T03:51:10:        ... 
2025-06-28T03:51:10: SQL実行成功: 結果行数=50
2025-06-28T03:51:10: SQL実行: 
2025-06-28T03:51:10:       SELECT COUNT(*) as total
2025-06-28T03:51:10:       FROM campaigns c
2025-06-28T03:51:10:       WHERE 1=1
2025-06-28T03:51:10:     ... 
2025-06-28T03:51:10: SQL実行成功: 結果行数=1
[2025-06-28T03:51:10.517Z] INFO  [PID:1111440] キャンペーン取得結果: 50/80件 {"level":"INFO"}
2025-06-28T03:51:10: [36m[2025-06-28T03:51:10.517Z] INFO  [PID:1111440][0m キャンペーン取得結果: 50/80件 {"level":"INFO"}
[2025-06-28T03:51:13.269Z] INFO  [PID:1111440] キャンペーン詳細取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:13: GET /api/campaigns/169 - Origin: http://146.190.83.205:3003
2025-06-28T03:51:13: [36m[2025-06-28T03:51:13.269Z] INFO  [PID:1111440][0m キャンペーン詳細取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:13: SQL実行: 
2025-06-28T03:51:13:       SELECT c.*, 
2025-06-28T03:51:13:              ci.number as caller_id_number,
2025-06-28T03:51:13:              ci.description as calle... パラメータ数: 1
[2025-06-28T03:51:13.272Z] INFO  [PID:1111440] キャンペーン詳細取得完了: ID=169 {"level":"INFO"}
2025-06-28T03:51:13: SQL実行成功: 結果行数=1
2025-06-28T03:51:13: [36m[2025-06-28T03:51:13.272Z] INFO  [PID:1111440][0m キャンペーン詳細取得完了: ID=169 {"level":"INFO"}
[2025-06-28T03:51:13.314Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:13: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:51:13: [36m[2025-06-28T03:51:13.314Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:13: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:51:13: SQL実行成功: 結果行数=1
2025-06-28T03:51:13: SQL実行: 
2025-06-28T03:51:13:       SELECT 
2025-06-28T03:51:13:         COUNT(*) as total,
2025-06-28T03:51:13:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:51:13: SQL実行成功: 結果行数=1
2025-06-28T03:51:13: SQL実行: 
2025-06-28T03:51:13:       SELECT 
2025-06-28T03:51:13:         COUNT(*) as total_calls,
2025-06-28T03:51:13:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:51:13.318Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:51:13: SQL実行成功: 結果行数=1
2025-06-28T03:51:13: [36m[2025-06-28T03:51:13.318Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:51:14: GET /api/campaigns/169/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
[2025-06-28T03:51:14.653Z] INFO  [PID:1111440] 連絡先一覧取得: Campaign=169, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T03:51:14: [36m[2025-06-28T03:51:14.653Z] INFO  [PID:1111440][0m 連絡先一覧取得: Campaign=169, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T03:51:14: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:51:14: SQL実行成功: 結果行数=1
2025-06-28T03:51:14: SQL実行: 
2025-06-28T03:51:14:       SELECT c.*
2025-06-28T03:51:14:       FROM contacts c
2025-06-28T03:51:14:       WHERE c.campaign_id = ?
2025-06-28T03:51:14:      ORDER BY c.created_at DES... パラメータ数: 1
2025-06-28T03:51:14: SQL実行成功: 結果行数=0
2025-06-28T03:51:14: SQL実行: 
2025-06-28T03:51:14:       SELECT COUNT(*) as total
2025-06-28T03:51:14:       FROM contacts c
2025-06-28T03:51:14:       WHERE c.campaign_id = ?
2025-06-28T03:51:14:     ... パラメータ数: 1
[2025-06-28T03:51:14.658Z] INFO  [PID:1111440] 連絡先取得結果: Campaign=169, 件数=0, 全体=0 {"level":"INFO"}
2025-06-28T03:51:14: SQL実行成功: 結果行数=1
2025-06-28T03:51:14: [36m[2025-06-28T03:51:14.658Z] INFO  [PID:1111440][0m 連絡先取得結果: Campaign=169, 件数=0, 全体=0 {"level":"INFO"}
2025-06-28T03:51:22: POST /api/campaigns/169/contacts/upload - Origin: http://146.190.83.205:3003
[2025-06-28T03:51:22.104Z] INFO  [PID:1111440] 🚀 CSVアップロード開始 {"campaignId":"169","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-28T03:51:22.104Z","level":"INFO"}
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.104Z] INFO  [PID:1111440][0m 🚀 CSVアップロード開始 {"campaignId":"169","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-28T03:51:22.104Z","level":"INFO"}
2025-06-28T03:51:22: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:51:22: SQL実行成功: 結果行数=1
[2025-06-28T03:51:22.106Z] INFO  [PID:1111440] 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.106Z] INFO  [PID:1111440][0m 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
[2025-06-28T03:51:22.110Z] WARN  [PID:1111440] CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
[2025-06-28T03:51:22.110Z] INFO  [PID:1111440] CSV解析完了: 1行のデータ {"level":"INFO"}
2025-06-28T03:51:22: [33m[2025-06-28T03:51:22.110Z] WARN  [PID:1111440][0m CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
[2025-06-28T03:51:22.110Z] INFO  [PID:1111440] 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.110Z] INFO  [PID:1111440][0m CSV解析完了: 1行のデータ {"level":"INFO"}
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.110Z] INFO  [PID:1111440][0m 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
[2025-06-28T03:51:22.111Z] INFO  [PID:1111440] 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
[2025-06-28T03:51:22.111Z] INFO  [PID:1111440] 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.111Z] INFO  [PID:1111440][0m 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
[2025-06-28T03:51:22.111Z] INFO  [PID:1111440] 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
[2025-06-28T03:51:22.111Z] INFO  [PID:1111440] バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
[2025-06-28T03:51:22.112Z] INFO  [PID:1111440] 🔍 重複チェック開始... {"level":"INFO"}
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.111Z] INFO  [PID:1111440][0m 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.111Z] INFO  [PID:1111440][0m 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.111Z] INFO  [PID:1111440][0m バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.112Z] INFO  [PID:1111440][0m 🔍 重複チェック開始... {"level":"INFO"}
2025-06-28T03:51:22: SQL実行: SELECT phone FROM contacts WHERE campaign_id = ?... パラメータ数: 1
[2025-06-28T03:51:22.113Z] INFO  [PID:1111440] 既存電話番号数: 0 {"level":"INFO"}
[2025-06-28T03:51:22.114Z] INFO  [PID:1111440] 新規データ追加: 05018086649 {"level":"INFO"}
[2025-06-28T03:51:22.114Z] INFO  [PID:1111440] 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
[2025-06-28T03:51:22.114Z] INFO  [PID:1111440] 💾 データベース挿入開始: 1件 {"level":"INFO"}
2025-06-28T03:51:22: SQL実行成功: 結果行数=0
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.113Z] INFO  [PID:1111440][0m 既存電話番号数: 0 {"level":"INFO"}
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.114Z] INFO  [PID:1111440][0m 新規データ追加: 05018086649 {"level":"INFO"}
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.114Z] INFO  [PID:1111440][0m 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.114Z] INFO  [PID:1111440][0m 💾 データベース挿入開始: 1件 {"level":"INFO"}
2025-06-28T03:51:22: SQL実行: START TRANSACTION... 
2025-06-28T03:51:22: SQL実行成功: 結果行数=不明
2025-06-28T03:51:22: SQL実行: INSERT INTO contacts (campaign_id, phone, name, company, status, created_at) VALUES (?, ?, ?, ?, ?, ... パラメータ数: 5
[2025-06-28T03:51:22.116Z] INFO  [PID:1111440] 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
2025-06-28T03:51:22: SQL実行成功: 結果行数=不明
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.116Z] INFO  [PID:1111440][0m 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
2025-06-28T03:51:22: SQL実行: COMMIT... 
2025-06-28T03:51:22: SQL実行成功: 結果行数=不明
[2025-06-28T03:51:22.120Z] INFO  [PID:1111440] ✅ 全件挿入完了: 1件 {"level":"INFO"}
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.120Z] INFO  [PID:1111440][0m ✅ 全件挿入完了: 1件 {"level":"INFO"}
2025-06-28T03:51:22: SQL実行: SELECT COUNT(*) as total FROM contacts WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T03:51:22: SQL実行成功: 結果行数=1
2025-06-28T03:51:22: SQL実行: SELECT COUNT(*) as completed FROM contacts WHERE campaign_id = ? AND status IN ("completed", "failed... パラメータ数: 1
2025-06-28T03:51:22: SQL実行成功: 結果行数=1
2025-06-28T03:51:22: SQL実行: UPDATE campaigns SET progress = ?, updated_at = NOW() WHERE id = ?... パラメータ数: 2
[2025-06-28T03:51:22.127Z] INFO  [PID:1111440] CSVアップロード完了 {"campaignId":"169","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
2025-06-28T03:51:22: SQL実行成功: 結果行数=不明
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.127Z] INFO  [PID:1111440][0m CSVアップロード完了 {"campaignId":"169","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
[2025-06-28T03:51:22.163Z] INFO  [PID:1111440] キャンペーン詳細取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:22: GET /api/campaigns/169 - Origin: http://146.190.83.205:3003
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.163Z] INFO  [PID:1111440][0m キャンペーン詳細取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:22: SQL実行: 
2025-06-28T03:51:22:       SELECT c.*, 
2025-06-28T03:51:22:              ci.number as caller_id_number,
2025-06-28T03:51:22:              ci.description as calle... パラメータ数: 1
[2025-06-28T03:51:22.166Z] INFO  [PID:1111440] キャンペーン詳細取得完了: ID=169 {"level":"INFO"}
2025-06-28T03:51:22: SQL実行成功: 結果行数=1
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.166Z] INFO  [PID:1111440][0m キャンペーン詳細取得完了: ID=169 {"level":"INFO"}
[2025-06-28T03:51:22.201Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:22: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.201Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:22: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:51:22: SQL実行成功: 結果行数=1
2025-06-28T03:51:22: SQL実行: 
2025-06-28T03:51:22:       SELECT 
2025-06-28T03:51:22:         COUNT(*) as total,
2025-06-28T03:51:22:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:51:22: SQL実行成功: 結果行数=1
2025-06-28T03:51:22: SQL実行: 
2025-06-28T03:51:22:       SELECT 
2025-06-28T03:51:22:         COUNT(*) as total_calls,
2025-06-28T03:51:22:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:51:22: SQL実行成功: 結果行数=1
[2025-06-28T03:51:22.205Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.205Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
[2025-06-28T03:51:22.241Z] INFO  [PID:1111440] 連絡先一覧取得: Campaign=169, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T03:51:22: GET /api/campaigns/169/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.241Z] INFO  [PID:1111440][0m 連絡先一覧取得: Campaign=169, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T03:51:22: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:51:22: SQL実行成功: 結果行数=1
2025-06-28T03:51:22: SQL実行: 
2025-06-28T03:51:22:       SELECT c.*
2025-06-28T03:51:22:       FROM contacts c
2025-06-28T03:51:22:       WHERE c.campaign_id = ?
2025-06-28T03:51:22:      ORDER BY c.created_at DES... パラメータ数: 1
2025-06-28T03:51:22: SQL実行成功: 結果行数=1
2025-06-28T03:51:22: SQL実行: 
2025-06-28T03:51:22:       SELECT COUNT(*) as total
2025-06-28T03:51:22:       FROM contacts c
2025-06-28T03:51:22:       WHERE c.campaign_id = ?
2025-06-28T03:51:22:     ... パラメータ数: 1
2025-06-28T03:51:22: SQL実行成功: 結果行数=1
[2025-06-28T03:51:22.246Z] INFO  [PID:1111440] 連絡先取得結果: Campaign=169, 件数=1, 全体=1 {"level":"INFO"}
2025-06-28T03:51:22: [36m[2025-06-28T03:51:22.246Z] INFO  [PID:1111440][0m 連絡先取得結果: Campaign=169, 件数=1, 全体=1 {"level":"INFO"}
2025-06-28T03:51:23: GET /api/audio - Origin: http://146.190.83.205:3003
[2025-06-28T03:51:23.449Z] INFO  [PID:1111440] 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:51:23: [36m[2025-06-28T03:51:23.449Z] INFO  [PID:1111440][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:51:23: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
[2025-06-28T03:51:23.452Z] INFO  [PID:1111440] 2件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T03:51:23: SQL実行成功: 結果行数=2
2025-06-28T03:51:23: [36m[2025-06-28T03:51:23.452Z] INFO  [PID:1111440][0m 2件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T03:51:23: GET /api/ivr/campaigns/169 - Origin: http://146.190.83.205:3003
2025-06-28T03:51:23: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:51:23: SQL実行成功: 結果行数=1
[2025-06-28T03:51:23.456Z] INFO  [PID:1111440] キャンペーン音声取得開始: Campaign=169 {"level":"INFO"}
2025-06-28T03:51:23: [36m[2025-06-28T03:51:23.456Z] INFO  [PID:1111440][0m キャンペーン音声取得開始: Campaign=169 {"level":"INFO"}
2025-06-28T03:51:23: SQL実行: 
2025-06-28T03:51:23:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:51:23:    ... パラメータ数: 1
[2025-06-28T03:51:23.457Z] INFO  [PID:1111440] キャンペーン音声取得結果: Campaign=169, 件数=0 {"level":"INFO"}
2025-06-28T03:51:23: SQL実行成功: 結果行数=0
2025-06-28T03:51:23: [36m[2025-06-28T03:51:23.457Z] INFO  [PID:1111440][0m キャンペーン音声取得結果: Campaign=169, 件数=0 {"level":"INFO"}
[2025-06-28T03:51:23.458Z] WARN  [PID:1111440] キャンペーン 169 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-28T03:51:23: [33m[2025-06-28T03:51:23.458Z] WARN  [PID:1111440][0m キャンペーン 169 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-28T03:51:23: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T03:51:23: SQL実行成功: 結果行数=0
2025-06-28T03:51:23: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
2025-06-28T03:51:23: SQL実行成功: 結果行数=1
[2025-06-28T03:51:23.461Z] INFO  [PID:1111440] キャンペーン音声取得開始: Campaign=169 {"level":"INFO"}
2025-06-28T03:51:23: [36m[2025-06-28T03:51:23.461Z] INFO  [PID:1111440][0m キャンペーン音声取得開始: Campaign=169 {"level":"INFO"}
2025-06-28T03:51:23: SQL実行: 
2025-06-28T03:51:23:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:51:23:    ... パラメータ数: 1
[2025-06-28T03:51:23.463Z] INFO  [PID:1111440] キャンペーン音声取得結果: Campaign=169, 件数=0 {"level":"INFO"}
2025-06-28T03:51:23: SQL実行成功: 結果行数=0
[2025-06-28T03:51:23.463Z] WARN  [PID:1111440] キャンペーン 169 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-28T03:51:23: [36m[2025-06-28T03:51:23.463Z] INFO  [PID:1111440][0m キャンペーン音声取得結果: Campaign=169, 件数=0 {"level":"INFO"}
2025-06-28T03:51:23: [33m[2025-06-28T03:51:23.463Z] WARN  [PID:1111440][0m キャンペーン 169 に音声ファイルが見つかりません {"level":"WARN"}
[2025-06-28T03:51:23.465Z] INFO  [PID:1111440] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-169.conf {"level":"INFO"}
2025-06-28T03:51:23: [36m[2025-06-28T03:51:23.465Z] INFO  [PID:1111440][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-169.conf {"level":"INFO"}
2025-06-28T03:51:23: SQL実行: SELECT 1... 
2025-06-28T03:51:23: SQL実行: 
2025-06-28T03:51:23:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:51:23:                ci.number as ca... 
2025-06-28T03:51:23: SQL実行成功: 結果行数=1
2025-06-28T03:51:23: SQL実行成功: 結果行数=77
[2025-06-28T03:51:25.930Z] INFO  [PID:1111440] 音声ファイル割り当て: キャンペーンID=169, 音声ID=45c00dc2-06d7-4d17-8865-62bfc5bf59e3, タイプ=welcome {"level":"INFO"}
2025-06-28T03:51:25: POST /api/audio/assign - Origin: http://146.190.83.205:3003
2025-06-28T03:51:25: [36m[2025-06-28T03:51:25.930Z] INFO  [PID:1111440][0m 音声ファイル割り当て: キャンペーンID=169, 音声ID=45c00dc2-06d7-4d17-8865-62bfc5bf59e3, タイプ=welcome {"level":"INFO"}
2025-06-28T03:51:25: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:51:25: SQL実行成功: 結果行数=1
2025-06-28T03:51:25: SQL実行: SELECT id FROM audio_files WHERE id = ?... パラメータ数: 1
2025-06-28T03:51:25: SQL実行成功: 結果行数=1
2025-06-28T03:51:25: SQL実行: SELECT * FROM campaign_audio WHERE campaign_id = ? AND audio_type = ?... パラメータ数: 2
2025-06-28T03:51:25: SQL実行成功: 結果行数=0
2025-06-28T03:51:25: SQL実行: INSERT INTO campaign_audio (campaign_id, audio_file_id, audio_type, created_at) VALUES (?, ?, ?, NOW... パラメータ数: 3
[2025-06-28T03:51:25.940Z] INFO  [PID:1111440] 新規割り当てを作成しました: キャンペーンID=169, タイプ=welcome {"level":"INFO"}
2025-06-28T03:51:25: SQL実行成功: 結果行数=不明
2025-06-28T03:51:25: [36m[2025-06-28T03:51:25.940Z] INFO  [PID:1111440][0m 新規割り当てを作成しました: キャンペーンID=169, タイプ=welcome {"level":"INFO"}
2025-06-28T03:51:25: GET /api/ivr/campaigns/169 - Origin: http://146.190.83.205:3003
2025-06-28T03:51:25: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T03:51:25.979Z] INFO  [PID:1111440] キャンペーン音声取得開始: Campaign=169 {"level":"INFO"}
2025-06-28T03:51:25: SQL実行成功: 結果行数=1
2025-06-28T03:51:25: [36m[2025-06-28T03:51:25.979Z] INFO  [PID:1111440][0m キャンペーン音声取得開始: Campaign=169 {"level":"INFO"}
2025-06-28T03:51:25: SQL実行: 
2025-06-28T03:51:25:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:51:25:    ... パラメータ数: 1
[2025-06-28T03:51:25.981Z] INFO  [PID:1111440] キャンペーン音声取得結果: Campaign=169, 件数=1 {"level":"INFO"}
2025-06-28T03:51:25: SQL実行成功: 結果行数=1
[2025-06-28T03:51:25.981Z] INFO  [PID:1111440] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
2025-06-28T03:51:25: [36m[2025-06-28T03:51:25.981Z] INFO  [PID:1111440][0m キャンペーン音声取得結果: Campaign=169, 件数=1 {"level":"INFO"}
2025-06-28T03:51:25: [36m[2025-06-28T03:51:25.981Z] INFO  [PID:1111440][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
2025-06-28T03:51:25: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T03:51:25: SQL実行成功: 結果行数=0
2025-06-28T03:51:25: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T03:51:25.984Z] INFO  [PID:1111440] キャンペーン音声取得開始: Campaign=169 {"level":"INFO"}
2025-06-28T03:51:25: SQL実行成功: 結果行数=1
2025-06-28T03:51:25: [36m[2025-06-28T03:51:25.984Z] INFO  [PID:1111440][0m キャンペーン音声取得開始: Campaign=169 {"level":"INFO"}
2025-06-28T03:51:25: SQL実行: 
2025-06-28T03:51:25:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:51:25:    ... パラメータ数: 1
[2025-06-28T03:51:25.985Z] INFO  [PID:1111440] キャンペーン音声取得結果: Campaign=169, 件数=1 {"level":"INFO"}
2025-06-28T03:51:25: SQL実行成功: 結果行数=1
[2025-06-28T03:51:25.985Z] INFO  [PID:1111440] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
2025-06-28T03:51:25: [36m[2025-06-28T03:51:25.985Z] INFO  [PID:1111440][0m キャンペーン音声取得結果: Campaign=169, 件数=1 {"level":"INFO"}
2025-06-28T03:51:25: [36m[2025-06-28T03:51:25.985Z] INFO  [PID:1111440][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:51:25.986Z] INFO  [PID:1111440] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-169.conf {"level":"INFO"}
2025-06-28T03:51:25: [36m[2025-06-28T03:51:25.986Z] INFO  [PID:1111440][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-169.conf {"level":"INFO"}
2025-06-28T03:51:27: POST /api/campaigns/169/start - Origin: http://146.190.83.205:3003
2025-06-28T03:51:27: 🔍 campaignsController.startCampaign 開始: { campaignId: '169' }
2025-06-28T03:51:27: SQL実行: 
2025-06-28T03:51:27:       SELECT c.*, ci.active as caller_id_active,
2025-06-28T03:51:27:              (SELECT COUNT(*) FROM contacts WHERE ... パラメータ数: 1
2025-06-28T03:51:27: SQL実行成功: 結果行数=1
2025-06-28T03:51:27: 🔍 修正後のクエリ結果: {
2025-06-28T03:51:27:   rows_length: 1,
2025-06-28T03:51:27:   campaign_exists: 'YES',
2025-06-28T03:51:27:   caller_id_id: 8,
2025-06-28T03:51:27:   caller_id_active: 1,
2025-06-28T03:51:27:   contact_count: '1'
2025-06-28T03:51:27: }
2025-06-28T03:51:27: 🔍 検証開始: {
2025-06-28T03:51:27:   'campaign.caller_id_id': 8,
2025-06-28T03:51:27:   'campaign.caller_id_active': 1,
2025-06-28T03:51:27:   'typeof caller_id_id': 'number',
2025-06-28T03:51:27:   'typeof caller_id_active': 'number',
2025-06-28T03:51:27:   '!campaign.caller_id_id': false,
2025-06-28T03:51:27:   '!campaign.caller_id_active': false
2025-06-28T03:51:27: }
2025-06-28T03:51:27: ✅ 検証完了、IVRデプロイ開始
[2025-06-28T03:51:27.824Z] INFO  [PID:1111440] 🚀 キャンペーン 169 のIVRスクリプト完全デプロイ開始... {"level":"INFO"}
[2025-06-28T03:51:27.824Z] INFO  [PID:1111440] 📝 Step 1: IVRスクリプト生成中... {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.824Z] INFO  [PID:1111440][0m 🚀 キャンペーン 169 のIVRスクリプト完全デプロイ開始... {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.824Z] INFO  [PID:1111440][0m 📝 Step 1: IVRスクリプト生成中... {"level":"INFO"}
2025-06-28T03:51:27: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T03:51:27.825Z] INFO  [PID:1111440] キャンペーン音声取得開始: Campaign=169 {"level":"INFO"}
2025-06-28T03:51:27: SQL実行成功: 結果行数=1
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.825Z] INFO  [PID:1111440][0m キャンペーン音声取得開始: Campaign=169 {"level":"INFO"}
2025-06-28T03:51:27: SQL実行: 
2025-06-28T03:51:27:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:51:27:    ... パラメータ数: 1
[2025-06-28T03:51:27.826Z] INFO  [PID:1111440] キャンペーン音声取得結果: Campaign=169, 件数=1 {"level":"INFO"}
2025-06-28T03:51:27: SQL実行成功: 結果行数=1
[2025-06-28T03:51:27.827Z] INFO  [PID:1111440] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.826Z] INFO  [PID:1111440][0m キャンペーン音声取得結果: Campaign=169, 件数=1 {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.827Z] INFO  [PID:1111440][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:51:27.827Z] INFO  [PID:1111440] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-169.conf {"level":"INFO"}
[2025-06-28T03:51:27.827Z] INFO  [PID:1111440] ✅ IVRスクリプト生成完了: /var/www/autodialer/backend/ivr-scripts/campaign-169.conf {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.827Z] INFO  [PID:1111440][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-169.conf {"level":"INFO"}
[2025-06-28T03:51:27.828Z] INFO  [PID:1111440] 📝 Step 2: extensions.confへのinclude追加中... {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.827Z] INFO  [PID:1111440][0m ✅ IVRスクリプト生成完了: /var/www/autodialer/backend/ivr-scripts/campaign-169.conf {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.828Z] INFO  [PID:1111440][0m 📝 Step 2: extensions.confへのinclude追加中... {"level":"INFO"}
[2025-06-28T03:51:27.828Z] INFO  [PID:1111440] 🔧 extensions.conf include追加: #include "/var/www/autodialer/backend/ivr-scripts/campaign-169.conf" {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.828Z] INFO  [PID:1111440][0m 🔧 extensions.conf include追加: #include "/var/www/autodialer/backend/ivr-scripts/campaign-169.conf" {"level":"INFO"}
[2025-06-28T03:51:27.830Z] INFO  [PID:1111440] ✅ extensions.confにinclude追加完了: campaign-169.conf {"level":"INFO"}
[2025-06-28T03:51:27.830Z] INFO  [PID:1111440] 📝 Step 3: Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.830Z] INFO  [PID:1111440][0m ✅ extensions.confにinclude追加完了: campaign-169.conf {"level":"INFO"}
[2025-06-28T03:51:27.831Z] INFO  [PID:1111440] 🔄 Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.830Z] INFO  [PID:1111440][0m 📝 Step 3: Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.831Z] INFO  [PID:1111440][0m 🔄 Asterisk dialplan reload実行中... {"level":"INFO"}
[2025-06-28T03:51:27.863Z] INFO  [PID:1111440] ✅ Asterisk dialplan reload成功: Dialplan reloaded. {"level":"INFO"}
[2025-06-28T03:51:27.864Z] INFO  [PID:1111440] 📝 Step 4: データベース記録中... {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.863Z] INFO  [PID:1111440][0m ✅ Asterisk dialplan reload成功: Dialplan reloaded. {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.864Z] INFO  [PID:1111440][0m 📝 Step 4: データベース記録中... {"level":"INFO"}
2025-06-28T03:51:27: SQL実行: UPDATE campaigns SET ivr_deployed = true, ivr_deploy_time = NOW() WHERE id = ?... パラメータ数: 1
[2025-06-28T03:51:27.868Z] INFO  [PID:1111440] ✅ データベース記録完了 {"level":"INFO"}
[2025-06-28T03:51:27.869Z] INFO  [PID:1111440] 📝 Step 5: デプロイ検証中... {"level":"INFO"}
2025-06-28T03:51:27: SQL実行成功: 結果行数=不明
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.868Z] INFO  [PID:1111440][0m ✅ データベース記録完了 {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.869Z] INFO  [PID:1111440][0m 📝 Step 5: デプロイ検証中... {"level":"INFO"}
[2025-06-28T03:51:27.869Z] INFO  [PID:1111440] 🔍 コンテキスト検証中: autodialer-campaign-169 {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.869Z] INFO  [PID:1111440][0m 🔍 コンテキスト検証中: autodialer-campaign-169 {"level":"INFO"}
[2025-06-28T03:51:27.894Z] WARN  [PID:1111440] ⚠️ コンテキスト検証結果不明: [ Context 'autodialer-campaign-169' created by 'pbx_config' ]
  '1' =>            1. NoOp(Operator transfer requested)          [campaign-169.conf:10]
                    2. Set(CAMPAIGN_ID=169)                       [campaign-169.conf:11]
                    3. Set(KEYPRESS=1)                            [campaign-169.conf:12]
                    4. Goto(operator-transfer-169,s,1)            [campaign-169.conf:13]
  '2' =>            1. NoOp(Operator transfer requested)          [campaign-169.conf:15]
                    2. Set(CAMPAIGN_ID=169)                       [campaign-169.conf:16]
                    3. Set(KEYPRESS=2)                            [campaign-169.conf:17]
                    4. Goto(operator-transfer-169,s,1)            [campaign-169.conf:18]
  '3' =>            1. NoOp(Operator transfer requested)          [campaign-169.conf:20]
                    2. Set(CAMPAIGN_ID=169)                       [campaign-169.conf:21]
                    3. Set(KEYPRESS=3)                            [campaign-169.conf:22]
                    4. Goto(operator-transfer-169,s,1)            [campaign-169.conf:23]
  '9' =>            1. NoOp(DNC requested)                        [campaign-169.conf:25]
                    2. Set(CAMPAIGN_ID=169)                       [campaign-169.conf:26]
                    3. Set(KEYPRESS=9)                            [campaign-169.conf:27]
                    4. Playback(custom/dnc-confirmation)          [campaign-169.conf:28]
                    5. Hangup()                                   [campaign-169.conf:29]
  'h' =>            1. NoOp(Hangup handler)                       [campaign-169.conf:39]
                    2. System(curl -X POST http://localhost:5000/api/callback/call-end -d "callId=169-${UNIQUEID}&duration=${ANSWEREDTIME}&disposition=${DIALSTATUS}&keypress=${KEYPRESS}") [campaign-169.conf:40]
  'i' =>            1. NoOp(Invalid input)                        [campaign-169.conf:35]
                    2. Playback(custom/invalid-option)            [campaign-169.conf:36]
                    3. Goto(s,4)                                  [campaign-169.conf:37]
  's' =>            1. Answer()                                   [campaign-169.conf:4]
                    2. Wait(1)                                    [campaign-169.conf:5]
                    3. Playback(autodialer/45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302) [campaign-169.conf:6]
                    4. Playback(vm-tempgreeting)                  [campaign-169.conf:7]
                    5. WaitExten(10)                              [campaign-169.conf:8]
  't' =>            1. NoOp(Timeout occurred)                     [campaign-169.conf:31]
                    2. Playback(goodbye)                          [campaign-169.conf:32]
                    3. Hangup()                                   [campaign-169.conf:33]

-= 8 extensions (30 priorities) in 1 context. =-
 {"level":"WARN"}
[2025-06-28T03:51:27.894Z] WARN  [PID:1111440] ⚠️ コンテキスト検証失敗 - 手動確認が必要です {"level":"WARN"}
2025-06-28T03:51:27: [33m[2025-06-28T03:51:27.894Z] WARN  [PID:1111440][0m ⚠️ コンテキスト検証結果不明: [ Context 'autodialer-campaign-169' created by 'pbx_config' ]
2025-06-28T03:51:27:   '1' =>            1. NoOp(Operator transfer requested)          [campaign-169.conf:10]
2025-06-28T03:51:27:                     2. Set(CAMPAIGN_ID=169)                       [campaign-169.conf:11]
2025-06-28T03:51:27:                     3. Set(KEYPRESS=1)                            [campaign-169.conf:12]
2025-06-28T03:51:27:                     4. Goto(operator-transfer-169,s,1)            [campaign-169.conf:13]
2025-06-28T03:51:27:   '2' =>            1. NoOp(Operator transfer requested)          [campaign-169.conf:15]
2025-06-28T03:51:27:                     2. Set(CAMPAIGN_ID=169)                       [campaign-169.conf:16]
2025-06-28T03:51:27:                     3. Set(KEYPRESS=2)                            [campaign-169.conf:17]
2025-06-28T03:51:27:                     4. Goto(operator-transfer-169,s,1)            [campaign-169.conf:18]
2025-06-28T03:51:27:   '3' =>            1. NoOp(Operator transfer requested)          [campaign-169.conf:20]
2025-06-28T03:51:27:                     2. Set(CAMPAIGN_ID=169)                       [campaign-169.conf:21]
2025-06-28T03:51:27:                     3. Set(KEYPRESS=3)                            [campaign-169.conf:22]
2025-06-28T03:51:27:                     4. Goto(operator-transfer-169,s,1)            [campaign-169.conf:23]
2025-06-28T03:51:27:   '9' =>            1. NoOp(DNC requested)                        [campaign-169.conf:25]
2025-06-28T03:51:27:                     2. Set(CAMPAIGN_ID=169)                       [campaign-169.conf:26]
2025-06-28T03:51:27:                     3. Set(KEYPRESS=9)                            [campaign-169.conf:27]
2025-06-28T03:51:27:                     4. Playback(custom/dnc-confirmation)          [campaign-169.conf:28]
2025-06-28T03:51:27:                     5. Hangup()                                   [campaign-169.conf:29]
2025-06-28T03:51:27:   'h' =>            1. NoOp(Hangup handler)                       [campaign-169.conf:39]
2025-06-28T03:51:27:                     2. System(curl -X POST http://localhost:5000/api/callback/call-end -d "callId=169-${UNIQUEID}&duration=${ANSWEREDTIME}&disposition=${DIALSTATUS}&keypress=${KEYPRESS}") [campaign-169.conf:40]
2025-06-28T03:51:27:   'i' =>            1. NoOp(Invalid input)                        [campaign-169.conf:35]
2025-06-28T03:51:27:                     2. Playback(custom/invalid-option)            [campaign-169.conf:36]
2025-06-28T03:51:27:                     3. Goto(s,4)                                  [campaign-169.conf:37]
2025-06-28T03:51:27:   's' =>            1. Answer()                                   [campaign-169.conf:4]
2025-06-28T03:51:27:                     2. Wait(1)                                    [campaign-169.conf:5]
2025-06-28T03:51:27:                     3. Playback(autodialer/45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302) [campaign-169.conf:6]
2025-06-28T03:51:27:                     4. Playback(vm-tempgreeting)                  [campaign-169.conf:7]
2025-06-28T03:51:27:                     5. WaitExten(10)                              [campaign-169.conf:8]
2025-06-28T03:51:27:   't' =>            1. NoOp(Timeout occurred)                     [campaign-169.conf:31]
2025-06-28T03:51:27:                     2. Playback(goodbye)                          [campaign-169.conf:32]
2025-06-28T03:51:27:                     3. Hangup()                                   [campaign-169.conf:33]
2025-06-28T03:51:27: 
2025-06-28T03:51:27: -= 8 extensions (30 priorities) in 1 context. =-
2025-06-28T03:51:27:  {"level":"WARN"}
2025-06-28T03:51:27: [33m[2025-06-28T03:51:27.894Z] WARN  [PID:1111440][0m ⚠️ コンテキスト検証失敗 - 手動確認が必要です {"level":"WARN"}
2025-06-28T03:51:27: ✅ IVRスクリプト自動デプロイ完了: キャンペーン 169 {
2025-06-28T03:51:27:   scriptPath: '/var/www/autodialer/backend/ivr-scripts/campaign-169.conf',
2025-06-28T03:51:27:   message: 'キャンペーン 169 のIVRスクリプトが完全デプロイされました'
2025-06-28T03:51:27: }
[2025-06-28T03:51:27.896Z] INFO  [PID:1111440] 🚀 手動キャンペーン開始: 169 {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.896Z] INFO  [PID:1111440][0m 🚀 手動キャンペーン開始: 169 {"level":"INFO"}
2025-06-28T03:51:27: SQL実行: 
2025-06-28T03:51:27:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:51:27:                ci.number as ca... パラメータ数: 1
2025-06-28T03:51:27: SQL実行成功: 結果行数=1
2025-06-28T03:51:27: SQL実行: UPDATE campaigns SET status = ?, updated_at = NOW() WHERE id = ?... パラメータ数: 2
2025-06-28T03:51:27: SQL実行成功: 結果行数=不明
[2025-06-28T03:51:27.902Z] INFO  [PID:1111440] 🎉 イベント: キャンペーン追加 - デモ (ID: 169) {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.902Z] INFO  [PID:1111440][0m 🎉 イベント: キャンペーン追加 - デモ (ID: 169) {"level":"INFO"}
[2025-06-28T03:51:27.903Z] INFO  [PID:1111440] ✅ キャンペーン自動追加: "デモ" (未処理: 1件) {"level":"INFO"}
[2025-06-28T03:51:27.903Z] INFO  [PID:1111440] 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.903Z] INFO  [PID:1111440][0m ✅ キャンペーン自動追加: "デモ" (未処理: 1件) {"level":"INFO"}
[2025-06-28T03:51:27.903Z] INFO  [PID:1111440] ✅ 手動キャンペーン開始完了: "デモ" {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.903Z] INFO  [PID:1111440][0m 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.903Z] INFO  [PID:1111440][0m ✅ 手動キャンペーン開始完了: "デモ" {"level":"INFO"}
2025-06-28T03:51:27: GET /api/campaigns/169 - Origin: http://146.190.83.205:3003
[2025-06-28T03:51:27.941Z] INFO  [PID:1111440] キャンペーン詳細取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.941Z] INFO  [PID:1111440][0m キャンペーン詳細取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:27: SQL実行: 
2025-06-28T03:51:27:       SELECT c.*, 
2025-06-28T03:51:27:              ci.number as caller_id_number,
2025-06-28T03:51:27:              ci.description as calle... パラメータ数: 1
[2025-06-28T03:51:27.945Z] INFO  [PID:1111440] キャンペーン詳細取得完了: ID=169 {"level":"INFO"}
2025-06-28T03:51:27: SQL実行成功: 結果行数=1
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.945Z] INFO  [PID:1111440][0m キャンペーン詳細取得完了: ID=169 {"level":"INFO"}
[2025-06-28T03:51:27.982Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:27: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.982Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:51:27: SQL実行成功: 結果行数=1
2025-06-28T03:51:27: SQL実行: 
2025-06-28T03:51:27:       SELECT 
2025-06-28T03:51:27:         COUNT(*) as total,
2025-06-28T03:51:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:51:27: SQL実行成功: 結果行数=1
2025-06-28T03:51:27: SQL実行: 
2025-06-28T03:51:27:       SELECT 
2025-06-28T03:51:27:         COUNT(*) as total_calls,
2025-06-28T03:51:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:51:27: SQL実行成功: 結果行数=1
[2025-06-28T03:51:27.988Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:51:27: [36m[2025-06-28T03:51:27.988Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
[2025-06-28T03:51:28.026Z] INFO  [PID:1111440] 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:51:28: GET /api/audio - Origin: http://146.190.83.205:3003
2025-06-28T03:51:28: [36m[2025-06-28T03:51:28.026Z] INFO  [PID:1111440][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:51:28: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
2025-06-28T03:51:28: GET /api/ivr/campaigns/169 - Origin: http://146.190.83.205:3003
2025-06-28T03:51:28: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T03:51:28.029Z] INFO  [PID:1111440] 2件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T03:51:28: SQL実行成功: 結果行数=2
2025-06-28T03:51:28: [36m[2025-06-28T03:51:28.029Z] INFO  [PID:1111440][0m 2件の音声ファイルを取得しました {"level":"INFO"}
[2025-06-28T03:51:28.031Z] INFO  [PID:1111440] キャンペーン音声取得開始: Campaign=169 {"level":"INFO"}
2025-06-28T03:51:28: SQL実行成功: 結果行数=1
2025-06-28T03:51:28: [36m[2025-06-28T03:51:28.031Z] INFO  [PID:1111440][0m キャンペーン音声取得開始: Campaign=169 {"level":"INFO"}
2025-06-28T03:51:28: SQL実行: 
2025-06-28T03:51:28:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:51:28:    ... パラメータ数: 1
[2025-06-28T03:51:28.034Z] INFO  [PID:1111440] キャンペーン音声取得結果: Campaign=169, 件数=1 {"level":"INFO"}
2025-06-28T03:51:28: SQL実行成功: 結果行数=1
[2025-06-28T03:51:28.035Z] INFO  [PID:1111440] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
2025-06-28T03:51:28: [36m[2025-06-28T03:51:28.034Z] INFO  [PID:1111440][0m キャンペーン音声取得結果: Campaign=169, 件数=1 {"level":"INFO"}
2025-06-28T03:51:28: [36m[2025-06-28T03:51:28.035Z] INFO  [PID:1111440][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
2025-06-28T03:51:28: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T03:51:28: SQL実行成功: 結果行数=0
2025-06-28T03:51:28: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T03:51:28.037Z] INFO  [PID:1111440] キャンペーン音声取得開始: Campaign=169 {"level":"INFO"}
2025-06-28T03:51:28: SQL実行成功: 結果行数=1
2025-06-28T03:51:28: [36m[2025-06-28T03:51:28.037Z] INFO  [PID:1111440][0m キャンペーン音声取得開始: Campaign=169 {"level":"INFO"}
2025-06-28T03:51:28: SQL実行: 
2025-06-28T03:51:28:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:51:28:    ... パラメータ数: 1
[2025-06-28T03:51:28.038Z] INFO  [PID:1111440] キャンペーン音声取得結果: Campaign=169, 件数=1 {"level":"INFO"}
2025-06-28T03:51:28: SQL実行成功: 結果行数=1
2025-06-28T03:51:28: [36m[2025-06-28T03:51:28.038Z] INFO  [PID:1111440][0m キャンペーン音声取得結果: Campaign=169, 件数=1 {"level":"INFO"}
[2025-06-28T03:51:28.039Z] INFO  [PID:1111440] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
2025-06-28T03:51:28: [36m[2025-06-28T03:51:28.039Z] INFO  [PID:1111440][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:51:28.039Z] INFO  [PID:1111440] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-169.conf {"level":"INFO"}
2025-06-28T03:51:28: [36m[2025-06-28T03:51:28.039Z] INFO  [PID:1111440][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-169.conf {"level":"INFO"}
2025-06-28T03:51:32: SQL実行: 
2025-06-28T03:51:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:51:32:           FROM contacts 
2025-06-28T03:51:32:           WHERE c... パラメータ数: 1
[2025-06-28T03:51:32.906Z] INFO  [PID:1111440] 📞 発信準備: 05018086649 (Campaign: デモ, 試行回数: 0) {"level":"INFO"}
2025-06-28T03:51:32: SQL実行成功: 結果行数=1
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.906Z] INFO  [PID:1111440][0m 📞 発信準備: 05018086649 (Campaign: デモ, 試行回数: 0) {"level":"INFO"}
[2025-06-28T03:51:32.907Z] INFO  [PID:1111440] 🔧 発信診断開始: 05018086649 {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.907Z] INFO  [PID:1111440][0m 🔧 発信診断開始: 05018086649 {"level":"INFO"}
2025-06-28T03:51:32: SQL実行: UPDATE contacts SET status = ?, last_attempt = NOW(), attempt_count = attempt_count + 1 WHERE id = ?... パラメータ数: 2
2025-06-28T03:51:32: SQL実行成功: 結果行数=不明
2025-06-28T03:51:32: SQL実行: SELECT * FROM caller_ids WHERE id = ? AND active = true... パラメータ数: 1
[2025-06-28T03:51:32.912Z] INFO  [PID:1111440] キャンペーン音声取得開始: Campaign=169 {"level":"INFO"}
2025-06-28T03:51:32: SQL実行成功: 結果行数=1
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.912Z] INFO  [PID:1111440][0m キャンペーン音声取得開始: Campaign=169 {"level":"INFO"}
2025-06-28T03:51:32: SQL実行: 
2025-06-28T03:51:32:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:51:32:    ... パラメータ数: 1
[2025-06-28T03:51:32.914Z] INFO  [PID:1111440] キャンペーン音声取得結果: Campaign=169, 件数=1 {"level":"INFO"}
2025-06-28T03:51:32: SQL実行成功: 結果行数=1
[2025-06-28T03:51:32.914Z] INFO  [PID:1111440] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:51:32.914Z] INFO  [PID:1111440] 🎵 自動発信で音声ファイル取得成功: 1件 (Campaign: 169) {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.914Z] INFO  [PID:1111440][0m キャンペーン音声取得結果: Campaign=169, 件数=1 {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.914Z] INFO  [PID:1111440][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.914Z] INFO  [PID:1111440][0m 🎵 自動発信で音声ファイル取得成功: 1件 (Campaign: 169) {"level":"INFO"}
[2025-06-28T03:51:32.915Z] INFO  [PID:1111440] 🎵 音声1: welcome - 549444996463302 (45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav) {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.915Z] INFO  [PID:1111440][0m 🎵 音声1: welcome - 549444996463302 (45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav) {"level":"INFO"}
[2025-06-28T03:51:32.915Z] INFO  [PID:1111440] 🚀 音声付き自動発信実行: 05018086649 {"campaignId":169,"contactId":10164,"callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":1,"hasAudio":true,"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.915Z] INFO  [PID:1111440][0m 🚀 音声付き自動発信実行: 05018086649 {"campaignId":169,"contactId":10164,"callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":1,"hasAudio":true,"level":"INFO"}
2025-06-28T03:51:32: 🚀🚀🚀 CALLSERVICE-START: originateメソッド開始（SIP専用）
[2025-06-28T03:51:32.915Z] INFO  [PID:1111440] SIPプロバイダで発信: 05018086649 {"level":"INFO"}
2025-06-28T03:51:32: 🚀🚀🚀 CALLSERVICE-PARAMS: {"phoneNumber":"05018086649","callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","context":"autodialer","exten":"s","priority":1,"variables":{"CAMPAIGN_ID":169,"CONTACT_ID":10164,"CONTACT_NAME":"","COMPANY":"","AUTO_DIAL":"true","DIALER_VERSION":"v2.0"},"callerIdData":{"id":8,"number":"0369087851","description":"6/9 契約開始　1番号（25U、23CH）","provider":"外部","domain":"pantex.online","active":1,"created_at":"2025-06-14 10:02:51"},"mockMode":false,"provider":"sip","campaignAudio":[{"audio_type":"welcome","id":"45c00dc2-06d7-4d17-8865-62bfc5bf59e3","name":"549444996463302","filename":"45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav","mimetype":"audio/wav","description":"","path":"/var/www/autodialer/backend/audio-files/45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav"}]}
2025-06-28T03:51:32: 🚀🚀🚀 CALLSERVICE-PROVIDER: sip（固定）
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.915Z] INFO  [PID:1111440][0m SIPプロバイダで発信: 05018086649 {"level":"INFO"}
2025-06-28T03:51:32: 🚀🚀🚀 CALLSERVICE-SERVICE: SIPサービス利用可能
2025-06-28T03:51:32: 🚀🚀🚀 CALLSERVICE-EXEC-1: SIP発信実行直前
[2025-06-28T03:51:32.916Z] INFO  [PID:1111440] 🔥 [SIP-DEBUG] ===== sipService.originate 開始 (AMI版) ===== {"level":"INFO"}
[2025-06-28T03:51:32.916Z] INFO  [PID:1111440] 🔥 [SIP-DEBUG] - phoneNumber: 05018086649 {"level":"INFO"}
[2025-06-28T03:51:32.916Z] INFO  [PID:1111440] 🔥 [SIP-DEBUG] - mockMode: false {"level":"INFO"}
[2025-06-28T03:51:32.916Z] INFO  [PID:1111440] 🔥 [SIP-DEBUG] - connected: true {"level":"INFO"}
[2025-06-28T03:51:32.916Z] INFO  [PID:1111440] 🔥 [SIP-DEBUG] 実発信モードで AMI発信を開始: 発信先=05018086649 {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.916Z] INFO  [PID:1111440][0m 🔥 [SIP-DEBUG] ===== sipService.originate 開始 (AMI版) ===== {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.916Z] INFO  [PID:1111440][0m 🔥 [SIP-DEBUG] - phoneNumber: 05018086649 {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.916Z] INFO  [PID:1111440][0m 🔥 [SIP-DEBUG] - mockMode: false {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.916Z] INFO  [PID:1111440][0m 🔥 [SIP-DEBUG] - connected: true {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.916Z] INFO  [PID:1111440][0m 🔥 [SIP-DEBUG] 実発信モードで AMI発信を開始: 発信先=05018086649 {"level":"INFO"}
[2025-06-28T03:51:32.916Z] INFO  [PID:1111440] 🔍 SIPアカウント選択開始 {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.916Z] INFO  [PID:1111440][0m 🔍 SIPアカウント選択開始 {"level":"INFO"}
2025-06-28T03:51:32: SQL実行: SELECT caller_id_id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T03:51:32.917Z] INFO  [PID:1111440] 🔍 キャンペーン169 → 発信者番号ID: 8 {"level":"INFO"}
2025-06-28T03:51:32: SQL実行成功: 結果行数=1
[2025-06-28T03:51:32.917Z] INFO  [PID:1111440] 🔍 選択されたSIPアカウント: 03500001 {"level":"INFO"}
[2025-06-28T03:51:32.917Z] INFO  [PID:1111440] 🔍 - username: "03500001" (type: string) {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.917Z] INFO  [PID:1111440][0m 🔍 キャンペーン169 → 発信者番号ID: 8 {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.917Z] INFO  [PID:1111440][0m 🔍 選択されたSIPアカウント: 03500001 {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.917Z] INFO  [PID:1111440][0m 🔍 - username: "03500001" (type: string) {"level":"INFO"}
[2025-06-28T03:51:32.918Z] INFO  [PID:1111440] 🔥 [SIP-DEBUG] AMI発信準備完了: {"level":"INFO"}
[2025-06-28T03:51:32.918Z] INFO  [PID:1111440] 🔥 [SIP-DEBUG] - formattedNumber: 05018086649 {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.918Z] INFO  [PID:1111440][0m 🔥 [SIP-DEBUG] AMI発信準備完了: {"level":"INFO"}
[2025-06-28T03:51:32.918Z] INFO  [PID:1111440] 🔥 [SIP-DEBUG] - callId: ami-1751082692918-55 {"level":"INFO"}
[2025-06-28T03:51:32.918Z] INFO  [PID:1111440] 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し開始 ===== {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.918Z] INFO  [PID:1111440][0m 🔥 [SIP-DEBUG] - formattedNumber: 05018086649 {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.918Z] INFO  [PID:1111440][0m 🔥 [SIP-DEBUG] - callId: ami-1751082692918-55 {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.918Z] INFO  [PID:1111440][0m 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し開始 ===== {"level":"INFO"}
[2025-06-28T03:51:32.918Z] INFO  [PID:1111440] 🔍 ===== AMI発信データ追跡開始 ===== {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.918Z] INFO  [PID:1111440][0m 🔍 ===== AMI発信データ追跡開始 ===== {"level":"INFO"}
[2025-06-28T03:51:32.918Z] INFO  [PID:1111440] 🔍 STEP1-引数確認: sipAccount.username="03500001" (type: string) {"level":"INFO"}
[2025-06-28T03:51:32.918Z] INFO  [PID:1111440] 🔍 STEP1-引数確認: formattedNumber="05018086649" {"level":"INFO"}
[2025-06-28T03:51:32.918Z] INFO  [PID:1111440] 🔍 STEP1-引数確認: callId="ami-1751082692918-55" {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.918Z] INFO  [PID:1111440][0m 🔍 STEP1-引数確認: sipAccount.username="03500001" (type: string) {"level":"INFO"}
[2025-06-28T03:51:32.918Z] INFO  [PID:1111440] 🔍 STEP1-引数確認: campaignId="169" {"level":"INFO"}
[2025-06-28T03:51:32.919Z] INFO  [PID:1111440] 🔍 STEP3-ディープコピー: safeSipAccount.username="03500001" {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.918Z] INFO  [PID:1111440][0m 🔍 STEP1-引数確認: formattedNumber="05018086649" {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.918Z] INFO  [PID:1111440][0m 🔍 STEP1-引数確認: callId="ami-1751082692918-55" {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.918Z] INFO  [PID:1111440][0m 🔍 STEP1-引数確認: campaignId="169" {"level":"INFO"}
[2025-06-28T03:51:32.919Z] INFO  [PID:1111440] 🔍 STEP4-Channel構築: "SIP/03500001@pantex.online" {"level":"INFO"}
[2025-06-28T03:51:32.919Z] INFO  [PID:1111440] ✅ データ整合性確認完了 - AMI送信実行 {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.919Z] INFO  [PID:1111440][0m 🔍 STEP3-ディープコピー: safeSipAccount.username="03500001" {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.919Z] INFO  [PID:1111440][0m 🔍 STEP4-Channel構築: "SIP/03500001@pantex.online" {"level":"INFO"}
[2025-06-28T03:51:32.919Z] INFO  [PID:1111440] 📤 AMI送信内容: {"level":"INFO"}
[2025-06-28T03:51:32.919Z] INFO  [PID:1111440] Action: Originate
Channel: PJSIP/05018086649@03500001
Context: autodialer-campaign-169
Exten: s
Priority: 1
CallerID: "0369087851" <0369087851>
Variable: CALLERID(name)=0369087851
Variable: CALLERID(num)=0369087851
Variable: PJSIP_HEADER(update,From)=\"0369087851\" <sip:0369087851@pantex.online>
ActionID: ami-1751082692918-55
Async: yes

 {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.919Z] INFO  [PID:1111440][0m ✅ データ整合性確認完了 - AMI送信実行 {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.919Z] INFO  [PID:1111440][0m 📤 AMI送信内容: {"level":"INFO"}
[2025-06-28T03:51:32.919Z] INFO  [PID:1111440] 📤 AMI送信開始: {"0":"A","1":"c","2":"t","3":"i","4":"o","5":"n","6":":","7":" ","8":"O","9":"r","10":"i","11":"g","12":"i","13":"n","14":"a","15":"t","16":"e","17":"\r","18":"\n","19":"C","20":"h","21":"a","22":"n","23":"n","24":"e","25":"l","26":":","27":" ","28":"P","29":"J","30":"S","31":"I","32":"P","33":"/","34":"0","35":"5","36":"0","37":"1","38":"8","39":"0","40":"8","41":"6","42":"6","43":"4","44":"9","45":"@","46":"0","47":"3","48":"5","49":"0","50":"0","51":"0","52":"0","53":"1","54":"\r","55":"\n","56":"C","57":"o","58":"n","59":"t","60":"e","61":"x","62":"t","63":":","64":" ","65":"a","66":"u","67":"t","68":"o","69":"d","70":"i","71":"a","72":"l","73":"e","74":"r","75":"-","76":"c","77":"a","78":"m","79":"p","80":"a","81":"i","82":"g","83":"n","84":"-","85":"1","86":"6","87":"9","88":"\r","89":"\n","90":"E","91":"x","92":"t","93":"e","94":"n","95":":","96":" ","97":"s","98":"\r","99":"\n","level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.919Z] INFO  [PID:1111440][0m Action: Originate
2025-06-28T03:51:32: Channel: PJSIP/05018086649@03500001
2025-06-28T03:51:32: Context: autodialer-campaign-169
2025-06-28T03:51:32: Exten: s
2025-06-28T03:51:32: Priority: 1
2025-06-28T03:51:32: CallerID: "0369087851" <0369087851>
2025-06-28T03:51:32: Variable: CALLERID(name)=0369087851
2025-06-28T03:51:32: Variable: CALLERID(num)=0369087851
2025-06-28T03:51:32: Variable: PJSIP_HEADER(update,From)=\"0369087851\" <sip:0369087851@pantex.online>
2025-06-28T03:51:32: ActionID: ami-1751082692918-55
2025-06-28T03:51:32: Async: yes
2025-06-28T03:51:32: 
2025-06-28T03:51:32:  {"level":"INFO"}
[2025-06-28T03:51:32.920Z] INFO  [PID:1111440] AMI応答: Response: Success
ActionID: ami-1751082692918-55
Message: Originate successfully queued

 {"level":"INFO"}
[2025-06-28T03:51:32.920Z] INFO  [PID:1111440] 📥 AMI応答受信: Response: Success
ActionID: ami-1751082692918-55
Message: Originate successfully queued

 {"level":"INFO"}
[2025-06-28T03:51:32.920Z] INFO  [PID:1111440] ✅ AMI送信成功 {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.919Z] INFO  [PID:1111440][0m 📤 AMI送信開始: {"0":"A","1":"c","2":"t","3":"i","4":"o","5":"n","6":":","7":" ","8":"O","9":"r","10":"i","11":"g","12":"i","13":"n","14":"a","15":"t","16":"e","17":"\r","18":"\n","19":"C","20":"h","21":"a","22":"n","23":"n","24":"e","25":"l","26":":","27":" ","28":"P","29":"J","30":"S","31":"I","32":"P","33":"/","34":"0","35":"5","36":"0","37":"1","38":"8","39":"0","40":"8","41":"6","42":"6","43":"4","44":"9","45":"@","46":"0","47":"3","48":"5","49":"0","50":"0","51":"0","52":"0","53":"1","54":"\r","55":"\n","56":"C","57":"o","58":"n","59":"t","60":"e","61":"x","62":"t","63":":","64":" ","65":"a","66":"u","67":"t","68":"o","69":"d","70":"i","71":"a","72":"l","73":"e","74":"r","75":"-","76":"c","77":"a","78":"m","79":"p","80":"a","81":"i","82":"g","83":"n","84":"-","85":"1","86":"6","87":"9","88":"\r","89":"\n","90":"E","91":"x","92":"t","93":"e","94":"n","95":":","96":" ","97":"s","98":"\r","99":"\n","level":"INFO"}
[2025-06-28T03:51:32.920Z] INFO  [PID:1111440] ✅ AMI送信成功 {"level":"INFO"}
[2025-06-28T03:51:32.920Z] INFO  [PID:1111440] 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し完了: true ===== {"level":"INFO"}
[2025-06-28T03:51:32.920Z] INFO  [PID:1111440] 🔥 [SIP-DEBUG] sipService.originate 正常完了 (AMI版) {"level":"INFO"}
[2025-06-28T03:51:32.921Z] INFO  [PID:1111440] ✅ 音声付き自動発信成功: 05018086649 → CallID: ami-1751082692918-55, Provider: sip, Audio: 1件 {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.920Z] INFO  [PID:1111440][0m AMI応答: Response: Success
2025-06-28T03:51:32: ActionID: ami-1751082692918-55
2025-06-28T03:51:32: Message: Originate successfully queued
2025-06-28T03:51:32: 
2025-06-28T03:51:32:  {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.920Z] INFO  [PID:1111440][0m 📥 AMI応答受信: Response: Success
2025-06-28T03:51:32: ActionID: ami-1751082692918-55
2025-06-28T03:51:32: Message: Originate successfully queued
2025-06-28T03:51:32: 
2025-06-28T03:51:32:  {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.920Z] INFO  [PID:1111440][0m ✅ AMI送信成功 {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.920Z] INFO  [PID:1111440][0m ✅ AMI送信成功 {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.920Z] INFO  [PID:1111440][0m 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し完了: true ===== {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.920Z] INFO  [PID:1111440][0m 🔥 [SIP-DEBUG] sipService.originate 正常完了 (AMI版) {"level":"INFO"}
2025-06-28T03:51:32: 🚀🚀🚀 CALLSERVICE-EXEC-2: SIP発信完了: レスポンスあり
2025-06-28T03:51:32: 🚀🚀🚀 CALLSERVICE-SUCCESS: SIP発信成功
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.921Z] INFO  [PID:1111440][0m ✅ 音声付き自動発信成功: 05018086649 → CallID: ami-1751082692918-55, Provider: sip, Audio: 1件 {"level":"INFO"}
2025-06-28T03:51:32: SQL実行: 
2025-06-28T03:51:32:         INSERT INTO call_logs 
2025-06-28T03:51:32:         (contact_id, campaign_id, caller_id_id, call_id, phone_numbe... パラメータ数: 8
2025-06-28T03:51:32: SQL実行成功: 結果行数=不明
[2025-06-28T03:51:32.928Z] INFO  [PID:1111440] 🎯 音声付き発信診断完了: 05018086649 (処理時間: 21ms, 音声: 1件) {"level":"INFO"}
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.928Z] INFO  [PID:1111440][0m 🎯 音声付き発信診断完了: 05018086649 (処理時間: 21ms, 音声: 1件) {"level":"INFO"}
[2025-06-28T03:51:32.985Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:32: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.985Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:32: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:51:32: SQL実行成功: 結果行数=1
2025-06-28T03:51:32: SQL実行: 
2025-06-28T03:51:32:       SELECT 
2025-06-28T03:51:32:         COUNT(*) as total,
2025-06-28T03:51:32:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:51:32: SQL実行成功: 結果行数=1
2025-06-28T03:51:32: SQL実行: 
2025-06-28T03:51:32:       SELECT 
2025-06-28T03:51:32:         COUNT(*) as total_calls,
2025-06-28T03:51:32:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:51:32.989Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:51:32: SQL実行成功: 結果行数=1
2025-06-28T03:51:32: [36m[2025-06-28T03:51:32.989Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
[2025-06-28T03:51:34.930Z] INFO  [PID:1111440] 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
2025-06-28T03:51:34: [36m[2025-06-28T03:51:34.930Z] INFO  [PID:1111440][0m 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
2025-06-28T03:51:37: SQL実行: 
2025-06-28T03:51:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:51:37:           FROM contacts 
2025-06-28T03:51:37:           WHERE c... パラメータ数: 1
2025-06-28T03:51:37: SQL実行成功: 結果行数=0
2025-06-28T03:51:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:51:37: SQL実行成功: 結果行数=1
[2025-06-28T03:51:37.985Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:37: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:51:37: [36m[2025-06-28T03:51:37.985Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:37: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:51:37: SQL実行成功: 結果行数=1
2025-06-28T03:51:37: SQL実行: 
2025-06-28T03:51:37:       SELECT 
2025-06-28T03:51:37:         COUNT(*) as total,
2025-06-28T03:51:37:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:51:37: SQL実行成功: 結果行数=1
2025-06-28T03:51:37: SQL実行: 
2025-06-28T03:51:37:       SELECT 
2025-06-28T03:51:37:         COUNT(*) as total_calls,
2025-06-28T03:51:37:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:51:37.990Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:51:37: SQL実行成功: 結果行数=1
2025-06-28T03:51:37: [36m[2025-06-28T03:51:37.990Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:51:38: SQL実行: 
2025-06-28T03:51:38:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:51:38:                ci.number as ca... 
2025-06-28T03:51:38: SQL実行成功: 結果行数=78
2025-06-28T03:51:42: SQL実行: 
2025-06-28T03:51:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:51:42:           FROM contacts 
2025-06-28T03:51:42:           WHERE c... パラメータ数: 1
2025-06-28T03:51:42: SQL実行成功: 結果行数=0
2025-06-28T03:51:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:51:42: SQL実行成功: 結果行数=1
2025-06-28T03:51:42: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
[2025-06-28T03:51:42.989Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:42: [36m[2025-06-28T03:51:42.989Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:42: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:51:42: SQL実行成功: 結果行数=1
2025-06-28T03:51:42: SQL実行: 
2025-06-28T03:51:42:       SELECT 
2025-06-28T03:51:42:         COUNT(*) as total,
2025-06-28T03:51:42:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:51:42: SQL実行成功: 結果行数=1
2025-06-28T03:51:42: SQL実行: 
2025-06-28T03:51:42:       SELECT 
2025-06-28T03:51:42:         COUNT(*) as total_calls,
2025-06-28T03:51:42:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:51:42: SQL実行成功: 結果行数=1
[2025-06-28T03:51:42.993Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:51:42: [36m[2025-06-28T03:51:42.993Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:51:43: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
2025-06-28T03:51:43: SQL実行成功: 結果行数=1
[2025-06-28T03:51:43.532Z] INFO  [PID:1111440] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:51:43: [36m[2025-06-28T03:51:43.532Z] INFO  [PID:1111440][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:51:47: POST /api/callback/call-end - Origin: none
2025-06-28T03:51:47: ❌ 404 Not Found: POST /api/callback/call-end
2025-06-28T03:51:47: SQL実行: 
2025-06-28T03:51:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:51:47:           FROM contacts 
2025-06-28T03:51:47:           WHERE c... パラメータ数: 1
2025-06-28T03:51:47: SQL実行成功: 結果行数=0
2025-06-28T03:51:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:51:47: SQL実行成功: 結果行数=1
[2025-06-28T03:51:47.985Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:47: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:51:47: [36m[2025-06-28T03:51:47.985Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:47: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:51:47: SQL実行成功: 結果行数=1
2025-06-28T03:51:47: SQL実行: 
2025-06-28T03:51:47:       SELECT 
2025-06-28T03:51:47:         COUNT(*) as total,
2025-06-28T03:51:47:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:51:47: SQL実行成功: 結果行数=1
2025-06-28T03:51:47: SQL実行: 
2025-06-28T03:51:47:       SELECT 
2025-06-28T03:51:47:         COUNT(*) as total_calls,
2025-06-28T03:51:47:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:51:47.990Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:51:47: SQL実行成功: 結果行数=1
2025-06-28T03:51:47: [36m[2025-06-28T03:51:47.990Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:51:52: SQL実行: 
2025-06-28T03:51:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:51:52:           FROM contacts 
2025-06-28T03:51:52:           WHERE c... パラメータ数: 1
2025-06-28T03:51:52: SQL実行成功: 結果行数=0
2025-06-28T03:51:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:51:52: SQL実行成功: 結果行数=1
[2025-06-28T03:51:52.986Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:52: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:51:52: [36m[2025-06-28T03:51:52.986Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:52: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:51:52: SQL実行成功: 結果行数=1
2025-06-28T03:51:52: SQL実行: 
2025-06-28T03:51:52:       SELECT 
2025-06-28T03:51:52:         COUNT(*) as total,
2025-06-28T03:51:52:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:51:52: SQL実行成功: 結果行数=1
2025-06-28T03:51:52: SQL実行: 
2025-06-28T03:51:52:       SELECT 
2025-06-28T03:51:52:         COUNT(*) as total_calls,
2025-06-28T03:51:52:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:51:52.991Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:51:52: SQL実行成功: 結果行数=1
2025-06-28T03:51:52: [36m[2025-06-28T03:51:52.991Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:51:53: SQL実行: 
2025-06-28T03:51:53:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:51:53:                ci.number as ca... 
2025-06-28T03:51:53: SQL実行: SELECT 1... 
2025-06-28T03:51:53: SQL実行成功: 結果行数=1
2025-06-28T03:51:53: SQL実行成功: 結果行数=78
2025-06-28T03:51:57: SQL実行: 
2025-06-28T03:51:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:51:57:           FROM contacts 
2025-06-28T03:51:57:           WHERE c... パラメータ数: 1
2025-06-28T03:51:57: SQL実行成功: 結果行数=0
2025-06-28T03:51:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:51:57: SQL実行成功: 結果行数=1
[2025-06-28T03:51:57.988Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:57: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:51:57: [36m[2025-06-28T03:51:57.988Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:51:57: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:51:57: SQL実行成功: 結果行数=1
2025-06-28T03:51:57: SQL実行: 
2025-06-28T03:51:57:       SELECT 
2025-06-28T03:51:57:         COUNT(*) as total,
2025-06-28T03:51:57:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:51:57: SQL実行成功: 結果行数=1
2025-06-28T03:51:57: SQL実行: 
2025-06-28T03:51:57:       SELECT 
2025-06-28T03:51:57:         COUNT(*) as total_calls,
2025-06-28T03:51:57:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:51:57.992Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:51:57: SQL実行成功: 結果行数=1
2025-06-28T03:51:57: [36m[2025-06-28T03:51:57.992Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:02: SQL実行: 
2025-06-28T03:52:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:52:02:           FROM contacts 
2025-06-28T03:52:02:           WHERE c... パラメータ数: 1
2025-06-28T03:52:02: SQL実行成功: 結果行数=0
2025-06-28T03:52:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:52:02: SQL実行成功: 結果行数=1
2025-06-28T03:52:02: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
[2025-06-28T03:52:02.988Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:02: [36m[2025-06-28T03:52:02.988Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:02: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:52:02: SQL実行成功: 結果行数=1
2025-06-28T03:52:02: SQL実行: 
2025-06-28T03:52:02:       SELECT 
2025-06-28T03:52:02:         COUNT(*) as total,
2025-06-28T03:52:02:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:52:02: SQL実行成功: 結果行数=1
2025-06-28T03:52:02: SQL実行: 
2025-06-28T03:52:02:       SELECT 
2025-06-28T03:52:02:         COUNT(*) as total_calls,
2025-06-28T03:52:02:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:52:02.994Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:02: SQL実行成功: 結果行数=1
2025-06-28T03:52:02: [36m[2025-06-28T03:52:02.994Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:07: SQL実行: 
2025-06-28T03:52:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:52:07:           FROM contacts 
2025-06-28T03:52:07:           WHERE c... パラメータ数: 1
2025-06-28T03:52:07: SQL実行成功: 結果行数=0
2025-06-28T03:52:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:52:07: SQL実行成功: 結果行数=1
[2025-06-28T03:52:07.984Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:07: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:52:07: [36m[2025-06-28T03:52:07.984Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:07: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:52:07: SQL実行成功: 結果行数=1
2025-06-28T03:52:07: SQL実行: 
2025-06-28T03:52:07:       SELECT 
2025-06-28T03:52:07:         COUNT(*) as total,
2025-06-28T03:52:07:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:52:07: SQL実行成功: 結果行数=1
2025-06-28T03:52:07: SQL実行: 
2025-06-28T03:52:07:       SELECT 
2025-06-28T03:52:07:         COUNT(*) as total_calls,
2025-06-28T03:52:07:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:52:07.989Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:07: SQL実行成功: 結果行数=1
2025-06-28T03:52:07: [36m[2025-06-28T03:52:07.989Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:08: SQL実行: 
2025-06-28T03:52:08:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:52:08:                ci.number as ca... 
2025-06-28T03:52:08: SQL実行成功: 結果行数=78
2025-06-28T03:52:12: SQL実行: 
2025-06-28T03:52:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:52:12:           FROM contacts 
2025-06-28T03:52:12:           WHERE c... パラメータ数: 1
2025-06-28T03:52:12: SQL実行成功: 結果行数=0
2025-06-28T03:52:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:52:12: SQL実行成功: 結果行数=1
[2025-06-28T03:52:12.985Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:12: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:52:12: [36m[2025-06-28T03:52:12.985Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:12: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:52:12: SQL実行成功: 結果行数=1
2025-06-28T03:52:12: SQL実行: 
2025-06-28T03:52:12:       SELECT 
2025-06-28T03:52:12:         COUNT(*) as total,
2025-06-28T03:52:12:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:52:12: SQL実行成功: 結果行数=1
2025-06-28T03:52:12: SQL実行: 
2025-06-28T03:52:12:       SELECT 
2025-06-28T03:52:12:         COUNT(*) as total_calls,
2025-06-28T03:52:12:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:52:12.990Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:12: SQL実行成功: 結果行数=1
2025-06-28T03:52:12: [36m[2025-06-28T03:52:12.990Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:17: SQL実行: 
2025-06-28T03:52:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:52:17:           FROM contacts 
2025-06-28T03:52:17:           WHERE c... パラメータ数: 1
2025-06-28T03:52:17: SQL実行成功: 結果行数=0
2025-06-28T03:52:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:52:17: SQL実行成功: 結果行数=1
[2025-06-28T03:52:17.987Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:17: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:52:17: [36m[2025-06-28T03:52:17.987Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:17: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:52:17: SQL実行成功: 結果行数=1
2025-06-28T03:52:17: SQL実行: 
2025-06-28T03:52:17:       SELECT 
2025-06-28T03:52:17:         COUNT(*) as total,
2025-06-28T03:52:17:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:52:17: SQL実行成功: 結果行数=1
2025-06-28T03:52:17: SQL実行: 
2025-06-28T03:52:17:       SELECT 
2025-06-28T03:52:17:         COUNT(*) as total_calls,
2025-06-28T03:52:17:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:52:17.991Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:17: SQL実行成功: 結果行数=1
2025-06-28T03:52:17: [36m[2025-06-28T03:52:17.991Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:22: SQL実行: 
2025-06-28T03:52:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:52:22:           FROM contacts 
2025-06-28T03:52:22:           WHERE c... パラメータ数: 1
2025-06-28T03:52:22: SQL実行成功: 結果行数=0
2025-06-28T03:52:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:52:22: SQL実行成功: 結果行数=1
[2025-06-28T03:52:22.985Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:22: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:52:22: [36m[2025-06-28T03:52:22.985Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:22: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:52:22: SQL実行成功: 結果行数=1
2025-06-28T03:52:22: SQL実行: 
2025-06-28T03:52:22:       SELECT 
2025-06-28T03:52:22:         COUNT(*) as total,
2025-06-28T03:52:22:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:52:22: SQL実行成功: 結果行数=1
2025-06-28T03:52:22: SQL実行: 
2025-06-28T03:52:22:       SELECT 
2025-06-28T03:52:22:         COUNT(*) as total_calls,
2025-06-28T03:52:22:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:52:22.989Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:22: SQL実行成功: 結果行数=1
2025-06-28T03:52:22: [36m[2025-06-28T03:52:22.989Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:23: SQL実行: 
2025-06-28T03:52:23:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:52:23:                ci.number as ca... 
2025-06-28T03:52:23: SQL実行: SELECT 1... 
2025-06-28T03:52:23: SQL実行成功: 結果行数=1
2025-06-28T03:52:23: SQL実行成功: 結果行数=78
2025-06-28T03:52:27: SQL実行: 
2025-06-28T03:52:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:52:27:           FROM contacts 
2025-06-28T03:52:27:           WHERE c... パラメータ数: 1
2025-06-28T03:52:27: SQL実行成功: 結果行数=0
2025-06-28T03:52:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:52:27: SQL実行成功: 結果行数=1
[2025-06-28T03:52:27.985Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:27: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:52:27: [36m[2025-06-28T03:52:27.985Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T03:52:27.989Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:27: SQL実行成功: 結果行数=1
2025-06-28T03:52:27: SQL実行: 
2025-06-28T03:52:27:       SELECT 
2025-06-28T03:52:27:         COUNT(*) as total,
2025-06-28T03:52:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:52:27: SQL実行成功: 結果行数=1
2025-06-28T03:52:27: SQL実行: 
2025-06-28T03:52:27:       SELECT 
2025-06-28T03:52:27:         COUNT(*) as total_calls,
2025-06-28T03:52:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:52:27: SQL実行成功: 結果行数=1
2025-06-28T03:52:27: [36m[2025-06-28T03:52:27.989Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:32: SQL実行: 
2025-06-28T03:52:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:52:32:           FROM contacts 
2025-06-28T03:52:32:           WHERE c... パラメータ数: 1
2025-06-28T03:52:32: SQL実行成功: 結果行数=0
2025-06-28T03:52:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:52:32: SQL実行成功: 結果行数=1
[2025-06-28T03:52:32.986Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:32: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:52:32: [36m[2025-06-28T03:52:32.986Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:32: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:52:32: SQL実行成功: 結果行数=1
2025-06-28T03:52:32: SQL実行: 
2025-06-28T03:52:32:       SELECT 
2025-06-28T03:52:32:         COUNT(*) as total,
2025-06-28T03:52:32:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:52:32: SQL実行成功: 結果行数=1
2025-06-28T03:52:32: SQL実行: 
2025-06-28T03:52:32:       SELECT 
2025-06-28T03:52:32:         COUNT(*) as total_calls,
2025-06-28T03:52:32:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:52:32: SQL実行成功: 結果行数=1
[2025-06-28T03:52:32.990Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:32: [36m[2025-06-28T03:52:32.990Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:37: SQL実行: 
2025-06-28T03:52:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:52:37:           FROM contacts 
2025-06-28T03:52:37:           WHERE c... パラメータ数: 1
2025-06-28T03:52:37: SQL実行成功: 結果行数=0
2025-06-28T03:52:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:52:37: SQL実行成功: 結果行数=1
[2025-06-28T03:52:37.985Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:37: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:52:37: [36m[2025-06-28T03:52:37.985Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:37: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:52:37: SQL実行成功: 結果行数=1
2025-06-28T03:52:37: SQL実行: 
2025-06-28T03:52:37:       SELECT 
2025-06-28T03:52:37:         COUNT(*) as total,
2025-06-28T03:52:37:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:52:37: SQL実行成功: 結果行数=1
2025-06-28T03:52:37: SQL実行: 
2025-06-28T03:52:37:       SELECT 
2025-06-28T03:52:37:         COUNT(*) as total_calls,
2025-06-28T03:52:37:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:52:37: SQL実行成功: 結果行数=1
[2025-06-28T03:52:37.989Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:37: [36m[2025-06-28T03:52:37.989Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:38: SQL実行: 
2025-06-28T03:52:38:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:52:38:                ci.number as ca... 
2025-06-28T03:52:38: SQL実行成功: 結果行数=78
2025-06-28T03:52:42: SQL実行: 
2025-06-28T03:52:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:52:42:           FROM contacts 
2025-06-28T03:52:42:           WHERE c... パラメータ数: 1
2025-06-28T03:52:42: SQL実行成功: 結果行数=0
2025-06-28T03:52:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:52:42: SQL実行成功: 結果行数=1
[2025-06-28T03:52:42.985Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:42: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:52:42: [36m[2025-06-28T03:52:42.985Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:42: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:52:42: SQL実行成功: 結果行数=1
2025-06-28T03:52:42: SQL実行: 
2025-06-28T03:52:42:       SELECT 
2025-06-28T03:52:42:         COUNT(*) as total,
2025-06-28T03:52:42:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:52:42: SQL実行成功: 結果行数=1
2025-06-28T03:52:42: SQL実行: 
2025-06-28T03:52:42:       SELECT 
2025-06-28T03:52:42:         COUNT(*) as total_calls,
2025-06-28T03:52:42:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:52:42.989Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:42: SQL実行成功: 結果行数=1
2025-06-28T03:52:42: [36m[2025-06-28T03:52:42.989Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:43: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T03:52:43.531Z] INFO  [PID:1111440] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:52:43: SQL実行成功: 結果行数=1
2025-06-28T03:52:43: [36m[2025-06-28T03:52:43.531Z] INFO  [PID:1111440][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:52:47: SQL実行: 
2025-06-28T03:52:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:52:47:           FROM contacts 
2025-06-28T03:52:47:           WHERE c... パラメータ数: 1
2025-06-28T03:52:47: SQL実行成功: 結果行数=0
2025-06-28T03:52:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:52:47: SQL実行成功: 結果行数=1
[2025-06-28T03:52:47.992Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:47: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:52:47: [36m[2025-06-28T03:52:47.992Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:47: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:52:47: SQL実行成功: 結果行数=1
2025-06-28T03:52:47: SQL実行: 
2025-06-28T03:52:47:       SELECT 
2025-06-28T03:52:47:         COUNT(*) as total,
2025-06-28T03:52:47:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:52:47: SQL実行成功: 結果行数=1
2025-06-28T03:52:47: SQL実行: 
2025-06-28T03:52:47:       SELECT 
2025-06-28T03:52:47:         COUNT(*) as total_calls,
2025-06-28T03:52:47:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:52:47.996Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:47: SQL実行成功: 結果行数=1
2025-06-28T03:52:47: [36m[2025-06-28T03:52:47.996Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:52: SQL実行: 
2025-06-28T03:52:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:52:52:           FROM contacts 
2025-06-28T03:52:52:           WHERE c... パラメータ数: 1
2025-06-28T03:52:52: SQL実行成功: 結果行数=0
2025-06-28T03:52:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:52:52: SQL実行成功: 結果行数=1
[2025-06-28T03:52:52.987Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:52: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:52:52: [36m[2025-06-28T03:52:52.987Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:52: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:52:52: SQL実行成功: 結果行数=1
2025-06-28T03:52:52: SQL実行: 
2025-06-28T03:52:52:       SELECT 
2025-06-28T03:52:52:         COUNT(*) as total,
2025-06-28T03:52:52:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:52:52: SQL実行成功: 結果行数=1
2025-06-28T03:52:52: SQL実行: 
2025-06-28T03:52:52:       SELECT 
2025-06-28T03:52:52:         COUNT(*) as total_calls,
2025-06-28T03:52:52:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:52:52: SQL実行成功: 結果行数=1
[2025-06-28T03:52:52.991Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:52: [36m[2025-06-28T03:52:52.991Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:53: SQL実行: 
2025-06-28T03:52:53:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:52:53:                ci.number as ca... 
2025-06-28T03:52:53: SQL実行: SELECT 1... 
2025-06-28T03:52:53: SQL実行成功: 結果行数=1
2025-06-28T03:52:53: SQL実行成功: 結果行数=78
2025-06-28T03:52:57: SQL実行: 
2025-06-28T03:52:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:52:57:           FROM contacts 
2025-06-28T03:52:57:           WHERE c... パラメータ数: 1
2025-06-28T03:52:57: SQL実行成功: 結果行数=0
2025-06-28T03:52:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:52:57: SQL実行成功: 結果行数=1
[2025-06-28T03:52:58.008Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:58: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:52:58: [36m[2025-06-28T03:52:58.008Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:52:58: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:52:58: SQL実行成功: 結果行数=1
2025-06-28T03:52:58: SQL実行: 
2025-06-28T03:52:58:       SELECT 
2025-06-28T03:52:58:         COUNT(*) as total,
2025-06-28T03:52:58:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:52:58: SQL実行成功: 結果行数=1
2025-06-28T03:52:58: SQL実行: 
2025-06-28T03:52:58:       SELECT 
2025-06-28T03:52:58:         COUNT(*) as total_calls,
2025-06-28T03:52:58:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:52:58.013Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:52:58: SQL実行成功: 結果行数=1
2025-06-28T03:52:58: [36m[2025-06-28T03:52:58.013Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:53:02: SQL実行: 
2025-06-28T03:53:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:53:02:           FROM contacts 
2025-06-28T03:53:02:           WHERE c... パラメータ数: 1
2025-06-28T03:53:02: SQL実行成功: 結果行数=0
2025-06-28T03:53:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:53:02: SQL実行成功: 結果行数=1
[2025-06-28T03:53:02.991Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:53:02: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:53:02: [36m[2025-06-28T03:53:02.991Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:53:02: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:53:02: SQL実行成功: 結果行数=1
2025-06-28T03:53:02: SQL実行: 
2025-06-28T03:53:02:       SELECT 
2025-06-28T03:53:02:         COUNT(*) as total,
2025-06-28T03:53:02:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:53:02: SQL実行成功: 結果行数=1
2025-06-28T03:53:02: SQL実行: 
2025-06-28T03:53:02:       SELECT 
2025-06-28T03:53:02:         COUNT(*) as total_calls,
2025-06-28T03:53:02:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:53:03: SQL実行成功: 結果行数=1
2025-06-28T03:53:03: [36m[2025-06-28T03:53:03.007Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
[2025-06-28T03:53:03.007Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:53:07: SQL実行: 
2025-06-28T03:53:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:53:07:           FROM contacts 
2025-06-28T03:53:07:           WHERE c... パラメータ数: 1
2025-06-28T03:53:07: SQL実行成功: 結果行数=0
2025-06-28T03:53:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:53:07: SQL実行成功: 結果行数=1
[2025-06-28T03:53:07.984Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:53:07: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:53:07: [36m[2025-06-28T03:53:07.984Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:53:07: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:53:07: SQL実行成功: 結果行数=1
2025-06-28T03:53:07: SQL実行: 
2025-06-28T03:53:07:       SELECT 
2025-06-28T03:53:07:         COUNT(*) as total,
2025-06-28T03:53:07:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:53:07: SQL実行成功: 結果行数=1
2025-06-28T03:53:07: SQL実行: 
2025-06-28T03:53:07:       SELECT 
2025-06-28T03:53:07:         COUNT(*) as total_calls,
2025-06-28T03:53:07:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:53:07.988Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:53:07: SQL実行成功: 結果行数=1
2025-06-28T03:53:07: [36m[2025-06-28T03:53:07.988Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:53:08: SQL実行: 
2025-06-28T03:53:08:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:53:08:                ci.number as ca... 
2025-06-28T03:53:08: SQL実行成功: 結果行数=78
2025-06-28T03:53:12: SQL実行: 
2025-06-28T03:53:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:53:12:           FROM contacts 
2025-06-28T03:53:12:           WHERE c... パラメータ数: 1
2025-06-28T03:53:12: SQL実行成功: 結果行数=0
2025-06-28T03:53:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:53:12: SQL実行成功: 結果行数=1
[2025-06-28T03:53:12.987Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:53:12: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:53:12: [36m[2025-06-28T03:53:12.987Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:53:12: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:53:12: SQL実行成功: 結果行数=1
2025-06-28T03:53:12: SQL実行: 
2025-06-28T03:53:12:       SELECT 
2025-06-28T03:53:12:         COUNT(*) as total,
2025-06-28T03:53:12:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:53:12: SQL実行成功: 結果行数=1
2025-06-28T03:53:12: SQL実行: 
2025-06-28T03:53:12:       SELECT 
2025-06-28T03:53:12:         COUNT(*) as total_calls,
2025-06-28T03:53:12:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:53:12: SQL実行成功: 結果行数=1
[2025-06-28T03:53:12.990Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:53:12: [36m[2025-06-28T03:53:12.990Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:53:17: SQL実行: 
2025-06-28T03:53:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:53:17:           FROM contacts 
2025-06-28T03:53:17:           WHERE c... パラメータ数: 1
2025-06-28T03:53:17: SQL実行成功: 結果行数=0
2025-06-28T03:53:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:53:17: SQL実行成功: 結果行数=1
[2025-06-28T03:53:17.988Z] INFO  [PID:1111440] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:53:17: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:53:17: [36m[2025-06-28T03:53:17.988Z] INFO  [PID:1111440][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:53:17: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:53:17: SQL実行成功: 結果行数=1
2025-06-28T03:53:17: SQL実行: 
2025-06-28T03:53:17:       SELECT 
2025-06-28T03:53:17:         COUNT(*) as total,
2025-06-28T03:53:17:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:53:17: SQL実行成功: 結果行数=1
2025-06-28T03:53:17: SQL実行: 
2025-06-28T03:53:17:       SELECT 
2025-06-28T03:53:17:         COUNT(*) as total_calls,
2025-06-28T03:53:17:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:53:17.992Z] INFO  [PID:1111440] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:53:17: SQL実行成功: 結果行数=1
2025-06-28T03:53:17: [36m[2025-06-28T03:53:17.992Z] INFO  [PID:1111440][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
[2025-06-28T03:53:19.040Z] INFO  [PID:1111440] SIGINT受信 - DialerService安全停止 {"level":"INFO"}
2025-06-28T03:53:19: [36m[2025-06-28T03:53:19.040Z] INFO  [PID:1111440][0m SIGINT受信 - DialerService安全停止 {"level":"INFO"}
[2025-06-28T03:53:19.040Z] INFO  [PID:1111440] 🚨 DialerService停止処理開始... {"level":"INFO"}
[2025-06-28T03:53:19.041Z] INFO  [PID:1111440] 🛑 自動発信システム停止 {"level":"INFO"}
[2025-06-28T03:53:19.041Z] INFO  [PID:1111440] ✅ DialerService停止完了 {"level":"INFO"}
2025-06-28T03:53:19: [36m[2025-06-28T03:53:19.040Z] INFO  [PID:1111440][0m 🚨 DialerService停止処理開始... {"level":"INFO"}
2025-06-28T03:53:19: [36m[2025-06-28T03:53:19.041Z] INFO  [PID:1111440][0m 🛑 自動発信システム停止 {"level":"INFO"}
2025-06-28T03:53:19: [36m[2025-06-28T03:53:19.041Z] INFO  [PID:1111440][0m ✅ DialerService停止完了 {"level":"INFO"}
[2025-06-28T03:53:19.041Z] INFO  [PID:1111440] SIGINT受信 - SIPサービス安全切断 {"level":"INFO"}
2025-06-28T03:53:19: [36m[2025-06-28T03:53:19.041Z] INFO  [PID:1111440][0m SIGINT受信 - SIPサービス安全切断 {"level":"INFO"}
[2025-06-28T03:53:19.041Z] INFO  [PID:1111440] SIPサービスを切断しています... {"level":"INFO"}
2025-06-28T03:53:19: [36m[2025-06-28T03:53:19.041Z] INFO  [PID:1111440][0m SIPサービスを切断しています... {"level":"INFO"}
2025-06-28T03:53:19: アプリケーションを終了します...
2025-06-28T03:53:19: データベースプールを閉じています...
[2025-06-28T03:53:19.044Z] INFO  [PID:1111440] ✅ SIPサービス切断完了 {"level":"INFO"}
2025-06-28T03:53:19: [36m[2025-06-28T03:53:19.044Z] INFO  [PID:1111440][0m ✅ SIPサービス切断完了 {"level":"INFO"}
2025-06-28T03:53:19: データベースプールを閉じました
[2025-06-28T03:53:21.135Z] INFO  [PID:1111609] Logger初期化完了 {"logLevel":"info","enableConsole":true,"enableFile":true,"logDir":"/var/www/autodialer/backend/logs","level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.135Z] INFO  [PID:1111609][0m Logger初期化完了 {"logLevel":"info","enableConsole":true,"enableFile":true,"logDir":"/var/www/autodialer/backend/logs","level":"INFO"}
2025-06-28T03:53:21: 🚀 ルーター登録開始...
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.234Z] INFO  [PID:1111609][0m 🚀 DialerService初期化: 自動連動システム=有効 {"level":"INFO"}
[2025-06-28T03:53:21.234Z] INFO  [PID:1111609] 🚀 DialerService初期化: 自動連動システム=有効 {"level":"INFO"}
[2025-06-28T03:53:21.235Z] INFO  [PID:1111609] 🎯 自動システム開始試行 1/5 {"level":"INFO"}
[2025-06-28T03:53:21.236Z] INFO  [PID:1111609] 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.235Z] INFO  [PID:1111609][0m 🎯 自動システム開始試行 1/5 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.236Z] INFO  [PID:1111609][0m 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-28T03:53:21: プールが存在しないため再初期化します
2025-06-28T03:53:21: データベース接続試行 1/5...
2025-06-28T03:53:21: データベース接続設定: {
2025-06-28T03:53:21:   host: '127.0.0.1',
2025-06-28T03:53:21:   user: 'autodialer',
2025-06-28T03:53:21:   database: 'autodialer',
2025-06-28T03:53:21:   password: '***'
2025-06-28T03:53:21: }
[2025-06-28T03:53:21.246Z] INFO  [PID:1111609] SipService初期化: mockMode=false, sipcmdPath=/usr/local/bin/sipcmd-working {"level":"INFO"}
[2025-06-28T03:53:21.247Z] INFO  [PID:1111609] 💗 SIPヘルスチェック開始: 60000ms間隔 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.246Z] INFO  [PID:1111609][0m SipService初期化: mockMode=false, sipcmdPath=/usr/local/bin/sipcmd-working {"level":"INFO"}
[2025-06-28T03:53:21.248Z] INFO  [PID:1111609] 🔧 コールサービス初期化完了: プロバイダ=SIP専用, モックモード=無効 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.247Z] INFO  [PID:1111609][0m 💗 SIPヘルスチェック開始: 60000ms間隔 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.248Z] INFO  [PID:1111609][0m 🔧 コールサービス初期化完了: プロバイダ=SIP専用, モックモード=無効 {"level":"INFO"}
2025-06-28T03:53:21: ✅ system router 登録成功
2025-06-28T03:53:21: ✅ contacts router 登録成功
2025-06-28T03:53:21: ✅ campaigns router 登録成功
2025-06-28T03:53:21: ✅ caller-ids router 登録成功
2025-06-28T03:53:21: ✅ calls router 登録成功
2025-06-28T03:53:21: ✅ transfer router 登録成功
2025-06-28T03:53:21: ✅ audio router 登録成功
2025-06-28T03:53:21: ✅ ivr router 登録成功
2025-06-28T03:53:21: 📊 ルーター登録状況: {
2025-06-28T03:53:21:   system: true,
2025-06-28T03:53:21:   contacts: true,
2025-06-28T03:53:21:   campaigns: true,
2025-06-28T03:53:21:   callerIds: true,
2025-06-28T03:53:21:   calls: true,
2025-06-28T03:53:21:   audio: true,
2025-06-28T03:53:21:   ivr: true,
2025-06-28T03:53:21:   transfer: true
2025-06-28T03:53:21: }
2025-06-28T03:53:21: 🚀 サーバー初期化開始...
2025-06-28T03:53:21: SQL実行: SELECT 1... 
[2025-06-28T03:53:21.330Z] INFO  [PID:1111609] 音声ファイルディレクトリを初期化しました: /var/www/autodialer/backend/audio-files {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.330Z] INFO  [PID:1111609][0m 音声ファイルディレクトリを初期化しました: /var/www/autodialer/backend/audio-files {"level":"INFO"}
[2025-06-28T03:53:21.330Z] INFO  [PID:1111609] IVRスクリプトディレクトリを初期化しました: /var/www/autodialer/backend/ivr-scripts {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.330Z] INFO  [PID:1111609][0m IVRスクリプトディレクトリを初期化しました: /var/www/autodialer/backend/ivr-scripts {"level":"INFO"}
2025-06-28T03:53:21: SQL実行成功: 結果行数=1
2025-06-28T03:53:21: ✅ データベース接続成功
[2025-06-28T03:53:21.364Z] INFO  [PID:1111609] 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-28T03:53:21: 🔧 SIPサービス初期化中...
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.364Z] INFO  [PID:1111609][0m 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-28T03:53:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T03:53:21.367Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:53:21: SQL実行成功: 結果行数=1
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.367Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:53:21.368Z] INFO  [PID:1111609] 🔧 AMI接続初期化開始... {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.368Z] INFO  [PID:1111609][0m 🔧 AMI接続初期化開始... {"level":"INFO"}
[2025-06-28T03:53:21.370Z] INFO  [PID:1111609] データベース接続プールを作成しました {"level":"INFO"}
2025-06-28T03:53:21: データベース接続テスト成功: {
2025-06-28T03:53:21:   test: '1',
2025-06-28T03:53:21:   current_user_name: 'autodialer@localhost',
2025-06-28T03:53:21:   current_db: 'autodialer'
2025-06-28T03:53:21: }
[2025-06-28T03:53:21.370Z] INFO  [PID:1111609] ✅ AMI TCP接続成功 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.370Z] INFO  [PID:1111609][0m データベース接続プールを作成しました {"level":"INFO"}
2025-06-28T03:53:21: SQL実行: SELECT 1 as test... 
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.370Z] INFO  [PID:1111609][0m ✅ AMI TCP接続成功 {"level":"INFO"}
[2025-06-28T03:53:21.373Z] INFO  [PID:1111609] ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-28T03:53:21: SQL実行成功: 結果行数=1
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.373Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-28T03:53:21: SQL実行: 
2025-06-28T03:53:21:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:53:21:                ci.number as ca... 
[2025-06-28T03:53:21.373Z] INFO  [PID:1111609] AMI応答: Asterisk Call Manager/10.0.0
Response: Success
Message: Authentication accepted

 {"level":"INFO"}
[2025-06-28T03:53:21.374Z] INFO  [PID:1111609] ✅ AMI認証成功 {"level":"INFO"}
[2025-06-28T03:53:21.374Z] INFO  [PID:1111609] 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
[2025-06-28T03:53:21.374Z] INFO  [PID:1111609] 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.373Z] INFO  [PID:1111609][0m AMI応答: Asterisk Call Manager/10.0.0
2025-06-28T03:53:21: Response: Success
2025-06-28T03:53:21: Message: Authentication accepted
2025-06-28T03:53:21: 
2025-06-28T03:53:21:  {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.374Z] INFO  [PID:1111609][0m ✅ AMI認証成功 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.374Z] INFO  [PID:1111609][0m 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.374Z] INFO  [PID:1111609][0m 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-28T03:53:21: SQL実行: 
2025-06-28T03:53:21:         SELECT 
2025-06-28T03:53:21:           cc.id,
2025-06-28T03:53:21:           cc.caller_id_id,
2025-06-28T03:53:21:           cc.username,
2025-06-28T03:53:21:           cc.pas... 
[2025-06-28T03:53:21.382Z] INFO  [PID:1111609] 📊 データベースクエリ結果: 25件のチャンネル {"level":"INFO"}
[2025-06-28T03:53:21.382Z] INFO  [PID:1111609] ✅ 合計25個のSIPチャンネルを読み込み {"level":"INFO"}
[2025-06-28T03:53:21.383Z] INFO  [PID:1111609] ✅ SIPアカウント読み込み成功: 25個 {"level":"INFO"}
[2025-06-28T03:53:21.383Z] INFO  [PID:1111609] 📞 発信者番号ID 8: 25チャンネル (0369087851) {"level":"INFO"}
[2025-06-28T03:53:21.383Z] INFO  [PID:1111609] ✅ SIPサービス接続完了: 25個のアカウント {"level":"INFO"}
2025-06-28T03:53:21: SQL実行成功: 結果行数=25
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.382Z] INFO  [PID:1111609][0m 📊 データベースクエリ結果: 25件のチャンネル {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.382Z] INFO  [PID:1111609][0m ✅ 合計25個のSIPチャンネルを読み込み {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.383Z] INFO  [PID:1111609][0m ✅ SIPアカウント読み込み成功: 25個 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.383Z] INFO  [PID:1111609][0m 📞 発信者番号ID 8: 25チャンネル (0369087851) {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.383Z] INFO  [PID:1111609][0m ✅ SIPサービス接続完了: 25個のアカウント {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.383Z] INFO  [PID:1111609][0m 📊 SIPアカウント概要: {"level":"INFO"}
[2025-06-28T03:53:21.383Z] INFO  [PID:1111609] 📊 SIPアカウント概要: {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.385Z] INFO  [PID:1111609][0m   - 総アカウント数: 25 {"level":"INFO"}
[2025-06-28T03:53:21.385Z] INFO  [PID:1111609]   - 総アカウント数: 25 {"level":"INFO"}
[2025-06-28T03:53:21.385Z] INFO  [PID:1111609]   - 利用可能: 25 {"level":"INFO"}
[2025-06-28T03:53:21.385Z] INFO  [PID:1111609]   - 使用中: 0 {"level":"INFO"}
[2025-06-28T03:53:21.385Z] INFO  [PID:1111609]   - エラー: 0 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.385Z] INFO  [PID:1111609][0m   - 利用可能: 25 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.385Z] INFO  [PID:1111609][0m   - 使用中: 0 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.385Z] INFO  [PID:1111609][0m   - エラー: 0 {"level":"INFO"}
2025-06-28T03:53:21: 📞 SIP初期化結果: true
2025-06-28T03:53:21: 📞 SIPアカウント数: 25
2025-06-28T03:53:21: 🔧 CallService初期化中...
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.387Z] INFO  [PID:1111609][0m 🔧 コールサービス初期化開始（SIP専用） {"level":"INFO"}
[2025-06-28T03:53:21.387Z] INFO  [PID:1111609] 🔧 コールサービス初期化開始（SIP専用） {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.387Z] INFO  [PID:1111609][0m 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
[2025-06-28T03:53:21.387Z] INFO  [PID:1111609] 🔧 SIPサービス接続開始（試行 1/4）... {"level":"INFO"}
2025-06-28T03:53:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T03:53:21.391Z] INFO  [PID:1111609] 📋 初期キャンペーンロード: 78件検出 {"level":"INFO"}
[2025-06-28T03:53:21.391Z] INFO  [PID:1111609] ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
2025-06-28T03:53:21: SQL実行成功: 結果行数=78
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.391Z] INFO  [PID:1111609][0m 📋 初期キャンペーンロード: 78件検出 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.391Z] INFO  [PID:1111609][0m ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
[2025-06-28T03:53:21.392Z] INFO  [PID:1111609] 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
[2025-06-28T03:53:21.392Z] INFO  [PID:1111609] 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
[2025-06-28T03:53:21.393Z] INFO  [PID:1111609] 🚀 自動発信システム開始: 8000ms間隔 {"level":"INFO"}
[2025-06-28T03:53:21.393Z] INFO  [PID:1111609] ✅ 完全自動連動システム起動完了 {"level":"INFO"}
[2025-06-28T03:53:21.393Z] INFO  [PID:1111609] ✅ DialerService自動システム起動完了 - 安定版 {"level":"INFO"}
[2025-06-28T03:53:21.393Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T03:53:21.394Z] INFO  [PID:1111609] 🔧 AMI接続初期化開始... {"level":"INFO"}
[2025-06-28T03:53:21.394Z] INFO  [PID:1111609] ✅ AMI TCP接続成功 {"level":"INFO"}
[2025-06-28T03:53:21.395Z] INFO  [PID:1111609] AMI応答: Asterisk Call Manager/10.0.0
 {"level":"INFO"}
[2025-06-28T03:53:21.396Z] INFO  [PID:1111609] AMI応答: Response: Success
Message: Authentication accepted

 {"level":"INFO"}
[2025-06-28T03:53:21.396Z] INFO  [PID:1111609] ✅ AMI認証成功 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.392Z] INFO  [PID:1111609][0m 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.392Z] INFO  [PID:1111609][0m 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.393Z] INFO  [PID:1111609][0m 🚀 自動発信システム開始: 8000ms間隔 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.393Z] INFO  [PID:1111609][0m ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.393Z] INFO  [PID:1111609][0m ✅ DialerService自動システム起動完了 - 安定版 {"level":"INFO"}
2025-06-28T03:53:21: SQL実行成功: 結果行数=1
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.393Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.394Z] INFO  [PID:1111609][0m 🔧 AMI接続初期化開始... {"level":"INFO"}
[2025-06-28T03:53:21.396Z] INFO  [PID:1111609] 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
[2025-06-28T03:53:21.396Z] INFO  [PID:1111609] 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.394Z] INFO  [PID:1111609][0m ✅ AMI TCP接続成功 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.395Z] INFO  [PID:1111609][0m AMI応答: Asterisk Call Manager/10.0.0
2025-06-28T03:53:21:  {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.396Z] INFO  [PID:1111609][0m AMI応答: Response: Success
2025-06-28T03:53:21: Message: Authentication accepted
2025-06-28T03:53:21: 
2025-06-28T03:53:21:  {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.396Z] INFO  [PID:1111609][0m ✅ AMI認証成功 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.396Z] INFO  [PID:1111609][0m 📋 SIPアカウント読み込み試行 1/5 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.396Z] INFO  [PID:1111609][0m 🔧 データベースからSIPチャンネル情報を読み込み中... {"level":"INFO"}
2025-06-28T03:53:21: SQL実行: 
2025-06-28T03:53:21:         SELECT 
2025-06-28T03:53:21:           cc.id,
2025-06-28T03:53:21:           cc.caller_id_id,
2025-06-28T03:53:21:           cc.username,
2025-06-28T03:53:21:           cc.pas... 
[2025-06-28T03:53:21.398Z] INFO  [PID:1111609] 📊 データベースクエリ結果: 25件のチャンネル {"level":"INFO"}
[2025-06-28T03:53:21.398Z] INFO  [PID:1111609] ✅ 合計25個のSIPチャンネルを読み込み {"level":"INFO"}
[2025-06-28T03:53:21.399Z] INFO  [PID:1111609] ✅ SIPアカウント読み込み成功: 25個 {"level":"INFO"}
2025-06-28T03:53:21: SQL実行成功: 結果行数=25
[2025-06-28T03:53:21.399Z] INFO  [PID:1111609] 📞 発信者番号ID 8: 25チャンネル (0369087851) {"level":"INFO"}
[2025-06-28T03:53:21.399Z] INFO  [PID:1111609] ✅ SIPサービス接続完了: 25個のアカウント {"level":"INFO"}
[2025-06-28T03:53:21.399Z] INFO  [PID:1111609] 📊 SIPアカウント概要: {"level":"INFO"}
[2025-06-28T03:53:21.399Z] INFO  [PID:1111609]   - 総アカウント数: 25 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.398Z] INFO  [PID:1111609][0m 📊 データベースクエリ結果: 25件のチャンネル {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.398Z] INFO  [PID:1111609][0m ✅ 合計25個のSIPチャンネルを読み込み {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.399Z] INFO  [PID:1111609][0m ✅ SIPアカウント読み込み成功: 25個 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.399Z] INFO  [PID:1111609][0m 📞 発信者番号ID 8: 25チャンネル (0369087851) {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.399Z] INFO  [PID:1111609][0m ✅ SIPサービス接続完了: 25個のアカウント {"level":"INFO"}
[2025-06-28T03:53:21.399Z] INFO  [PID:1111609]   - 利用可能: 25 {"level":"INFO"}
[2025-06-28T03:53:21.399Z] INFO  [PID:1111609]   - 使用中: 0 {"level":"INFO"}
[2025-06-28T03:53:21.399Z] INFO  [PID:1111609]   - エラー: 0 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.399Z] INFO  [PID:1111609][0m 📊 SIPアカウント概要: {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.399Z] INFO  [PID:1111609][0m   - 総アカウント数: 25 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.399Z] INFO  [PID:1111609][0m   - 利用可能: 25 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.399Z] INFO  [PID:1111609][0m   - 使用中: 0 {"level":"INFO"}
[2025-06-28T03:53:21.399Z] INFO  [PID:1111609] ✅ コールサービス初期化完了（SIP） {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.399Z] INFO  [PID:1111609][0m   - エラー: 0 {"level":"INFO"}
2025-06-28T03:53:21: [36m[2025-06-28T03:53:21.399Z] INFO  [PID:1111609][0m ✅ コールサービス初期化完了（SIP） {"level":"INFO"}
2025-06-28T03:53:21: 📞 CallService初期化結果: true
2025-06-28T03:53:21: 🔧 DialerService手動初期化中...
2025-06-28T03:53:21: ✅ DialerService手動初期化完了
2025-06-28T03:53:21: 🔧 DialerService強制自動開始...
2025-06-28T03:53:21: ✅ サーバーが起動しました: http://0.0.0.0:5000
2025-06-28T03:53:21: 🎯 自動発信システム準備完了
2025-06-28T03:53:21: 🔗 利用可能なエンドポイント:
2025-06-28T03:53:21:   - GET  /health
2025-06-28T03:53:21:   - GET  /api/campaigns
2025-06-28T03:53:21:   - POST /api/campaigns/:id/start
2025-06-28T03:53:21:   - POST /api/calls/test
2025-06-28T03:53:21:   - GET  /api/campaigns/:id/transfer-settings
2025-06-28T03:53:21:   - POST /api/calls/transfer/dtmf
2025-06-28T03:53:23: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
[2025-06-28T03:53:23.031Z] INFO  [PID:1111609] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:53:23: [36m[2025-06-28T03:53:23.031Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:53:23: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:53:23: SQL実行成功: 結果行数=1
2025-06-28T03:53:23: SQL実行: 
2025-06-28T03:53:23:       SELECT 
2025-06-28T03:53:23:         COUNT(*) as total,
2025-06-28T03:53:23:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:53:23: SQL実行成功: 結果行数=1
2025-06-28T03:53:23: SQL実行: 
2025-06-28T03:53:23:       SELECT 
2025-06-28T03:53:23:         COUNT(*) as total_calls,
2025-06-28T03:53:23:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:53:23.039Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:53:23: SQL実行成功: 結果行数=1
2025-06-28T03:53:23: [36m[2025-06-28T03:53:23.039Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:53:26: SQL実行: 
2025-06-28T03:53:26:             SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:53:26:                    ci.numb... 
2025-06-28T03:53:26: SQL実行成功: 結果行数=78
2025-06-28T03:53:26: 📊 アクティブキャンペーン検出: 78件
2025-06-28T03:53:26: 🔄 アクティブキャンペーンを自動登録...
2025-06-28T03:53:27: GET /api/campaigns/169/stats - Origin: http://146.190.83.205:3003
[2025-06-28T03:53:27.987Z] INFO  [PID:1111609] キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:53:27: [36m[2025-06-28T03:53:27.987Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=169 {"level":"INFO"}
2025-06-28T03:53:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:53:27: SQL実行成功: 結果行数=1
2025-06-28T03:53:27: SQL実行: 
2025-06-28T03:53:27:       SELECT 
2025-06-28T03:53:27:         COUNT(*) as total,
2025-06-28T03:53:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:53:27: SQL実行成功: 結果行数=1
2025-06-28T03:53:27: SQL実行: 
2025-06-28T03:53:27:       SELECT 
2025-06-28T03:53:27:         COUNT(*) as total_calls,
2025-06-28T03:53:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:53:27.992Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:53:27: SQL実行成功: 結果行数=1
2025-06-28T03:53:27: [36m[2025-06-28T03:53:27.992Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=169, Progress=0% {"level":"INFO"}
2025-06-28T03:53:31: GET /api/campaigns - Origin: http://146.190.83.205:3003
[2025-06-28T03:53:31.206Z] INFO  [PID:1111609] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T03:53:31: [36m[2025-06-28T03:53:31.206Z] INFO  [PID:1111609][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T03:53:31: SQL実行: 
2025-06-28T03:53:31:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-28T03:53:31:        ... 
2025-06-28T03:53:31: SQL実行成功: 結果行数=50
2025-06-28T03:53:31: SQL実行: 
2025-06-28T03:53:31:       SELECT COUNT(*) as total
2025-06-28T03:53:31:       FROM campaigns c
2025-06-28T03:53:31:       WHERE 1=1
2025-06-28T03:53:31:     ... 
2025-06-28T03:53:31: SQL実行成功: 結果行数=1
[2025-06-28T03:53:31.214Z] INFO  [PID:1111609] キャンペーン取得結果: 50/80件 {"level":"INFO"}
2025-06-28T03:53:31: [36m[2025-06-28T03:53:31.214Z] INFO  [PID:1111609][0m キャンペーン取得結果: 50/80件 {"level":"INFO"}
[2025-06-28T03:53:31.401Z] INFO  [PID:1111609] 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-28T03:53:31: [36m[2025-06-28T03:53:31.401Z] INFO  [PID:1111609][0m 🎯 完全自動連動システム開始... {"level":"INFO"}
2025-06-28T03:53:31: SQL実行: SELECT 1 as test... 
2025-06-28T03:53:31: SQL実行成功: 結果行数=1
[2025-06-28T03:53:31.403Z] INFO  [PID:1111609] ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-28T03:53:31: [36m[2025-06-28T03:53:31.403Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了 {"level":"INFO"}
2025-06-28T03:53:31: SQL実行: 
2025-06-28T03:53:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:53:31:                ci.number as ca... 
[2025-06-28T03:53:31.410Z] INFO  [PID:1111609] 📋 初期キャンペーンロード: 78件検出 {"level":"INFO"}
2025-06-28T03:53:31: SQL実行成功: 結果行数=78
[2025-06-28T03:53:31.410Z] INFO  [PID:1111609] ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
2025-06-28T03:53:31: [36m[2025-06-28T03:53:31.410Z] INFO  [PID:1111609][0m 📋 初期キャンペーンロード: 78件検出 {"level":"INFO"}
2025-06-28T03:53:31: [36m[2025-06-28T03:53:31.410Z] INFO  [PID:1111609][0m ✅ 初期キャンペーンロード完了: 0件をアクティブ化 {"level":"INFO"}
[2025-06-28T03:53:31.410Z] INFO  [PID:1111609] 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
[2025-06-28T03:53:31.411Z] INFO  [PID:1111609] 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
[2025-06-28T03:53:31.411Z] INFO  [PID:1111609] 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
[2025-06-28T03:53:31.411Z] INFO  [PID:1111609] ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-28T03:53:31: [36m[2025-06-28T03:53:31.410Z] INFO  [PID:1111609][0m 💗 ヘルスチェック開始: 30000ms間隔 {"level":"INFO"}
2025-06-28T03:53:31: [36m[2025-06-28T03:53:31.411Z] INFO  [PID:1111609][0m 👁️ キャンペーン監視開始: 15000ms間隔 {"level":"INFO"}
2025-06-28T03:53:31: [36m[2025-06-28T03:53:31.411Z] INFO  [PID:1111609][0m 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
2025-06-28T03:53:31: [36m[2025-06-28T03:53:31.411Z] INFO  [PID:1111609][0m ✅ 完全自動連動システム起動完了 {"level":"INFO"}
2025-06-28T03:53:31: ✅ DialerService自動システム開始完了
2025-06-28T03:53:32: GET /api/caller-ids - Origin: http://146.190.83.205:3003
2025-06-28T03:53:32: 発信者番号一覧取得開始
2025-06-28T03:53:32: SQL実行: SELECT 1 as healthy, NOW() as timestamp, USER() as user, DATABASE() as db... 
2025-06-28T03:53:32: SQL実行成功: 結果行数=1
2025-06-28T03:53:32: データベース接続確認完了
2025-06-28T03:53:32: クエリ実行開始
2025-06-28T03:53:32: SQL実行: 
2025-06-28T03:53:32:       SELECT 
2025-06-28T03:53:32:         ci.id,
2025-06-28T03:53:32:         ci.number,
2025-06-28T03:53:32:         ci.description,
2025-06-28T03:53:32:         ci.provider,
2025-06-28T03:53:32:       ... 
2025-06-28T03:53:32: SQL実行成功: 結果行数=4
2025-06-28T03:53:32: クエリ実行完了: 4件取得
2025-06-28T03:53:32: 発信者番号一覧取得成功: 4
2025-06-28T03:53:46: SQL実行: 
2025-06-28T03:53:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:53:46:                ci.number as ca... 
2025-06-28T03:53:46: SQL実行成功: 結果行数=78
[2025-06-28T03:53:46.418Z] INFO  [PID:1111609] 🛑 自動発信システム停止 {"level":"INFO"}
[2025-06-28T03:53:46.419Z] INFO  [PID:1111609] 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-28T03:53:46: [36m[2025-06-28T03:53:46.418Z] INFO  [PID:1111609][0m 🛑 自動発信システム停止 {"level":"INFO"}
2025-06-28T03:53:46: [36m[2025-06-28T03:53:46.419Z] INFO  [PID:1111609][0m 🛑 アクティブキャンペーンなしにより自動発信停止 {"level":"INFO"}
2025-06-28T03:53:50: POST /api/campaigns - Origin: http://146.190.83.205:3003
[2025-06-28T03:53:50.133Z] INFO  [PID:1111609] キャンペーン作成: Name=Bテスト {"level":"INFO"}
2025-06-28T03:53:50: [36m[2025-06-28T03:53:50.133Z] INFO  [PID:1111609][0m キャンペーン作成: Name=Bテスト {"level":"INFO"}
2025-06-28T03:53:50: SQL実行: INSERT INTO campaigns (name, description, caller_id_id, script, status, created_at) VALUES (?, ?, ?,... パラメータ数: 5
[2025-06-28T03:53:50.141Z] INFO  [PID:1111609] キャンペーン作成完了: ID=170, Name=Bテスト {"level":"INFO"}
2025-06-28T03:53:50: SQL実行成功: 結果行数=不明
2025-06-28T03:53:50: [36m[2025-06-28T03:53:50.141Z] INFO  [PID:1111609][0m キャンペーン作成完了: ID=170, Name=Bテスト {"level":"INFO"}
[2025-06-28T03:53:51.187Z] INFO  [PID:1111609] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T03:53:51: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-28T03:53:51: [36m[2025-06-28T03:53:51.187Z] INFO  [PID:1111609][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T03:53:51: SQL実行: 
2025-06-28T03:53:51:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-28T03:53:51:        ... 
2025-06-28T03:53:51: SQL実行成功: 結果行数=50
2025-06-28T03:53:51: SQL実行: 
2025-06-28T03:53:51:       SELECT COUNT(*) as total
2025-06-28T03:53:51:       FROM campaigns c
2025-06-28T03:53:51:       WHERE 1=1
2025-06-28T03:53:51:     ... 
[2025-06-28T03:53:51.193Z] INFO  [PID:1111609] キャンペーン取得結果: 50/81件 {"level":"INFO"}
2025-06-28T03:53:51: SQL実行成功: 結果行数=1
2025-06-28T03:53:51: [36m[2025-06-28T03:53:51.193Z] INFO  [PID:1111609][0m キャンペーン取得結果: 50/81件 {"level":"INFO"}
2025-06-28T03:53:53: GET /api/campaigns/170 - Origin: http://146.190.83.205:3003
[2025-06-28T03:53:53.066Z] INFO  [PID:1111609] キャンペーン詳細取得: ID=170 {"level":"INFO"}
2025-06-28T03:53:53: [36m[2025-06-28T03:53:53.066Z] INFO  [PID:1111609][0m キャンペーン詳細取得: ID=170 {"level":"INFO"}
2025-06-28T03:53:53: SQL実行: 
2025-06-28T03:53:53:       SELECT c.*, 
2025-06-28T03:53:53:              ci.number as caller_id_number,
2025-06-28T03:53:53:              ci.description as calle... パラメータ数: 1
[2025-06-28T03:53:53.070Z] INFO  [PID:1111609] キャンペーン詳細取得完了: ID=170 {"level":"INFO"}
2025-06-28T03:53:53: SQL実行成功: 結果行数=1
2025-06-28T03:53:53: [36m[2025-06-28T03:53:53.070Z] INFO  [PID:1111609][0m キャンペーン詳細取得完了: ID=170 {"level":"INFO"}
[2025-06-28T03:53:53.110Z] INFO  [PID:1111609] キャンペーン統計取得: ID=170 {"level":"INFO"}
2025-06-28T03:53:53: GET /api/campaigns/170/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:53:53: [36m[2025-06-28T03:53:53.110Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=170 {"level":"INFO"}
2025-06-28T03:53:53: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:53:53: SQL実行成功: 結果行数=1
2025-06-28T03:53:53: SQL実行: 
2025-06-28T03:53:53:       SELECT 
2025-06-28T03:53:53:         COUNT(*) as total,
2025-06-28T03:53:53:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:53:53: SQL実行成功: 結果行数=1
2025-06-28T03:53:53: SQL実行: 
2025-06-28T03:53:53:       SELECT 
2025-06-28T03:53:53:         COUNT(*) as total_calls,
2025-06-28T03:53:53:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:53:53.114Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=170, Progress=0% {"level":"INFO"}
2025-06-28T03:53:53: SQL実行成功: 結果行数=1
2025-06-28T03:53:53: [36m[2025-06-28T03:53:53.114Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=170, Progress=0% {"level":"INFO"}
2025-06-28T03:53:54: GET /api/campaigns/170/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
[2025-06-28T03:53:54.216Z] INFO  [PID:1111609] 連絡先一覧取得: Campaign=170, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T03:53:54: [36m[2025-06-28T03:53:54.216Z] INFO  [PID:1111609][0m 連絡先一覧取得: Campaign=170, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T03:53:54: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:53:54: SQL実行成功: 結果行数=1
2025-06-28T03:53:54: SQL実行: 
2025-06-28T03:53:54:       SELECT c.*
2025-06-28T03:53:54:       FROM contacts c
2025-06-28T03:53:54:       WHERE c.campaign_id = ?
2025-06-28T03:53:54:      ORDER BY c.created_at DES... パラメータ数: 1
2025-06-28T03:53:54: SQL実行成功: 結果行数=0
2025-06-28T03:53:54: SQL実行: 
2025-06-28T03:53:54:       SELECT COUNT(*) as total
2025-06-28T03:53:54:       FROM contacts c
2025-06-28T03:53:54:       WHERE c.campaign_id = ?
2025-06-28T03:53:54:     ... パラメータ数: 1
[2025-06-28T03:53:54.221Z] INFO  [PID:1111609] 連絡先取得結果: Campaign=170, 件数=0, 全体=0 {"level":"INFO"}
2025-06-28T03:53:54: SQL実行成功: 結果行数=1
2025-06-28T03:53:54: [36m[2025-06-28T03:53:54.221Z] INFO  [PID:1111609][0m 連絡先取得結果: Campaign=170, 件数=0, 全体=0 {"level":"INFO"}
2025-06-28T03:54:00: POST /api/campaigns/170/contacts/upload - Origin: http://146.190.83.205:3003
[2025-06-28T03:54:00.941Z] INFO  [PID:1111609] 🚀 CSVアップロード開始 {"campaignId":"170","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-28T03:54:00.941Z","level":"INFO"}
2025-06-28T03:54:00: [36m[2025-06-28T03:54:00.941Z] INFO  [PID:1111609][0m 🚀 CSVアップロード開始 {"campaignId":"170","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-28T03:54:00.941Z","level":"INFO"}
2025-06-28T03:54:00: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T03:54:00.943Z] INFO  [PID:1111609] 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
2025-06-28T03:54:00: SQL実行成功: 結果行数=1
2025-06-28T03:54:00: [36m[2025-06-28T03:54:00.943Z] INFO  [PID:1111609][0m 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
[2025-06-28T03:54:00.947Z] WARN  [PID:1111609] CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
[2025-06-28T03:54:00.947Z] INFO  [PID:1111609] CSV解析完了: 1行のデータ {"level":"INFO"}
2025-06-28T03:54:00: [33m[2025-06-28T03:54:00.947Z] WARN  [PID:1111609][0m CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
[2025-06-28T03:54:00.948Z] INFO  [PID:1111609] 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
2025-06-28T03:54:00: [36m[2025-06-28T03:54:00.947Z] INFO  [PID:1111609][0m CSV解析完了: 1行のデータ {"level":"INFO"}
2025-06-28T03:54:00: [36m[2025-06-28T03:54:00.948Z] INFO  [PID:1111609][0m 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
[2025-06-28T03:54:00.948Z] INFO  [PID:1111609] 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
[2025-06-28T03:54:00.948Z] INFO  [PID:1111609] 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-28T03:54:00: [36m[2025-06-28T03:54:00.948Z] INFO  [PID:1111609][0m 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
[2025-06-28T03:54:00.949Z] INFO  [PID:1111609] 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-28T03:54:00: [36m[2025-06-28T03:54:00.948Z] INFO  [PID:1111609][0m 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
[2025-06-28T03:54:00.949Z] INFO  [PID:1111609] バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
[2025-06-28T03:54:00.949Z] INFO  [PID:1111609] 🔍 重複チェック開始... {"level":"INFO"}
2025-06-28T03:54:00: [36m[2025-06-28T03:54:00.949Z] INFO  [PID:1111609][0m 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-28T03:54:00: [36m[2025-06-28T03:54:00.949Z] INFO  [PID:1111609][0m バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
2025-06-28T03:54:00: [36m[2025-06-28T03:54:00.949Z] INFO  [PID:1111609][0m 🔍 重複チェック開始... {"level":"INFO"}
2025-06-28T03:54:00: SQL実行: SELECT phone FROM contacts WHERE campaign_id = ?... パラメータ数: 1
[2025-06-28T03:54:00.951Z] INFO  [PID:1111609] 既存電話番号数: 0 {"level":"INFO"}
2025-06-28T03:54:00: SQL実行成功: 結果行数=0
[2025-06-28T03:54:00.951Z] INFO  [PID:1111609] 新規データ追加: 05018086649 {"level":"INFO"}
2025-06-28T03:54:00: [36m[2025-06-28T03:54:00.951Z] INFO  [PID:1111609][0m 既存電話番号数: 0 {"level":"INFO"}
[2025-06-28T03:54:00.951Z] INFO  [PID:1111609] 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
[2025-06-28T03:54:00.951Z] INFO  [PID:1111609] 💾 データベース挿入開始: 1件 {"level":"INFO"}
2025-06-28T03:54:00: [36m[2025-06-28T03:54:00.951Z] INFO  [PID:1111609][0m 新規データ追加: 05018086649 {"level":"INFO"}
2025-06-28T03:54:00: [36m[2025-06-28T03:54:00.951Z] INFO  [PID:1111609][0m 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
2025-06-28T03:54:00: [36m[2025-06-28T03:54:00.951Z] INFO  [PID:1111609][0m 💾 データベース挿入開始: 1件 {"level":"INFO"}
2025-06-28T03:54:00: SQL実行: START TRANSACTION... 
2025-06-28T03:54:00: SQL実行成功: 結果行数=不明
2025-06-28T03:54:00: SQL実行: INSERT INTO contacts (campaign_id, phone, name, company, status, created_at) VALUES (?, ?, ?, ?, ?, ... パラメータ数: 5
[2025-06-28T03:54:00.953Z] INFO  [PID:1111609] 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
2025-06-28T03:54:00: SQL実行成功: 結果行数=不明
2025-06-28T03:54:00: [36m[2025-06-28T03:54:00.953Z] INFO  [PID:1111609][0m 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
2025-06-28T03:54:00: SQL実行: COMMIT... 
[2025-06-28T03:54:00.957Z] INFO  [PID:1111609] ✅ 全件挿入完了: 1件 {"level":"INFO"}
2025-06-28T03:54:00: SQL実行成功: 結果行数=不明
2025-06-28T03:54:00: [36m[2025-06-28T03:54:00.957Z] INFO  [PID:1111609][0m ✅ 全件挿入完了: 1件 {"level":"INFO"}
2025-06-28T03:54:00: SQL実行: SELECT COUNT(*) as total FROM contacts WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T03:54:00: SQL実行成功: 結果行数=1
2025-06-28T03:54:00: SQL実行: SELECT COUNT(*) as completed FROM contacts WHERE campaign_id = ? AND status IN ("completed", "failed... パラメータ数: 1
2025-06-28T03:54:00: SQL実行成功: 結果行数=1
2025-06-28T03:54:00: SQL実行: UPDATE campaigns SET progress = ?, updated_at = NOW() WHERE id = ?... パラメータ数: 2
[2025-06-28T03:54:00.965Z] INFO  [PID:1111609] CSVアップロード完了 {"campaignId":"170","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
2025-06-28T03:54:00: SQL実行成功: 結果行数=不明
2025-06-28T03:54:00: [36m[2025-06-28T03:54:00.965Z] INFO  [PID:1111609][0m CSVアップロード完了 {"campaignId":"170","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
[2025-06-28T03:54:01.001Z] INFO  [PID:1111609] キャンペーン詳細取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:01: GET /api/campaigns/170 - Origin: http://146.190.83.205:3003
2025-06-28T03:54:01: [36m[2025-06-28T03:54:01.001Z] INFO  [PID:1111609][0m キャンペーン詳細取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:01: SQL実行: 
2025-06-28T03:54:01:       SELECT c.*, 
2025-06-28T03:54:01:              ci.number as caller_id_number,
2025-06-28T03:54:01:              ci.description as calle... パラメータ数: 1
[2025-06-28T03:54:01.004Z] INFO  [PID:1111609] キャンペーン詳細取得完了: ID=170 {"level":"INFO"}
2025-06-28T03:54:01: SQL実行成功: 結果行数=1
2025-06-28T03:54:01: [36m[2025-06-28T03:54:01.004Z] INFO  [PID:1111609][0m キャンペーン詳細取得完了: ID=170 {"level":"INFO"}
[2025-06-28T03:54:01.040Z] INFO  [PID:1111609] キャンペーン統計取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:01: GET /api/campaigns/170/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:54:01: [36m[2025-06-28T03:54:01.040Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:01: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:54:01: SQL実行成功: 結果行数=1
2025-06-28T03:54:01: SQL実行: 
2025-06-28T03:54:01:       SELECT 
2025-06-28T03:54:01:         COUNT(*) as total,
2025-06-28T03:54:01:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:54:01: SQL実行成功: 結果行数=1
2025-06-28T03:54:01: SQL実行: 
2025-06-28T03:54:01:       SELECT 
2025-06-28T03:54:01:         COUNT(*) as total_calls,
2025-06-28T03:54:01:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:54:01: SQL実行成功: 結果行数=1
[2025-06-28T03:54:01.044Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=170, Progress=0% {"level":"INFO"}
2025-06-28T03:54:01: [36m[2025-06-28T03:54:01.044Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=170, Progress=0% {"level":"INFO"}
[2025-06-28T03:54:01.083Z] INFO  [PID:1111609] 連絡先一覧取得: Campaign=170, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T03:54:01: GET /api/campaigns/170/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
2025-06-28T03:54:01: [36m[2025-06-28T03:54:01.083Z] INFO  [PID:1111609][0m 連絡先一覧取得: Campaign=170, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T03:54:01: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:54:01: SQL実行成功: 結果行数=1
2025-06-28T03:54:01: SQL実行: 
2025-06-28T03:54:01:       SELECT c.*
2025-06-28T03:54:01:       FROM contacts c
2025-06-28T03:54:01:       WHERE c.campaign_id = ?
2025-06-28T03:54:01:      ORDER BY c.created_at DES... パラメータ数: 1
2025-06-28T03:54:01: SQL実行成功: 結果行数=1
2025-06-28T03:54:01: SQL実行: 
2025-06-28T03:54:01:       SELECT COUNT(*) as total
2025-06-28T03:54:01:       FROM contacts c
2025-06-28T03:54:01:       WHERE c.campaign_id = ?
2025-06-28T03:54:01:     ... パラメータ数: 1
[2025-06-28T03:54:01.087Z] INFO  [PID:1111609] 連絡先取得結果: Campaign=170, 件数=1, 全体=1 {"level":"INFO"}
2025-06-28T03:54:01: SQL実行成功: 結果行数=1
2025-06-28T03:54:01: [36m[2025-06-28T03:54:01.087Z] INFO  [PID:1111609][0m 連絡先取得結果: Campaign=170, 件数=1, 全体=1 {"level":"INFO"}
2025-06-28T03:54:01: SQL実行: SELECT 1... 
2025-06-28T03:54:01: SQL実行: 
2025-06-28T03:54:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:54:01:                ci.number as ca... 
2025-06-28T03:54:01: SQL実行成功: 結果行数=1
2025-06-28T03:54:01: SQL実行成功: 結果行数=78
2025-06-28T03:54:02: GET /api/audio - Origin: http://146.190.83.205:3003
[2025-06-28T03:54:02.284Z] INFO  [PID:1111609] 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:54:02: [36m[2025-06-28T03:54:02.284Z] INFO  [PID:1111609][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:54:02: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
2025-06-28T03:54:02: GET /api/ivr/campaigns/170 - Origin: http://146.190.83.205:3003
2025-06-28T03:54:02: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T03:54:02.289Z] INFO  [PID:1111609] 2件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T03:54:02: SQL実行成功: 結果行数=2
2025-06-28T03:54:02: [36m[2025-06-28T03:54:02.289Z] INFO  [PID:1111609][0m 2件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T03:54:02: SQL実行成功: 結果行数=1
[2025-06-28T03:54:02.291Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=170 {"level":"INFO"}
2025-06-28T03:54:02: [36m[2025-06-28T03:54:02.291Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=170 {"level":"INFO"}
2025-06-28T03:54:02: SQL実行: 
2025-06-28T03:54:02:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:54:02:    ... パラメータ数: 1
[2025-06-28T03:54:02.303Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=170, 件数=0 {"level":"INFO"}
2025-06-28T03:54:02: SQL実行成功: 結果行数=0
[2025-06-28T03:54:02.304Z] WARN  [PID:1111609] キャンペーン 170 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-28T03:54:02: [36m[2025-06-28T03:54:02.303Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=170, 件数=0 {"level":"INFO"}
2025-06-28T03:54:02: [33m[2025-06-28T03:54:02.304Z] WARN  [PID:1111609][0m キャンペーン 170 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-28T03:54:02: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T03:54:02: SQL実行成功: 結果行数=0
2025-06-28T03:54:02: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T03:54:02.309Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=170 {"level":"INFO"}
2025-06-28T03:54:02: SQL実行成功: 結果行数=1
2025-06-28T03:54:02: [36m[2025-06-28T03:54:02.309Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=170 {"level":"INFO"}
2025-06-28T03:54:02: SQL実行: 
2025-06-28T03:54:02:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:54:02:    ... パラメータ数: 1
[2025-06-28T03:54:02.312Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=170, 件数=0 {"level":"INFO"}
2025-06-28T03:54:02: SQL実行成功: 結果行数=0
[2025-06-28T03:54:02.313Z] WARN  [PID:1111609] キャンペーン 170 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-28T03:54:02: [36m[2025-06-28T03:54:02.312Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=170, 件数=0 {"level":"INFO"}
2025-06-28T03:54:02: [33m[2025-06-28T03:54:02.313Z] WARN  [PID:1111609][0m キャンペーン 170 に音声ファイルが見つかりません {"level":"WARN"}
[2025-06-28T03:54:02.315Z] INFO  [PID:1111609] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-170.conf {"level":"INFO"}
2025-06-28T03:54:02: [36m[2025-06-28T03:54:02.315Z] INFO  [PID:1111609][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-170.conf {"level":"INFO"}
[2025-06-28T03:54:04.432Z] INFO  [PID:1111609] 音声ファイル割り当て: キャンペーンID=170, 音声ID=45c00dc2-06d7-4d17-8865-62bfc5bf59e3, タイプ=welcome {"level":"INFO"}
2025-06-28T03:54:04: POST /api/audio/assign - Origin: http://146.190.83.205:3003
2025-06-28T03:54:04: [36m[2025-06-28T03:54:04.432Z] INFO  [PID:1111609][0m 音声ファイル割り当て: キャンペーンID=170, 音声ID=45c00dc2-06d7-4d17-8865-62bfc5bf59e3, タイプ=welcome {"level":"INFO"}
2025-06-28T03:54:04: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:54:04: SQL実行成功: 結果行数=1
2025-06-28T03:54:04: SQL実行: SELECT id FROM audio_files WHERE id = ?... パラメータ数: 1
2025-06-28T03:54:04: SQL実行成功: 結果行数=1
2025-06-28T03:54:04: SQL実行: SELECT * FROM campaign_audio WHERE campaign_id = ? AND audio_type = ?... パラメータ数: 2
2025-06-28T03:54:04: SQL実行成功: 結果行数=0
2025-06-28T03:54:04: SQL実行: INSERT INTO campaign_audio (campaign_id, audio_file_id, audio_type, created_at) VALUES (?, ?, ?, NOW... パラメータ数: 3
[2025-06-28T03:54:04.442Z] INFO  [PID:1111609] 新規割り当てを作成しました: キャンペーンID=170, タイプ=welcome {"level":"INFO"}
2025-06-28T03:54:04: SQL実行成功: 結果行数=不明
2025-06-28T03:54:04: [36m[2025-06-28T03:54:04.442Z] INFO  [PID:1111609][0m 新規割り当てを作成しました: キャンペーンID=170, タイプ=welcome {"level":"INFO"}
2025-06-28T03:54:04: GET /api/ivr/campaigns/170 - Origin: http://146.190.83.205:3003
2025-06-28T03:54:04: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T03:54:04.489Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=170 {"level":"INFO"}
2025-06-28T03:54:04: SQL実行成功: 結果行数=1
2025-06-28T03:54:04: [36m[2025-06-28T03:54:04.489Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=170 {"level":"INFO"}
2025-06-28T03:54:04: SQL実行: 
2025-06-28T03:54:04:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:54:04:    ... パラメータ数: 1
[2025-06-28T03:54:04.491Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=170, 件数=1 {"level":"INFO"}
2025-06-28T03:54:04: SQL実行成功: 結果行数=1
2025-06-28T03:54:04: [36m[2025-06-28T03:54:04.491Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=170, 件数=1 {"level":"INFO"}
[2025-06-28T03:54:04.491Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
2025-06-28T03:54:04: [36m[2025-06-28T03:54:04.491Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
2025-06-28T03:54:04: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T03:54:04: SQL実行成功: 結果行数=0
2025-06-28T03:54:04: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T03:54:04.494Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=170 {"level":"INFO"}
2025-06-28T03:54:04: SQL実行成功: 結果行数=1
2025-06-28T03:54:04: [36m[2025-06-28T03:54:04.494Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=170 {"level":"INFO"}
2025-06-28T03:54:04: SQL実行: 
2025-06-28T03:54:04:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:54:04:    ... パラメータ数: 1
[2025-06-28T03:54:04.495Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=170, 件数=1 {"level":"INFO"}
[2025-06-28T03:54:04.496Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
2025-06-28T03:54:04: SQL実行成功: 結果行数=1
2025-06-28T03:54:04: [36m[2025-06-28T03:54:04.495Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=170, 件数=1 {"level":"INFO"}
2025-06-28T03:54:04: [36m[2025-06-28T03:54:04.496Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:54:04.497Z] INFO  [PID:1111609] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-170.conf {"level":"INFO"}
2025-06-28T03:54:04: [36m[2025-06-28T03:54:04.497Z] INFO  [PID:1111609][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-170.conf {"level":"INFO"}
2025-06-28T03:54:07: POST /api/campaigns/170/start - Origin: http://146.190.83.205:3003
2025-06-28T03:54:07: 🔍 campaignsController.startCampaign 開始: { campaignId: '170' }
2025-06-28T03:54:07: SQL実行: 
2025-06-28T03:54:07:       SELECT c.*, ci.active as caller_id_active,
2025-06-28T03:54:07:              (SELECT COUNT(*) FROM contacts WHERE ... パラメータ数: 1
2025-06-28T03:54:07: SQL実行成功: 結果行数=1
2025-06-28T03:54:07: 🔍 修正後のクエリ結果: {
2025-06-28T03:54:07:   rows_length: 1,
2025-06-28T03:54:07:   campaign_exists: 'YES',
2025-06-28T03:54:07:   caller_id_id: 8,
2025-06-28T03:54:07:   caller_id_active: 1,
2025-06-28T03:54:07:   contact_count: '1'
2025-06-28T03:54:07: }
2025-06-28T03:54:07: 🔍 検証開始: {
2025-06-28T03:54:07:   'campaign.caller_id_id': 8,
2025-06-28T03:54:07:   'campaign.caller_id_active': 1,
2025-06-28T03:54:07:   'typeof caller_id_id': 'number',
2025-06-28T03:54:07:   'typeof caller_id_active': 'number',
2025-06-28T03:54:07:   '!campaign.caller_id_id': false,
2025-06-28T03:54:07:   '!campaign.caller_id_active': false
2025-06-28T03:54:07: }
2025-06-28T03:54:07: ✅ 検証完了、IVRデプロイ開始
[2025-06-28T03:54:07.286Z] INFO  [PID:1111609] 🚀 キャンペーン 170 のIVRスクリプト完全デプロイ開始... {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.286Z] INFO  [PID:1111609][0m 🚀 キャンペーン 170 のIVRスクリプト完全デプロイ開始... {"level":"INFO"}
[2025-06-28T03:54:07.286Z] INFO  [PID:1111609] 📝 Step 1: IVRスクリプト生成中... {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.286Z] INFO  [PID:1111609][0m 📝 Step 1: IVRスクリプト生成中... {"level":"INFO"}
2025-06-28T03:54:07: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T03:54:07.287Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=170 {"level":"INFO"}
2025-06-28T03:54:07: SQL実行成功: 結果行数=1
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.287Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=170 {"level":"INFO"}
2025-06-28T03:54:07: SQL実行: 
2025-06-28T03:54:07:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:54:07:    ... パラメータ数: 1
[2025-06-28T03:54:07.289Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=170, 件数=1 {"level":"INFO"}
2025-06-28T03:54:07: SQL実行成功: 結果行数=1
[2025-06-28T03:54:07.289Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.289Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=170, 件数=1 {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.289Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:54:07.290Z] INFO  [PID:1111609] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-170.conf {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.290Z] INFO  [PID:1111609][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-170.conf {"level":"INFO"}
[2025-06-28T03:54:07.290Z] INFO  [PID:1111609] ✅ IVRスクリプト生成完了: /var/www/autodialer/backend/ivr-scripts/campaign-170.conf {"level":"INFO"}
[2025-06-28T03:54:07.290Z] INFO  [PID:1111609] 📝 Step 2: extensions.confへのinclude追加中... {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.290Z] INFO  [PID:1111609][0m ✅ IVRスクリプト生成完了: /var/www/autodialer/backend/ivr-scripts/campaign-170.conf {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.290Z] INFO  [PID:1111609][0m 📝 Step 2: extensions.confへのinclude追加中... {"level":"INFO"}
[2025-06-28T03:54:07.290Z] INFO  [PID:1111609] 🔧 extensions.conf include追加: #include "/var/www/autodialer/backend/ivr-scripts/campaign-170.conf" {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.290Z] INFO  [PID:1111609][0m 🔧 extensions.conf include追加: #include "/var/www/autodialer/backend/ivr-scripts/campaign-170.conf" {"level":"INFO"}
[2025-06-28T03:54:07.291Z] INFO  [PID:1111609] ✅ extensions.confにinclude追加完了: campaign-170.conf {"level":"INFO"}
[2025-06-28T03:54:07.292Z] INFO  [PID:1111609] 📝 Step 3: Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.291Z] INFO  [PID:1111609][0m ✅ extensions.confにinclude追加完了: campaign-170.conf {"level":"INFO"}
[2025-06-28T03:54:07.292Z] INFO  [PID:1111609] 🔄 Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.292Z] INFO  [PID:1111609][0m 📝 Step 3: Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.292Z] INFO  [PID:1111609][0m 🔄 Asterisk dialplan reload実行中... {"level":"INFO"}
[2025-06-28T03:54:07.327Z] INFO  [PID:1111609] ✅ Asterisk dialplan reload成功: Dialplan reloaded. {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.327Z] INFO  [PID:1111609][0m ✅ Asterisk dialplan reload成功: Dialplan reloaded. {"level":"INFO"}
[2025-06-28T03:54:07.328Z] INFO  [PID:1111609] 📝 Step 4: データベース記録中... {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.328Z] INFO  [PID:1111609][0m 📝 Step 4: データベース記録中... {"level":"INFO"}
2025-06-28T03:54:07: SQL実行: UPDATE campaigns SET ivr_deployed = true, ivr_deploy_time = NOW() WHERE id = ?... パラメータ数: 1
[2025-06-28T03:54:07.334Z] INFO  [PID:1111609] ✅ データベース記録完了 {"level":"INFO"}
[2025-06-28T03:54:07.335Z] INFO  [PID:1111609] 📝 Step 5: デプロイ検証中... {"level":"INFO"}
2025-06-28T03:54:07: SQL実行成功: 結果行数=不明
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.334Z] INFO  [PID:1111609][0m ✅ データベース記録完了 {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.335Z] INFO  [PID:1111609][0m 📝 Step 5: デプロイ検証中... {"level":"INFO"}
[2025-06-28T03:54:07.335Z] INFO  [PID:1111609] 🔍 コンテキスト検証中: autodialer-campaign-170 {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.335Z] INFO  [PID:1111609][0m 🔍 コンテキスト検証中: autodialer-campaign-170 {"level":"INFO"}
[2025-06-28T03:54:07.363Z] WARN  [PID:1111609] ⚠️ コンテキスト検証結果不明: [ Context 'autodialer-campaign-170' created by 'pbx_config' ]
  '1' =>            1. NoOp(Operator transfer requested)          [campaign-170.conf:10]
                    2. Set(CAMPAIGN_ID=170)                       [campaign-170.conf:11]
                    3. Set(KEYPRESS=1)                            [campaign-170.conf:12]
                    4. Goto(operator-transfer-170,s,1)            [campaign-170.conf:13]
  '2' =>            1. NoOp(Operator transfer requested)          [campaign-170.conf:15]
                    2. Set(CAMPAIGN_ID=170)                       [campaign-170.conf:16]
                    3. Set(KEYPRESS=2)                            [campaign-170.conf:17]
                    4. Goto(operator-transfer-170,s,1)            [campaign-170.conf:18]
  '3' =>            1. NoOp(Operator transfer requested)          [campaign-170.conf:20]
                    2. Set(CAMPAIGN_ID=170)                       [campaign-170.conf:21]
                    3. Set(KEYPRESS=3)                            [campaign-170.conf:22]
                    4. Goto(operator-transfer-170,s,1)            [campaign-170.conf:23]
  '9' =>            1. NoOp(DNC requested)                        [campaign-170.conf:25]
                    2. Set(CAMPAIGN_ID=170)                       [campaign-170.conf:26]
                    3. Set(KEYPRESS=9)                            [campaign-170.conf:27]
                    4. Playback(vm-goodbye)                       [campaign-170.conf:28]
                    5. Hangup()                                   [campaign-170.conf:29]
  'h' =>            1. NoOp(Hangup handler)                       [campaign-170.conf:39]
                    2. System(curl -X POST http://localhost:5000/api/callback/call-end -d "callId=170-${UNIQUEID}&duration=${ANSWEREDTIME}&disposition=${DIALSTATUS}&keypress=${KEYPRESS}") [campaign-170.conf:40]
  'i' =>            1. NoOp(Invalid input)                        [campaign-170.conf:35]
                    2. Playback(invalid)                          [campaign-170.conf:36]
                    3. Goto(s,4)                                  [campaign-170.conf:37]
  's' =>            1. Answer()                                   [campaign-170.conf:4]
                    2. Wait(1)                                    [campaign-170.conf:5]
                    3. Playback(autodialer/45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302) [campaign-170.conf:6]
                    4. Playback(vm-tempgreeting)                  [campaign-170.conf:7]
                    5. WaitExten(10)                              [campaign-170.conf:8]
  't' =>            1. NoOp(Timeout occurred)                     [campaign-170.conf:31]
                    2. Playback(goodbye)                          [campaign-170.conf:32]
                    3. Hangup()                                   [campaign-170.conf:33]

-= 8 extensions (30 priorities) in 1 context. =-
 {"level":"WARN"}
[2025-06-28T03:54:07.363Z] WARN  [PID:1111609] ⚠️ コンテキスト検証失敗 - 手動確認が必要です {"level":"WARN"}
2025-06-28T03:54:07: [33m[2025-06-28T03:54:07.363Z] WARN  [PID:1111609][0m ⚠️ コンテキスト検証結果不明: [ Context 'autodialer-campaign-170' created by 'pbx_config' ]
2025-06-28T03:54:07:   '1' =>            1. NoOp(Operator transfer requested)          [campaign-170.conf:10]
2025-06-28T03:54:07:                     2. Set(CAMPAIGN_ID=170)                       [campaign-170.conf:11]
2025-06-28T03:54:07:                     3. Set(KEYPRESS=1)                            [campaign-170.conf:12]
2025-06-28T03:54:07:                     4. Goto(operator-transfer-170,s,1)            [campaign-170.conf:13]
2025-06-28T03:54:07:   '2' =>            1. NoOp(Operator transfer requested)          [campaign-170.conf:15]
2025-06-28T03:54:07:                     2. Set(CAMPAIGN_ID=170)                       [campaign-170.conf:16]
2025-06-28T03:54:07:                     3. Set(KEYPRESS=2)                            [campaign-170.conf:17]
2025-06-28T03:54:07:                     4. Goto(operator-transfer-170,s,1)            [campaign-170.conf:18]
2025-06-28T03:54:07:   '3' =>            1. NoOp(Operator transfer requested)          [campaign-170.conf:20]
2025-06-28T03:54:07:                     2. Set(CAMPAIGN_ID=170)                       [campaign-170.conf:21]
2025-06-28T03:54:07:                     3. Set(KEYPRESS=3)                            [campaign-170.conf:22]
2025-06-28T03:54:07:                     4. Goto(operator-transfer-170,s,1)            [campaign-170.conf:23]
2025-06-28T03:54:07:   '9' =>            1. NoOp(DNC requested)                        [campaign-170.conf:25]
2025-06-28T03:54:07:                     2. Set(CAMPAIGN_ID=170)                       [campaign-170.conf:26]
2025-06-28T03:54:07:                     3. Set(KEYPRESS=9)                            [campaign-170.conf:27]
2025-06-28T03:54:07:                     4. Playback(vm-goodbye)                       [campaign-170.conf:28]
2025-06-28T03:54:07:                     5. Hangup()                                   [campaign-170.conf:29]
2025-06-28T03:54:07:   'h' =>            1. NoOp(Hangup handler)                       [campaign-170.conf:39]
2025-06-28T03:54:07:                     2. System(curl -X POST http://localhost:5000/api/callback/call-end -d "callId=170-${UNIQUEID}&duration=${ANSWEREDTIME}&disposition=${DIALSTATUS}&keypress=${KEYPRESS}") [campaign-170.conf:40]
2025-06-28T03:54:07:   'i' =>            1. NoOp(Invalid input)                        [campaign-170.conf:35]
2025-06-28T03:54:07:                     2. Playback(invalid)                          [campaign-170.conf:36]
2025-06-28T03:54:07:                     3. Goto(s,4)                                  [campaign-170.conf:37]
2025-06-28T03:54:07:   's' =>            1. Answer()                                   [campaign-170.conf:4]
2025-06-28T03:54:07:                     2. Wait(1)                                    [campaign-170.conf:5]
2025-06-28T03:54:07:                     3. Playback(autodialer/45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302) [campaign-170.conf:6]
2025-06-28T03:54:07:                     4. Playback(vm-tempgreeting)                  [campaign-170.conf:7]
2025-06-28T03:54:07:                     5. WaitExten(10)                              [campaign-170.conf:8]
2025-06-28T03:54:07:   't' =>            1. NoOp(Timeout occurred)                     [campaign-170.conf:31]
2025-06-28T03:54:07:                     2. Playback(goodbye)                          [campaign-170.conf:32]
2025-06-28T03:54:07:                     3. Hangup()                                   [campaign-170.conf:33]
2025-06-28T03:54:07: 
2025-06-28T03:54:07: -= 8 extensions (30 priorities) in 1 context. =-
2025-06-28T03:54:07:  {"level":"WARN"}
[2025-06-28T03:54:07.365Z] INFO  [PID:1111609] 🚀 手動キャンペーン開始: 170 {"level":"INFO"}
2025-06-28T03:54:07: [33m[2025-06-28T03:54:07.363Z] WARN  [PID:1111609][0m ⚠️ コンテキスト検証失敗 - 手動確認が必要です {"level":"WARN"}
2025-06-28T03:54:07: ✅ IVRスクリプト自動デプロイ完了: キャンペーン 170 {
2025-06-28T03:54:07:   scriptPath: '/var/www/autodialer/backend/ivr-scripts/campaign-170.conf',
2025-06-28T03:54:07:   message: 'キャンペーン 170 のIVRスクリプトが完全デプロイされました'
2025-06-28T03:54:07: }
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.365Z] INFO  [PID:1111609][0m 🚀 手動キャンペーン開始: 170 {"level":"INFO"}
2025-06-28T03:54:07: SQL実行: 
2025-06-28T03:54:07:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:54:07:                ci.number as ca... パラメータ数: 1
2025-06-28T03:54:07: SQL実行成功: 結果行数=1
2025-06-28T03:54:07: SQL実行: UPDATE campaigns SET status = ?, updated_at = NOW() WHERE id = ?... パラメータ数: 2
2025-06-28T03:54:07: SQL実行成功: 結果行数=不明
[2025-06-28T03:54:07.372Z] INFO  [PID:1111609] 🎉 イベント: キャンペーン追加 - Bテスト (ID: 170) {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.372Z] INFO  [PID:1111609][0m 🎉 イベント: キャンペーン追加 - Bテスト (ID: 170) {"level":"INFO"}
[2025-06-28T03:54:07.373Z] INFO  [PID:1111609] ✅ キャンペーン自動追加: "Bテスト" (未処理: 1件) {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.373Z] INFO  [PID:1111609][0m ✅ キャンペーン自動追加: "Bテスト" (未処理: 1件) {"level":"INFO"}
[2025-06-28T03:54:07.373Z] INFO  [PID:1111609] 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.373Z] INFO  [PID:1111609][0m 🚀 自動発信システム開始: 5000ms間隔 {"level":"INFO"}
[2025-06-28T03:54:07.373Z] INFO  [PID:1111609] ✅ 手動キャンペーン開始完了: "Bテスト" {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.373Z] INFO  [PID:1111609][0m ✅ 手動キャンペーン開始完了: "Bテスト" {"level":"INFO"}
[2025-06-28T03:54:07.408Z] INFO  [PID:1111609] キャンペーン詳細取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:07: GET /api/campaigns/170 - Origin: http://146.190.83.205:3003
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.408Z] INFO  [PID:1111609][0m キャンペーン詳細取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:07: SQL実行: 
2025-06-28T03:54:07:       SELECT c.*, 
2025-06-28T03:54:07:              ci.number as caller_id_number,
2025-06-28T03:54:07:              ci.description as calle... パラメータ数: 1
[2025-06-28T03:54:07.412Z] INFO  [PID:1111609] キャンペーン詳細取得完了: ID=170 {"level":"INFO"}
2025-06-28T03:54:07: SQL実行成功: 結果行数=1
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.412Z] INFO  [PID:1111609][0m キャンペーン詳細取得完了: ID=170 {"level":"INFO"}
[2025-06-28T03:54:07.450Z] INFO  [PID:1111609] キャンペーン統計取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:07: GET /api/campaigns/170/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.450Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:07: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:54:07: SQL実行成功: 結果行数=1
2025-06-28T03:54:07: SQL実行: 
2025-06-28T03:54:07:       SELECT 
2025-06-28T03:54:07:         COUNT(*) as total,
2025-06-28T03:54:07:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:54:07: SQL実行成功: 結果行数=1
2025-06-28T03:54:07: SQL実行: 
2025-06-28T03:54:07:       SELECT 
2025-06-28T03:54:07:         COUNT(*) as total_calls,
2025-06-28T03:54:07:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:54:07.455Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=170, Progress=0% {"level":"INFO"}
2025-06-28T03:54:07: SQL実行成功: 結果行数=1
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.455Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=170, Progress=0% {"level":"INFO"}
2025-06-28T03:54:07: GET /api/ivr/campaigns/170 - Origin: http://146.190.83.205:3003
2025-06-28T03:54:07: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:54:07: GET /api/audio - Origin: http://146.190.83.205:3003
[2025-06-28T03:54:07.493Z] INFO  [PID:1111609] 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.493Z] INFO  [PID:1111609][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:54:07: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
[2025-06-28T03:54:07.495Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=170 {"level":"INFO"}
2025-06-28T03:54:07: SQL実行成功: 結果行数=1
[2025-06-28T03:54:07.496Z] INFO  [PID:1111609] 2件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.495Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=170 {"level":"INFO"}
2025-06-28T03:54:07: SQL実行: 
2025-06-28T03:54:07:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:54:07:    ... パラメータ数: 1
2025-06-28T03:54:07: SQL実行成功: 結果行数=2
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.496Z] INFO  [PID:1111609][0m 2件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T03:54:07: SQL実行成功: 結果行数=1
[2025-06-28T03:54:07.497Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=170, 件数=1 {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.497Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=170, 件数=1 {"level":"INFO"}
[2025-06-28T03:54:07.497Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.497Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
2025-06-28T03:54:07: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T03:54:07: SQL実行成功: 結果行数=0
2025-06-28T03:54:07: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T03:54:07.499Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=170 {"level":"INFO"}
2025-06-28T03:54:07: SQL実行成功: 結果行数=1
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.499Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=170 {"level":"INFO"}
2025-06-28T03:54:07: SQL実行: 
2025-06-28T03:54:07:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:54:07:    ... パラメータ数: 1
[2025-06-28T03:54:07.501Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=170, 件数=1 {"level":"INFO"}
2025-06-28T03:54:07: SQL実行成功: 結果行数=1
[2025-06-28T03:54:07.501Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.501Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=170, 件数=1 {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.501Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:54:07.502Z] INFO  [PID:1111609] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-170.conf {"level":"INFO"}
2025-06-28T03:54:07: [36m[2025-06-28T03:54:07.502Z] INFO  [PID:1111609][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-170.conf {"level":"INFO"}
2025-06-28T03:54:12: SQL実行: 
2025-06-28T03:54:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:54:12:           FROM contacts 
2025-06-28T03:54:12:           WHERE c... パラメータ数: 1
[2025-06-28T03:54:12.376Z] INFO  [PID:1111609] 📞 発信準備: 05018086649 (Campaign: Bテスト, 試行回数: 0) {"level":"INFO"}
2025-06-28T03:54:12: SQL実行成功: 結果行数=1
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.376Z] INFO  [PID:1111609][0m 📞 発信準備: 05018086649 (Campaign: Bテスト, 試行回数: 0) {"level":"INFO"}
[2025-06-28T03:54:12.377Z] INFO  [PID:1111609] 🔧 発信診断開始: 05018086649 {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.377Z] INFO  [PID:1111609][0m 🔧 発信診断開始: 05018086649 {"level":"INFO"}
2025-06-28T03:54:12: SQL実行: UPDATE contacts SET status = ?, last_attempt = NOW(), attempt_count = attempt_count + 1 WHERE id = ?... パラメータ数: 2
2025-06-28T03:54:12: SQL実行成功: 結果行数=不明
2025-06-28T03:54:12: SQL実行: SELECT * FROM caller_ids WHERE id = ? AND active = true... パラメータ数: 1
2025-06-28T03:54:12: SQL実行成功: 結果行数=1
[2025-06-28T03:54:12.386Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=170 {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.386Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=170 {"level":"INFO"}
2025-06-28T03:54:12: SQL実行: 
2025-06-28T03:54:12:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:54:12:    ... パラメータ数: 1
[2025-06-28T03:54:12.388Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=170, 件数=1 {"level":"INFO"}
2025-06-28T03:54:12: SQL実行成功: 結果行数=1
[2025-06-28T03:54:12.388Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:54:12.388Z] INFO  [PID:1111609] 🎵 自動発信で音声ファイル取得成功: 1件 (Campaign: 170) {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.388Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=170, 件数=1 {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.388Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:54:12.388Z] INFO  [PID:1111609] 🎵 音声1: welcome - 549444996463302 (45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav) {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.388Z] INFO  [PID:1111609][0m 🎵 自動発信で音声ファイル取得成功: 1件 (Campaign: 170) {"level":"INFO"}
[2025-06-28T03:54:12.388Z] INFO  [PID:1111609] 🚀 音声付き自動発信実行: 05018086649 {"campaignId":170,"contactId":10165,"callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":1,"hasAudio":true,"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.388Z] INFO  [PID:1111609][0m 🎵 音声1: welcome - 549444996463302 (45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav) {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.388Z] INFO  [PID:1111609][0m 🚀 音声付き自動発信実行: 05018086649 {"campaignId":170,"contactId":10165,"callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":1,"hasAudio":true,"level":"INFO"}
2025-06-28T03:54:12: 🚀🚀🚀 CALLSERVICE-START: originateメソッド開始（SIP専用）
[2025-06-28T03:54:12.389Z] INFO  [PID:1111609] SIPプロバイダで発信: 05018086649 {"level":"INFO"}
2025-06-28T03:54:12: 🚀🚀🚀 CALLSERVICE-PARAMS: {"phoneNumber":"05018086649","callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","context":"autodialer","exten":"s","priority":1,"variables":{"CAMPAIGN_ID":170,"CONTACT_ID":10165,"CONTACT_NAME":"","COMPANY":"","AUTO_DIAL":"true","DIALER_VERSION":"v2.0"},"callerIdData":{"id":8,"number":"0369087851","description":"6/9 契約開始　1番号（25U、23CH）","provider":"外部","domain":"pantex.online","active":1,"created_at":"2025-06-14 10:02:51"},"mockMode":false,"provider":"sip","campaignAudio":[{"audio_type":"welcome","id":"45c00dc2-06d7-4d17-8865-62bfc5bf59e3","name":"549444996463302","filename":"45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav","mimetype":"audio/wav","description":"","path":"/var/www/autodialer/backend/audio-files/45c00dc2-06d7-4d17-8865-62bfc5bf59e3-549444996463302.wav"}]}
2025-06-28T03:54:12: 🚀🚀🚀 CALLSERVICE-PROVIDER: sip（固定）
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.389Z] INFO  [PID:1111609][0m SIPプロバイダで発信: 05018086649 {"level":"INFO"}
2025-06-28T03:54:12: 🚀🚀🚀 CALLSERVICE-SERVICE: SIPサービス利用可能
2025-06-28T03:54:12: 🚀🚀🚀 CALLSERVICE-EXEC-1: SIP発信実行直前
[2025-06-28T03:54:12.390Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] ===== sipService.originate 開始 (AMI版) ===== {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.390Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] ===== sipService.originate 開始 (AMI版) ===== {"level":"INFO"}
[2025-06-28T03:54:12.390Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - phoneNumber: 05018086649 {"level":"INFO"}
[2025-06-28T03:54:12.390Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - mockMode: false {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.390Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - phoneNumber: 05018086649 {"level":"INFO"}
[2025-06-28T03:54:12.390Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - connected: true {"level":"INFO"}
[2025-06-28T03:54:12.390Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] 実発信モードで AMI発信を開始: 発信先=05018086649 {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.390Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - mockMode: false {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.390Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - connected: true {"level":"INFO"}
[2025-06-28T03:54:12.390Z] INFO  [PID:1111609] 🔍 SIPアカウント選択開始 {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.390Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] 実発信モードで AMI発信を開始: 発信先=05018086649 {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.390Z] INFO  [PID:1111609][0m 🔍 SIPアカウント選択開始 {"level":"INFO"}
2025-06-28T03:54:12: SQL実行: SELECT caller_id_id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T03:54:12.392Z] INFO  [PID:1111609] 🔍 キャンペーン170 → 発信者番号ID: 8 {"level":"INFO"}
2025-06-28T03:54:12: SQL実行成功: 結果行数=1
[2025-06-28T03:54:12.392Z] INFO  [PID:1111609] 🔍 選択されたSIPアカウント: 03500001 {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.392Z] INFO  [PID:1111609][0m 🔍 キャンペーン170 → 発信者番号ID: 8 {"level":"INFO"}
[2025-06-28T03:54:12.393Z] INFO  [PID:1111609] 🔍 - username: "03500001" (type: string) {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.392Z] INFO  [PID:1111609][0m 🔍 選択されたSIPアカウント: 03500001 {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.393Z] INFO  [PID:1111609][0m 🔍 - username: "03500001" (type: string) {"level":"INFO"}
[2025-06-28T03:54:12.393Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] AMI発信準備完了: {"level":"INFO"}
[2025-06-28T03:54:12.393Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - formattedNumber: 05018086649 {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.393Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] AMI発信準備完了: {"level":"INFO"}
[2025-06-28T03:54:12.393Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - callId: ami-1751082852393-4725 {"level":"INFO"}
[2025-06-28T03:54:12.394Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し開始 ===== {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.393Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - formattedNumber: 05018086649 {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.393Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - callId: ami-1751082852393-4725 {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.394Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し開始 ===== {"level":"INFO"}
[2025-06-28T03:54:12.394Z] INFO  [PID:1111609] 🔍 ===== AMI発信データ追跡開始 ===== {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.394Z] INFO  [PID:1111609][0m 🔍 ===== AMI発信データ追跡開始 ===== {"level":"INFO"}
[2025-06-28T03:54:12.394Z] INFO  [PID:1111609] 🔍 STEP1-引数確認: sipAccount.username="03500001" (type: string) {"level":"INFO"}
[2025-06-28T03:54:12.394Z] INFO  [PID:1111609] 🔍 STEP1-引数確認: formattedNumber="05018086649" {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.394Z] INFO  [PID:1111609][0m 🔍 STEP1-引数確認: sipAccount.username="03500001" (type: string) {"level":"INFO"}
[2025-06-28T03:54:12.394Z] INFO  [PID:1111609] 🔍 STEP1-引数確認: callId="ami-1751082852393-4725" {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.394Z] INFO  [PID:1111609][0m 🔍 STEP1-引数確認: formattedNumber="05018086649" {"level":"INFO"}
[2025-06-28T03:54:12.394Z] INFO  [PID:1111609] 🔍 STEP1-引数確認: campaignId="170" {"level":"INFO"}
[2025-06-28T03:54:12.395Z] INFO  [PID:1111609] 🔍 STEP3-ディープコピー: safeSipAccount.username="03500001" {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.394Z] INFO  [PID:1111609][0m 🔍 STEP1-引数確認: callId="ami-1751082852393-4725" {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.394Z] INFO  [PID:1111609][0m 🔍 STEP1-引数確認: campaignId="170" {"level":"INFO"}
[2025-06-28T03:54:12.395Z] INFO  [PID:1111609] 🔍 STEP4-Channel構築: "SIP/03500001@pantex.online" {"level":"INFO"}
[2025-06-28T03:54:12.395Z] INFO  [PID:1111609] ✅ データ整合性確認完了 - AMI送信実行 {"level":"INFO"}
[2025-06-28T03:54:12.395Z] INFO  [PID:1111609] 📤 AMI送信内容: {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.395Z] INFO  [PID:1111609][0m 🔍 STEP3-ディープコピー: safeSipAccount.username="03500001" {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.395Z] INFO  [PID:1111609][0m 🔍 STEP4-Channel構築: "SIP/03500001@pantex.online" {"level":"INFO"}
[2025-06-28T03:54:12.395Z] INFO  [PID:1111609] Action: Originate
Channel: PJSIP/05018086649@03500001
Context: autodialer-campaign-170
Exten: s
Priority: 1
CallerID: "0369087851" <0369087851>
Variable: CALLERID(name)=0369087851
Variable: CALLERID(num)=0369087851
Variable: PJSIP_HEADER(update,From)=\"0369087851\" <sip:0369087851@pantex.online>
ActionID: ami-1751082852393-4725
Async: yes

 {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.395Z] INFO  [PID:1111609][0m ✅ データ整合性確認完了 - AMI送信実行 {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.395Z] INFO  [PID:1111609][0m 📤 AMI送信内容: {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.395Z] INFO  [PID:1111609][0m Action: Originate
2025-06-28T03:54:12: Channel: PJSIP/05018086649@03500001
2025-06-28T03:54:12: Context: autodialer-campaign-170
2025-06-28T03:54:12: Exten: s
2025-06-28T03:54:12: Priority: 1
2025-06-28T03:54:12: CallerID: "0369087851" <0369087851>
2025-06-28T03:54:12: Variable: CALLERID(name)=0369087851
2025-06-28T03:54:12: Variable: CALLERID(num)=0369087851
2025-06-28T03:54:12: Variable: PJSIP_HEADER(update,From)=\"0369087851\" <sip:0369087851@pantex.online>
2025-06-28T03:54:12: ActionID: ami-1751082852393-4725
2025-06-28T03:54:12: Async: yes
2025-06-28T03:54:12: 
2025-06-28T03:54:12:  {"level":"INFO"}
[2025-06-28T03:54:12.395Z] INFO  [PID:1111609] 📤 AMI送信開始: {"0":"A","1":"c","2":"t","3":"i","4":"o","5":"n","6":":","7":" ","8":"O","9":"r","10":"i","11":"g","12":"i","13":"n","14":"a","15":"t","16":"e","17":"\r","18":"\n","19":"C","20":"h","21":"a","22":"n","23":"n","24":"e","25":"l","26":":","27":" ","28":"P","29":"J","30":"S","31":"I","32":"P","33":"/","34":"0","35":"5","36":"0","37":"1","38":"8","39":"0","40":"8","41":"6","42":"6","43":"4","44":"9","45":"@","46":"0","47":"3","48":"5","49":"0","50":"0","51":"0","52":"0","53":"1","54":"\r","55":"\n","56":"C","57":"o","58":"n","59":"t","60":"e","61":"x","62":"t","63":":","64":" ","65":"a","66":"u","67":"t","68":"o","69":"d","70":"i","71":"a","72":"l","73":"e","74":"r","75":"-","76":"c","77":"a","78":"m","79":"p","80":"a","81":"i","82":"g","83":"n","84":"-","85":"1","86":"7","87":"0","88":"\r","89":"\n","90":"E","91":"x","92":"t","93":"e","94":"n","95":":","96":" ","97":"s","98":"\r","99":"\n","level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.395Z] INFO  [PID:1111609][0m 📤 AMI送信開始: {"0":"A","1":"c","2":"t","3":"i","4":"o","5":"n","6":":","7":" ","8":"O","9":"r","10":"i","11":"g","12":"i","13":"n","14":"a","15":"t","16":"e","17":"\r","18":"\n","19":"C","20":"h","21":"a","22":"n","23":"n","24":"e","25":"l","26":":","27":" ","28":"P","29":"J","30":"S","31":"I","32":"P","33":"/","34":"0","35":"5","36":"0","37":"1","38":"8","39":"0","40":"8","41":"6","42":"6","43":"4","44":"9","45":"@","46":"0","47":"3","48":"5","49":"0","50":"0","51":"0","52":"0","53":"1","54":"\r","55":"\n","56":"C","57":"o","58":"n","59":"t","60":"e","61":"x","62":"t","63":":","64":" ","65":"a","66":"u","67":"t","68":"o","69":"d","70":"i","71":"a","72":"l","73":"e","74":"r","75":"-","76":"c","77":"a","78":"m","79":"p","80":"a","81":"i","82":"g","83":"n","84":"-","85":"1","86":"7","87":"0","88":"\r","89":"\n","90":"E","91":"x","92":"t","93":"e","94":"n","95":":","96":" ","97":"s","98":"\r","99":"\n","level":"INFO"}
[2025-06-28T03:54:12.397Z] INFO  [PID:1111609] AMI応答: Response: Success
ActionID: ami-1751082852393-4725
Message: Originate successfully queued

 {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.397Z] INFO  [PID:1111609][0m AMI応答: Response: Success
2025-06-28T03:54:12: ActionID: ami-1751082852393-4725
2025-06-28T03:54:12: Message: Originate successfully queued
2025-06-28T03:54:12: 
2025-06-28T03:54:12:  {"level":"INFO"}
[2025-06-28T03:54:12.397Z] INFO  [PID:1111609] 📥 AMI応答受信: Response: Success
ActionID: ami-1751082852393-4725
Message: Originate successfully queued

 {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.397Z] INFO  [PID:1111609][0m 📥 AMI応答受信: Response: Success
2025-06-28T03:54:12: ActionID: ami-1751082852393-4725
2025-06-28T03:54:12: Message: Originate successfully queued
2025-06-28T03:54:12: 
2025-06-28T03:54:12:  {"level":"INFO"}
[2025-06-28T03:54:12.398Z] INFO  [PID:1111609] ✅ AMI送信成功 {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.398Z] INFO  [PID:1111609][0m ✅ AMI送信成功 {"level":"INFO"}
[2025-06-28T03:54:12.398Z] INFO  [PID:1111609] ✅ AMI送信成功 {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.398Z] INFO  [PID:1111609][0m ✅ AMI送信成功 {"level":"INFO"}
[2025-06-28T03:54:12.398Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し完了: true ===== {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.398Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し完了: true ===== {"level":"INFO"}
[2025-06-28T03:54:12.398Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] sipService.originate 正常完了 (AMI版) {"level":"INFO"}
[2025-06-28T03:54:12.398Z] INFO  [PID:1111609] ✅ 音声付き自動発信成功: 05018086649 → CallID: ami-1751082852393-4725, Provider: sip, Audio: 1件 {"level":"INFO"}
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.398Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] sipService.originate 正常完了 (AMI版) {"level":"INFO"}
2025-06-28T03:54:12: 🚀🚀🚀 CALLSERVICE-EXEC-2: SIP発信完了: レスポンスあり
2025-06-28T03:54:12: 🚀🚀🚀 CALLSERVICE-SUCCESS: SIP発信成功
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.398Z] INFO  [PID:1111609][0m ✅ 音声付き自動発信成功: 05018086649 → CallID: ami-1751082852393-4725, Provider: sip, Audio: 1件 {"level":"INFO"}
2025-06-28T03:54:12: SQL実行: 
2025-06-28T03:54:12:         INSERT INTO call_logs 
2025-06-28T03:54:12:         (contact_id, campaign_id, caller_id_id, call_id, phone_numbe... パラメータ数: 8
[2025-06-28T03:54:12.407Z] INFO  [PID:1111609] 🎯 音声付き発信診断完了: 05018086649 (処理時間: 30ms, 音声: 1件) {"level":"INFO"}
2025-06-28T03:54:12: SQL実行成功: 結果行数=不明
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.407Z] INFO  [PID:1111609][0m 🎯 音声付き発信診断完了: 05018086649 (処理時間: 30ms, 音声: 1件) {"level":"INFO"}
[2025-06-28T03:54:12.464Z] INFO  [PID:1111609] キャンペーン統計取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:12: GET /api/campaigns/170/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.464Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:12: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:54:12: SQL実行成功: 結果行数=1
2025-06-28T03:54:12: SQL実行: 
2025-06-28T03:54:12:       SELECT 
2025-06-28T03:54:12:         COUNT(*) as total,
2025-06-28T03:54:12:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:54:12: SQL実行成功: 結果行数=1
2025-06-28T03:54:12: SQL実行: 
2025-06-28T03:54:12:       SELECT 
2025-06-28T03:54:12:         COUNT(*) as total_calls,
2025-06-28T03:54:12:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:54:12.468Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=170, Progress=0% {"level":"INFO"}
2025-06-28T03:54:12: SQL実行成功: 結果行数=1
2025-06-28T03:54:12: [36m[2025-06-28T03:54:12.468Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=170, Progress=0% {"level":"INFO"}
[2025-06-28T03:54:14.408Z] INFO  [PID:1111609] 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
2025-06-28T03:54:14: [36m[2025-06-28T03:54:14.408Z] INFO  [PID:1111609][0m 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
2025-06-28T03:54:16: SQL実行: 
2025-06-28T03:54:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:54:16:                ci.number as ca... 
2025-06-28T03:54:16: SQL実行成功: 結果行数=79
2025-06-28T03:54:17: SQL実行: 
2025-06-28T03:54:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:54:17:           FROM contacts 
2025-06-28T03:54:17:           WHERE c... パラメータ数: 1
2025-06-28T03:54:17: SQL実行成功: 結果行数=0
2025-06-28T03:54:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:54:17: SQL実行成功: 結果行数=1
[2025-06-28T03:54:17.453Z] INFO  [PID:1111609] キャンペーン統計取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:17: GET /api/campaigns/170/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:54:17: [36m[2025-06-28T03:54:17.453Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:17: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:54:17: SQL実行成功: 結果行数=1
2025-06-28T03:54:17: SQL実行: 
2025-06-28T03:54:17:       SELECT 
2025-06-28T03:54:17:         COUNT(*) as total,
2025-06-28T03:54:17:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:54:17: SQL実行成功: 結果行数=1
2025-06-28T03:54:17: SQL実行: 
2025-06-28T03:54:17:       SELECT 
2025-06-28T03:54:17:         COUNT(*) as total_calls,
2025-06-28T03:54:17:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:54:17.460Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=170, Progress=0% {"level":"INFO"}
2025-06-28T03:54:17: SQL実行成功: 結果行数=1
2025-06-28T03:54:17: [36m[2025-06-28T03:54:17.460Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=170, Progress=0% {"level":"INFO"}
2025-06-28T03:54:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T03:54:21.249Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:54:21: SQL実行成功: 結果行数=1
2025-06-28T03:54:21: [36m[2025-06-28T03:54:21.249Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:54:22: SQL実行: 
2025-06-28T03:54:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:54:22:           FROM contacts 
2025-06-28T03:54:22:           WHERE c... パラメータ数: 1
2025-06-28T03:54:22: SQL実行成功: 結果行数=0
2025-06-28T03:54:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:54:22: SQL実行成功: 結果行数=1
[2025-06-28T03:54:22.458Z] INFO  [PID:1111609] キャンペーン統計取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:22: GET /api/campaigns/170/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:54:22: [36m[2025-06-28T03:54:22.458Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:22: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:54:22: SQL実行成功: 結果行数=1
2025-06-28T03:54:22: SQL実行: 
2025-06-28T03:54:22:       SELECT 
2025-06-28T03:54:22:         COUNT(*) as total,
2025-06-28T03:54:22:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:54:22: SQL実行成功: 結果行数=1
2025-06-28T03:54:22: SQL実行: 
2025-06-28T03:54:22:       SELECT 
2025-06-28T03:54:22:         COUNT(*) as total_calls,
2025-06-28T03:54:22:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:54:22.463Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=170, Progress=0% {"level":"INFO"}
2025-06-28T03:54:22: SQL実行成功: 結果行数=1
2025-06-28T03:54:22: [36m[2025-06-28T03:54:22.463Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=170, Progress=0% {"level":"INFO"}
2025-06-28T03:54:23: POST /api/callback/call-end - Origin: none
2025-06-28T03:54:23: ❌ 404 Not Found: POST /api/callback/call-end
2025-06-28T03:54:27: SQL実行: 
2025-06-28T03:54:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:54:27:           FROM contacts 
2025-06-28T03:54:27:           WHERE c... パラメータ数: 1
2025-06-28T03:54:27: SQL実行成功: 結果行数=0
2025-06-28T03:54:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:54:27: SQL実行成功: 結果行数=1
[2025-06-28T03:54:27.454Z] INFO  [PID:1111609] キャンペーン統計取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:27: GET /api/campaigns/170/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:54:27: [36m[2025-06-28T03:54:27.454Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:54:27: SQL実行成功: 結果行数=1
2025-06-28T03:54:27: SQL実行: 
2025-06-28T03:54:27:       SELECT 
2025-06-28T03:54:27:         COUNT(*) as total,
2025-06-28T03:54:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:54:27: SQL実行成功: 結果行数=1
2025-06-28T03:54:27: SQL実行: 
2025-06-28T03:54:27:       SELECT 
2025-06-28T03:54:27:         COUNT(*) as total_calls,
2025-06-28T03:54:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:54:27.459Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=170, Progress=0% {"level":"INFO"}
2025-06-28T03:54:27: SQL実行成功: 結果行数=1
2025-06-28T03:54:27: [36m[2025-06-28T03:54:27.459Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=170, Progress=0% {"level":"INFO"}
2025-06-28T03:54:31: SQL実行: SELECT 1... 
2025-06-28T03:54:31: SQL実行成功: 結果行数=1
2025-06-28T03:54:31: SQL実行: 
2025-06-28T03:54:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:54:31:                ci.number as ca... 
2025-06-28T03:54:31: SQL実行成功: 結果行数=79
2025-06-28T03:54:32: SQL実行: 
2025-06-28T03:54:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:54:32:           FROM contacts 
2025-06-28T03:54:32:           WHERE c... パラメータ数: 1
2025-06-28T03:54:32: SQL実行成功: 結果行数=0
2025-06-28T03:54:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:54:32: SQL実行成功: 結果行数=1
[2025-06-28T03:54:32.459Z] INFO  [PID:1111609] キャンペーン統計取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:32: GET /api/campaigns/170/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:54:32: [36m[2025-06-28T03:54:32.459Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:32: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:54:32: SQL実行成功: 結果行数=1
2025-06-28T03:54:32: SQL実行: 
2025-06-28T03:54:32:       SELECT 
2025-06-28T03:54:32:         COUNT(*) as total,
2025-06-28T03:54:32:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:54:32: SQL実行成功: 結果行数=1
2025-06-28T03:54:32: SQL実行: 
2025-06-28T03:54:32:       SELECT 
2025-06-28T03:54:32:         COUNT(*) as total_calls,
2025-06-28T03:54:32:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:54:32.463Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=170, Progress=0% {"level":"INFO"}
2025-06-28T03:54:32: SQL実行成功: 結果行数=1
2025-06-28T03:54:32: [36m[2025-06-28T03:54:32.463Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=170, Progress=0% {"level":"INFO"}
2025-06-28T03:54:37: SQL実行: 
2025-06-28T03:54:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:54:37:           FROM contacts 
2025-06-28T03:54:37:           WHERE c... パラメータ数: 1
2025-06-28T03:54:37: SQL実行成功: 結果行数=0
2025-06-28T03:54:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:54:37: SQL実行成功: 結果行数=1
[2025-06-28T03:54:37.453Z] INFO  [PID:1111609] キャンペーン統計取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:37: GET /api/campaigns/170/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:54:37: [36m[2025-06-28T03:54:37.453Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=170 {"level":"INFO"}
2025-06-28T03:54:37: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:54:37: SQL実行成功: 結果行数=1
2025-06-28T03:54:37: SQL実行: 
2025-06-28T03:54:37:       SELECT 
2025-06-28T03:54:37:         COUNT(*) as total,
2025-06-28T03:54:37:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:54:37: SQL実行成功: 結果行数=1
2025-06-28T03:54:37: SQL実行: 
2025-06-28T03:54:37:       SELECT 
2025-06-28T03:54:37:         COUNT(*) as total_calls,
2025-06-28T03:54:37:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:54:37: SQL実行成功: 結果行数=1
[2025-06-28T03:54:37.458Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=170, Progress=0% {"level":"INFO"}
2025-06-28T03:54:37: [36m[2025-06-28T03:54:37.458Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=170, Progress=0% {"level":"INFO"}
[2025-06-28T03:54:41.854Z] INFO  [PID:1111609] 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:54:41: GET /api/audio - Origin: http://146.190.83.205:3003
2025-06-28T03:54:41: [36m[2025-06-28T03:54:41.854Z] INFO  [PID:1111609][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:54:41: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
[2025-06-28T03:54:41.857Z] INFO  [PID:1111609] 2件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T03:54:41: SQL実行成功: 結果行数=2
2025-06-28T03:54:41: [36m[2025-06-28T03:54:41.857Z] INFO  [PID:1111609][0m 2件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T03:54:42: SQL実行: 
2025-06-28T03:54:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:54:42:           FROM contacts 
2025-06-28T03:54:42:           WHERE c... パラメータ数: 1
2025-06-28T03:54:42: SQL実行成功: 結果行数=0
2025-06-28T03:54:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:54:42: SQL実行成功: 結果行数=1
2025-06-28T03:54:44: GET /api/audio/test-audio-001/stream - Origin: none
[2025-06-28T03:54:44.803Z] INFO  [PID:1111609] 音声ファイルのストリーミング: ID=test-audio-001 {"level":"INFO"}
2025-06-28T03:54:44: [36m[2025-06-28T03:54:44.803Z] INFO  [PID:1111609][0m 音声ファイルのストリーミング: ID=test-audio-001 {"level":"INFO"}
2025-06-28T03:54:44: SQL実行: SELECT * FROM audio_files WHERE id = ?... パラメータ数: 1
2025-06-28T03:54:44: SQL実行成功: 結果行数=1
2025-06-28T03:54:46: SQL実行: 
2025-06-28T03:54:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:54:46:                ci.number as ca... 
2025-06-28T03:54:46: SQL実行成功: 結果行数=79
2025-06-28T03:54:47: SQL実行: 
2025-06-28T03:54:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:54:47:           FROM contacts 
2025-06-28T03:54:47:           WHERE c... パラメータ数: 1
2025-06-28T03:54:47: SQL実行成功: 結果行数=0
2025-06-28T03:54:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:54:47: SQL実行成功: 結果行数=1
[2025-06-28T03:54:48.362Z] INFO  [PID:1111609] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T03:54:48: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-28T03:54:48: [36m[2025-06-28T03:54:48.362Z] INFO  [PID:1111609][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T03:54:48: SQL実行: 
2025-06-28T03:54:48:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-28T03:54:48:        ... 
2025-06-28T03:54:48: SQL実行成功: 結果行数=50
2025-06-28T03:54:48: SQL実行: 
2025-06-28T03:54:48:       SELECT COUNT(*) as total
2025-06-28T03:54:48:       FROM campaigns c
2025-06-28T03:54:48:       WHERE 1=1
2025-06-28T03:54:48:     ... 
[2025-06-28T03:54:48.368Z] INFO  [PID:1111609] キャンペーン取得結果: 50/81件 {"level":"INFO"}
2025-06-28T03:54:48: SQL実行成功: 結果行数=1
2025-06-28T03:54:48: [36m[2025-06-28T03:54:48.368Z] INFO  [PID:1111609][0m キャンペーン取得結果: 50/81件 {"level":"INFO"}
2025-06-28T03:54:49: GET /api/caller-ids - Origin: http://146.190.83.205:3003
2025-06-28T03:54:49: 発信者番号一覧取得開始
2025-06-28T03:54:49: SQL実行: SELECT 1 as healthy, NOW() as timestamp, USER() as user, DATABASE() as db... 
2025-06-28T03:54:49: SQL実行成功: 結果行数=1
2025-06-28T03:54:49: データベース接続確認完了
2025-06-28T03:54:49: クエリ実行開始
2025-06-28T03:54:49: SQL実行: 
2025-06-28T03:54:49:       SELECT 
2025-06-28T03:54:49:         ci.id,
2025-06-28T03:54:49:         ci.number,
2025-06-28T03:54:49:         ci.description,
2025-06-28T03:54:49:         ci.provider,
2025-06-28T03:54:49:       ... 
2025-06-28T03:54:49: SQL実行成功: 結果行数=4
2025-06-28T03:54:49: クエリ実行完了: 4件取得
2025-06-28T03:54:49: 発信者番号一覧取得成功: 4
[2025-06-28T03:54:51.137Z] INFO  [PID:1111609] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T03:54:51: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-28T03:54:51: [36m[2025-06-28T03:54:51.137Z] INFO  [PID:1111609][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T03:54:51: SQL実行: 
2025-06-28T03:54:51:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-28T03:54:51:        ... 
[2025-06-28T03:54:51.141Z] INFO  [PID:1111609] キャンペーン取得結果: 50/81件 {"level":"INFO"}
2025-06-28T03:54:51: SQL実行成功: 結果行数=50
2025-06-28T03:54:51: SQL実行: 
2025-06-28T03:54:51:       SELECT COUNT(*) as total
2025-06-28T03:54:51:       FROM campaigns c
2025-06-28T03:54:51:       WHERE 1=1
2025-06-28T03:54:51:     ... 
2025-06-28T03:54:51: SQL実行成功: 結果行数=1
2025-06-28T03:54:51: [36m[2025-06-28T03:54:51.141Z] INFO  [PID:1111609][0m キャンペーン取得結果: 50/81件 {"level":"INFO"}
2025-06-28T03:54:52: SQL実行: 
2025-06-28T03:54:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:54:52:           FROM contacts 
2025-06-28T03:54:52:           WHERE c... パラメータ数: 1
2025-06-28T03:54:52: SQL実行成功: 結果行数=0
2025-06-28T03:54:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:54:52: SQL実行成功: 結果行数=1
2025-06-28T03:54:57: SQL実行: 
2025-06-28T03:54:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:54:57:           FROM contacts 
2025-06-28T03:54:57:           WHERE c... パラメータ数: 1
2025-06-28T03:54:57: SQL実行成功: 結果行数=0
2025-06-28T03:54:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:54:57: SQL実行成功: 結果行数=1
2025-06-28T03:55:01: SQL実行: SELECT 1... 
2025-06-28T03:55:01: SQL実行成功: 結果行数=1
2025-06-28T03:55:01: SQL実行: 
2025-06-28T03:55:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:55:01:                ci.number as ca... 
2025-06-28T03:55:01: SQL実行成功: 結果行数=79
2025-06-28T03:55:02: SQL実行: 
2025-06-28T03:55:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:55:02:           FROM contacts 
2025-06-28T03:55:02:           WHERE c... パラメータ数: 1
2025-06-28T03:55:02: SQL実行成功: 結果行数=0
2025-06-28T03:55:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:55:02: SQL実行成功: 結果行数=1
2025-06-28T03:55:07: SQL実行: 
2025-06-28T03:55:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:55:07:           FROM contacts 
2025-06-28T03:55:07:           WHERE c... パラメータ数: 1
2025-06-28T03:55:07: SQL実行成功: 結果行数=0
2025-06-28T03:55:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:55:07: SQL実行成功: 結果行数=1
2025-06-28T03:55:12: SQL実行: 
2025-06-28T03:55:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:55:12:           FROM contacts 
2025-06-28T03:55:12:           WHERE c... パラメータ数: 1
2025-06-28T03:55:12: SQL実行成功: 結果行数=0
2025-06-28T03:55:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:55:12: SQL実行成功: 結果行数=1
2025-06-28T03:55:16: SQL実行: 
2025-06-28T03:55:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:55:16:                ci.number as ca... 
2025-06-28T03:55:16: SQL実行成功: 結果行数=79
2025-06-28T03:55:17: SQL実行: 
2025-06-28T03:55:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:55:17:           FROM contacts 
2025-06-28T03:55:17:           WHERE c... パラメータ数: 1
2025-06-28T03:55:17: SQL実行成功: 結果行数=0
2025-06-28T03:55:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:55:17: SQL実行成功: 結果行数=1
2025-06-28T03:55:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T03:55:21.250Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:55:21: SQL実行成功: 結果行数=1
2025-06-28T03:55:21: [36m[2025-06-28T03:55:21.250Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:55:22: SQL実行: 
2025-06-28T03:55:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:55:22:           FROM contacts 
2025-06-28T03:55:22:           WHERE c... パラメータ数: 1
2025-06-28T03:55:22: SQL実行成功: 結果行数=0
2025-06-28T03:55:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:55:22: SQL実行成功: 結果行数=1
2025-06-28T03:55:27: SQL実行: 
2025-06-28T03:55:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:55:27:           FROM contacts 
2025-06-28T03:55:27:           WHERE c... パラメータ数: 1
2025-06-28T03:55:27: SQL実行成功: 結果行数=0
2025-06-28T03:55:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:55:27: SQL実行成功: 結果行数=1
2025-06-28T03:55:31: SQL実行: SELECT 1... 
2025-06-28T03:55:31: SQL実行成功: 結果行数=1
2025-06-28T03:55:31: SQL実行: 
2025-06-28T03:55:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:55:31:                ci.number as ca... 
2025-06-28T03:55:31: SQL実行成功: 結果行数=79
2025-06-28T03:55:32: SQL実行: 
2025-06-28T03:55:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:55:32:           FROM contacts 
2025-06-28T03:55:32:           WHERE c... パラメータ数: 1
2025-06-28T03:55:32: SQL実行成功: 結果行数=0
2025-06-28T03:55:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:55:32: SQL実行成功: 結果行数=1
2025-06-28T03:55:37: SQL実行: 
2025-06-28T03:55:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:55:37:           FROM contacts 
2025-06-28T03:55:37:           WHERE c... パラメータ数: 1
2025-06-28T03:55:37: SQL実行成功: 結果行数=0
2025-06-28T03:55:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:55:37: SQL実行成功: 結果行数=1
2025-06-28T03:55:42: SQL実行: 
2025-06-28T03:55:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:55:42:           FROM contacts 
2025-06-28T03:55:42:           WHERE c... パラメータ数: 1
2025-06-28T03:55:42: SQL実行成功: 結果行数=0
2025-06-28T03:55:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:55:42: SQL実行成功: 結果行数=1
2025-06-28T03:55:46: SQL実行: 
2025-06-28T03:55:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:55:46:                ci.number as ca... 
2025-06-28T03:55:46: SQL実行成功: 結果行数=79
2025-06-28T03:55:47: SQL実行: 
2025-06-28T03:55:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:55:47:           FROM contacts 
2025-06-28T03:55:47:           WHERE c... パラメータ数: 1
2025-06-28T03:55:47: SQL実行成功: 結果行数=0
2025-06-28T03:55:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:55:47: SQL実行成功: 結果行数=1
2025-06-28T03:55:52: SQL実行: 
2025-06-28T03:55:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:55:52:           FROM contacts 
2025-06-28T03:55:52:           WHERE c... パラメータ数: 1
2025-06-28T03:55:52: SQL実行成功: 結果行数=0
2025-06-28T03:55:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:55:52: SQL実行成功: 結果行数=1
2025-06-28T03:55:57: SQL実行: 
2025-06-28T03:55:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:55:57:           FROM contacts 
2025-06-28T03:55:57:           WHERE c... パラメータ数: 1
2025-06-28T03:55:57: SQL実行成功: 結果行数=0
2025-06-28T03:55:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:55:57: SQL実行成功: 結果行数=1
2025-06-28T03:56:01: SQL実行: SELECT 1... 
2025-06-28T03:56:01: SQL実行成功: 結果行数=1
2025-06-28T03:56:01: SQL実行: 
2025-06-28T03:56:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:56:01:                ci.number as ca... 
2025-06-28T03:56:01: SQL実行成功: 結果行数=79
2025-06-28T03:56:02: SQL実行: 
2025-06-28T03:56:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:56:02:           FROM contacts 
2025-06-28T03:56:02:           WHERE c... パラメータ数: 1
2025-06-28T03:56:02: SQL実行成功: 結果行数=0
2025-06-28T03:56:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:56:02: SQL実行成功: 結果行数=1
2025-06-28T03:56:07: SQL実行: 
2025-06-28T03:56:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:56:07:           FROM contacts 
2025-06-28T03:56:07:           WHERE c... パラメータ数: 1
2025-06-28T03:56:07: SQL実行成功: 結果行数=0
2025-06-28T03:56:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:56:07: SQL実行成功: 結果行数=1
2025-06-28T03:56:12: SQL実行: 
2025-06-28T03:56:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:56:12:           FROM contacts 
2025-06-28T03:56:12:           WHERE c... パラメータ数: 1
2025-06-28T03:56:12: SQL実行成功: 結果行数=0
2025-06-28T03:56:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:56:12: SQL実行成功: 結果行数=1
2025-06-28T03:56:16: SQL実行: 
2025-06-28T03:56:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:56:16:                ci.number as ca... 
2025-06-28T03:56:16: SQL実行成功: 結果行数=79
2025-06-28T03:56:17: SQL実行: 
2025-06-28T03:56:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:56:17:           FROM contacts 
2025-06-28T03:56:17:           WHERE c... パラメータ数: 1
2025-06-28T03:56:17: SQL実行成功: 結果行数=0
2025-06-28T03:56:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:56:17: SQL実行成功: 結果行数=1
2025-06-28T03:56:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T03:56:21.251Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:56:21: SQL実行成功: 結果行数=1
2025-06-28T03:56:21: [36m[2025-06-28T03:56:21.251Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:56:22: SQL実行: 
2025-06-28T03:56:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:56:22:           FROM contacts 
2025-06-28T03:56:22:           WHERE c... パラメータ数: 1
2025-06-28T03:56:22: SQL実行成功: 結果行数=0
2025-06-28T03:56:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:56:22: SQL実行成功: 結果行数=1
2025-06-28T03:56:27: SQL実行: 
2025-06-28T03:56:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:56:27:           FROM contacts 
2025-06-28T03:56:27:           WHERE c... パラメータ数: 1
2025-06-28T03:56:27: SQL実行成功: 結果行数=0
2025-06-28T03:56:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:56:27: SQL実行成功: 結果行数=1
2025-06-28T03:56:31: SQL実行: SELECT 1... 
2025-06-28T03:56:31: SQL実行成功: 結果行数=1
2025-06-28T03:56:31: SQL実行: 
2025-06-28T03:56:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:56:31:                ci.number as ca... 
2025-06-28T03:56:31: SQL実行成功: 結果行数=79
2025-06-28T03:56:32: SQL実行: 
2025-06-28T03:56:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:56:32:           FROM contacts 
2025-06-28T03:56:32:           WHERE c... パラメータ数: 1
2025-06-28T03:56:32: SQL実行成功: 結果行数=0
2025-06-28T03:56:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:56:32: SQL実行成功: 結果行数=1
2025-06-28T03:56:37: SQL実行: 
2025-06-28T03:56:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:56:37:           FROM contacts 
2025-06-28T03:56:37:           WHERE c... パラメータ数: 1
2025-06-28T03:56:37: SQL実行成功: 結果行数=0
2025-06-28T03:56:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:56:37: SQL実行成功: 結果行数=1
2025-06-28T03:56:42: SQL実行: 
2025-06-28T03:56:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:56:42:           FROM contacts 
2025-06-28T03:56:42:           WHERE c... パラメータ数: 1
2025-06-28T03:56:42: SQL実行成功: 結果行数=0
2025-06-28T03:56:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:56:42: SQL実行成功: 結果行数=1
2025-06-28T03:56:46: SQL実行: 
2025-06-28T03:56:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:56:46:                ci.number as ca... 
2025-06-28T03:56:46: SQL実行成功: 結果行数=79
2025-06-28T03:56:47: SQL実行: 
2025-06-28T03:56:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:56:47:           FROM contacts 
2025-06-28T03:56:47:           WHERE c... パラメータ数: 1
2025-06-28T03:56:47: SQL実行成功: 結果行数=0
2025-06-28T03:56:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:56:47: SQL実行成功: 結果行数=1
2025-06-28T03:56:52: SQL実行: 
2025-06-28T03:56:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:56:52:           FROM contacts 
2025-06-28T03:56:52:           WHERE c... パラメータ数: 1
2025-06-28T03:56:52: SQL実行成功: 結果行数=0
2025-06-28T03:56:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:56:52: SQL実行成功: 結果行数=1
2025-06-28T03:56:57: SQL実行: 
2025-06-28T03:56:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:56:57:           FROM contacts 
2025-06-28T03:56:57:           WHERE c... パラメータ数: 1
2025-06-28T03:56:57: SQL実行成功: 結果行数=0
2025-06-28T03:56:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:56:57: SQL実行成功: 結果行数=1
2025-06-28T03:57:01: SQL実行: SELECT 1... 
2025-06-28T03:57:01: SQL実行成功: 結果行数=1
2025-06-28T03:57:01: SQL実行: 
2025-06-28T03:57:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:57:01:                ci.number as ca... 
2025-06-28T03:57:01: SQL実行成功: 結果行数=79
2025-06-28T03:57:02: SQL実行: 
2025-06-28T03:57:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:57:02:           FROM contacts 
2025-06-28T03:57:02:           WHERE c... パラメータ数: 1
2025-06-28T03:57:02: SQL実行成功: 結果行数=0
2025-06-28T03:57:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:57:02: SQL実行成功: 結果行数=1
2025-06-28T03:57:07: SQL実行: 
2025-06-28T03:57:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:57:07:           FROM contacts 
2025-06-28T03:57:07:           WHERE c... パラメータ数: 1
2025-06-28T03:57:07: SQL実行成功: 結果行数=0
2025-06-28T03:57:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:57:07: SQL実行成功: 結果行数=1
2025-06-28T03:57:12: SQL実行: 
2025-06-28T03:57:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:57:12:           FROM contacts 
2025-06-28T03:57:12:           WHERE c... パラメータ数: 1
2025-06-28T03:57:12: SQL実行成功: 結果行数=0
2025-06-28T03:57:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:57:12: SQL実行成功: 結果行数=1
2025-06-28T03:57:16: SQL実行: 
2025-06-28T03:57:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:57:16:                ci.number as ca... 
2025-06-28T03:57:16: SQL実行成功: 結果行数=79
2025-06-28T03:57:17: SQL実行: 
2025-06-28T03:57:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:57:17:           FROM contacts 
2025-06-28T03:57:17:           WHERE c... パラメータ数: 1
2025-06-28T03:57:17: SQL実行成功: 結果行数=0
2025-06-28T03:57:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:57:17: SQL実行成功: 結果行数=1
2025-06-28T03:57:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T03:57:21.250Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:57:21: SQL実行成功: 結果行数=1
2025-06-28T03:57:21: [36m[2025-06-28T03:57:21.250Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:57:21: GET /api/caller-ids - Origin: http://146.190.83.205:3003
2025-06-28T03:57:21: 発信者番号一覧取得開始
2025-06-28T03:57:21: SQL実行: SELECT 1 as healthy, NOW() as timestamp, USER() as user, DATABASE() as db... 
2025-06-28T03:57:21: SQL実行成功: 結果行数=1
2025-06-28T03:57:21: データベース接続確認完了
2025-06-28T03:57:21: クエリ実行開始
2025-06-28T03:57:21: SQL実行: 
2025-06-28T03:57:21:       SELECT 
2025-06-28T03:57:21:         ci.id,
2025-06-28T03:57:21:         ci.number,
2025-06-28T03:57:21:         ci.description,
2025-06-28T03:57:21:         ci.provider,
2025-06-28T03:57:21:       ... 
2025-06-28T03:57:21: SQL実行成功: 結果行数=4
2025-06-28T03:57:21: クエリ実行完了: 4件取得
2025-06-28T03:57:21: 発信者番号一覧取得成功: 4
2025-06-28T03:57:22: SQL実行: 
2025-06-28T03:57:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:57:22:           FROM contacts 
2025-06-28T03:57:22:           WHERE c... パラメータ数: 1
2025-06-28T03:57:22: SQL実行成功: 結果行数=0
2025-06-28T03:57:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:57:22: SQL実行成功: 結果行数=1
2025-06-28T03:57:27: SQL実行: 
2025-06-28T03:57:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:57:27:           FROM contacts 
2025-06-28T03:57:27:           WHERE c... パラメータ数: 1
2025-06-28T03:57:27: SQL実行成功: 結果行数=0
2025-06-28T03:57:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:57:27: SQL実行成功: 結果行数=1
2025-06-28T03:57:31: SQL実行: SELECT 1... 
2025-06-28T03:57:31: SQL実行成功: 結果行数=1
2025-06-28T03:57:31: SQL実行: 
2025-06-28T03:57:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:57:31:                ci.number as ca... 
2025-06-28T03:57:31: SQL実行成功: 結果行数=79
2025-06-28T03:57:32: SQL実行: 
2025-06-28T03:57:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:57:32:           FROM contacts 
2025-06-28T03:57:32:           WHERE c... パラメータ数: 1
2025-06-28T03:57:32: SQL実行成功: 結果行数=0
2025-06-28T03:57:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:57:32: SQL実行成功: 結果行数=1
[2025-06-28T03:57:32.529Z] INFO  [PID:1111609] キャンペーン作成: Name=テスト {"level":"INFO"}
2025-06-28T03:57:32: POST /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-28T03:57:32: [36m[2025-06-28T03:57:32.529Z] INFO  [PID:1111609][0m キャンペーン作成: Name=テスト {"level":"INFO"}
2025-06-28T03:57:32: SQL実行: INSERT INTO campaigns (name, description, caller_id_id, script, status, created_at) VALUES (?, ?, ?,... パラメータ数: 5
[2025-06-28T03:57:32.535Z] INFO  [PID:1111609] キャンペーン作成完了: ID=171, Name=テスト {"level":"INFO"}
2025-06-28T03:57:32: SQL実行成功: 結果行数=不明
2025-06-28T03:57:32: [36m[2025-06-28T03:57:32.535Z] INFO  [PID:1111609][0m キャンペーン作成完了: ID=171, Name=テスト {"level":"INFO"}
[2025-06-28T03:57:33.591Z] INFO  [PID:1111609] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T03:57:33: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-28T03:57:33: [36m[2025-06-28T03:57:33.591Z] INFO  [PID:1111609][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T03:57:33: SQL実行: 
2025-06-28T03:57:33:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-28T03:57:33:        ... 
2025-06-28T03:57:33: SQL実行成功: 結果行数=50
2025-06-28T03:57:33: SQL実行: 
2025-06-28T03:57:33:       SELECT COUNT(*) as total
2025-06-28T03:57:33:       FROM campaigns c
2025-06-28T03:57:33:       WHERE 1=1
2025-06-28T03:57:33:     ... 
[2025-06-28T03:57:33.595Z] INFO  [PID:1111609] キャンペーン取得結果: 50/82件 {"level":"INFO"}
2025-06-28T03:57:33: SQL実行成功: 結果行数=1
2025-06-28T03:57:33: [36m[2025-06-28T03:57:33.595Z] INFO  [PID:1111609][0m キャンペーン取得結果: 50/82件 {"level":"INFO"}
[2025-06-28T03:57:35.186Z] INFO  [PID:1111609] キャンペーン詳細取得: ID=171 {"level":"INFO"}
2025-06-28T03:57:35: GET /api/campaigns/171 - Origin: http://146.190.83.205:3003
2025-06-28T03:57:35: [36m[2025-06-28T03:57:35.186Z] INFO  [PID:1111609][0m キャンペーン詳細取得: ID=171 {"level":"INFO"}
2025-06-28T03:57:35: SQL実行: 
2025-06-28T03:57:35:       SELECT c.*, 
2025-06-28T03:57:35:              ci.number as caller_id_number,
2025-06-28T03:57:35:              ci.description as calle... パラメータ数: 1
[2025-06-28T03:57:35.188Z] INFO  [PID:1111609] キャンペーン詳細取得完了: ID=171 {"level":"INFO"}
2025-06-28T03:57:35: SQL実行成功: 結果行数=1
2025-06-28T03:57:35: [36m[2025-06-28T03:57:35.188Z] INFO  [PID:1111609][0m キャンペーン詳細取得完了: ID=171 {"level":"INFO"}
[2025-06-28T03:57:35.228Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:57:35: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:57:35: [36m[2025-06-28T03:57:35.228Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:57:35: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:57:35: SQL実行成功: 結果行数=1
2025-06-28T03:57:35: SQL実行: 
2025-06-28T03:57:35:       SELECT 
2025-06-28T03:57:35:         COUNT(*) as total,
2025-06-28T03:57:35:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:57:35: SQL実行成功: 結果行数=1
2025-06-28T03:57:35: SQL実行: 
2025-06-28T03:57:35:       SELECT 
2025-06-28T03:57:35:         COUNT(*) as total_calls,
2025-06-28T03:57:35:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:57:35: SQL実行成功: 結果行数=1
[2025-06-28T03:57:35.233Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:57:35: [36m[2025-06-28T03:57:35.233Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
[2025-06-28T03:57:36.733Z] INFO  [PID:1111609] 連絡先一覧取得: Campaign=171, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T03:57:36: GET /api/campaigns/171/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
2025-06-28T03:57:36: [36m[2025-06-28T03:57:36.733Z] INFO  [PID:1111609][0m 連絡先一覧取得: Campaign=171, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T03:57:36: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:57:36: SQL実行成功: 結果行数=1
2025-06-28T03:57:36: SQL実行: 
2025-06-28T03:57:36:       SELECT c.*
2025-06-28T03:57:36:       FROM contacts c
2025-06-28T03:57:36:       WHERE c.campaign_id = ?
2025-06-28T03:57:36:      ORDER BY c.created_at DES... パラメータ数: 1
2025-06-28T03:57:36: SQL実行成功: 結果行数=0
2025-06-28T03:57:36: SQL実行: 
2025-06-28T03:57:36:       SELECT COUNT(*) as total
2025-06-28T03:57:36:       FROM contacts c
2025-06-28T03:57:36:       WHERE c.campaign_id = ?
2025-06-28T03:57:36:     ... パラメータ数: 1
[2025-06-28T03:57:36.737Z] INFO  [PID:1111609] 連絡先取得結果: Campaign=171, 件数=0, 全体=0 {"level":"INFO"}
2025-06-28T03:57:36: SQL実行成功: 結果行数=1
2025-06-28T03:57:36: [36m[2025-06-28T03:57:36.737Z] INFO  [PID:1111609][0m 連絡先取得結果: Campaign=171, 件数=0, 全体=0 {"level":"INFO"}
2025-06-28T03:57:37: SQL実行: 
2025-06-28T03:57:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:57:37:           FROM contacts 
2025-06-28T03:57:37:           WHERE c... パラメータ数: 1
2025-06-28T03:57:37: SQL実行成功: 結果行数=0
2025-06-28T03:57:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:57:37: SQL実行成功: 結果行数=1
2025-06-28T03:57:42: SQL実行: 
2025-06-28T03:57:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:57:42:           FROM contacts 
2025-06-28T03:57:42:           WHERE c... パラメータ数: 1
2025-06-28T03:57:42: SQL実行成功: 結果行数=0
2025-06-28T03:57:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:57:42: SQL実行成功: 結果行数=1
2025-06-28T03:57:43: POST /api/campaigns/171/contacts/upload - Origin: http://146.190.83.205:3003
[2025-06-28T03:57:43.579Z] INFO  [PID:1111609] 🚀 CSVアップロード開始 {"campaignId":"171","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-28T03:57:43.579Z","level":"INFO"}
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.579Z] INFO  [PID:1111609][0m 🚀 CSVアップロード開始 {"campaignId":"171","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-28T03:57:43.579Z","level":"INFO"}
2025-06-28T03:57:43: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T03:57:43.581Z] INFO  [PID:1111609] 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
2025-06-28T03:57:43: SQL実行成功: 結果行数=1
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.581Z] INFO  [PID:1111609][0m 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
[2025-06-28T03:57:43.582Z] WARN  [PID:1111609] CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
[2025-06-28T03:57:43.582Z] INFO  [PID:1111609] CSV解析完了: 1行のデータ {"level":"INFO"}
2025-06-28T03:57:43: [33m[2025-06-28T03:57:43.582Z] WARN  [PID:1111609][0m CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
[2025-06-28T03:57:43.582Z] INFO  [PID:1111609] 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
[2025-06-28T03:57:43.583Z] INFO  [PID:1111609] 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.582Z] INFO  [PID:1111609][0m CSV解析完了: 1行のデータ {"level":"INFO"}
[2025-06-28T03:57:43.583Z] INFO  [PID:1111609] 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.582Z] INFO  [PID:1111609][0m 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.583Z] INFO  [PID:1111609][0m 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
[2025-06-28T03:57:43.583Z] INFO  [PID:1111609] 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.583Z] INFO  [PID:1111609][0m 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.583Z] INFO  [PID:1111609][0m 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
[2025-06-28T03:57:43.583Z] INFO  [PID:1111609] バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
[2025-06-28T03:57:43.584Z] INFO  [PID:1111609] 🔍 重複チェック開始... {"level":"INFO"}
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.583Z] INFO  [PID:1111609][0m バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.584Z] INFO  [PID:1111609][0m 🔍 重複チェック開始... {"level":"INFO"}
2025-06-28T03:57:43: SQL実行: SELECT phone FROM contacts WHERE campaign_id = ?... パラメータ数: 1
[2025-06-28T03:57:43.585Z] INFO  [PID:1111609] 既存電話番号数: 0 {"level":"INFO"}
2025-06-28T03:57:43: SQL実行成功: 結果行数=0
[2025-06-28T03:57:43.585Z] INFO  [PID:1111609] 新規データ追加: 05018086649 {"level":"INFO"}
[2025-06-28T03:57:43.585Z] INFO  [PID:1111609] 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
[2025-06-28T03:57:43.585Z] INFO  [PID:1111609] 💾 データベース挿入開始: 1件 {"level":"INFO"}
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.585Z] INFO  [PID:1111609][0m 既存電話番号数: 0 {"level":"INFO"}
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.585Z] INFO  [PID:1111609][0m 新規データ追加: 05018086649 {"level":"INFO"}
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.585Z] INFO  [PID:1111609][0m 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.585Z] INFO  [PID:1111609][0m 💾 データベース挿入開始: 1件 {"level":"INFO"}
2025-06-28T03:57:43: SQL実行: START TRANSACTION... 
2025-06-28T03:57:43: SQL実行成功: 結果行数=不明
2025-06-28T03:57:43: SQL実行: INSERT INTO contacts (campaign_id, phone, name, company, status, created_at) VALUES (?, ?, ?, ?, ?, ... パラメータ数: 5
[2025-06-28T03:57:43.587Z] INFO  [PID:1111609] 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
2025-06-28T03:57:43: SQL実行成功: 結果行数=不明
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.587Z] INFO  [PID:1111609][0m 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
2025-06-28T03:57:43: SQL実行: COMMIT... 
[2025-06-28T03:57:43.592Z] INFO  [PID:1111609] ✅ 全件挿入完了: 1件 {"level":"INFO"}
2025-06-28T03:57:43: SQL実行成功: 結果行数=不明
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.592Z] INFO  [PID:1111609][0m ✅ 全件挿入完了: 1件 {"level":"INFO"}
2025-06-28T03:57:43: SQL実行: SELECT COUNT(*) as total FROM contacts WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T03:57:43: SQL実行成功: 結果行数=1
2025-06-28T03:57:43: SQL実行: SELECT COUNT(*) as completed FROM contacts WHERE campaign_id = ? AND status IN ("completed", "failed... パラメータ数: 1
2025-06-28T03:57:43: SQL実行成功: 結果行数=1
2025-06-28T03:57:43: SQL実行: UPDATE campaigns SET progress = ?, updated_at = NOW() WHERE id = ?... パラメータ数: 2
[2025-06-28T03:57:43.597Z] INFO  [PID:1111609] CSVアップロード完了 {"campaignId":"171","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
2025-06-28T03:57:43: SQL実行成功: 結果行数=不明
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.597Z] INFO  [PID:1111609][0m CSVアップロード完了 {"campaignId":"171","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
[2025-06-28T03:57:43.636Z] INFO  [PID:1111609] キャンペーン詳細取得: ID=171 {"level":"INFO"}
2025-06-28T03:57:43: GET /api/campaigns/171 - Origin: http://146.190.83.205:3003
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.636Z] INFO  [PID:1111609][0m キャンペーン詳細取得: ID=171 {"level":"INFO"}
2025-06-28T03:57:43: SQL実行: 
2025-06-28T03:57:43:       SELECT c.*, 
2025-06-28T03:57:43:              ci.number as caller_id_number,
2025-06-28T03:57:43:              ci.description as calle... パラメータ数: 1
[2025-06-28T03:57:43.639Z] INFO  [PID:1111609] キャンペーン詳細取得完了: ID=171 {"level":"INFO"}
2025-06-28T03:57:43: SQL実行成功: 結果行数=1
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.639Z] INFO  [PID:1111609][0m キャンペーン詳細取得完了: ID=171 {"level":"INFO"}
[2025-06-28T03:57:43.687Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:57:43: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.687Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:57:43: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:57:43: SQL実行成功: 結果行数=1
2025-06-28T03:57:43: SQL実行: 
2025-06-28T03:57:43:       SELECT 
2025-06-28T03:57:43:         COUNT(*) as total,
2025-06-28T03:57:43:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:57:43: SQL実行成功: 結果行数=1
2025-06-28T03:57:43: SQL実行: 
2025-06-28T03:57:43:       SELECT 
2025-06-28T03:57:43:         COUNT(*) as total_calls,
2025-06-28T03:57:43:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:57:43.690Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:57:43: SQL実行成功: 結果行数=1
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.690Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
[2025-06-28T03:57:43.728Z] INFO  [PID:1111609] 連絡先一覧取得: Campaign=171, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T03:57:43: GET /api/campaigns/171/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.728Z] INFO  [PID:1111609][0m 連絡先一覧取得: Campaign=171, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T03:57:43: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:57:43: SQL実行成功: 結果行数=1
2025-06-28T03:57:43: SQL実行: 
2025-06-28T03:57:43:       SELECT c.*
2025-06-28T03:57:43:       FROM contacts c
2025-06-28T03:57:43:       WHERE c.campaign_id = ?
2025-06-28T03:57:43:      ORDER BY c.created_at DES... パラメータ数: 1
2025-06-28T03:57:43: SQL実行成功: 結果行数=1
2025-06-28T03:57:43: SQL実行: 
2025-06-28T03:57:43:       SELECT COUNT(*) as total
2025-06-28T03:57:43:       FROM contacts c
2025-06-28T03:57:43:       WHERE c.campaign_id = ?
2025-06-28T03:57:43:     ... パラメータ数: 1
[2025-06-28T03:57:43.732Z] INFO  [PID:1111609] 連絡先取得結果: Campaign=171, 件数=1, 全体=1 {"level":"INFO"}
2025-06-28T03:57:43: SQL実行成功: 結果行数=1
2025-06-28T03:57:43: [36m[2025-06-28T03:57:43.732Z] INFO  [PID:1111609][0m 連絡先取得結果: Campaign=171, 件数=1, 全体=1 {"level":"INFO"}
[2025-06-28T03:57:44.506Z] INFO  [PID:1111609] 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:57:44: GET /api/audio - Origin: http://146.190.83.205:3003
2025-06-28T03:57:44: [36m[2025-06-28T03:57:44.506Z] INFO  [PID:1111609][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:57:44: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
2025-06-28T03:57:44: GET /api/ivr/campaigns/171 - Origin: http://146.190.83.205:3003
2025-06-28T03:57:44: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T03:57:44.508Z] INFO  [PID:1111609] 2件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T03:57:44: SQL実行成功: 結果行数=2
2025-06-28T03:57:44: [36m[2025-06-28T03:57:44.508Z] INFO  [PID:1111609][0m 2件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T03:57:44: SQL実行成功: 結果行数=1
[2025-06-28T03:57:44.510Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=171 {"level":"INFO"}
2025-06-28T03:57:44: [36m[2025-06-28T03:57:44.510Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=171 {"level":"INFO"}
2025-06-28T03:57:44: SQL実行: 
2025-06-28T03:57:44:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:57:44:    ... パラメータ数: 1
[2025-06-28T03:57:44.511Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=171, 件数=0 {"level":"INFO"}
2025-06-28T03:57:44: SQL実行成功: 結果行数=0
[2025-06-28T03:57:44.512Z] WARN  [PID:1111609] キャンペーン 171 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-28T03:57:44: [36m[2025-06-28T03:57:44.511Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=171, 件数=0 {"level":"INFO"}
2025-06-28T03:57:44: [33m[2025-06-28T03:57:44.512Z] WARN  [PID:1111609][0m キャンペーン 171 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-28T03:57:44: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T03:57:44: SQL実行成功: 結果行数=0
2025-06-28T03:57:44: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T03:57:44.514Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=171 {"level":"INFO"}
2025-06-28T03:57:44: SQL実行成功: 結果行数=1
2025-06-28T03:57:44: [36m[2025-06-28T03:57:44.514Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=171 {"level":"INFO"}
2025-06-28T03:57:44: SQL実行: 
2025-06-28T03:57:44:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:57:44:    ... パラメータ数: 1
[2025-06-28T03:57:44.516Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=171, 件数=0 {"level":"INFO"}
2025-06-28T03:57:44: SQL実行成功: 結果行数=0
[2025-06-28T03:57:44.516Z] WARN  [PID:1111609] キャンペーン 171 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-28T03:57:44: [36m[2025-06-28T03:57:44.516Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=171, 件数=0 {"level":"INFO"}
2025-06-28T03:57:44: [33m[2025-06-28T03:57:44.516Z] WARN  [PID:1111609][0m キャンペーン 171 に音声ファイルが見つかりません {"level":"WARN"}
[2025-06-28T03:57:44.517Z] INFO  [PID:1111609] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-171.conf {"level":"INFO"}
2025-06-28T03:57:44: [36m[2025-06-28T03:57:44.517Z] INFO  [PID:1111609][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-171.conf {"level":"INFO"}
2025-06-28T03:57:46: SQL実行: 
2025-06-28T03:57:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:57:46:                ci.number as ca... 
2025-06-28T03:57:46: SQL実行成功: 結果行数=79
2025-06-28T03:57:47: SQL実行: 
2025-06-28T03:57:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:57:47:           FROM contacts 
2025-06-28T03:57:47:           WHERE c... パラメータ数: 1
2025-06-28T03:57:47: SQL実行成功: 結果行数=0
2025-06-28T03:57:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:57:47: SQL実行成功: 結果行数=1
2025-06-28T03:57:52: SQL実行: 
2025-06-28T03:57:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:57:52:           FROM contacts 
2025-06-28T03:57:52:           WHERE c... パラメータ数: 1
2025-06-28T03:57:52: SQL実行成功: 結果行数=0
2025-06-28T03:57:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:57:52: SQL実行成功: 結果行数=1
2025-06-28T03:57:57: SQL実行: 
2025-06-28T03:57:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:57:57:           FROM contacts 
2025-06-28T03:57:57:           WHERE c... パラメータ数: 1
2025-06-28T03:57:57: SQL実行成功: 結果行数=0
2025-06-28T03:57:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:57:57: SQL実行成功: 結果行数=1
2025-06-28T03:58:01: SQL実行: SELECT 1... 
2025-06-28T03:58:01: SQL実行成功: 結果行数=1
2025-06-28T03:58:01: SQL実行: 
2025-06-28T03:58:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:58:01:                ci.number as ca... 
2025-06-28T03:58:01: SQL実行成功: 結果行数=79
2025-06-28T03:58:02: SQL実行: 
2025-06-28T03:58:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:58:02:           FROM contacts 
2025-06-28T03:58:02:           WHERE c... パラメータ数: 1
2025-06-28T03:58:02: SQL実行成功: 結果行数=0
2025-06-28T03:58:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:58:02: SQL実行成功: 結果行数=1
2025-06-28T03:58:07: SQL実行: 
2025-06-28T03:58:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:58:07:           FROM contacts 
2025-06-28T03:58:07:           WHERE c... パラメータ数: 1
2025-06-28T03:58:07: SQL実行成功: 結果行数=0
2025-06-28T03:58:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:58:07: SQL実行成功: 結果行数=1
2025-06-28T03:58:12: SQL実行: 
2025-06-28T03:58:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:58:12:           FROM contacts 
2025-06-28T03:58:12:           WHERE c... パラメータ数: 1
2025-06-28T03:58:12: SQL実行成功: 結果行数=0
2025-06-28T03:58:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:58:12: SQL実行成功: 結果行数=1
2025-06-28T03:58:16: SQL実行: 
2025-06-28T03:58:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:58:16:                ci.number as ca... 
2025-06-28T03:58:16: SQL実行成功: 結果行数=79
2025-06-28T03:58:17: SQL実行: 
2025-06-28T03:58:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:58:17:           FROM contacts 
2025-06-28T03:58:17:           WHERE c... パラメータ数: 1
2025-06-28T03:58:17: SQL実行成功: 結果行数=0
2025-06-28T03:58:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:58:17: SQL実行成功: 結果行数=1
2025-06-28T03:58:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
2025-06-28T03:58:21: SQL実行成功: 結果行数=1
[2025-06-28T03:58:21.250Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:58:21: [36m[2025-06-28T03:58:21.250Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:58:22: SQL実行: 
2025-06-28T03:58:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:58:22:           FROM contacts 
2025-06-28T03:58:22:           WHERE c... パラメータ数: 1
2025-06-28T03:58:22: SQL実行成功: 結果行数=0
2025-06-28T03:58:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:58:22: SQL実行成功: 結果行数=1
2025-06-28T03:58:27: SQL実行: 
2025-06-28T03:58:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:58:27:           FROM contacts 
2025-06-28T03:58:27:           WHERE c... パラメータ数: 1
2025-06-28T03:58:27: SQL実行成功: 結果行数=0
2025-06-28T03:58:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:58:27: SQL実行成功: 結果行数=1
2025-06-28T03:58:31: SQL実行: SELECT 1... 
2025-06-28T03:58:31: SQL実行成功: 結果行数=1
2025-06-28T03:58:31: SQL実行: 
2025-06-28T03:58:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:58:31:                ci.number as ca... 
2025-06-28T03:58:31: SQL実行成功: 結果行数=79
2025-06-28T03:58:32: SQL実行: 
2025-06-28T03:58:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:58:32:           FROM contacts 
2025-06-28T03:58:32:           WHERE c... パラメータ数: 1
2025-06-28T03:58:32: SQL実行成功: 結果行数=0
2025-06-28T03:58:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:58:32: SQL実行成功: 結果行数=1
2025-06-28T03:58:37: SQL実行: 
2025-06-28T03:58:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:58:37:           FROM contacts 
2025-06-28T03:58:37:           WHERE c... パラメータ数: 1
2025-06-28T03:58:37: SQL実行成功: 結果行数=0
2025-06-28T03:58:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:58:37: SQL実行成功: 結果行数=1
2025-06-28T03:58:42: SQL実行: 
2025-06-28T03:58:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:58:42:           FROM contacts 
2025-06-28T03:58:42:           WHERE c... パラメータ数: 1
2025-06-28T03:58:42: SQL実行成功: 結果行数=0
2025-06-28T03:58:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:58:42: SQL実行成功: 結果行数=1
2025-06-28T03:58:46: SQL実行: 
2025-06-28T03:58:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:58:46:                ci.number as ca... 
2025-06-28T03:58:46: SQL実行成功: 結果行数=79
2025-06-28T03:58:47: SQL実行: 
2025-06-28T03:58:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:58:47:           FROM contacts 
2025-06-28T03:58:47:           WHERE c... パラメータ数: 1
2025-06-28T03:58:47: SQL実行成功: 結果行数=0
2025-06-28T03:58:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:58:47: SQL実行成功: 結果行数=1
2025-06-28T03:58:52: SQL実行: 
2025-06-28T03:58:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:58:52:           FROM contacts 
2025-06-28T03:58:52:           WHERE c... パラメータ数: 1
2025-06-28T03:58:52: SQL実行成功: 結果行数=0
2025-06-28T03:58:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:58:52: SQL実行成功: 結果行数=1
2025-06-28T03:58:57: SQL実行: 
2025-06-28T03:58:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:58:57:           FROM contacts 
2025-06-28T03:58:57:           WHERE c... パラメータ数: 1
2025-06-28T03:58:57: SQL実行成功: 結果行数=0
2025-06-28T03:58:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:58:57: SQL実行成功: 結果行数=1
2025-06-28T03:59:01: SQL実行: SELECT 1... 
2025-06-28T03:59:01: SQL実行成功: 結果行数=1
2025-06-28T03:59:01: SQL実行: 
2025-06-28T03:59:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:59:01:                ci.number as ca... 
2025-06-28T03:59:01: SQL実行成功: 結果行数=79
2025-06-28T03:59:01: POST /api/ivr/upload-audio - Origin: http://146.190.83.205:3003
2025-06-28T03:59:02: アップロードリクエスト受信: {
2025-06-28T03:59:02:   file: {
2025-06-28T03:59:02:     filename: '549444996463302.wav',
2025-06-28T03:59:02:     mimetype: 'audio/wav',
2025-06-28T03:59:02:     size: 600478
2025-06-28T03:59:02:   },
2025-06-28T03:59:02:   body: [Object: null prototype] {
2025-06-28T03:59:02:     name: '549444996463302',
2025-06-28T03:59:02:     description: '',
2025-06-28T03:59:02:     audioType: 'welcome',
2025-06-28T03:59:02:     campaignId: '171'
2025-06-28T03:59:02:   }
2025-06-28T03:59:02: }
2025-06-28T03:59:02: SQL実行: INSERT INTO audio_files (id, name, filename, path, mimetype, size, description, created_at) VALUES (... パラメータ数: 7
2025-06-28T03:59:02: SQL実行成功: 結果行数=不明
2025-06-28T03:59:02: [36m[2025-06-28T03:59:02.037Z] INFO  [PID:1111609][0m 音声ファイルをアップロードしました: 549444996463302, ID=1fdbb84a-dc24-4a44-87c9-713b65021f12 {"level":"INFO"}
[2025-06-28T03:59:02.037Z] INFO  [PID:1111609] 音声ファイルをアップロードしました: 549444996463302, ID=1fdbb84a-dc24-4a44-87c9-713b65021f12 {"level":"INFO"}
[2025-06-28T03:59:02.038Z] INFO  [PID:1111609] キャンペーン音声を割り当て: Campaign=171, Audio=1fdbb84a-dc24-4a44-87c9-713b65021f12, Type=welcome {"level":"INFO"}
2025-06-28T03:59:02: [36m[2025-06-28T03:59:02.038Z] INFO  [PID:1111609][0m キャンペーン音声を割り当て: Campaign=171, Audio=1fdbb84a-dc24-4a44-87c9-713b65021f12, Type=welcome {"level":"INFO"}
2025-06-28T03:59:02: SQL実行: SELECT * FROM campaign_audio WHERE campaign_id = ? AND audio_type = ?... パラメータ数: 2
2025-06-28T03:59:02: SQL実行成功: 結果行数=0
2025-06-28T03:59:02: SQL実行: INSERT INTO campaign_audio (campaign_id, audio_file_id, audio_type, created_at) VALUES (?, ?, ?, NOW... パラメータ数: 3
2025-06-28T03:59:02: SQL実行成功: 結果行数=不明
2025-06-28T03:59:02: GET /api/ivr/campaigns/171 - Origin: http://146.190.83.205:3003
2025-06-28T03:59:02: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:59:02: SQL実行成功: 結果行数=1
[2025-06-28T03:59:02.087Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=171 {"level":"INFO"}
2025-06-28T03:59:02: [36m[2025-06-28T03:59:02.087Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=171 {"level":"INFO"}
2025-06-28T03:59:02: SQL実行: 
2025-06-28T03:59:02:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:59:02:    ... パラメータ数: 1
[2025-06-28T03:59:02.089Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=171, 件数=1 {"level":"INFO"}
2025-06-28T03:59:02: SQL実行成功: 結果行数=1
[2025-06-28T03:59:02.089Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T03:59:02: [36m[2025-06-28T03:59:02.089Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=171, 件数=1 {"level":"INFO"}
2025-06-28T03:59:02: [36m[2025-06-28T03:59:02.089Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T03:59:02: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T03:59:02: SQL実行成功: 結果行数=0
2025-06-28T03:59:02: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T03:59:02.092Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=171 {"level":"INFO"}
2025-06-28T03:59:02: SQL実行成功: 結果行数=1
2025-06-28T03:59:02: [36m[2025-06-28T03:59:02.092Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=171 {"level":"INFO"}
2025-06-28T03:59:02: SQL実行: 
2025-06-28T03:59:02:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:59:02:    ... パラメータ数: 1
[2025-06-28T03:59:02.093Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=171, 件数=1 {"level":"INFO"}
2025-06-28T03:59:02: SQL実行成功: 結果行数=1
[2025-06-28T03:59:02.093Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T03:59:02: [36m[2025-06-28T03:59:02.093Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=171, 件数=1 {"level":"INFO"}
2025-06-28T03:59:02: [36m[2025-06-28T03:59:02.093Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:59:02.094Z] INFO  [PID:1111609] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-171.conf {"level":"INFO"}
2025-06-28T03:59:02: [36m[2025-06-28T03:59:02.094Z] INFO  [PID:1111609][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-171.conf {"level":"INFO"}
2025-06-28T03:59:02: SQL実行: 
2025-06-28T03:59:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:02:           FROM contacts 
2025-06-28T03:59:02:           WHERE c... パラメータ数: 1
2025-06-28T03:59:02: SQL実行成功: 結果行数=0
2025-06-28T03:59:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:02: SQL実行成功: 結果行数=1
2025-06-28T03:59:07: SQL実行: 
2025-06-28T03:59:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:07:           FROM contacts 
2025-06-28T03:59:07:           WHERE c... パラメータ数: 1
2025-06-28T03:59:07: SQL実行成功: 結果行数=0
2025-06-28T03:59:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:07: SQL実行成功: 結果行数=1
2025-06-28T03:59:07: POST /api/ivr/campaigns/171/deploy - Origin: http://146.190.83.205:3003
2025-06-28T03:59:07: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:59:07: SQL実行成功: 結果行数=1
2025-06-28T03:59:07: [36m[2025-06-28T03:59:07.609Z] INFO  [PID:1111609][0m 🚀 キャンペーン 171 のIVRスクリプト完全デプロイ開始... {"level":"INFO"}
[2025-06-28T03:59:07.609Z] INFO  [PID:1111609] 🚀 キャンペーン 171 のIVRスクリプト完全デプロイ開始... {"level":"INFO"}
2025-06-28T03:59:07: [36m[2025-06-28T03:59:07.610Z] INFO  [PID:1111609][0m 📝 Step 1: IVRスクリプト生成中... {"level":"INFO"}
[2025-06-28T03:59:07.610Z] INFO  [PID:1111609] 📝 Step 1: IVRスクリプト生成中... {"level":"INFO"}
2025-06-28T03:59:07: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
2025-06-28T03:59:07: SQL実行成功: 結果行数=1
[2025-06-28T03:59:07.612Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=171 {"level":"INFO"}
2025-06-28T03:59:07: [36m[2025-06-28T03:59:07.612Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=171 {"level":"INFO"}
2025-06-28T03:59:07: SQL実行: 
2025-06-28T03:59:07:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:59:07:    ... パラメータ数: 1
[2025-06-28T03:59:07.614Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=171, 件数=1 {"level":"INFO"}
[2025-06-28T03:59:07.614Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T03:59:07: SQL実行成功: 結果行数=1
2025-06-28T03:59:07: [36m[2025-06-28T03:59:07.614Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=171, 件数=1 {"level":"INFO"}
2025-06-28T03:59:07: [36m[2025-06-28T03:59:07.614Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:59:07.615Z] INFO  [PID:1111609] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-171.conf {"level":"INFO"}
[2025-06-28T03:59:07.616Z] INFO  [PID:1111609] ✅ IVRスクリプト生成完了: /var/www/autodialer/backend/ivr-scripts/campaign-171.conf {"level":"INFO"}
[2025-06-28T03:59:07.616Z] INFO  [PID:1111609] 📝 Step 2: extensions.confへのinclude追加中... {"level":"INFO"}
[2025-06-28T03:59:07.616Z] INFO  [PID:1111609] 🔧 extensions.conf include追加: #include "/var/www/autodialer/backend/ivr-scripts/campaign-171.conf" {"level":"INFO"}
2025-06-28T03:59:07: [36m[2025-06-28T03:59:07.615Z] INFO  [PID:1111609][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-171.conf {"level":"INFO"}
2025-06-28T03:59:07: [36m[2025-06-28T03:59:07.616Z] INFO  [PID:1111609][0m ✅ IVRスクリプト生成完了: /var/www/autodialer/backend/ivr-scripts/campaign-171.conf {"level":"INFO"}
2025-06-28T03:59:07: [36m[2025-06-28T03:59:07.616Z] INFO  [PID:1111609][0m 📝 Step 2: extensions.confへのinclude追加中... {"level":"INFO"}
2025-06-28T03:59:07: [36m[2025-06-28T03:59:07.616Z] INFO  [PID:1111609][0m 🔧 extensions.conf include追加: #include "/var/www/autodialer/backend/ivr-scripts/campaign-171.conf" {"level":"INFO"}
[2025-06-28T03:59:07.619Z] INFO  [PID:1111609] ✅ extensions.confにinclude追加完了: campaign-171.conf {"level":"INFO"}
[2025-06-28T03:59:07.619Z] INFO  [PID:1111609] 📝 Step 3: Asterisk dialplan reload実行中... {"level":"INFO"}
[2025-06-28T03:59:07.619Z] INFO  [PID:1111609] 🔄 Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T03:59:07: [36m[2025-06-28T03:59:07.619Z] INFO  [PID:1111609][0m ✅ extensions.confにinclude追加完了: campaign-171.conf {"level":"INFO"}
2025-06-28T03:59:07: [36m[2025-06-28T03:59:07.619Z] INFO  [PID:1111609][0m 📝 Step 3: Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T03:59:07: [36m[2025-06-28T03:59:07.619Z] INFO  [PID:1111609][0m 🔄 Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T03:59:07: [36m[2025-06-28T03:59:07.653Z] INFO  [PID:1111609][0m ✅ Asterisk dialplan reload成功: Dialplan reloaded. {"level":"INFO"}
[2025-06-28T03:59:07.653Z] INFO  [PID:1111609] ✅ Asterisk dialplan reload成功: Dialplan reloaded. {"level":"INFO"}
2025-06-28T03:59:07: [36m[2025-06-28T03:59:07.653Z] INFO  [PID:1111609][0m 📝 Step 4: データベース記録中... {"level":"INFO"}
[2025-06-28T03:59:07.653Z] INFO  [PID:1111609] 📝 Step 4: データベース記録中... {"level":"INFO"}
2025-06-28T03:59:07: SQL実行: UPDATE campaigns SET ivr_deployed = true, ivr_deploy_time = NOW() WHERE id = ?... パラメータ数: 1
[2025-06-28T03:59:07.660Z] INFO  [PID:1111609] ✅ データベース記録完了 {"level":"INFO"}
[2025-06-28T03:59:07.661Z] INFO  [PID:1111609] 📝 Step 5: デプロイ検証中... {"level":"INFO"}
[2025-06-28T03:59:07.661Z] INFO  [PID:1111609] 🔍 コンテキスト検証中: autodialer-campaign-171 {"level":"INFO"}
2025-06-28T03:59:07: SQL実行成功: 結果行数=不明
2025-06-28T03:59:07: [36m[2025-06-28T03:59:07.660Z] INFO  [PID:1111609][0m ✅ データベース記録完了 {"level":"INFO"}
2025-06-28T03:59:07: [36m[2025-06-28T03:59:07.661Z] INFO  [PID:1111609][0m 📝 Step 5: デプロイ検証中... {"level":"INFO"}
2025-06-28T03:59:07: [36m[2025-06-28T03:59:07.661Z] INFO  [PID:1111609][0m 🔍 コンテキスト検証中: autodialer-campaign-171 {"level":"INFO"}
[2025-06-28T03:59:07.690Z] WARN  [PID:1111609] ⚠️ コンテキスト検証結果不明: [ Context 'autodialer-campaign-171' created by 'pbx_config' ]
  '1' =>            1. NoOp(Operator transfer requested)          [campaign-171.conf:10]
                    2. Set(CAMPAIGN_ID=171)                       [campaign-171.conf:11]
                    3. Set(KEYPRESS=1)                            [campaign-171.conf:12]
                    4. Goto(operator-transfer-171,s,1)            [campaign-171.conf:13]
  '2' =>            1. NoOp(Operator transfer requested)          [campaign-171.conf:15]
                    2. Set(CAMPAIGN_ID=171)                       [campaign-171.conf:16]
                    3. Set(KEYPRESS=2)                            [campaign-171.conf:17]
                    4. Goto(operator-transfer-171,s,1)            [campaign-171.conf:18]
  '3' =>            1. NoOp(Operator transfer requested)          [campaign-171.conf:20]
                    2. Set(CAMPAIGN_ID=171)                       [campaign-171.conf:21]
                    3. Set(KEYPRESS=3)                            [campaign-171.conf:22]
                    4. Goto(operator-transfer-171,s,1)            [campaign-171.conf:23]
  '9' =>            1. NoOp(DNC requested)                        [campaign-171.conf:25]
                    2. Set(CAMPAIGN_ID=171)                       [campaign-171.conf:26]
                    3. Set(KEYPRESS=9)                            [campaign-171.conf:27]
                    4. Playback(vm-goodbye)                       [campaign-171.conf:28]
                    5. Hangup()                                   [campaign-171.conf:29]
  'h' =>            1. NoOp(Hangup handler)                       [campaign-171.conf:39]
                    2. System(curl -X POST http://localhost:5000/api/callback/call-end -d "callId=171-${UNIQUEID}&duration=${ANSWEREDTIME}&disposition=${DIALSTATUS}&keypress=${KEYPRESS}") [campaign-171.conf:40]
  'i' =>            1. NoOp(Invalid input)                        [campaign-171.conf:35]
                    2. Playback(invalid)                          [campaign-171.conf:36]
                    3. Goto(s,4)                                  [campaign-171.conf:37]
  's' =>            1. Answer()                                   [campaign-171.conf:4]
                    2. Wait(1)                                    [campaign-171.conf:5]
                    3. Playback(autodialer/1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302) [campaign-171.conf:6]
                    4. Playback(vm-tempgreeting)                  [campaign-171.conf:7]
                    5. WaitExten(10)                              [campaign-171.conf:8]
  't' =>            1. NoOp(Timeout occurred)                     [campaign-171.conf:31]
                    2. Playback(goodbye)                          [campaign-171.conf:32]
                    3. Hangup()                                   [campaign-171.conf:33]

-= 8 extensions (30 priorities) in 1 context. =-
 {"level":"WARN"}
[2025-06-28T03:59:07.691Z] WARN  [PID:1111609] ⚠️ コンテキスト検証失敗 - 手動確認が必要です {"level":"WARN"}
2025-06-28T03:59:07: [33m[2025-06-28T03:59:07.690Z] WARN  [PID:1111609][0m ⚠️ コンテキスト検証結果不明: [ Context 'autodialer-campaign-171' created by 'pbx_config' ]
2025-06-28T03:59:07:   '1' =>            1. NoOp(Operator transfer requested)          [campaign-171.conf:10]
2025-06-28T03:59:07:                     2. Set(CAMPAIGN_ID=171)                       [campaign-171.conf:11]
2025-06-28T03:59:07:                     3. Set(KEYPRESS=1)                            [campaign-171.conf:12]
2025-06-28T03:59:07:                     4. Goto(operator-transfer-171,s,1)            [campaign-171.conf:13]
2025-06-28T03:59:07:   '2' =>            1. NoOp(Operator transfer requested)          [campaign-171.conf:15]
2025-06-28T03:59:07:                     2. Set(CAMPAIGN_ID=171)                       [campaign-171.conf:16]
2025-06-28T03:59:07:                     3. Set(KEYPRESS=2)                            [campaign-171.conf:17]
2025-06-28T03:59:07:                     4. Goto(operator-transfer-171,s,1)            [campaign-171.conf:18]
2025-06-28T03:59:07:   '3' =>            1. NoOp(Operator transfer requested)          [campaign-171.conf:20]
2025-06-28T03:59:07:                     2. Set(CAMPAIGN_ID=171)                       [campaign-171.conf:21]
2025-06-28T03:59:07:                     3. Set(KEYPRESS=3)                            [campaign-171.conf:22]
2025-06-28T03:59:07:                     4. Goto(operator-transfer-171,s,1)            [campaign-171.conf:23]
2025-06-28T03:59:07:   '9' =>            1. NoOp(DNC requested)                        [campaign-171.conf:25]
2025-06-28T03:59:07:                     2. Set(CAMPAIGN_ID=171)                       [campaign-171.conf:26]
2025-06-28T03:59:07:                     3. Set(KEYPRESS=9)                            [campaign-171.conf:27]
2025-06-28T03:59:07:                     4. Playback(vm-goodbye)                       [campaign-171.conf:28]
2025-06-28T03:59:07:                     5. Hangup()                                   [campaign-171.conf:29]
2025-06-28T03:59:07:   'h' =>            1. NoOp(Hangup handler)                       [campaign-171.conf:39]
2025-06-28T03:59:07:                     2. System(curl -X POST http://localhost:5000/api/callback/call-end -d "callId=171-${UNIQUEID}&duration=${ANSWEREDTIME}&disposition=${DIALSTATUS}&keypress=${KEYPRESS}") [campaign-171.conf:40]
2025-06-28T03:59:07:   'i' =>            1. NoOp(Invalid input)                        [campaign-171.conf:35]
2025-06-28T03:59:07:                     2. Playback(invalid)                          [campaign-171.conf:36]
2025-06-28T03:59:07:                     3. Goto(s,4)                                  [campaign-171.conf:37]
2025-06-28T03:59:07:   's' =>            1. Answer()                                   [campaign-171.conf:4]
2025-06-28T03:59:07:                     2. Wait(1)                                    [campaign-171.conf:5]
2025-06-28T03:59:07:                     3. Playback(autodialer/1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302) [campaign-171.conf:6]
2025-06-28T03:59:07:                     4. Playback(vm-tempgreeting)                  [campaign-171.conf:7]
2025-06-28T03:59:07:                     5. WaitExten(10)                              [campaign-171.conf:8]
2025-06-28T03:59:07:   't' =>            1. NoOp(Timeout occurred)                     [campaign-171.conf:31]
2025-06-28T03:59:07:                     2. Playback(goodbye)                          [campaign-171.conf:32]
2025-06-28T03:59:07:                     3. Hangup()                                   [campaign-171.conf:33]
2025-06-28T03:59:07: 
2025-06-28T03:59:07: -= 8 extensions (30 priorities) in 1 context. =-
2025-06-28T03:59:07:  {"level":"WARN"}
2025-06-28T03:59:07: [33m[2025-06-28T03:59:07.691Z] WARN  [PID:1111609][0m ⚠️ コンテキスト検証失敗 - 手動確認が必要です {"level":"WARN"}
2025-06-28T03:59:11: POST /api/campaigns/171/start - Origin: http://146.190.83.205:3003
2025-06-28T03:59:11: 🔍 campaignsController.startCampaign 開始: { campaignId: '171' }
2025-06-28T03:59:11: SQL実行: 
2025-06-28T03:59:11:       SELECT c.*, ci.active as caller_id_active,
2025-06-28T03:59:11:              (SELECT COUNT(*) FROM contacts WHERE ... パラメータ数: 1
2025-06-28T03:59:11: SQL実行成功: 結果行数=1
[2025-06-28T03:59:11.847Z] INFO  [PID:1111609] 🚀 キャンペーン 171 のIVRスクリプト完全デプロイ開始... {"level":"INFO"}
[2025-06-28T03:59:11.848Z] INFO  [PID:1111609] 📝 Step 1: IVRスクリプト生成中... {"level":"INFO"}
2025-06-28T03:59:11: 🔍 修正後のクエリ結果: {
2025-06-28T03:59:11:   rows_length: 1,
2025-06-28T03:59:11:   campaign_exists: 'YES',
2025-06-28T03:59:11:   caller_id_id: 8,
2025-06-28T03:59:11:   caller_id_active: 1,
2025-06-28T03:59:11:   contact_count: '1'
2025-06-28T03:59:11: }
2025-06-28T03:59:11: 🔍 検証開始: {
2025-06-28T03:59:11:   'campaign.caller_id_id': 8,
2025-06-28T03:59:11:   'campaign.caller_id_active': 1,
2025-06-28T03:59:11:   'typeof caller_id_id': 'number',
2025-06-28T03:59:11:   'typeof caller_id_active': 'number',
2025-06-28T03:59:11:   '!campaign.caller_id_id': false,
2025-06-28T03:59:11:   '!campaign.caller_id_active': false
2025-06-28T03:59:11: }
2025-06-28T03:59:11: ✅ 検証完了、IVRデプロイ開始
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.847Z] INFO  [PID:1111609][0m 🚀 キャンペーン 171 のIVRスクリプト完全デプロイ開始... {"level":"INFO"}
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.848Z] INFO  [PID:1111609][0m 📝 Step 1: IVRスクリプト生成中... {"level":"INFO"}
2025-06-28T03:59:11: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T03:59:11.849Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=171 {"level":"INFO"}
2025-06-28T03:59:11: SQL実行成功: 結果行数=1
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.849Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=171 {"level":"INFO"}
2025-06-28T03:59:11: SQL実行: 
2025-06-28T03:59:11:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:59:11:    ... パラメータ数: 1
[2025-06-28T03:59:11.851Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=171, 件数=1 {"level":"INFO"}
2025-06-28T03:59:11: SQL実行成功: 結果行数=1
[2025-06-28T03:59:11.851Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.851Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=171, 件数=1 {"level":"INFO"}
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.851Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:59:11.852Z] INFO  [PID:1111609] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-171.conf {"level":"INFO"}
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.852Z] INFO  [PID:1111609][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-171.conf {"level":"INFO"}
[2025-06-28T03:59:11.853Z] INFO  [PID:1111609] ✅ IVRスクリプト生成完了: /var/www/autodialer/backend/ivr-scripts/campaign-171.conf {"level":"INFO"}
[2025-06-28T03:59:11.853Z] INFO  [PID:1111609] 📝 Step 2: extensions.confへのinclude追加中... {"level":"INFO"}
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.853Z] INFO  [PID:1111609][0m ✅ IVRスクリプト生成完了: /var/www/autodialer/backend/ivr-scripts/campaign-171.conf {"level":"INFO"}
[2025-06-28T03:59:11.853Z] INFO  [PID:1111609] 🔧 extensions.conf include追加: #include "/var/www/autodialer/backend/ivr-scripts/campaign-171.conf" {"level":"INFO"}
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.853Z] INFO  [PID:1111609][0m 📝 Step 2: extensions.confへのinclude追加中... {"level":"INFO"}
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.853Z] INFO  [PID:1111609][0m 🔧 extensions.conf include追加: #include "/var/www/autodialer/backend/ivr-scripts/campaign-171.conf" {"level":"INFO"}
[2025-06-28T03:59:11.854Z] INFO  [PID:1111609] ℹ️ include文は既に存在します: campaign-171.conf {"level":"INFO"}
[2025-06-28T03:59:11.854Z] INFO  [PID:1111609] 📝 Step 3: Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.854Z] INFO  [PID:1111609][0m ℹ️ include文は既に存在します: campaign-171.conf {"level":"INFO"}
[2025-06-28T03:59:11.854Z] INFO  [PID:1111609] 🔄 Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.854Z] INFO  [PID:1111609][0m 📝 Step 3: Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.854Z] INFO  [PID:1111609][0m 🔄 Asterisk dialplan reload実行中... {"level":"INFO"}
[2025-06-28T03:59:11.892Z] INFO  [PID:1111609] ✅ Asterisk dialplan reload成功: Dialplan reloaded. {"level":"INFO"}
[2025-06-28T03:59:11.893Z] INFO  [PID:1111609] 📝 Step 4: データベース記録中... {"level":"INFO"}
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.892Z] INFO  [PID:1111609][0m ✅ Asterisk dialplan reload成功: Dialplan reloaded. {"level":"INFO"}
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.893Z] INFO  [PID:1111609][0m 📝 Step 4: データベース記録中... {"level":"INFO"}
2025-06-28T03:59:11: SQL実行: UPDATE campaigns SET ivr_deployed = true, ivr_deploy_time = NOW() WHERE id = ?... パラメータ数: 1
[2025-06-28T03:59:11.900Z] INFO  [PID:1111609] ✅ データベース記録完了 {"level":"INFO"}
2025-06-28T03:59:11: SQL実行成功: 結果行数=不明
[2025-06-28T03:59:11.900Z] INFO  [PID:1111609] 📝 Step 5: デプロイ検証中... {"level":"INFO"}
[2025-06-28T03:59:11.901Z] INFO  [PID:1111609] 🔍 コンテキスト検証中: autodialer-campaign-171 {"level":"INFO"}
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.900Z] INFO  [PID:1111609][0m ✅ データベース記録完了 {"level":"INFO"}
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.900Z] INFO  [PID:1111609][0m 📝 Step 5: デプロイ検証中... {"level":"INFO"}
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.901Z] INFO  [PID:1111609][0m 🔍 コンテキスト検証中: autodialer-campaign-171 {"level":"INFO"}
[2025-06-28T03:59:11.926Z] WARN  [PID:1111609] ⚠️ コンテキスト検証結果不明: [ Context 'autodialer-campaign-171' created by 'pbx_config' ]
  '1' =>            1. NoOp(Operator transfer requested)          [campaign-171.conf:10]
                    2. Set(CAMPAIGN_ID=171)                       [campaign-171.conf:11]
                    3. Set(KEYPRESS=1)                            [campaign-171.conf:12]
                    4. Goto(operator-transfer-171,s,1)            [campaign-171.conf:13]
  '2' =>            1. NoOp(Operator transfer requested)          [campaign-171.conf:15]
                    2. Set(CAMPAIGN_ID=171)                       [campaign-171.conf:16]
                    3. Set(KEYPRESS=2)                            [campaign-171.conf:17]
                    4. Goto(operator-transfer-171,s,1)            [campaign-171.conf:18]
  '3' =>            1. NoOp(Operator transfer requested)          [campaign-171.conf:20]
                    2. Set(CAMPAIGN_ID=171)                       [campaign-171.conf:21]
                    3. Set(KEYPRESS=3)                            [campaign-171.conf:22]
                    4. Goto(operator-transfer-171,s,1)            [campaign-171.conf:23]
  '9' =>            1. NoOp(DNC requested)                        [campaign-171.conf:25]
                    2. Set(CAMPAIGN_ID=171)                       [campaign-171.conf:26]
                    3. Set(KEYPRESS=9)                            [campaign-171.conf:27]
                    4. Playback(vm-goodbye)                       [campaign-171.conf:28]
                    5. Hangup()                                   [campaign-171.conf:29]
  'h' =>            1. NoOp(Hangup handler)                       [campaign-171.conf:39]
                    2. System(curl -X POST http://localhost:5000/api/callback/call-end -d "callId=171-${UNIQUEID}&duration=${ANSWEREDTIME}&disposition=${DIALSTATUS}&keypress=${KEYPRESS}") [campaign-171.conf:40]
  'i' =>            1. NoOp(Invalid input)                        [campaign-171.conf:35]
                    2. Playback(invalid)                          [campaign-171.conf:36]
                    3. Goto(s,4)                                  [campaign-171.conf:37]
  's' =>            1. Answer()                                   [campaign-171.conf:4]
                    2. Wait(1)                                    [campaign-171.conf:5]
                    3. Playback(autodialer/1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302) [campaign-171.conf:6]
                    4. Playback(vm-tempgreeting)                  [campaign-171.conf:7]
                    5. WaitExten(10)                              [campaign-171.conf:8]
  't' =>            1. NoOp(Timeout occurred)                     [campaign-171.conf:31]
                    2. Playback(goodbye)                          [campaign-171.conf:32]
                    3. Hangup()                                   [campaign-171.conf:33]

-= 8 extensions (30 priorities) in 1 context. =-
 {"level":"WARN"}
[2025-06-28T03:59:11.926Z] WARN  [PID:1111609] ⚠️ コンテキスト検証失敗 - 手動確認が必要です {"level":"WARN"}
[2025-06-28T03:59:11.927Z] INFO  [PID:1111609] 🚀 手動キャンペーン開始: 171 {"level":"INFO"}
2025-06-28T03:59:11: [33m[2025-06-28T03:59:11.926Z] WARN  [PID:1111609][0m ⚠️ コンテキスト検証結果不明: [ Context 'autodialer-campaign-171' created by 'pbx_config' ]
2025-06-28T03:59:11:   '1' =>            1. NoOp(Operator transfer requested)          [campaign-171.conf:10]
2025-06-28T03:59:11:                     2. Set(CAMPAIGN_ID=171)                       [campaign-171.conf:11]
2025-06-28T03:59:11:                     3. Set(KEYPRESS=1)                            [campaign-171.conf:12]
2025-06-28T03:59:11:                     4. Goto(operator-transfer-171,s,1)            [campaign-171.conf:13]
2025-06-28T03:59:11:   '2' =>            1. NoOp(Operator transfer requested)          [campaign-171.conf:15]
2025-06-28T03:59:11:                     2. Set(CAMPAIGN_ID=171)                       [campaign-171.conf:16]
2025-06-28T03:59:11:                     3. Set(KEYPRESS=2)                            [campaign-171.conf:17]
2025-06-28T03:59:11:                     4. Goto(operator-transfer-171,s,1)            [campaign-171.conf:18]
2025-06-28T03:59:11:   '3' =>            1. NoOp(Operator transfer requested)          [campaign-171.conf:20]
2025-06-28T03:59:11:                     2. Set(CAMPAIGN_ID=171)                       [campaign-171.conf:21]
2025-06-28T03:59:11:                     3. Set(KEYPRESS=3)                            [campaign-171.conf:22]
2025-06-28T03:59:11:                     4. Goto(operator-transfer-171,s,1)            [campaign-171.conf:23]
2025-06-28T03:59:11:   '9' =>            1. NoOp(DNC requested)                        [campaign-171.conf:25]
2025-06-28T03:59:11:                     2. Set(CAMPAIGN_ID=171)                       [campaign-171.conf:26]
2025-06-28T03:59:11:                     3. Set(KEYPRESS=9)                            [campaign-171.conf:27]
2025-06-28T03:59:11:                     4. Playback(vm-goodbye)                       [campaign-171.conf:28]
2025-06-28T03:59:11:                     5. Hangup()                                   [campaign-171.conf:29]
2025-06-28T03:59:11:   'h' =>            1. NoOp(Hangup handler)                       [campaign-171.conf:39]
2025-06-28T03:59:11:                     2. System(curl -X POST http://localhost:5000/api/callback/call-end -d "callId=171-${UNIQUEID}&duration=${ANSWEREDTIME}&disposition=${DIALSTATUS}&keypress=${KEYPRESS}") [campaign-171.conf:40]
2025-06-28T03:59:11:   'i' =>            1. NoOp(Invalid input)                        [campaign-171.conf:35]
2025-06-28T03:59:11:                     2. Playback(invalid)                          [campaign-171.conf:36]
2025-06-28T03:59:11:                     3. Goto(s,4)                                  [campaign-171.conf:37]
2025-06-28T03:59:11:   's' =>            1. Answer()                                   [campaign-171.conf:4]
2025-06-28T03:59:11:                     2. Wait(1)                                    [campaign-171.conf:5]
2025-06-28T03:59:11:                     3. Playback(autodialer/1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302) [campaign-171.conf:6]
2025-06-28T03:59:11:                     4. Playback(vm-tempgreeting)                  [campaign-171.conf:7]
2025-06-28T03:59:11:                     5. WaitExten(10)                              [campaign-171.conf:8]
2025-06-28T03:59:11:   't' =>            1. NoOp(Timeout occurred)                     [campaign-171.conf:31]
2025-06-28T03:59:11:                     2. Playback(goodbye)                          [campaign-171.conf:32]
2025-06-28T03:59:11:                     3. Hangup()                                   [campaign-171.conf:33]
2025-06-28T03:59:11: 
2025-06-28T03:59:11: -= 8 extensions (30 priorities) in 1 context. =-
2025-06-28T03:59:11:  {"level":"WARN"}
2025-06-28T03:59:11: [33m[2025-06-28T03:59:11.926Z] WARN  [PID:1111609][0m ⚠️ コンテキスト検証失敗 - 手動確認が必要です {"level":"WARN"}
2025-06-28T03:59:11: ✅ IVRスクリプト自動デプロイ完了: キャンペーン 171 {
2025-06-28T03:59:11:   scriptPath: '/var/www/autodialer/backend/ivr-scripts/campaign-171.conf',
2025-06-28T03:59:11:   message: 'キャンペーン 171 のIVRスクリプトが完全デプロイされました'
2025-06-28T03:59:11: }
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.927Z] INFO  [PID:1111609][0m 🚀 手動キャンペーン開始: 171 {"level":"INFO"}
2025-06-28T03:59:11: SQL実行: 
2025-06-28T03:59:11:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:59:11:                ci.number as ca... パラメータ数: 1
2025-06-28T03:59:11: SQL実行成功: 結果行数=1
2025-06-28T03:59:11: SQL実行: UPDATE campaigns SET status = ?, updated_at = NOW() WHERE id = ?... パラメータ数: 2
[2025-06-28T03:59:11.933Z] INFO  [PID:1111609] 🎉 イベント: キャンペーン追加 - テスト (ID: 171) {"level":"INFO"}
2025-06-28T03:59:11: SQL実行成功: 結果行数=不明
[2025-06-28T03:59:11.934Z] INFO  [PID:1111609] ✅ キャンペーン自動追加: "テスト" (未処理: 1件) {"level":"INFO"}
[2025-06-28T03:59:11.934Z] INFO  [PID:1111609] ✅ 手動キャンペーン開始完了: "テスト" {"level":"INFO"}
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.933Z] INFO  [PID:1111609][0m 🎉 イベント: キャンペーン追加 - テスト (ID: 171) {"level":"INFO"}
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.934Z] INFO  [PID:1111609][0m ✅ キャンペーン自動追加: "テスト" (未処理: 1件) {"level":"INFO"}
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.934Z] INFO  [PID:1111609][0m ✅ 手動キャンペーン開始完了: "テスト" {"level":"INFO"}
[2025-06-28T03:59:11.975Z] INFO  [PID:1111609] キャンペーン詳細取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:11: GET /api/campaigns/171 - Origin: http://146.190.83.205:3003
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.975Z] INFO  [PID:1111609][0m キャンペーン詳細取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:11: SQL実行: 
2025-06-28T03:59:11:       SELECT c.*, 
2025-06-28T03:59:11:              ci.number as caller_id_number,
2025-06-28T03:59:11:              ci.description as calle... パラメータ数: 1
[2025-06-28T03:59:11.978Z] INFO  [PID:1111609] キャンペーン詳細取得完了: ID=171 {"level":"INFO"}
2025-06-28T03:59:11: SQL実行成功: 結果行数=1
2025-06-28T03:59:11: [36m[2025-06-28T03:59:11.978Z] INFO  [PID:1111609][0m キャンペーン詳細取得完了: ID=171 {"level":"INFO"}
[2025-06-28T03:59:12.016Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:12: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.016Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:12: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:59:12: SQL実行成功: 結果行数=1
2025-06-28T03:59:12: SQL実行: 
2025-06-28T03:59:12:       SELECT 
2025-06-28T03:59:12:         COUNT(*) as total,
2025-06-28T03:59:12:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:59:12: SQL実行成功: 結果行数=1
2025-06-28T03:59:12: SQL実行: 
2025-06-28T03:59:12:       SELECT 
2025-06-28T03:59:12:         COUNT(*) as total_calls,
2025-06-28T03:59:12:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:59:12.020Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:12: SQL実行成功: 結果行数=1
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.020Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:12: GET /api/ivr/campaigns/171 - Origin: http://146.190.83.205:3003
2025-06-28T03:59:12: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T03:59:12.059Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=171 {"level":"INFO"}
2025-06-28T03:59:12: SQL実行成功: 結果行数=1
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.059Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=171 {"level":"INFO"}
2025-06-28T03:59:12: SQL実行: 
2025-06-28T03:59:12:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:59:12:    ... パラメータ数: 1
[2025-06-28T03:59:12.061Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=171, 件数=1 {"level":"INFO"}
2025-06-28T03:59:12: SQL実行成功: 結果行数=1
[2025-06-28T03:59:12.061Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.061Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=171, 件数=1 {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.061Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T03:59:12: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T03:59:12: SQL実行成功: 結果行数=0
2025-06-28T03:59:12: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T03:59:12.063Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=171 {"level":"INFO"}
2025-06-28T03:59:12: SQL実行成功: 結果行数=1
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.063Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=171 {"level":"INFO"}
2025-06-28T03:59:12: SQL実行: 
2025-06-28T03:59:12:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:59:12:    ... パラメータ数: 1
[2025-06-28T03:59:12.064Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=171, 件数=1 {"level":"INFO"}
[2025-06-28T03:59:12.064Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T03:59:12: SQL実行成功: 結果行数=1
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.064Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=171, 件数=1 {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.064Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:59:12.065Z] INFO  [PID:1111609] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-171.conf {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.065Z] INFO  [PID:1111609][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-171.conf {"level":"INFO"}
[2025-06-28T03:59:12.093Z] INFO  [PID:1111609] 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:59:12: GET /api/audio - Origin: http://146.190.83.205:3003
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.093Z] INFO  [PID:1111609][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T03:59:12: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
[2025-06-28T03:59:12.094Z] INFO  [PID:1111609] 3件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T03:59:12: SQL実行成功: 結果行数=3
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.094Z] INFO  [PID:1111609][0m 3件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T03:59:12: SQL実行: 
2025-06-28T03:59:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:12:           FROM contacts 
2025-06-28T03:59:12:           WHERE c... パラメータ数: 1
2025-06-28T03:59:12: SQL実行成功: 結果行数=0
2025-06-28T03:59:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:12: SQL実行成功: 結果行数=1
2025-06-28T03:59:12: SQL実行: 
2025-06-28T03:59:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:12:           FROM contacts 
2025-06-28T03:59:12:           WHERE c... パラメータ数: 1
[2025-06-28T03:59:12.412Z] INFO  [PID:1111609] 📞 発信準備: 05018086649 (Campaign: テスト, 試行回数: 0) {"level":"INFO"}
2025-06-28T03:59:12: SQL実行成功: 結果行数=1
[2025-06-28T03:59:12.412Z] INFO  [PID:1111609] 🔧 発信診断開始: 05018086649 {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.412Z] INFO  [PID:1111609][0m 📞 発信準備: 05018086649 (Campaign: テスト, 試行回数: 0) {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.412Z] INFO  [PID:1111609][0m 🔧 発信診断開始: 05018086649 {"level":"INFO"}
2025-06-28T03:59:12: SQL実行: UPDATE contacts SET status = ?, last_attempt = NOW(), attempt_count = attempt_count + 1 WHERE id = ?... パラメータ数: 2
2025-06-28T03:59:12: SQL実行成功: 結果行数=不明
2025-06-28T03:59:12: SQL実行: SELECT * FROM caller_ids WHERE id = ? AND active = true... パラメータ数: 1
2025-06-28T03:59:12: SQL実行成功: 結果行数=1
[2025-06-28T03:59:12.417Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=171 {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.417Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=171 {"level":"INFO"}
2025-06-28T03:59:12: SQL実行: 
2025-06-28T03:59:12:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T03:59:12:    ... パラメータ数: 1
[2025-06-28T03:59:12.419Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=171, 件数=1 {"level":"INFO"}
2025-06-28T03:59:12: SQL実行成功: 結果行数=1
[2025-06-28T03:59:12.419Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:59:12.419Z] INFO  [PID:1111609] 🎵 自動発信で音声ファイル取得成功: 1件 (Campaign: 171) {"level":"INFO"}
[2025-06-28T03:59:12.419Z] INFO  [PID:1111609] 🎵 音声1: welcome - 549444996463302 (1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav) {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.419Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=171, 件数=1 {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.419Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
[2025-06-28T03:59:12.419Z] INFO  [PID:1111609] 🚀 音声付き自動発信実行: 05018086649 {"campaignId":171,"contactId":10166,"callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":1,"hasAudio":true,"level":"INFO"}
[2025-06-28T03:59:12.419Z] INFO  [PID:1111609] SIPプロバイダで発信: 05018086649 {"level":"INFO"}
[2025-06-28T03:59:12.420Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] ===== sipService.originate 開始 (AMI版) ===== {"level":"INFO"}
[2025-06-28T03:59:12.420Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - phoneNumber: 05018086649 {"level":"INFO"}
[2025-06-28T03:59:12.420Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - mockMode: false {"level":"INFO"}
[2025-06-28T03:59:12.420Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - connected: true {"level":"INFO"}
[2025-06-28T03:59:12.420Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] 実発信モードで AMI発信を開始: 発信先=05018086649 {"level":"INFO"}
[2025-06-28T03:59:12.420Z] INFO  [PID:1111609] 🔍 SIPアカウント選択開始 {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.419Z] INFO  [PID:1111609][0m 🎵 自動発信で音声ファイル取得成功: 1件 (Campaign: 171) {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.419Z] INFO  [PID:1111609][0m 🎵 音声1: welcome - 549444996463302 (1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav) {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.419Z] INFO  [PID:1111609][0m 🚀 音声付き自動発信実行: 05018086649 {"campaignId":171,"contactId":10166,"callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":1,"hasAudio":true,"level":"INFO"}
2025-06-28T03:59:12: 🚀🚀🚀 CALLSERVICE-START: originateメソッド開始（SIP専用）
2025-06-28T03:59:12: 🚀🚀🚀 CALLSERVICE-PARAMS: {"phoneNumber":"05018086649","callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","context":"autodialer","exten":"s","priority":1,"variables":{"CAMPAIGN_ID":171,"CONTACT_ID":10166,"CONTACT_NAME":"","COMPANY":"","AUTO_DIAL":"true","DIALER_VERSION":"v2.0"},"callerIdData":{"id":8,"number":"0369087851","description":"6/9 契約開始　1番号（25U、23CH）","provider":"外部","domain":"pantex.online","active":1,"created_at":"2025-06-14 10:02:51"},"mockMode":false,"provider":"sip","campaignAudio":[{"audio_type":"welcome","id":"1fdbb84a-dc24-4a44-87c9-713b65021f12","name":"549444996463302","filename":"1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav","mimetype":"audio/wav","description":"","path":"/var/www/autodialer/backend/audio-files/1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav"}]}
2025-06-28T03:59:12: 🚀🚀🚀 CALLSERVICE-PROVIDER: sip（固定）
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.419Z] INFO  [PID:1111609][0m SIPプロバイダで発信: 05018086649 {"level":"INFO"}
2025-06-28T03:59:12: 🚀🚀🚀 CALLSERVICE-SERVICE: SIPサービス利用可能
2025-06-28T03:59:12: 🚀🚀🚀 CALLSERVICE-EXEC-1: SIP発信実行直前
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.420Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] ===== sipService.originate 開始 (AMI版) ===== {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.420Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - phoneNumber: 05018086649 {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.420Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - mockMode: false {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.420Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - connected: true {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.420Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] 実発信モードで AMI発信を開始: 発信先=05018086649 {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.420Z] INFO  [PID:1111609][0m 🔍 SIPアカウント選択開始 {"level":"INFO"}
2025-06-28T03:59:12: SQL実行: SELECT caller_id_id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T03:59:12.421Z] INFO  [PID:1111609] 🔍 キャンペーン171 → 発信者番号ID: 8 {"level":"INFO"}
[2025-06-28T03:59:12.421Z] INFO  [PID:1111609] 🔍 選択されたSIPアカウント: 03500002 {"level":"INFO"}
[2025-06-28T03:59:12.421Z] INFO  [PID:1111609] 🔍 - username: "03500002" (type: string) {"level":"INFO"}
[2025-06-28T03:59:12.421Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] AMI発信準備完了: {"level":"INFO"}
[2025-06-28T03:59:12.421Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - formattedNumber: 05018086649 {"level":"INFO"}
[2025-06-28T03:59:12.421Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - callId: ami-1751083152421-9702 {"level":"INFO"}
[2025-06-28T03:59:12.421Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し開始 ===== {"level":"INFO"}
[2025-06-28T03:59:12.421Z] INFO  [PID:1111609] 🔍 ===== AMI発信データ追跡開始 ===== {"level":"INFO"}
[2025-06-28T03:59:12.421Z] INFO  [PID:1111609] 🔍 STEP1-引数確認: sipAccount.username="03500002" (type: string) {"level":"INFO"}
[2025-06-28T03:59:12.421Z] INFO  [PID:1111609] 🔍 STEP1-引数確認: formattedNumber="05018086649" {"level":"INFO"}
[2025-06-28T03:59:12.421Z] INFO  [PID:1111609] 🔍 STEP1-引数確認: callId="ami-1751083152421-9702" {"level":"INFO"}
[2025-06-28T03:59:12.421Z] INFO  [PID:1111609] 🔍 STEP1-引数確認: campaignId="171" {"level":"INFO"}
[2025-06-28T03:59:12.422Z] INFO  [PID:1111609] 🔍 STEP3-ディープコピー: safeSipAccount.username="03500002" {"level":"INFO"}
[2025-06-28T03:59:12.422Z] INFO  [PID:1111609] 🔍 STEP4-Channel構築: "SIP/03500002@pantex.online" {"level":"INFO"}
[2025-06-28T03:59:12.422Z] INFO  [PID:1111609] ✅ データ整合性確認完了 - AMI送信実行 {"level":"INFO"}
[2025-06-28T03:59:12.422Z] INFO  [PID:1111609] 📤 AMI送信内容: {"level":"INFO"}
[2025-06-28T03:59:12.422Z] INFO  [PID:1111609] Action: Originate
Channel: PJSIP/05018086649@03500002
Context: autodialer-campaign-171
Exten: s
Priority: 1
CallerID: "0369087851" <0369087851>
Variable: CALLERID(name)=0369087851
Variable: CALLERID(num)=0369087851
Variable: PJSIP_HEADER(update,From)=\"0369087851\" <sip:0369087851@pantex.online>
ActionID: ami-1751083152421-9702
Async: yes

 {"level":"INFO"}
[2025-06-28T03:59:12.422Z] INFO  [PID:1111609] 📤 AMI送信開始: {"0":"A","1":"c","2":"t","3":"i","4":"o","5":"n","6":":","7":" ","8":"O","9":"r","10":"i","11":"g","12":"i","13":"n","14":"a","15":"t","16":"e","17":"\r","18":"\n","19":"C","20":"h","21":"a","22":"n","23":"n","24":"e","25":"l","26":":","27":" ","28":"P","29":"J","30":"S","31":"I","32":"P","33":"/","34":"0","35":"5","36":"0","37":"1","38":"8","39":"0","40":"8","41":"6","42":"6","43":"4","44":"9","45":"@","46":"0","47":"3","48":"5","49":"0","50":"0","51":"0","52":"0","53":"2","54":"\r","55":"\n","56":"C","57":"o","58":"n","59":"t","60":"e","61":"x","62":"t","63":":","64":" ","65":"a","66":"u","67":"t","68":"o","69":"d","70":"i","71":"a","72":"l","73":"e","74":"r","75":"-","76":"c","77":"a","78":"m","79":"p","80":"a","81":"i","82":"g","83":"n","84":"-","85":"1","86":"7","87":"1","88":"\r","89":"\n","90":"E","91":"x","92":"t","93":"e","94":"n","95":":","96":" ","97":"s","98":"\r","99":"\n","level":"INFO"}
2025-06-28T03:59:12: SQL実行成功: 結果行数=1
[2025-06-28T03:59:12.423Z] INFO  [PID:1111609] AMI応答: Response: Success
ActionID: ami-1751083152421-9702
Message: Originate successfully queued

 {"level":"INFO"}
[2025-06-28T03:59:12.423Z] INFO  [PID:1111609] 📥 AMI応答受信: Response: Success
ActionID: ami-1751083152421-9702
Message: Originate successfully queued

 {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.421Z] INFO  [PID:1111609][0m 🔍 キャンペーン171 → 発信者番号ID: 8 {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.421Z] INFO  [PID:1111609][0m 🔍 選択されたSIPアカウント: 03500002 {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.421Z] INFO  [PID:1111609][0m 🔍 - username: "03500002" (type: string) {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.421Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] AMI発信準備完了: {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.421Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - formattedNumber: 05018086649 {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.421Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - callId: ami-1751083152421-9702 {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.421Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し開始 ===== {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.421Z] INFO  [PID:1111609][0m 🔍 ===== AMI発信データ追跡開始 ===== {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.421Z] INFO  [PID:1111609][0m 🔍 STEP1-引数確認: sipAccount.username="03500002" (type: string) {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.421Z] INFO  [PID:1111609][0m 🔍 STEP1-引数確認: formattedNumber="05018086649" {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.421Z] INFO  [PID:1111609][0m 🔍 STEP1-引数確認: callId="ami-1751083152421-9702" {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.421Z] INFO  [PID:1111609][0m 🔍 STEP1-引数確認: campaignId="171" {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.422Z] INFO  [PID:1111609][0m 🔍 STEP3-ディープコピー: safeSipAccount.username="03500002" {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.422Z] INFO  [PID:1111609][0m 🔍 STEP4-Channel構築: "SIP/03500002@pantex.online" {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.422Z] INFO  [PID:1111609][0m ✅ データ整合性確認完了 - AMI送信実行 {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.422Z] INFO  [PID:1111609][0m 📤 AMI送信内容: {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.422Z] INFO  [PID:1111609][0m Action: Originate
2025-06-28T03:59:12: Channel: PJSIP/05018086649@03500002
2025-06-28T03:59:12: Context: autodialer-campaign-171
2025-06-28T03:59:12: Exten: s
2025-06-28T03:59:12: Priority: 1
2025-06-28T03:59:12: CallerID: "0369087851" <0369087851>
2025-06-28T03:59:12: Variable: CALLERID(name)=0369087851
2025-06-28T03:59:12: Variable: CALLERID(num)=0369087851
2025-06-28T03:59:12: Variable: PJSIP_HEADER(update,From)=\"0369087851\" <sip:0369087851@pantex.online>
2025-06-28T03:59:12: ActionID: ami-1751083152421-9702
2025-06-28T03:59:12: Async: yes
2025-06-28T03:59:12: 
2025-06-28T03:59:12:  {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.422Z] INFO  [PID:1111609][0m 📤 AMI送信開始: {"0":"A","1":"c","2":"t","3":"i","4":"o","5":"n","6":":","7":" ","8":"O","9":"r","10":"i","11":"g","12":"i","13":"n","14":"a","15":"t","16":"e","17":"\r","18":"\n","19":"C","20":"h","21":"a","22":"n","23":"n","24":"e","25":"l","26":":","27":" ","28":"P","29":"J","30":"S","31":"I","32":"P","33":"/","34":"0","35":"5","36":"0","37":"1","38":"8","39":"0","40":"8","41":"6","42":"6","43":"4","44":"9","45":"@","46":"0","47":"3","48":"5","49":"0","50":"0","51":"0","52":"0","53":"2","54":"\r","55":"\n","56":"C","57":"o","58":"n","59":"t","60":"e","61":"x","62":"t","63":":","64":" ","65":"a","66":"u","67":"t","68":"o","69":"d","70":"i","71":"a","72":"l","73":"e","74":"r","75":"-","76":"c","77":"a","78":"m","79":"p","80":"a","81":"i","82":"g","83":"n","84":"-","85":"1","86":"7","87":"1","88":"\r","89":"\n","90":"E","91":"x","92":"t","93":"e","94":"n","95":":","96":" ","97":"s","98":"\r","99":"\n","level":"INFO"}
[2025-06-28T03:59:12.423Z] INFO  [PID:1111609] ✅ AMI送信成功 {"level":"INFO"}
[2025-06-28T03:59:12.423Z] INFO  [PID:1111609] ✅ AMI送信成功 {"level":"INFO"}
[2025-06-28T03:59:12.423Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し完了: true ===== {"level":"INFO"}
[2025-06-28T03:59:12.424Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] sipService.originate 正常完了 (AMI版) {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.423Z] INFO  [PID:1111609][0m AMI応答: Response: Success
2025-06-28T03:59:12: ActionID: ami-1751083152421-9702
2025-06-28T03:59:12: Message: Originate successfully queued
2025-06-28T03:59:12: 
2025-06-28T03:59:12:  {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.423Z] INFO  [PID:1111609][0m 📥 AMI応答受信: Response: Success
2025-06-28T03:59:12: ActionID: ami-1751083152421-9702
2025-06-28T03:59:12: Message: Originate successfully queued
2025-06-28T03:59:12: 
2025-06-28T03:59:12:  {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.423Z] INFO  [PID:1111609][0m ✅ AMI送信成功 {"level":"INFO"}
[2025-06-28T03:59:12.424Z] INFO  [PID:1111609] ✅ 音声付き自動発信成功: 05018086649 → CallID: ami-1751083152421-9702, Provider: sip, Audio: 1件 {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.423Z] INFO  [PID:1111609][0m ✅ AMI送信成功 {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.423Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し完了: true ===== {"level":"INFO"}
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.424Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] sipService.originate 正常完了 (AMI版) {"level":"INFO"}
2025-06-28T03:59:12: 🚀🚀🚀 CALLSERVICE-EXEC-2: SIP発信完了: レスポンスあり
2025-06-28T03:59:12: 🚀🚀🚀 CALLSERVICE-SUCCESS: SIP発信成功
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.424Z] INFO  [PID:1111609][0m ✅ 音声付き自動発信成功: 05018086649 → CallID: ami-1751083152421-9702, Provider: sip, Audio: 1件 {"level":"INFO"}
2025-06-28T03:59:12: SQL実行: 
2025-06-28T03:59:12:         INSERT INTO call_logs 
2025-06-28T03:59:12:         (contact_id, campaign_id, caller_id_id, call_id, phone_numbe... パラメータ数: 8
[2025-06-28T03:59:12.432Z] INFO  [PID:1111609] 🎯 音声付き発信診断完了: 05018086649 (処理時間: 20ms, 音声: 1件) {"level":"INFO"}
2025-06-28T03:59:12: SQL実行成功: 結果行数=不明
2025-06-28T03:59:12: [36m[2025-06-28T03:59:12.432Z] INFO  [PID:1111609][0m 🎯 音声付き発信診断完了: 05018086649 (処理時間: 20ms, 音声: 1件) {"level":"INFO"}
[2025-06-28T03:59:14.434Z] INFO  [PID:1111609] 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
2025-06-28T03:59:14: [36m[2025-06-28T03:59:14.434Z] INFO  [PID:1111609][0m 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
2025-06-28T03:59:16: SQL実行: 
2025-06-28T03:59:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:59:16:                ci.number as ca... 
2025-06-28T03:59:16: SQL実行成功: 結果行数=80
[2025-06-28T03:59:17.019Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:17: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:59:17: [36m[2025-06-28T03:59:17.019Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:17: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:59:17: SQL実行成功: 結果行数=1
2025-06-28T03:59:17: SQL実行: 
2025-06-28T03:59:17:       SELECT 
2025-06-28T03:59:17:         COUNT(*) as total,
2025-06-28T03:59:17:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:59:17: SQL実行成功: 結果行数=1
2025-06-28T03:59:17: SQL実行: 
2025-06-28T03:59:17:       SELECT 
2025-06-28T03:59:17:         COUNT(*) as total_calls,
2025-06-28T03:59:17:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:59:17.023Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:17: SQL実行成功: 結果行数=1
2025-06-28T03:59:17: [36m[2025-06-28T03:59:17.023Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:17: SQL実行: 
2025-06-28T03:59:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:17:           FROM contacts 
2025-06-28T03:59:17:           WHERE c... パラメータ数: 1
2025-06-28T03:59:17: SQL実行成功: 結果行数=0
2025-06-28T03:59:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:17: SQL実行成功: 結果行数=1
2025-06-28T03:59:17: SQL実行: 
2025-06-28T03:59:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:17:           FROM contacts 
2025-06-28T03:59:17:           WHERE c... パラメータ数: 1
2025-06-28T03:59:17: SQL実行成功: 結果行数=0
2025-06-28T03:59:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:17: SQL実行成功: 結果行数=1
2025-06-28T03:59:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
2025-06-28T03:59:21: SQL実行成功: 結果行数=1
[2025-06-28T03:59:21.250Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:59:21: [36m[2025-06-28T03:59:21.250Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T03:59:21: POST /api/callback/call-end - Origin: none
2025-06-28T03:59:21: ❌ 404 Not Found: POST /api/callback/call-end
[2025-06-28T03:59:22.019Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:22: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:59:22: [36m[2025-06-28T03:59:22.019Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:22: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:59:22: SQL実行成功: 結果行数=1
2025-06-28T03:59:22: SQL実行: 
2025-06-28T03:59:22:       SELECT 
2025-06-28T03:59:22:         COUNT(*) as total,
2025-06-28T03:59:22:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:59:22: SQL実行成功: 結果行数=1
2025-06-28T03:59:22: SQL実行: 
2025-06-28T03:59:22:       SELECT 
2025-06-28T03:59:22:         COUNT(*) as total_calls,
2025-06-28T03:59:22:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:59:22.023Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:22: SQL実行成功: 結果行数=1
2025-06-28T03:59:22: [36m[2025-06-28T03:59:22.023Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:22: SQL実行: 
2025-06-28T03:59:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:22:           FROM contacts 
2025-06-28T03:59:22:           WHERE c... パラメータ数: 1
2025-06-28T03:59:22: SQL実行成功: 結果行数=0
2025-06-28T03:59:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:22: SQL実行成功: 結果行数=1
2025-06-28T03:59:22: SQL実行: 
2025-06-28T03:59:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:22:           FROM contacts 
2025-06-28T03:59:22:           WHERE c... パラメータ数: 1
2025-06-28T03:59:22: SQL実行成功: 結果行数=0
2025-06-28T03:59:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:22: SQL実行成功: 結果行数=1
[2025-06-28T03:59:27.025Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:27: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:59:27: [36m[2025-06-28T03:59:27.025Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:59:27: SQL実行成功: 結果行数=1
2025-06-28T03:59:27: SQL実行: 
2025-06-28T03:59:27:       SELECT 
2025-06-28T03:59:27:         COUNT(*) as total,
2025-06-28T03:59:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:59:27: SQL実行成功: 結果行数=1
2025-06-28T03:59:27: SQL実行: 
2025-06-28T03:59:27:       SELECT 
2025-06-28T03:59:27:         COUNT(*) as total_calls,
2025-06-28T03:59:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:59:27: SQL実行成功: 結果行数=1
[2025-06-28T03:59:27.029Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:27: [36m[2025-06-28T03:59:27.029Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:27: SQL実行: 
2025-06-28T03:59:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:27:           FROM contacts 
2025-06-28T03:59:27:           WHERE c... パラメータ数: 1
2025-06-28T03:59:27: SQL実行成功: 結果行数=0
2025-06-28T03:59:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:27: SQL実行成功: 結果行数=1
2025-06-28T03:59:27: SQL実行: 
2025-06-28T03:59:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:27:           FROM contacts 
2025-06-28T03:59:27:           WHERE c... パラメータ数: 1
2025-06-28T03:59:27: SQL実行成功: 結果行数=0
2025-06-28T03:59:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:27: SQL実行成功: 結果行数=1
2025-06-28T03:59:31: SQL実行: SELECT 1... 
2025-06-28T03:59:31: SQL実行成功: 結果行数=1
2025-06-28T03:59:31: SQL実行: 
2025-06-28T03:59:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:59:31:                ci.number as ca... 
2025-06-28T03:59:31: SQL実行成功: 結果行数=80
[2025-06-28T03:59:32.022Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:32: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:59:32: [36m[2025-06-28T03:59:32.022Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:32: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:59:32: SQL実行成功: 結果行数=1
2025-06-28T03:59:32: SQL実行: 
2025-06-28T03:59:32:       SELECT 
2025-06-28T03:59:32:         COUNT(*) as total,
2025-06-28T03:59:32:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:59:32: SQL実行成功: 結果行数=1
2025-06-28T03:59:32: SQL実行: 
2025-06-28T03:59:32:       SELECT 
2025-06-28T03:59:32:         COUNT(*) as total_calls,
2025-06-28T03:59:32:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:59:32.026Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:32: SQL実行成功: 結果行数=1
2025-06-28T03:59:32: [36m[2025-06-28T03:59:32.026Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:32: SQL実行: 
2025-06-28T03:59:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:32:           FROM contacts 
2025-06-28T03:59:32:           WHERE c... パラメータ数: 1
2025-06-28T03:59:32: SQL実行成功: 結果行数=0
2025-06-28T03:59:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:32: SQL実行成功: 結果行数=1
2025-06-28T03:59:32: SQL実行: 
2025-06-28T03:59:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:32:           FROM contacts 
2025-06-28T03:59:32:           WHERE c... パラメータ数: 1
2025-06-28T03:59:32: SQL実行成功: 結果行数=0
2025-06-28T03:59:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:32: SQL実行成功: 結果行数=1
[2025-06-28T03:59:37.022Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:37: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:59:37: [36m[2025-06-28T03:59:37.022Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:37: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:59:37: SQL実行成功: 結果行数=1
2025-06-28T03:59:37: SQL実行: 
2025-06-28T03:59:37:       SELECT 
2025-06-28T03:59:37:         COUNT(*) as total,
2025-06-28T03:59:37:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:59:37: SQL実行成功: 結果行数=1
2025-06-28T03:59:37: SQL実行: 
2025-06-28T03:59:37:       SELECT 
2025-06-28T03:59:37:         COUNT(*) as total_calls,
2025-06-28T03:59:37:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:59:37.026Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:37: SQL実行成功: 結果行数=1
2025-06-28T03:59:37: [36m[2025-06-28T03:59:37.026Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:37: SQL実行: 
2025-06-28T03:59:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:37:           FROM contacts 
2025-06-28T03:59:37:           WHERE c... パラメータ数: 1
2025-06-28T03:59:37: SQL実行成功: 結果行数=0
2025-06-28T03:59:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:37: SQL実行成功: 結果行数=1
2025-06-28T03:59:37: SQL実行: 
2025-06-28T03:59:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:37:           FROM contacts 
2025-06-28T03:59:37:           WHERE c... パラメータ数: 1
2025-06-28T03:59:37: SQL実行成功: 結果行数=0
2025-06-28T03:59:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:37: SQL実行成功: 結果行数=1
[2025-06-28T03:59:42.023Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:42: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:59:42: [36m[2025-06-28T03:59:42.023Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:42: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:59:42: SQL実行成功: 結果行数=1
2025-06-28T03:59:42: SQL実行: 
2025-06-28T03:59:42:       SELECT 
2025-06-28T03:59:42:         COUNT(*) as total,
2025-06-28T03:59:42:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:59:42: SQL実行成功: 結果行数=1
2025-06-28T03:59:42: SQL実行: 
2025-06-28T03:59:42:       SELECT 
2025-06-28T03:59:42:         COUNT(*) as total_calls,
2025-06-28T03:59:42:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:59:42.027Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:42: SQL実行成功: 結果行数=1
2025-06-28T03:59:42: [36m[2025-06-28T03:59:42.027Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:42: SQL実行: 
2025-06-28T03:59:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:42:           FROM contacts 
2025-06-28T03:59:42:           WHERE c... パラメータ数: 1
2025-06-28T03:59:42: SQL実行成功: 結果行数=0
2025-06-28T03:59:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:42: SQL実行成功: 結果行数=1
2025-06-28T03:59:42: SQL実行: 
2025-06-28T03:59:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:42:           FROM contacts 
2025-06-28T03:59:42:           WHERE c... パラメータ数: 1
2025-06-28T03:59:42: SQL実行成功: 結果行数=0
2025-06-28T03:59:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:42: SQL実行成功: 結果行数=1
2025-06-28T03:59:46: SQL実行: 
2025-06-28T03:59:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T03:59:46:                ci.number as ca... 
2025-06-28T03:59:46: SQL実行成功: 結果行数=80
[2025-06-28T03:59:47.018Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:47: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:59:47: [36m[2025-06-28T03:59:47.018Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:47: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:59:47: SQL実行成功: 結果行数=1
2025-06-28T03:59:47: SQL実行: 
2025-06-28T03:59:47:       SELECT 
2025-06-28T03:59:47:         COUNT(*) as total,
2025-06-28T03:59:47:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:59:47: SQL実行成功: 結果行数=1
2025-06-28T03:59:47: SQL実行: 
2025-06-28T03:59:47:       SELECT 
2025-06-28T03:59:47:         COUNT(*) as total_calls,
2025-06-28T03:59:47:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:59:47.025Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:47: SQL実行成功: 結果行数=1
2025-06-28T03:59:47: [36m[2025-06-28T03:59:47.025Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:47: SQL実行: 
2025-06-28T03:59:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:47:           FROM contacts 
2025-06-28T03:59:47:           WHERE c... パラメータ数: 1
2025-06-28T03:59:47: SQL実行成功: 結果行数=0
2025-06-28T03:59:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:47: SQL実行成功: 結果行数=1
2025-06-28T03:59:47: SQL実行: 
2025-06-28T03:59:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:47:           FROM contacts 
2025-06-28T03:59:47:           WHERE c... パラメータ数: 1
2025-06-28T03:59:47: SQL実行成功: 結果行数=0
2025-06-28T03:59:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:47: SQL実行成功: 結果行数=1
[2025-06-28T03:59:52.022Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:52: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:59:52: [36m[2025-06-28T03:59:52.022Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:52: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:59:52: SQL実行成功: 結果行数=1
2025-06-28T03:59:52: SQL実行: 
2025-06-28T03:59:52:       SELECT 
2025-06-28T03:59:52:         COUNT(*) as total,
2025-06-28T03:59:52:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:59:52: SQL実行成功: 結果行数=1
2025-06-28T03:59:52: SQL実行: 
2025-06-28T03:59:52:       SELECT 
2025-06-28T03:59:52:         COUNT(*) as total_calls,
2025-06-28T03:59:52:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T03:59:52: SQL実行成功: 結果行数=1
[2025-06-28T03:59:52.027Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:52: [36m[2025-06-28T03:59:52.027Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:52: SQL実行: 
2025-06-28T03:59:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:52:           FROM contacts 
2025-06-28T03:59:52:           WHERE c... パラメータ数: 1
2025-06-28T03:59:52: SQL実行成功: 結果行数=0
2025-06-28T03:59:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:52: SQL実行成功: 結果行数=1
2025-06-28T03:59:52: SQL実行: 
2025-06-28T03:59:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:52:           FROM contacts 
2025-06-28T03:59:52:           WHERE c... パラメータ数: 1
2025-06-28T03:59:52: SQL実行成功: 結果行数=0
2025-06-28T03:59:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:52: SQL実行成功: 結果行数=1
[2025-06-28T03:59:57.022Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:57: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T03:59:57: [36m[2025-06-28T03:59:57.022Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T03:59:57: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T03:59:57: SQL実行成功: 結果行数=1
2025-06-28T03:59:57: SQL実行: 
2025-06-28T03:59:57:       SELECT 
2025-06-28T03:59:57:         COUNT(*) as total,
2025-06-28T03:59:57:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T03:59:57: SQL実行成功: 結果行数=1
2025-06-28T03:59:57: SQL実行: 
2025-06-28T03:59:57:       SELECT 
2025-06-28T03:59:57:         COUNT(*) as total_calls,
2025-06-28T03:59:57:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T03:59:57.026Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:57: SQL実行成功: 結果行数=1
2025-06-28T03:59:57: [36m[2025-06-28T03:59:57.026Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T03:59:57: SQL実行: 
2025-06-28T03:59:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:57:           FROM contacts 
2025-06-28T03:59:57:           WHERE c... パラメータ数: 1
2025-06-28T03:59:57: SQL実行成功: 結果行数=0
2025-06-28T03:59:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:57: SQL実行成功: 結果行数=1
2025-06-28T03:59:57: SQL実行: 
2025-06-28T03:59:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T03:59:57:           FROM contacts 
2025-06-28T03:59:57:           WHERE c... パラメータ数: 1
2025-06-28T03:59:57: SQL実行成功: 結果行数=0
2025-06-28T03:59:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T03:59:57: SQL実行成功: 結果行数=1
2025-06-28T04:00:01: SQL実行: SELECT 1... 
2025-06-28T04:00:01: SQL実行成功: 結果行数=1
2025-06-28T04:00:01: SQL実行: 
2025-06-28T04:00:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:00:01:                ci.number as ca... 
2025-06-28T04:00:01: SQL実行成功: 結果行数=80
[2025-06-28T04:00:02.019Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:02: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:00:02: [36m[2025-06-28T04:00:02.019Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:02: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:00:02: SQL実行成功: 結果行数=1
2025-06-28T04:00:02: SQL実行: 
2025-06-28T04:00:02:       SELECT 
2025-06-28T04:00:02:         COUNT(*) as total,
2025-06-28T04:00:02:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:00:02: SQL実行成功: 結果行数=1
2025-06-28T04:00:02: SQL実行: 
2025-06-28T04:00:02:       SELECT 
2025-06-28T04:00:02:         COUNT(*) as total_calls,
2025-06-28T04:00:02:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:00:02: SQL実行成功: 結果行数=1
2025-06-28T04:00:02: [36m[2025-06-28T04:00:02.031Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
[2025-06-28T04:00:02.031Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:02: SQL実行: 
2025-06-28T04:00:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:02:           FROM contacts 
2025-06-28T04:00:02:           WHERE c... パラメータ数: 1
2025-06-28T04:00:02: SQL実行成功: 結果行数=0
2025-06-28T04:00:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:02: SQL実行成功: 結果行数=1
2025-06-28T04:00:02: SQL実行: 
2025-06-28T04:00:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:02:           FROM contacts 
2025-06-28T04:00:02:           WHERE c... パラメータ数: 1
2025-06-28T04:00:02: SQL実行成功: 結果行数=0
2025-06-28T04:00:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:02: SQL実行成功: 結果行数=1
2025-06-28T04:00:07: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
[2025-06-28T04:00:07.023Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:07: [36m[2025-06-28T04:00:07.023Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:07: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:00:07: SQL実行成功: 結果行数=1
2025-06-28T04:00:07: SQL実行: 
2025-06-28T04:00:07:       SELECT 
2025-06-28T04:00:07:         COUNT(*) as total,
2025-06-28T04:00:07:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:00:07: SQL実行成功: 結果行数=1
2025-06-28T04:00:07: SQL実行: 
2025-06-28T04:00:07:       SELECT 
2025-06-28T04:00:07:         COUNT(*) as total_calls,
2025-06-28T04:00:07:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:00:07.029Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:07: SQL実行成功: 結果行数=1
2025-06-28T04:00:07: [36m[2025-06-28T04:00:07.029Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:07: SQL実行: 
2025-06-28T04:00:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:07:           FROM contacts 
2025-06-28T04:00:07:           WHERE c... パラメータ数: 1
2025-06-28T04:00:07: SQL実行成功: 結果行数=0
2025-06-28T04:00:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:07: SQL実行成功: 結果行数=1
2025-06-28T04:00:07: SQL実行: 
2025-06-28T04:00:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:07:           FROM contacts 
2025-06-28T04:00:07:           WHERE c... パラメータ数: 1
2025-06-28T04:00:07: SQL実行成功: 結果行数=0
2025-06-28T04:00:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:07: SQL実行成功: 結果行数=1
[2025-06-28T04:00:12.023Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:12: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:00:12: [36m[2025-06-28T04:00:12.023Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:12: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:00:12: SQL実行成功: 結果行数=1
2025-06-28T04:00:12: SQL実行: 
2025-06-28T04:00:12:       SELECT 
2025-06-28T04:00:12:         COUNT(*) as total,
2025-06-28T04:00:12:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:00:12: SQL実行成功: 結果行数=1
2025-06-28T04:00:12: SQL実行: 
2025-06-28T04:00:12:       SELECT 
2025-06-28T04:00:12:         COUNT(*) as total_calls,
2025-06-28T04:00:12:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:00:12.030Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:12: SQL実行成功: 結果行数=1
2025-06-28T04:00:12: [36m[2025-06-28T04:00:12.030Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:12: SQL実行: 
2025-06-28T04:00:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:12:           FROM contacts 
2025-06-28T04:00:12:           WHERE c... パラメータ数: 1
2025-06-28T04:00:12: SQL実行成功: 結果行数=0
2025-06-28T04:00:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:12: SQL実行成功: 結果行数=1
2025-06-28T04:00:12: SQL実行: 
2025-06-28T04:00:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:12:           FROM contacts 
2025-06-28T04:00:12:           WHERE c... パラメータ数: 1
2025-06-28T04:00:12: SQL実行成功: 結果行数=0
2025-06-28T04:00:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:12: SQL実行成功: 結果行数=1
2025-06-28T04:00:16: SQL実行: 
2025-06-28T04:00:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:00:16:                ci.number as ca... 
2025-06-28T04:00:16: SQL実行成功: 結果行数=80
2025-06-28T04:00:17: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:00:17: [36m[2025-06-28T04:00:17.033Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
[2025-06-28T04:00:17.033Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:17: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:00:17: SQL実行成功: 結果行数=1
2025-06-28T04:00:17: SQL実行: 
2025-06-28T04:00:17:       SELECT 
2025-06-28T04:00:17:         COUNT(*) as total,
2025-06-28T04:00:17:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:00:17: SQL実行成功: 結果行数=1
2025-06-28T04:00:17: SQL実行: 
2025-06-28T04:00:17:       SELECT 
2025-06-28T04:00:17:         COUNT(*) as total_calls,
2025-06-28T04:00:17:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:00:17.041Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:17: SQL実行成功: 結果行数=1
2025-06-28T04:00:17: [36m[2025-06-28T04:00:17.041Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:17: SQL実行: 
2025-06-28T04:00:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:17:           FROM contacts 
2025-06-28T04:00:17:           WHERE c... パラメータ数: 1
2025-06-28T04:00:17: SQL実行成功: 結果行数=0
2025-06-28T04:00:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:17: SQL実行成功: 結果行数=1
2025-06-28T04:00:17: SQL実行: 
2025-06-28T04:00:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:17:           FROM contacts 
2025-06-28T04:00:17:           WHERE c... パラメータ数: 1
2025-06-28T04:00:17: SQL実行成功: 結果行数=0
2025-06-28T04:00:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:17: SQL実行成功: 結果行数=1
2025-06-28T04:00:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T04:00:21.251Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:00:21: SQL実行成功: 結果行数=1
2025-06-28T04:00:21: [36m[2025-06-28T04:00:21.251Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:00:22: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
[2025-06-28T04:00:22.021Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:22: [36m[2025-06-28T04:00:22.021Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:22: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:00:22: SQL実行成功: 結果行数=1
2025-06-28T04:00:22: SQL実行: 
2025-06-28T04:00:22:       SELECT 
2025-06-28T04:00:22:         COUNT(*) as total,
2025-06-28T04:00:22:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:00:22: SQL実行成功: 結果行数=1
2025-06-28T04:00:22: SQL実行: 
2025-06-28T04:00:22:       SELECT 
2025-06-28T04:00:22:         COUNT(*) as total_calls,
2025-06-28T04:00:22:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:00:22.026Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:22: SQL実行成功: 結果行数=1
2025-06-28T04:00:22: [36m[2025-06-28T04:00:22.026Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:22: SQL実行: 
2025-06-28T04:00:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:22:           FROM contacts 
2025-06-28T04:00:22:           WHERE c... パラメータ数: 1
2025-06-28T04:00:22: SQL実行成功: 結果行数=0
2025-06-28T04:00:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:22: SQL実行成功: 結果行数=1
2025-06-28T04:00:22: SQL実行: 
2025-06-28T04:00:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:22:           FROM contacts 
2025-06-28T04:00:22:           WHERE c... パラメータ数: 1
2025-06-28T04:00:22: SQL実行成功: 結果行数=0
2025-06-28T04:00:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:22: SQL実行成功: 結果行数=1
[2025-06-28T04:00:27.020Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:27: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:00:27: [36m[2025-06-28T04:00:27.020Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:00:27: SQL実行成功: 結果行数=1
2025-06-28T04:00:27: SQL実行: 
2025-06-28T04:00:27:       SELECT 
2025-06-28T04:00:27:         COUNT(*) as total,
2025-06-28T04:00:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-28T04:00:27.042Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:27: SQL実行成功: 結果行数=1
2025-06-28T04:00:27: SQL実行: 
2025-06-28T04:00:27:       SELECT 
2025-06-28T04:00:27:         COUNT(*) as total_calls,
2025-06-28T04:00:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:00:27: SQL実行成功: 結果行数=1
2025-06-28T04:00:27: [36m[2025-06-28T04:00:27.042Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:27: SQL実行: 
2025-06-28T04:00:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:27:           FROM contacts 
2025-06-28T04:00:27:           WHERE c... パラメータ数: 1
2025-06-28T04:00:27: SQL実行成功: 結果行数=0
2025-06-28T04:00:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:27: SQL実行成功: 結果行数=1
2025-06-28T04:00:27: SQL実行: 
2025-06-28T04:00:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:27:           FROM contacts 
2025-06-28T04:00:27:           WHERE c... パラメータ数: 1
2025-06-28T04:00:27: SQL実行成功: 結果行数=0
2025-06-28T04:00:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:27: SQL実行成功: 結果行数=1
2025-06-28T04:00:31: SQL実行: SELECT 1... 
2025-06-28T04:00:31: SQL実行成功: 結果行数=1
2025-06-28T04:00:31: SQL実行: 
2025-06-28T04:00:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:00:31:                ci.number as ca... 
2025-06-28T04:00:31: SQL実行成功: 結果行数=80
[2025-06-28T04:00:32.022Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:32: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:00:32: [36m[2025-06-28T04:00:32.022Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:32: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:00:32: SQL実行成功: 結果行数=1
2025-06-28T04:00:32: SQL実行: 
2025-06-28T04:00:32:       SELECT 
2025-06-28T04:00:32:         COUNT(*) as total,
2025-06-28T04:00:32:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:00:32: SQL実行成功: 結果行数=1
2025-06-28T04:00:32: SQL実行: 
2025-06-28T04:00:32:       SELECT 
2025-06-28T04:00:32:         COUNT(*) as total_calls,
2025-06-28T04:00:32:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:00:32.027Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:32: SQL実行成功: 結果行数=1
2025-06-28T04:00:32: [36m[2025-06-28T04:00:32.027Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:32: SQL実行: 
2025-06-28T04:00:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:32:           FROM contacts 
2025-06-28T04:00:32:           WHERE c... パラメータ数: 1
2025-06-28T04:00:32: SQL実行成功: 結果行数=0
2025-06-28T04:00:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:32: SQL実行成功: 結果行数=1
2025-06-28T04:00:32: SQL実行: 
2025-06-28T04:00:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:32:           FROM contacts 
2025-06-28T04:00:32:           WHERE c... パラメータ数: 1
2025-06-28T04:00:32: SQL実行成功: 結果行数=0
2025-06-28T04:00:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:32: SQL実行成功: 結果行数=1
[2025-06-28T04:00:37.019Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:37: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:00:37: [36m[2025-06-28T04:00:37.019Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:37: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:00:37: SQL実行成功: 結果行数=1
2025-06-28T04:00:37: SQL実行: 
2025-06-28T04:00:37:       SELECT 
2025-06-28T04:00:37:         COUNT(*) as total,
2025-06-28T04:00:37:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-28T04:00:37.030Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:37: SQL実行成功: 結果行数=1
2025-06-28T04:00:37: SQL実行: 
2025-06-28T04:00:37:       SELECT 
2025-06-28T04:00:37:         COUNT(*) as total_calls,
2025-06-28T04:00:37:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:00:37: SQL実行成功: 結果行数=1
2025-06-28T04:00:37: [36m[2025-06-28T04:00:37.030Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:37: SQL実行: 
2025-06-28T04:00:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:37:           FROM contacts 
2025-06-28T04:00:37:           WHERE c... パラメータ数: 1
2025-06-28T04:00:37: SQL実行成功: 結果行数=0
2025-06-28T04:00:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:37: SQL実行成功: 結果行数=1
2025-06-28T04:00:37: SQL実行: 
2025-06-28T04:00:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:37:           FROM contacts 
2025-06-28T04:00:37:           WHERE c... パラメータ数: 1
2025-06-28T04:00:37: SQL実行成功: 結果行数=0
2025-06-28T04:00:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:37: SQL実行成功: 結果行数=1
[2025-06-28T04:00:42.023Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:42: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:00:42: [36m[2025-06-28T04:00:42.023Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:42: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:00:42: SQL実行成功: 結果行数=1
2025-06-28T04:00:42: SQL実行: 
2025-06-28T04:00:42:       SELECT 
2025-06-28T04:00:42:         COUNT(*) as total,
2025-06-28T04:00:42:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:00:42: SQL実行成功: 結果行数=1
2025-06-28T04:00:42: SQL実行: 
2025-06-28T04:00:42:       SELECT 
2025-06-28T04:00:42:         COUNT(*) as total_calls,
2025-06-28T04:00:42:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:00:42.029Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:42: SQL実行成功: 結果行数=1
2025-06-28T04:00:42: [36m[2025-06-28T04:00:42.029Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:42: SQL実行: 
2025-06-28T04:00:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:42:           FROM contacts 
2025-06-28T04:00:42:           WHERE c... パラメータ数: 1
2025-06-28T04:00:42: SQL実行成功: 結果行数=0
2025-06-28T04:00:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:42: SQL実行成功: 結果行数=1
2025-06-28T04:00:42: SQL実行: 
2025-06-28T04:00:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:42:           FROM contacts 
2025-06-28T04:00:42:           WHERE c... パラメータ数: 1
2025-06-28T04:00:42: SQL実行成功: 結果行数=0
2025-06-28T04:00:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:42: SQL実行成功: 結果行数=1
2025-06-28T04:00:46: SQL実行: 
2025-06-28T04:00:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:00:46:                ci.number as ca... 
2025-06-28T04:00:46: SQL実行成功: 結果行数=80
2025-06-28T04:00:47: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:00:47: [36m[2025-06-28T04:00:47.037Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
[2025-06-28T04:00:47.037Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:47: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:00:47: SQL実行成功: 結果行数=1
2025-06-28T04:00:47: SQL実行: 
2025-06-28T04:00:47:       SELECT 
2025-06-28T04:00:47:         COUNT(*) as total,
2025-06-28T04:00:47:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:00:47: SQL実行成功: 結果行数=1
2025-06-28T04:00:47: SQL実行: 
2025-06-28T04:00:47:       SELECT 
2025-06-28T04:00:47:         COUNT(*) as total_calls,
2025-06-28T04:00:47:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:00:47.063Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:47: SQL実行成功: 結果行数=1
2025-06-28T04:00:47: [36m[2025-06-28T04:00:47.063Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:47: SQL実行: 
2025-06-28T04:00:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:47:           FROM contacts 
2025-06-28T04:00:47:           WHERE c... パラメータ数: 1
2025-06-28T04:00:47: SQL実行成功: 結果行数=0
2025-06-28T04:00:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:47: SQL実行成功: 結果行数=1
2025-06-28T04:00:47: SQL実行: 
2025-06-28T04:00:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:47:           FROM contacts 
2025-06-28T04:00:47:           WHERE c... パラメータ数: 1
2025-06-28T04:00:47: SQL実行成功: 結果行数=0
2025-06-28T04:00:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:47: SQL実行成功: 結果行数=1
[2025-06-28T04:00:52.024Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:52: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:00:52: [36m[2025-06-28T04:00:52.024Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:52: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:00:52: SQL実行成功: 結果行数=1
2025-06-28T04:00:52: SQL実行: 
2025-06-28T04:00:52:       SELECT 
2025-06-28T04:00:52:         COUNT(*) as total,
2025-06-28T04:00:52:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:00:52: SQL実行成功: 結果行数=1
2025-06-28T04:00:52: SQL実行: 
2025-06-28T04:00:52:       SELECT 
2025-06-28T04:00:52:         COUNT(*) as total_calls,
2025-06-28T04:00:52:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:00:52.028Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:52: SQL実行成功: 結果行数=1
2025-06-28T04:00:52: [36m[2025-06-28T04:00:52.028Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:52: SQL実行: 
2025-06-28T04:00:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:52:           FROM contacts 
2025-06-28T04:00:52:           WHERE c... パラメータ数: 1
2025-06-28T04:00:52: SQL実行成功: 結果行数=0
2025-06-28T04:00:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:52: SQL実行成功: 結果行数=1
2025-06-28T04:00:52: SQL実行: 
2025-06-28T04:00:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:52:           FROM contacts 
2025-06-28T04:00:52:           WHERE c... パラメータ数: 1
2025-06-28T04:00:52: SQL実行成功: 結果行数=0
2025-06-28T04:00:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:52: SQL実行成功: 結果行数=1
[2025-06-28T04:00:57.020Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:57: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:00:57: [36m[2025-06-28T04:00:57.020Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:00:57: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:00:57: SQL実行成功: 結果行数=1
2025-06-28T04:00:57: SQL実行: 
2025-06-28T04:00:57:       SELECT 
2025-06-28T04:00:57:         COUNT(*) as total,
2025-06-28T04:00:57:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:00:57: SQL実行成功: 結果行数=1
2025-06-28T04:00:57: SQL実行: 
2025-06-28T04:00:57:       SELECT 
2025-06-28T04:00:57:         COUNT(*) as total_calls,
2025-06-28T04:00:57:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:00:57.024Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:57: SQL実行成功: 結果行数=1
2025-06-28T04:00:57: [36m[2025-06-28T04:00:57.024Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:00:57: SQL実行: 
2025-06-28T04:00:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:57:           FROM contacts 
2025-06-28T04:00:57:           WHERE c... パラメータ数: 1
2025-06-28T04:00:57: SQL実行成功: 結果行数=0
2025-06-28T04:00:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:57: SQL実行成功: 結果行数=1
2025-06-28T04:00:57: SQL実行: 
2025-06-28T04:00:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:00:57:           FROM contacts 
2025-06-28T04:00:57:           WHERE c... パラメータ数: 1
2025-06-28T04:00:57: SQL実行成功: 結果行数=0
2025-06-28T04:00:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:00:57: SQL実行成功: 結果行数=1
2025-06-28T04:01:01: SQL実行: SELECT 1... 
2025-06-28T04:01:01: SQL実行成功: 結果行数=1
2025-06-28T04:01:01: SQL実行: 
2025-06-28T04:01:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:01:01:                ci.number as ca... 
2025-06-28T04:01:01: SQL実行成功: 結果行数=80
2025-06-28T04:01:02: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
[2025-06-28T04:01:02.025Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:02: [36m[2025-06-28T04:01:02.025Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:02: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T04:01:02.030Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:02: SQL実行成功: 結果行数=1
2025-06-28T04:01:02: SQL実行: 
2025-06-28T04:01:02:       SELECT 
2025-06-28T04:01:02:         COUNT(*) as total,
2025-06-28T04:01:02:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:01:02: SQL実行成功: 結果行数=1
2025-06-28T04:01:02: SQL実行: 
2025-06-28T04:01:02:       SELECT 
2025-06-28T04:01:02:         COUNT(*) as total_calls,
2025-06-28T04:01:02:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:01:02: SQL実行成功: 結果行数=1
2025-06-28T04:01:02: [36m[2025-06-28T04:01:02.030Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:02: SQL実行: 
2025-06-28T04:01:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:02:           FROM contacts 
2025-06-28T04:01:02:           WHERE c... パラメータ数: 1
2025-06-28T04:01:02: SQL実行成功: 結果行数=0
2025-06-28T04:01:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:02: SQL実行成功: 結果行数=1
2025-06-28T04:01:02: SQL実行: 
2025-06-28T04:01:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:02:           FROM contacts 
2025-06-28T04:01:02:           WHERE c... パラメータ数: 1
2025-06-28T04:01:02: SQL実行成功: 結果行数=0
2025-06-28T04:01:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:02: SQL実行成功: 結果行数=1
[2025-06-28T04:01:07.020Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:07: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:01:07: [36m[2025-06-28T04:01:07.020Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:07: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:01:07: SQL実行成功: 結果行数=1
2025-06-28T04:01:07: SQL実行: 
2025-06-28T04:01:07:       SELECT 
2025-06-28T04:01:07:         COUNT(*) as total,
2025-06-28T04:01:07:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:01:07: SQL実行成功: 結果行数=1
2025-06-28T04:01:07: SQL実行: 
2025-06-28T04:01:07:       SELECT 
2025-06-28T04:01:07:         COUNT(*) as total_calls,
2025-06-28T04:01:07:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:01:07.030Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:07: SQL実行成功: 結果行数=1
2025-06-28T04:01:07: [36m[2025-06-28T04:01:07.030Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:07: SQL実行: 
2025-06-28T04:01:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:07:           FROM contacts 
2025-06-28T04:01:07:           WHERE c... パラメータ数: 1
2025-06-28T04:01:07: SQL実行成功: 結果行数=0
2025-06-28T04:01:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:07: SQL実行成功: 結果行数=1
2025-06-28T04:01:07: SQL実行: 
2025-06-28T04:01:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:07:           FROM contacts 
2025-06-28T04:01:07:           WHERE c... パラメータ数: 1
2025-06-28T04:01:07: SQL実行成功: 結果行数=0
2025-06-28T04:01:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:07: SQL実行成功: 結果行数=1
[2025-06-28T04:01:12.044Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:12: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:01:12: [36m[2025-06-28T04:01:12.044Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:12: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:01:12: SQL実行成功: 結果行数=1
2025-06-28T04:01:12: SQL実行: 
2025-06-28T04:01:12:       SELECT 
2025-06-28T04:01:12:         COUNT(*) as total,
2025-06-28T04:01:12:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:01:12: SQL実行成功: 結果行数=1
2025-06-28T04:01:12: SQL実行: 
2025-06-28T04:01:12:       SELECT 
2025-06-28T04:01:12:         COUNT(*) as total_calls,
2025-06-28T04:01:12:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:01:12.050Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:12: SQL実行成功: 結果行数=1
2025-06-28T04:01:12: [36m[2025-06-28T04:01:12.050Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:12: SQL実行: 
2025-06-28T04:01:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:12:           FROM contacts 
2025-06-28T04:01:12:           WHERE c... パラメータ数: 1
2025-06-28T04:01:12: SQL実行成功: 結果行数=0
2025-06-28T04:01:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:12: SQL実行成功: 結果行数=1
2025-06-28T04:01:12: SQL実行: 
2025-06-28T04:01:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:12:           FROM contacts 
2025-06-28T04:01:12:           WHERE c... パラメータ数: 1
2025-06-28T04:01:12: SQL実行成功: 結果行数=0
2025-06-28T04:01:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:12: SQL実行成功: 結果行数=1
2025-06-28T04:01:16: SQL実行: 
2025-06-28T04:01:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:01:16:                ci.number as ca... 
2025-06-28T04:01:16: SQL実行成功: 結果行数=80
[2025-06-28T04:01:17.028Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:17: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:01:17: [36m[2025-06-28T04:01:17.028Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:17: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:01:17: SQL実行成功: 結果行数=1
2025-06-28T04:01:17: SQL実行: 
2025-06-28T04:01:17:       SELECT 
2025-06-28T04:01:17:         COUNT(*) as total,
2025-06-28T04:01:17:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:01:17: SQL実行成功: 結果行数=1
2025-06-28T04:01:17: SQL実行: 
2025-06-28T04:01:17:       SELECT 
2025-06-28T04:01:17:         COUNT(*) as total_calls,
2025-06-28T04:01:17:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:01:17.032Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:17: SQL実行成功: 結果行数=1
2025-06-28T04:01:17: [36m[2025-06-28T04:01:17.032Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:17: SQL実行: 
2025-06-28T04:01:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:17:           FROM contacts 
2025-06-28T04:01:17:           WHERE c... パラメータ数: 1
2025-06-28T04:01:17: SQL実行成功: 結果行数=0
2025-06-28T04:01:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:17: SQL実行成功: 結果行数=1
2025-06-28T04:01:17: SQL実行: 
2025-06-28T04:01:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:17:           FROM contacts 
2025-06-28T04:01:17:           WHERE c... パラメータ数: 1
2025-06-28T04:01:17: SQL実行成功: 結果行数=0
2025-06-28T04:01:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:17: SQL実行成功: 結果行数=1
2025-06-28T04:01:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T04:01:21.250Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:01:21: SQL実行成功: 結果行数=1
2025-06-28T04:01:21: [36m[2025-06-28T04:01:21.250Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T04:01:22.019Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:22: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:01:22: [36m[2025-06-28T04:01:22.019Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:22: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:01:22: SQL実行成功: 結果行数=1
2025-06-28T04:01:22: SQL実行: 
2025-06-28T04:01:22:       SELECT 
2025-06-28T04:01:22:         COUNT(*) as total,
2025-06-28T04:01:22:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:01:22: SQL実行成功: 結果行数=1
2025-06-28T04:01:22: SQL実行: 
2025-06-28T04:01:22:       SELECT 
2025-06-28T04:01:22:         COUNT(*) as total_calls,
2025-06-28T04:01:22:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:01:22.022Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:22: SQL実行成功: 結果行数=1
2025-06-28T04:01:22: [36m[2025-06-28T04:01:22.022Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:22: SQL実行: 
2025-06-28T04:01:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:22:           FROM contacts 
2025-06-28T04:01:22:           WHERE c... パラメータ数: 1
2025-06-28T04:01:22: SQL実行成功: 結果行数=0
2025-06-28T04:01:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:22: SQL実行成功: 結果行数=1
2025-06-28T04:01:22: SQL実行: 
2025-06-28T04:01:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:22:           FROM contacts 
2025-06-28T04:01:22:           WHERE c... パラメータ数: 1
2025-06-28T04:01:22: SQL実行成功: 結果行数=0
2025-06-28T04:01:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:22: SQL実行成功: 結果行数=1
[2025-06-28T04:01:27.021Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:27: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:01:27: [36m[2025-06-28T04:01:27.021Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:01:27: SQL実行成功: 結果行数=1
2025-06-28T04:01:27: SQL実行: 
2025-06-28T04:01:27:       SELECT 
2025-06-28T04:01:27:         COUNT(*) as total,
2025-06-28T04:01:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-28T04:01:27.034Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:27: SQL実行成功: 結果行数=1
2025-06-28T04:01:27: SQL実行: 
2025-06-28T04:01:27:       SELECT 
2025-06-28T04:01:27:         COUNT(*) as total_calls,
2025-06-28T04:01:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:01:27: SQL実行成功: 結果行数=1
2025-06-28T04:01:27: [36m[2025-06-28T04:01:27.034Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:27: SQL実行: 
2025-06-28T04:01:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:27:           FROM contacts 
2025-06-28T04:01:27:           WHERE c... パラメータ数: 1
2025-06-28T04:01:27: SQL実行成功: 結果行数=0
2025-06-28T04:01:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:27: SQL実行成功: 結果行数=1
2025-06-28T04:01:27: SQL実行: 
2025-06-28T04:01:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:27:           FROM contacts 
2025-06-28T04:01:27:           WHERE c... パラメータ数: 1
2025-06-28T04:01:27: SQL実行成功: 結果行数=0
2025-06-28T04:01:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:27: SQL実行成功: 結果行数=1
2025-06-28T04:01:31: SQL実行: SELECT 1... 
2025-06-28T04:01:31: SQL実行成功: 結果行数=1
2025-06-28T04:01:31: SQL実行: 
2025-06-28T04:01:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:01:31:                ci.number as ca... 
2025-06-28T04:01:31: SQL実行成功: 結果行数=80
[2025-06-28T04:01:32.025Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:32: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:01:32: [36m[2025-06-28T04:01:32.025Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:32: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:01:32: SQL実行成功: 結果行数=1
2025-06-28T04:01:32: SQL実行: 
2025-06-28T04:01:32:       SELECT 
2025-06-28T04:01:32:         COUNT(*) as total,
2025-06-28T04:01:32:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:01:32: SQL実行成功: 結果行数=1
2025-06-28T04:01:32: SQL実行: 
2025-06-28T04:01:32:       SELECT 
2025-06-28T04:01:32:         COUNT(*) as total_calls,
2025-06-28T04:01:32:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:01:32.030Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:32: SQL実行成功: 結果行数=1
2025-06-28T04:01:32: [36m[2025-06-28T04:01:32.030Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:32: SQL実行: 
2025-06-28T04:01:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:32:           FROM contacts 
2025-06-28T04:01:32:           WHERE c... パラメータ数: 1
2025-06-28T04:01:32: SQL実行成功: 結果行数=0
2025-06-28T04:01:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:32: SQL実行成功: 結果行数=1
2025-06-28T04:01:32: SQL実行: 
2025-06-28T04:01:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:32:           FROM contacts 
2025-06-28T04:01:32:           WHERE c... パラメータ数: 1
2025-06-28T04:01:32: SQL実行成功: 結果行数=0
2025-06-28T04:01:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:32: SQL実行成功: 結果行数=1
[2025-06-28T04:01:37.023Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:37: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:01:37: [36m[2025-06-28T04:01:37.023Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:37: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:01:37: SQL実行成功: 結果行数=1
2025-06-28T04:01:37: SQL実行: 
2025-06-28T04:01:37:       SELECT 
2025-06-28T04:01:37:         COUNT(*) as total,
2025-06-28T04:01:37:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:01:37: SQL実行成功: 結果行数=1
2025-06-28T04:01:37: SQL実行: 
2025-06-28T04:01:37:       SELECT 
2025-06-28T04:01:37:         COUNT(*) as total_calls,
2025-06-28T04:01:37:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:01:37.028Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:37: SQL実行成功: 結果行数=1
2025-06-28T04:01:37: [36m[2025-06-28T04:01:37.028Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:37: SQL実行: 
2025-06-28T04:01:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:37:           FROM contacts 
2025-06-28T04:01:37:           WHERE c... パラメータ数: 1
2025-06-28T04:01:37: SQL実行成功: 結果行数=0
2025-06-28T04:01:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:37: SQL実行成功: 結果行数=1
2025-06-28T04:01:37: SQL実行: 
2025-06-28T04:01:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:37:           FROM contacts 
2025-06-28T04:01:37:           WHERE c... パラメータ数: 1
2025-06-28T04:01:37: SQL実行成功: 結果行数=0
2025-06-28T04:01:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:37: SQL実行成功: 結果行数=1
[2025-06-28T04:01:42.019Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:42: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:01:42: [36m[2025-06-28T04:01:42.019Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:42: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:01:42: SQL実行成功: 結果行数=1
2025-06-28T04:01:42: SQL実行: 
2025-06-28T04:01:42:       SELECT 
2025-06-28T04:01:42:         COUNT(*) as total,
2025-06-28T04:01:42:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:01:42: SQL実行成功: 結果行数=1
2025-06-28T04:01:42: SQL実行: 
2025-06-28T04:01:42:       SELECT 
2025-06-28T04:01:42:         COUNT(*) as total_calls,
2025-06-28T04:01:42:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:01:42: SQL実行成功: 結果行数=1
[2025-06-28T04:01:42.023Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:42: [36m[2025-06-28T04:01:42.023Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:42: SQL実行: 
2025-06-28T04:01:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:42:           FROM contacts 
2025-06-28T04:01:42:           WHERE c... パラメータ数: 1
2025-06-28T04:01:42: SQL実行成功: 結果行数=0
2025-06-28T04:01:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:42: SQL実行成功: 結果行数=1
2025-06-28T04:01:42: SQL実行: 
2025-06-28T04:01:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:42:           FROM contacts 
2025-06-28T04:01:42:           WHERE c... パラメータ数: 1
2025-06-28T04:01:42: SQL実行成功: 結果行数=0
2025-06-28T04:01:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:42: SQL実行成功: 結果行数=1
2025-06-28T04:01:46: SQL実行: 
2025-06-28T04:01:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:01:46:                ci.number as ca... 
2025-06-28T04:01:46: SQL実行成功: 結果行数=80
[2025-06-28T04:01:47.025Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:47: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:01:47: [36m[2025-06-28T04:01:47.025Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:47: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:01:47: SQL実行成功: 結果行数=1
2025-06-28T04:01:47: SQL実行: 
2025-06-28T04:01:47:       SELECT 
2025-06-28T04:01:47:         COUNT(*) as total,
2025-06-28T04:01:47:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:01:47: SQL実行成功: 結果行数=1
2025-06-28T04:01:47: SQL実行: 
2025-06-28T04:01:47:       SELECT 
2025-06-28T04:01:47:         COUNT(*) as total_calls,
2025-06-28T04:01:47:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:01:47.030Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:47: SQL実行成功: 結果行数=1
2025-06-28T04:01:47: [36m[2025-06-28T04:01:47.030Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:47: SQL実行: 
2025-06-28T04:01:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:47:           FROM contacts 
2025-06-28T04:01:47:           WHERE c... パラメータ数: 1
2025-06-28T04:01:47: SQL実行成功: 結果行数=0
2025-06-28T04:01:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:47: SQL実行成功: 結果行数=1
2025-06-28T04:01:47: SQL実行: 
2025-06-28T04:01:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:47:           FROM contacts 
2025-06-28T04:01:47:           WHERE c... パラメータ数: 1
2025-06-28T04:01:47: SQL実行成功: 結果行数=0
2025-06-28T04:01:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:47: SQL実行成功: 結果行数=1
[2025-06-28T04:01:52.019Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:52: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:01:52: [36m[2025-06-28T04:01:52.019Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:52: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:01:52: SQL実行成功: 結果行数=1
2025-06-28T04:01:52: SQL実行: 
2025-06-28T04:01:52:       SELECT 
2025-06-28T04:01:52:         COUNT(*) as total,
2025-06-28T04:01:52:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:01:52: SQL実行成功: 結果行数=1
2025-06-28T04:01:52: SQL実行: 
2025-06-28T04:01:52:       SELECT 
2025-06-28T04:01:52:         COUNT(*) as total_calls,
2025-06-28T04:01:52:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:01:52.024Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:52: SQL実行成功: 結果行数=1
2025-06-28T04:01:52: [36m[2025-06-28T04:01:52.024Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:52: SQL実行: 
2025-06-28T04:01:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:52:           FROM contacts 
2025-06-28T04:01:52:           WHERE c... パラメータ数: 1
2025-06-28T04:01:52: SQL実行成功: 結果行数=0
2025-06-28T04:01:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:52: SQL実行成功: 結果行数=1
2025-06-28T04:01:52: SQL実行: 
2025-06-28T04:01:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:52:           FROM contacts 
2025-06-28T04:01:52:           WHERE c... パラメータ数: 1
2025-06-28T04:01:52: SQL実行成功: 結果行数=0
2025-06-28T04:01:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:52: SQL実行成功: 結果行数=1
2025-06-28T04:01:57: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
[2025-06-28T04:01:57.020Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:57: [36m[2025-06-28T04:01:57.020Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:01:57: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:01:57: SQL実行成功: 結果行数=1
2025-06-28T04:01:57: SQL実行: 
2025-06-28T04:01:57:       SELECT 
2025-06-28T04:01:57:         COUNT(*) as total,
2025-06-28T04:01:57:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:01:57: SQL実行成功: 結果行数=1
2025-06-28T04:01:57: SQL実行: 
2025-06-28T04:01:57:       SELECT 
2025-06-28T04:01:57:         COUNT(*) as total_calls,
2025-06-28T04:01:57:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:01:57: SQL実行成功: 結果行数=1
[2025-06-28T04:01:57.025Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:57: [36m[2025-06-28T04:01:57.025Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:01:57: SQL実行: 
2025-06-28T04:01:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:57:           FROM contacts 
2025-06-28T04:01:57:           WHERE c... パラメータ数: 1
2025-06-28T04:01:57: SQL実行成功: 結果行数=0
2025-06-28T04:01:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:57: SQL実行成功: 結果行数=1
2025-06-28T04:01:57: SQL実行: 
2025-06-28T04:01:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:01:57:           FROM contacts 
2025-06-28T04:01:57:           WHERE c... パラメータ数: 1
2025-06-28T04:01:57: SQL実行成功: 結果行数=0
2025-06-28T04:01:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:01:57: SQL実行成功: 結果行数=1
2025-06-28T04:02:01: SQL実行: SELECT 1... 
2025-06-28T04:02:01: SQL実行成功: 結果行数=1
2025-06-28T04:02:01: SQL実行: 
2025-06-28T04:02:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:02:01:                ci.number as ca... 
2025-06-28T04:02:01: SQL実行成功: 結果行数=80
[2025-06-28T04:02:02.022Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:02: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:02:02: [36m[2025-06-28T04:02:02.022Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:02: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:02:02: SQL実行成功: 結果行数=1
2025-06-28T04:02:02: SQL実行: 
2025-06-28T04:02:02:       SELECT 
2025-06-28T04:02:02:         COUNT(*) as total,
2025-06-28T04:02:02:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:02:02: SQL実行成功: 結果行数=1
2025-06-28T04:02:02: SQL実行: 
2025-06-28T04:02:02:       SELECT 
2025-06-28T04:02:02:         COUNT(*) as total_calls,
2025-06-28T04:02:02:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:02:02: SQL実行成功: 結果行数=1
[2025-06-28T04:02:02.028Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:02: [36m[2025-06-28T04:02:02.028Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:02: SQL実行: 
2025-06-28T04:02:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:02:           FROM contacts 
2025-06-28T04:02:02:           WHERE c... パラメータ数: 1
2025-06-28T04:02:02: SQL実行成功: 結果行数=0
2025-06-28T04:02:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:02: SQL実行成功: 結果行数=1
2025-06-28T04:02:02: SQL実行: 
2025-06-28T04:02:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:02:           FROM contacts 
2025-06-28T04:02:02:           WHERE c... パラメータ数: 1
2025-06-28T04:02:02: SQL実行成功: 結果行数=0
2025-06-28T04:02:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:02: SQL実行成功: 結果行数=1
[2025-06-28T04:02:07.020Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
[2025-06-28T04:02:07.024Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:07: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:02:07: [36m[2025-06-28T04:02:07.020Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:07: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:02:07: SQL実行成功: 結果行数=1
2025-06-28T04:02:07: SQL実行: 
2025-06-28T04:02:07:       SELECT 
2025-06-28T04:02:07:         COUNT(*) as total,
2025-06-28T04:02:07:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:02:07: SQL実行成功: 結果行数=1
2025-06-28T04:02:07: SQL実行: 
2025-06-28T04:02:07:       SELECT 
2025-06-28T04:02:07:         COUNT(*) as total_calls,
2025-06-28T04:02:07:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:02:07: SQL実行成功: 結果行数=1
2025-06-28T04:02:07: [36m[2025-06-28T04:02:07.024Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:07: SQL実行: 
2025-06-28T04:02:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:07:           FROM contacts 
2025-06-28T04:02:07:           WHERE c... パラメータ数: 1
2025-06-28T04:02:07: SQL実行成功: 結果行数=0
2025-06-28T04:02:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:07: SQL実行成功: 結果行数=1
2025-06-28T04:02:07: SQL実行: 
2025-06-28T04:02:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:07:           FROM contacts 
2025-06-28T04:02:07:           WHERE c... パラメータ数: 1
2025-06-28T04:02:07: SQL実行成功: 結果行数=0
2025-06-28T04:02:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:07: SQL実行成功: 結果行数=1
[2025-06-28T04:02:12.027Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:12: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:02:12: [36m[2025-06-28T04:02:12.027Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:12: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T04:02:12.035Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:12: SQL実行成功: 結果行数=1
2025-06-28T04:02:12: SQL実行: 
2025-06-28T04:02:12:       SELECT 
2025-06-28T04:02:12:         COUNT(*) as total,
2025-06-28T04:02:12:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:02:12: SQL実行成功: 結果行数=1
2025-06-28T04:02:12: SQL実行: 
2025-06-28T04:02:12:       SELECT 
2025-06-28T04:02:12:         COUNT(*) as total_calls,
2025-06-28T04:02:12:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:02:12: SQL実行成功: 結果行数=1
2025-06-28T04:02:12: [36m[2025-06-28T04:02:12.035Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:12: SQL実行: 
2025-06-28T04:02:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:12:           FROM contacts 
2025-06-28T04:02:12:           WHERE c... パラメータ数: 1
2025-06-28T04:02:12: SQL実行成功: 結果行数=0
2025-06-28T04:02:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:12: SQL実行成功: 結果行数=1
2025-06-28T04:02:12: SQL実行: 
2025-06-28T04:02:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:12:           FROM contacts 
2025-06-28T04:02:12:           WHERE c... パラメータ数: 1
2025-06-28T04:02:12: SQL実行成功: 結果行数=0
2025-06-28T04:02:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:12: SQL実行成功: 結果行数=1
2025-06-28T04:02:16: SQL実行: 
2025-06-28T04:02:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:02:16:                ci.number as ca... 
2025-06-28T04:02:16: SQL実行成功: 結果行数=80
[2025-06-28T04:02:17.019Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:17: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:02:17: [36m[2025-06-28T04:02:17.019Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:17: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:02:17: SQL実行成功: 結果行数=1
2025-06-28T04:02:17: SQL実行: 
2025-06-28T04:02:17:       SELECT 
2025-06-28T04:02:17:         COUNT(*) as total,
2025-06-28T04:02:17:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:02:17: SQL実行成功: 結果行数=1
2025-06-28T04:02:17: SQL実行: 
2025-06-28T04:02:17:       SELECT 
2025-06-28T04:02:17:         COUNT(*) as total_calls,
2025-06-28T04:02:17:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:02:17.024Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:17: SQL実行成功: 結果行数=1
2025-06-28T04:02:17: [36m[2025-06-28T04:02:17.024Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:17: SQL実行: 
2025-06-28T04:02:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:17:           FROM contacts 
2025-06-28T04:02:17:           WHERE c... パラメータ数: 1
2025-06-28T04:02:17: SQL実行成功: 結果行数=0
2025-06-28T04:02:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:17: SQL実行成功: 結果行数=1
2025-06-28T04:02:17: SQL実行: 
2025-06-28T04:02:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:17:           FROM contacts 
2025-06-28T04:02:17:           WHERE c... パラメータ数: 1
2025-06-28T04:02:17: SQL実行成功: 結果行数=0
2025-06-28T04:02:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:17: SQL実行成功: 結果行数=1
2025-06-28T04:02:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
2025-06-28T04:02:21: SQL実行成功: 結果行数=1
[2025-06-28T04:02:21.251Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:02:21: [36m[2025-06-28T04:02:21.251Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T04:02:22.045Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:22: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:02:22: [36m[2025-06-28T04:02:22.045Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:22: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:02:22: SQL実行成功: 結果行数=1
2025-06-28T04:02:22: SQL実行: 
2025-06-28T04:02:22:       SELECT 
2025-06-28T04:02:22:         COUNT(*) as total,
2025-06-28T04:02:22:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:02:22: SQL実行成功: 結果行数=1
2025-06-28T04:02:22: SQL実行: 
2025-06-28T04:02:22:       SELECT 
2025-06-28T04:02:22:         COUNT(*) as total_calls,
2025-06-28T04:02:22:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:02:22.057Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:22: SQL実行成功: 結果行数=1
2025-06-28T04:02:22: [36m[2025-06-28T04:02:22.057Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:22: SQL実行: 
2025-06-28T04:02:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:22:           FROM contacts 
2025-06-28T04:02:22:           WHERE c... パラメータ数: 1
2025-06-28T04:02:22: SQL実行成功: 結果行数=0
2025-06-28T04:02:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:22: SQL実行成功: 結果行数=1
2025-06-28T04:02:22: SQL実行: 
2025-06-28T04:02:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:22:           FROM contacts 
2025-06-28T04:02:22:           WHERE c... パラメータ数: 1
2025-06-28T04:02:22: SQL実行成功: 結果行数=0
2025-06-28T04:02:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:22: SQL実行成功: 結果行数=1
[2025-06-28T04:02:27.024Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:27: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:02:27: [36m[2025-06-28T04:02:27.024Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:02:27: SQL実行成功: 結果行数=1
2025-06-28T04:02:27: SQL実行: 
2025-06-28T04:02:27:       SELECT 
2025-06-28T04:02:27:         COUNT(*) as total,
2025-06-28T04:02:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:02:27: SQL実行成功: 結果行数=1
2025-06-28T04:02:27: SQL実行: 
2025-06-28T04:02:27:       SELECT 
2025-06-28T04:02:27:         COUNT(*) as total_calls,
2025-06-28T04:02:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:02:27.028Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:27: SQL実行成功: 結果行数=1
2025-06-28T04:02:27: [36m[2025-06-28T04:02:27.028Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:27: SQL実行: 
2025-06-28T04:02:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:27:           FROM contacts 
2025-06-28T04:02:27:           WHERE c... パラメータ数: 1
2025-06-28T04:02:27: SQL実行成功: 結果行数=0
2025-06-28T04:02:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:27: SQL実行成功: 結果行数=1
2025-06-28T04:02:27: SQL実行: 
2025-06-28T04:02:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:27:           FROM contacts 
2025-06-28T04:02:27:           WHERE c... パラメータ数: 1
2025-06-28T04:02:27: SQL実行成功: 結果行数=0
2025-06-28T04:02:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:27: SQL実行成功: 結果行数=1
2025-06-28T04:02:31: SQL実行: SELECT 1... 
2025-06-28T04:02:31: SQL実行成功: 結果行数=1
2025-06-28T04:02:31: SQL実行: 
2025-06-28T04:02:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:02:31:                ci.number as ca... 
2025-06-28T04:02:31: SQL実行成功: 結果行数=80
[2025-06-28T04:02:32.023Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:32: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:02:32: [36m[2025-06-28T04:02:32.023Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:32: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:02:32: SQL実行成功: 結果行数=1
2025-06-28T04:02:32: SQL実行: 
2025-06-28T04:02:32:       SELECT 
2025-06-28T04:02:32:         COUNT(*) as total,
2025-06-28T04:02:32:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:02:32: SQL実行成功: 結果行数=1
2025-06-28T04:02:32: SQL実行: 
2025-06-28T04:02:32:       SELECT 
2025-06-28T04:02:32:         COUNT(*) as total_calls,
2025-06-28T04:02:32:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:02:32: SQL実行成功: 結果行数=1
2025-06-28T04:02:32: [36m[2025-06-28T04:02:32.041Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
[2025-06-28T04:02:32.041Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:32: SQL実行: 
2025-06-28T04:02:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:32:           FROM contacts 
2025-06-28T04:02:32:           WHERE c... パラメータ数: 1
2025-06-28T04:02:32: SQL実行成功: 結果行数=0
2025-06-28T04:02:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:32: SQL実行成功: 結果行数=1
2025-06-28T04:02:32: SQL実行: 
2025-06-28T04:02:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:32:           FROM contacts 
2025-06-28T04:02:32:           WHERE c... パラメータ数: 1
2025-06-28T04:02:32: SQL実行成功: 結果行数=0
2025-06-28T04:02:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:32: SQL実行成功: 結果行数=1
[2025-06-28T04:02:37.020Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:37: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:02:37: [36m[2025-06-28T04:02:37.020Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:37: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:02:37: SQL実行成功: 結果行数=1
2025-06-28T04:02:37: SQL実行: 
2025-06-28T04:02:37:       SELECT 
2025-06-28T04:02:37:         COUNT(*) as total,
2025-06-28T04:02:37:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:02:37: SQL実行成功: 結果行数=1
2025-06-28T04:02:37: SQL実行: 
2025-06-28T04:02:37:       SELECT 
2025-06-28T04:02:37:         COUNT(*) as total_calls,
2025-06-28T04:02:37:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:02:37.024Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:37: SQL実行成功: 結果行数=1
2025-06-28T04:02:37: [36m[2025-06-28T04:02:37.024Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:37: SQL実行: 
2025-06-28T04:02:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:37:           FROM contacts 
2025-06-28T04:02:37:           WHERE c... パラメータ数: 1
2025-06-28T04:02:37: SQL実行成功: 結果行数=0
2025-06-28T04:02:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:37: SQL実行成功: 結果行数=1
2025-06-28T04:02:37: SQL実行: 
2025-06-28T04:02:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:37:           FROM contacts 
2025-06-28T04:02:37:           WHERE c... パラメータ数: 1
2025-06-28T04:02:37: SQL実行成功: 結果行数=0
2025-06-28T04:02:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:37: SQL実行成功: 結果行数=1
[2025-06-28T04:02:42.017Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:42: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:02:42: [36m[2025-06-28T04:02:42.017Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:42: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:02:42: SQL実行成功: 結果行数=1
2025-06-28T04:02:42: SQL実行: 
2025-06-28T04:02:42:       SELECT 
2025-06-28T04:02:42:         COUNT(*) as total,
2025-06-28T04:02:42:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:02:42: SQL実行成功: 結果行数=1
2025-06-28T04:02:42: SQL実行: 
2025-06-28T04:02:42:       SELECT 
2025-06-28T04:02:42:         COUNT(*) as total_calls,
2025-06-28T04:02:42:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:02:42.021Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:42: SQL実行成功: 結果行数=1
2025-06-28T04:02:42: [36m[2025-06-28T04:02:42.021Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:42: SQL実行: 
2025-06-28T04:02:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:42:           FROM contacts 
2025-06-28T04:02:42:           WHERE c... パラメータ数: 1
2025-06-28T04:02:42: SQL実行成功: 結果行数=0
2025-06-28T04:02:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:42: SQL実行成功: 結果行数=1
2025-06-28T04:02:42: SQL実行: 
2025-06-28T04:02:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:42:           FROM contacts 
2025-06-28T04:02:42:           WHERE c... パラメータ数: 1
2025-06-28T04:02:42: SQL実行成功: 結果行数=0
2025-06-28T04:02:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:42: SQL実行成功: 結果行数=1
2025-06-28T04:02:46: SQL実行: 
2025-06-28T04:02:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:02:46:                ci.number as ca... 
2025-06-28T04:02:46: SQL実行成功: 結果行数=80
2025-06-28T04:02:47: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
[2025-06-28T04:02:47.026Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:47: [36m[2025-06-28T04:02:47.026Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:47: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:02:47: SQL実行成功: 結果行数=1
2025-06-28T04:02:47: SQL実行: 
2025-06-28T04:02:47:       SELECT 
2025-06-28T04:02:47:         COUNT(*) as total,
2025-06-28T04:02:47:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:02:47: SQL実行成功: 結果行数=1
2025-06-28T04:02:47: SQL実行: 
2025-06-28T04:02:47:       SELECT 
2025-06-28T04:02:47:         COUNT(*) as total_calls,
2025-06-28T04:02:47:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:02:47.030Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:47: SQL実行成功: 結果行数=1
2025-06-28T04:02:47: [36m[2025-06-28T04:02:47.030Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:47: SQL実行: 
2025-06-28T04:02:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:47:           FROM contacts 
2025-06-28T04:02:47:           WHERE c... パラメータ数: 1
2025-06-28T04:02:47: SQL実行成功: 結果行数=0
2025-06-28T04:02:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:47: SQL実行成功: 結果行数=1
2025-06-28T04:02:47: SQL実行: 
2025-06-28T04:02:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:47:           FROM contacts 
2025-06-28T04:02:47:           WHERE c... パラメータ数: 1
2025-06-28T04:02:47: SQL実行成功: 結果行数=0
2025-06-28T04:02:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:47: SQL実行成功: 結果行数=1
[2025-06-28T04:02:52.017Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:52: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:02:52: [36m[2025-06-28T04:02:52.017Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:52: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:02:52: SQL実行成功: 結果行数=1
2025-06-28T04:02:52: SQL実行: 
2025-06-28T04:02:52:       SELECT 
2025-06-28T04:02:52:         COUNT(*) as total,
2025-06-28T04:02:52:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:02:52: SQL実行成功: 結果行数=1
2025-06-28T04:02:52: SQL実行: 
2025-06-28T04:02:52:       SELECT 
2025-06-28T04:02:52:         COUNT(*) as total_calls,
2025-06-28T04:02:52:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:02:52.023Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:52: SQL実行成功: 結果行数=1
2025-06-28T04:02:52: [36m[2025-06-28T04:02:52.023Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:52: SQL実行: 
2025-06-28T04:02:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:52:           FROM contacts 
2025-06-28T04:02:52:           WHERE c... パラメータ数: 1
2025-06-28T04:02:52: SQL実行成功: 結果行数=0
2025-06-28T04:02:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:52: SQL実行成功: 結果行数=1
2025-06-28T04:02:52: SQL実行: 
2025-06-28T04:02:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:52:           FROM contacts 
2025-06-28T04:02:52:           WHERE c... パラメータ数: 1
2025-06-28T04:02:52: SQL実行成功: 結果行数=0
2025-06-28T04:02:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:52: SQL実行成功: 結果行数=1
[2025-06-28T04:02:57.020Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:57: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:02:57: [36m[2025-06-28T04:02:57.020Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:02:57: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:02:57: SQL実行成功: 結果行数=1
2025-06-28T04:02:57: SQL実行: 
2025-06-28T04:02:57:       SELECT 
2025-06-28T04:02:57:         COUNT(*) as total,
2025-06-28T04:02:57:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:02:57: SQL実行成功: 結果行数=1
2025-06-28T04:02:57: SQL実行: 
2025-06-28T04:02:57:       SELECT 
2025-06-28T04:02:57:         COUNT(*) as total_calls,
2025-06-28T04:02:57:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:02:57.024Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:57: SQL実行成功: 結果行数=1
2025-06-28T04:02:57: [36m[2025-06-28T04:02:57.024Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:02:57: SQL実行: 
2025-06-28T04:02:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:57:           FROM contacts 
2025-06-28T04:02:57:           WHERE c... パラメータ数: 1
2025-06-28T04:02:57: SQL実行成功: 結果行数=0
2025-06-28T04:02:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:57: SQL実行成功: 結果行数=1
2025-06-28T04:02:57: SQL実行: 
2025-06-28T04:02:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:02:57:           FROM contacts 
2025-06-28T04:02:57:           WHERE c... パラメータ数: 1
2025-06-28T04:02:57: SQL実行成功: 結果行数=0
2025-06-28T04:02:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:02:57: SQL実行成功: 結果行数=1
2025-06-28T04:03:01: SQL実行: SELECT 1... 
2025-06-28T04:03:01: SQL実行成功: 結果行数=1
2025-06-28T04:03:01: SQL実行: 
2025-06-28T04:03:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:03:01:                ci.number as ca... 
2025-06-28T04:03:01: SQL実行成功: 結果行数=80
[2025-06-28T04:03:02.024Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:02: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:03:02: [36m[2025-06-28T04:03:02.024Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:02: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:03:02: SQL実行成功: 結果行数=1
2025-06-28T04:03:02: SQL実行: 
2025-06-28T04:03:02:       SELECT 
2025-06-28T04:03:02:         COUNT(*) as total,
2025-06-28T04:03:02:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:03:02: SQL実行成功: 結果行数=1
2025-06-28T04:03:02: SQL実行: 
2025-06-28T04:03:02:       SELECT 
2025-06-28T04:03:02:         COUNT(*) as total_calls,
2025-06-28T04:03:02:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:03:02: SQL実行成功: 結果行数=1
[2025-06-28T04:03:02.041Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:02: [36m[2025-06-28T04:03:02.041Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:02: SQL実行: 
2025-06-28T04:03:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:02:           FROM contacts 
2025-06-28T04:03:02:           WHERE c... パラメータ数: 1
2025-06-28T04:03:02: SQL実行成功: 結果行数=0
2025-06-28T04:03:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:02: SQL実行成功: 結果行数=1
2025-06-28T04:03:02: SQL実行: 
2025-06-28T04:03:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:02:           FROM contacts 
2025-06-28T04:03:02:           WHERE c... パラメータ数: 1
2025-06-28T04:03:02: SQL実行成功: 結果行数=0
2025-06-28T04:03:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:02: SQL実行成功: 結果行数=1
[2025-06-28T04:03:07.033Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
[2025-06-28T04:03:07.038Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:07: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:03:07: [36m[2025-06-28T04:03:07.033Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:07: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:03:07: SQL実行成功: 結果行数=1
2025-06-28T04:03:07: SQL実行: 
2025-06-28T04:03:07:       SELECT 
2025-06-28T04:03:07:         COUNT(*) as total,
2025-06-28T04:03:07:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:03:07: SQL実行成功: 結果行数=1
2025-06-28T04:03:07: SQL実行: 
2025-06-28T04:03:07:       SELECT 
2025-06-28T04:03:07:         COUNT(*) as total_calls,
2025-06-28T04:03:07:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:03:07: SQL実行成功: 結果行数=1
2025-06-28T04:03:07: [36m[2025-06-28T04:03:07.038Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:07: SQL実行: 
2025-06-28T04:03:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:07:           FROM contacts 
2025-06-28T04:03:07:           WHERE c... パラメータ数: 1
2025-06-28T04:03:07: SQL実行成功: 結果行数=0
2025-06-28T04:03:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:07: SQL実行成功: 結果行数=1
2025-06-28T04:03:07: SQL実行: 
2025-06-28T04:03:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:07:           FROM contacts 
2025-06-28T04:03:07:           WHERE c... パラメータ数: 1
2025-06-28T04:03:07: SQL実行成功: 結果行数=0
2025-06-28T04:03:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:07: SQL実行成功: 結果行数=1
[2025-06-28T04:03:12.021Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:12: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:03:12: [36m[2025-06-28T04:03:12.021Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:12: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:03:12: SQL実行成功: 結果行数=1
2025-06-28T04:03:12: SQL実行: 
2025-06-28T04:03:12:       SELECT 
2025-06-28T04:03:12:         COUNT(*) as total,
2025-06-28T04:03:12:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:03:12: SQL実行成功: 結果行数=1
2025-06-28T04:03:12: SQL実行: 
2025-06-28T04:03:12:       SELECT 
2025-06-28T04:03:12:         COUNT(*) as total_calls,
2025-06-28T04:03:12:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:03:12.025Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:12: SQL実行成功: 結果行数=1
2025-06-28T04:03:12: [36m[2025-06-28T04:03:12.025Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:12: SQL実行: 
2025-06-28T04:03:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:12:           FROM contacts 
2025-06-28T04:03:12:           WHERE c... パラメータ数: 1
2025-06-28T04:03:12: SQL実行成功: 結果行数=0
2025-06-28T04:03:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:12: SQL実行成功: 結果行数=1
2025-06-28T04:03:12: SQL実行: 
2025-06-28T04:03:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:12:           FROM contacts 
2025-06-28T04:03:12:           WHERE c... パラメータ数: 1
2025-06-28T04:03:12: SQL実行成功: 結果行数=0
2025-06-28T04:03:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:12: SQL実行成功: 結果行数=1
2025-06-28T04:03:16: SQL実行: 
2025-06-28T04:03:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:03:16:                ci.number as ca... 
2025-06-28T04:03:16: SQL実行成功: 結果行数=80
[2025-06-28T04:03:17.048Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:17: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:03:17: [36m[2025-06-28T04:03:17.048Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:17: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:03:17: SQL実行成功: 結果行数=1
2025-06-28T04:03:17: SQL実行: 
2025-06-28T04:03:17:       SELECT 
2025-06-28T04:03:17:         COUNT(*) as total,
2025-06-28T04:03:17:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:03:17: SQL実行成功: 結果行数=1
2025-06-28T04:03:17: SQL実行: 
2025-06-28T04:03:17:       SELECT 
2025-06-28T04:03:17:         COUNT(*) as total_calls,
2025-06-28T04:03:17:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:03:17.053Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:17: SQL実行成功: 結果行数=1
2025-06-28T04:03:17: [36m[2025-06-28T04:03:17.053Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:17: SQL実行: 
2025-06-28T04:03:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:17:           FROM contacts 
2025-06-28T04:03:17:           WHERE c... パラメータ数: 1
2025-06-28T04:03:17: SQL実行成功: 結果行数=0
2025-06-28T04:03:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:17: SQL実行成功: 結果行数=1
2025-06-28T04:03:17: SQL実行: 
2025-06-28T04:03:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:17:           FROM contacts 
2025-06-28T04:03:17:           WHERE c... パラメータ数: 1
2025-06-28T04:03:17: SQL実行成功: 結果行数=0
2025-06-28T04:03:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:17: SQL実行成功: 結果行数=1
2025-06-28T04:03:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
2025-06-28T04:03:21: SQL実行成功: 結果行数=1
[2025-06-28T04:03:21.251Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:03:21: [36m[2025-06-28T04:03:21.251Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T04:03:22.022Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:22: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:03:22: [36m[2025-06-28T04:03:22.022Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:22: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T04:03:22.027Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:22: SQL実行成功: 結果行数=1
2025-06-28T04:03:22: SQL実行: 
2025-06-28T04:03:22:       SELECT 
2025-06-28T04:03:22:         COUNT(*) as total,
2025-06-28T04:03:22:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:03:22: SQL実行成功: 結果行数=1
2025-06-28T04:03:22: SQL実行: 
2025-06-28T04:03:22:       SELECT 
2025-06-28T04:03:22:         COUNT(*) as total_calls,
2025-06-28T04:03:22:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:03:22: SQL実行成功: 結果行数=1
2025-06-28T04:03:22: [36m[2025-06-28T04:03:22.027Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:22: SQL実行: 
2025-06-28T04:03:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:22:           FROM contacts 
2025-06-28T04:03:22:           WHERE c... パラメータ数: 1
2025-06-28T04:03:22: SQL実行成功: 結果行数=0
2025-06-28T04:03:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:22: SQL実行成功: 結果行数=1
2025-06-28T04:03:22: SQL実行: 
2025-06-28T04:03:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:22:           FROM contacts 
2025-06-28T04:03:22:           WHERE c... パラメータ数: 1
2025-06-28T04:03:22: SQL実行成功: 結果行数=0
2025-06-28T04:03:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:22: SQL実行成功: 結果行数=1
[2025-06-28T04:03:27.022Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:27: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:03:27: [36m[2025-06-28T04:03:27.022Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:03:27: SQL実行成功: 結果行数=1
2025-06-28T04:03:27: SQL実行: 
2025-06-28T04:03:27:       SELECT 
2025-06-28T04:03:27:         COUNT(*) as total,
2025-06-28T04:03:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:03:27: SQL実行成功: 結果行数=1
2025-06-28T04:03:27: SQL実行: 
2025-06-28T04:03:27:       SELECT 
2025-06-28T04:03:27:         COUNT(*) as total_calls,
2025-06-28T04:03:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:03:27.027Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:27: SQL実行成功: 結果行数=1
2025-06-28T04:03:27: [36m[2025-06-28T04:03:27.027Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:27: SQL実行: 
2025-06-28T04:03:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:27:           FROM contacts 
2025-06-28T04:03:27:           WHERE c... パラメータ数: 1
2025-06-28T04:03:27: SQL実行成功: 結果行数=0
2025-06-28T04:03:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:27: SQL実行成功: 結果行数=1
2025-06-28T04:03:27: SQL実行: 
2025-06-28T04:03:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:27:           FROM contacts 
2025-06-28T04:03:27:           WHERE c... パラメータ数: 1
2025-06-28T04:03:27: SQL実行成功: 結果行数=0
2025-06-28T04:03:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:27: SQL実行成功: 結果行数=1
2025-06-28T04:03:31: SQL実行: SELECT 1... 
2025-06-28T04:03:31: SQL実行成功: 結果行数=1
2025-06-28T04:03:31: SQL実行: 
2025-06-28T04:03:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:03:31:                ci.number as ca... 
2025-06-28T04:03:31: SQL実行成功: 結果行数=80
[2025-06-28T04:03:32.019Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:32: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:03:32: [36m[2025-06-28T04:03:32.019Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:32: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:03:32: SQL実行成功: 結果行数=1
2025-06-28T04:03:32: SQL実行: 
2025-06-28T04:03:32:       SELECT 
2025-06-28T04:03:32:         COUNT(*) as total,
2025-06-28T04:03:32:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:03:32: SQL実行成功: 結果行数=1
2025-06-28T04:03:32: SQL実行: 
2025-06-28T04:03:32:       SELECT 
2025-06-28T04:03:32:         COUNT(*) as total_calls,
2025-06-28T04:03:32:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:03:32.024Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:32: SQL実行成功: 結果行数=1
2025-06-28T04:03:32: [36m[2025-06-28T04:03:32.024Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:32: SQL実行: 
2025-06-28T04:03:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:32:           FROM contacts 
2025-06-28T04:03:32:           WHERE c... パラメータ数: 1
2025-06-28T04:03:32: SQL実行成功: 結果行数=0
2025-06-28T04:03:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:32: SQL実行成功: 結果行数=1
2025-06-28T04:03:32: SQL実行: 
2025-06-28T04:03:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:32:           FROM contacts 
2025-06-28T04:03:32:           WHERE c... パラメータ数: 1
2025-06-28T04:03:32: SQL実行成功: 結果行数=0
2025-06-28T04:03:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:32: SQL実行成功: 結果行数=1
[2025-06-28T04:03:37.019Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:37: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:03:37: [36m[2025-06-28T04:03:37.019Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:37: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:03:37: SQL実行成功: 結果行数=1
2025-06-28T04:03:37: SQL実行: 
2025-06-28T04:03:37:       SELECT 
2025-06-28T04:03:37:         COUNT(*) as total,
2025-06-28T04:03:37:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-28T04:03:37.024Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:37: SQL実行成功: 結果行数=1
2025-06-28T04:03:37: SQL実行: 
2025-06-28T04:03:37:       SELECT 
2025-06-28T04:03:37:         COUNT(*) as total_calls,
2025-06-28T04:03:37:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:03:37: SQL実行成功: 結果行数=1
2025-06-28T04:03:37: [36m[2025-06-28T04:03:37.024Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:37: SQL実行: 
2025-06-28T04:03:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:37:           FROM contacts 
2025-06-28T04:03:37:           WHERE c... パラメータ数: 1
2025-06-28T04:03:37: SQL実行成功: 結果行数=0
2025-06-28T04:03:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:37: SQL実行成功: 結果行数=1
2025-06-28T04:03:37: SQL実行: 
2025-06-28T04:03:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:37:           FROM contacts 
2025-06-28T04:03:37:           WHERE c... パラメータ数: 1
2025-06-28T04:03:37: SQL実行成功: 結果行数=0
2025-06-28T04:03:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:37: SQL実行成功: 結果行数=1
[2025-06-28T04:03:42.020Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:42: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:03:42: [36m[2025-06-28T04:03:42.020Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:42: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:03:42: SQL実行成功: 結果行数=1
2025-06-28T04:03:42: SQL実行: 
2025-06-28T04:03:42:       SELECT 
2025-06-28T04:03:42:         COUNT(*) as total,
2025-06-28T04:03:42:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:03:42: SQL実行成功: 結果行数=1
2025-06-28T04:03:42: SQL実行: 
2025-06-28T04:03:42:       SELECT 
2025-06-28T04:03:42:         COUNT(*) as total_calls,
2025-06-28T04:03:42:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:03:42.024Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:42: SQL実行成功: 結果行数=1
2025-06-28T04:03:42: [36m[2025-06-28T04:03:42.024Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:42: SQL実行: 
2025-06-28T04:03:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:42:           FROM contacts 
2025-06-28T04:03:42:           WHERE c... パラメータ数: 1
2025-06-28T04:03:42: SQL実行成功: 結果行数=0
2025-06-28T04:03:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:42: SQL実行成功: 結果行数=1
2025-06-28T04:03:42: SQL実行: 
2025-06-28T04:03:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:42:           FROM contacts 
2025-06-28T04:03:42:           WHERE c... パラメータ数: 1
2025-06-28T04:03:42: SQL実行成功: 結果行数=0
2025-06-28T04:03:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:42: SQL実行成功: 結果行数=1
2025-06-28T04:03:46: SQL実行: 
2025-06-28T04:03:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:03:46:                ci.number as ca... 
2025-06-28T04:03:46: SQL実行成功: 結果行数=80
[2025-06-28T04:03:47.047Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:47: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:03:47: [36m[2025-06-28T04:03:47.047Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:47: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:03:47: SQL実行成功: 結果行数=1
2025-06-28T04:03:47: SQL実行: 
2025-06-28T04:03:47:       SELECT 
2025-06-28T04:03:47:         COUNT(*) as total,
2025-06-28T04:03:47:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:03:47: SQL実行成功: 結果行数=1
2025-06-28T04:03:47: SQL実行: 
2025-06-28T04:03:47:       SELECT 
2025-06-28T04:03:47:         COUNT(*) as total_calls,
2025-06-28T04:03:47:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:03:47.050Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:47: SQL実行成功: 結果行数=1
2025-06-28T04:03:47: [36m[2025-06-28T04:03:47.050Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:47: SQL実行: 
2025-06-28T04:03:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:47:           FROM contacts 
2025-06-28T04:03:47:           WHERE c... パラメータ数: 1
2025-06-28T04:03:47: SQL実行成功: 結果行数=0
2025-06-28T04:03:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:47: SQL実行成功: 結果行数=1
2025-06-28T04:03:47: SQL実行: 
2025-06-28T04:03:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:47:           FROM contacts 
2025-06-28T04:03:47:           WHERE c... パラメータ数: 1
2025-06-28T04:03:47: SQL実行成功: 結果行数=0
2025-06-28T04:03:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:47: SQL実行成功: 結果行数=1
[2025-06-28T04:03:52.018Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:52: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:03:52: [36m[2025-06-28T04:03:52.018Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:52: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:03:52: SQL実行成功: 結果行数=1
2025-06-28T04:03:52: SQL実行: 
2025-06-28T04:03:52:       SELECT 
2025-06-28T04:03:52:         COUNT(*) as total,
2025-06-28T04:03:52:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:03:52: SQL実行成功: 結果行数=1
2025-06-28T04:03:52: SQL実行: 
2025-06-28T04:03:52:       SELECT 
2025-06-28T04:03:52:         COUNT(*) as total_calls,
2025-06-28T04:03:52:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:03:52: SQL実行成功: 結果行数=1
[2025-06-28T04:03:52.021Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:52: [36m[2025-06-28T04:03:52.021Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:52: SQL実行: 
2025-06-28T04:03:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:52:           FROM contacts 
2025-06-28T04:03:52:           WHERE c... パラメータ数: 1
2025-06-28T04:03:52: SQL実行成功: 結果行数=0
2025-06-28T04:03:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:52: SQL実行成功: 結果行数=1
2025-06-28T04:03:52: SQL実行: 
2025-06-28T04:03:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:52:           FROM contacts 
2025-06-28T04:03:52:           WHERE c... パラメータ数: 1
2025-06-28T04:03:52: SQL実行成功: 結果行数=0
2025-06-28T04:03:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:52: SQL実行成功: 結果行数=1
[2025-06-28T04:03:57.019Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:57: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:03:57: [36m[2025-06-28T04:03:57.019Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:03:57: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:03:57: SQL実行成功: 結果行数=1
2025-06-28T04:03:57: SQL実行: 
2025-06-28T04:03:57:       SELECT 
2025-06-28T04:03:57:         COUNT(*) as total,
2025-06-28T04:03:57:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:03:57: SQL実行成功: 結果行数=1
2025-06-28T04:03:57: SQL実行: 
2025-06-28T04:03:57:       SELECT 
2025-06-28T04:03:57:         COUNT(*) as total_calls,
2025-06-28T04:03:57:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:03:57.023Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:57: SQL実行成功: 結果行数=1
2025-06-28T04:03:57: [36m[2025-06-28T04:03:57.023Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:03:57: SQL実行: 
2025-06-28T04:03:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:57:           FROM contacts 
2025-06-28T04:03:57:           WHERE c... パラメータ数: 1
2025-06-28T04:03:57: SQL実行成功: 結果行数=0
2025-06-28T04:03:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:57: SQL実行成功: 結果行数=1
2025-06-28T04:03:57: SQL実行: 
2025-06-28T04:03:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:03:57:           FROM contacts 
2025-06-28T04:03:57:           WHERE c... パラメータ数: 1
2025-06-28T04:03:57: SQL実行成功: 結果行数=0
2025-06-28T04:03:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:03:57: SQL実行成功: 結果行数=1
2025-06-28T04:04:01: SQL実行: SELECT 1... 
2025-06-28T04:04:01: SQL実行成功: 結果行数=1
2025-06-28T04:04:01: SQL実行: 
2025-06-28T04:04:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:04:01:                ci.number as ca... 
2025-06-28T04:04:01: SQL実行成功: 結果行数=80
[2025-06-28T04:04:02.047Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:02: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:04:02: [36m[2025-06-28T04:04:02.047Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:02: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:04:02: SQL実行成功: 結果行数=1
2025-06-28T04:04:02: SQL実行: 
2025-06-28T04:04:02:       SELECT 
2025-06-28T04:04:02:         COUNT(*) as total,
2025-06-28T04:04:02:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:04:02: SQL実行成功: 結果行数=1
2025-06-28T04:04:02: SQL実行: 
2025-06-28T04:04:02:       SELECT 
2025-06-28T04:04:02:         COUNT(*) as total_calls,
2025-06-28T04:04:02:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:04:02: SQL実行成功: 結果行数=1
[2025-06-28T04:04:02.054Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:02: [36m[2025-06-28T04:04:02.054Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:02: SQL実行: 
2025-06-28T04:04:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:02:           FROM contacts 
2025-06-28T04:04:02:           WHERE c... パラメータ数: 1
2025-06-28T04:04:02: SQL実行成功: 結果行数=0
2025-06-28T04:04:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:02: SQL実行成功: 結果行数=1
2025-06-28T04:04:02: SQL実行: 
2025-06-28T04:04:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:02:           FROM contacts 
2025-06-28T04:04:02:           WHERE c... パラメータ数: 1
2025-06-28T04:04:02: SQL実行成功: 結果行数=0
2025-06-28T04:04:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:02: SQL実行成功: 結果行数=1
[2025-06-28T04:04:07.019Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:07: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:04:07: [36m[2025-06-28T04:04:07.019Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:07: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:04:07: SQL実行成功: 結果行数=1
2025-06-28T04:04:07: SQL実行: 
2025-06-28T04:04:07:       SELECT 
2025-06-28T04:04:07:         COUNT(*) as total,
2025-06-28T04:04:07:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:04:07: SQL実行成功: 結果行数=1
[2025-06-28T04:04:07.023Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:07: SQL実行: 
2025-06-28T04:04:07:       SELECT 
2025-06-28T04:04:07:         COUNT(*) as total_calls,
2025-06-28T04:04:07:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:04:07: SQL実行成功: 結果行数=1
2025-06-28T04:04:07: [36m[2025-06-28T04:04:07.023Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:07: SQL実行: 
2025-06-28T04:04:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:07:           FROM contacts 
2025-06-28T04:04:07:           WHERE c... パラメータ数: 1
2025-06-28T04:04:07: SQL実行成功: 結果行数=0
2025-06-28T04:04:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:07: SQL実行成功: 結果行数=1
2025-06-28T04:04:07: SQL実行: 
2025-06-28T04:04:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:07:           FROM contacts 
2025-06-28T04:04:07:           WHERE c... パラメータ数: 1
2025-06-28T04:04:07: SQL実行成功: 結果行数=0
2025-06-28T04:04:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:07: SQL実行成功: 結果行数=1
[2025-06-28T04:04:12.184Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:12: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:04:12: [36m[2025-06-28T04:04:12.184Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:12: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:04:12: SQL実行成功: 結果行数=1
2025-06-28T04:04:12: SQL実行: 
2025-06-28T04:04:12:       SELECT 
2025-06-28T04:04:12:         COUNT(*) as total,
2025-06-28T04:04:12:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:04:12: SQL実行成功: 結果行数=1
2025-06-28T04:04:12: SQL実行: 
2025-06-28T04:04:12:       SELECT 
2025-06-28T04:04:12:         COUNT(*) as total_calls,
2025-06-28T04:04:12:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:04:12.188Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:12: SQL実行成功: 結果行数=1
2025-06-28T04:04:12: [36m[2025-06-28T04:04:12.188Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:12: SQL実行: 
2025-06-28T04:04:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:12:           FROM contacts 
2025-06-28T04:04:12:           WHERE c... パラメータ数: 1
2025-06-28T04:04:12: SQL実行成功: 結果行数=0
2025-06-28T04:04:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:12: SQL実行成功: 結果行数=1
2025-06-28T04:04:12: SQL実行: 
2025-06-28T04:04:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:12:           FROM contacts 
2025-06-28T04:04:12:           WHERE c... パラメータ数: 1
2025-06-28T04:04:12: SQL実行成功: 結果行数=0
2025-06-28T04:04:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:12: SQL実行成功: 結果行数=1
2025-06-28T04:04:16: SQL実行: 
2025-06-28T04:04:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:04:16:                ci.number as ca... 
2025-06-28T04:04:16: SQL実行成功: 結果行数=80
[2025-06-28T04:04:17.182Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:17: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:04:17: [36m[2025-06-28T04:04:17.182Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:17: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:04:17: SQL実行成功: 結果行数=1
2025-06-28T04:04:17: SQL実行: 
2025-06-28T04:04:17:       SELECT 
2025-06-28T04:04:17:         COUNT(*) as total,
2025-06-28T04:04:17:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:04:17: SQL実行成功: 結果行数=1
2025-06-28T04:04:17: SQL実行: 
2025-06-28T04:04:17:       SELECT 
2025-06-28T04:04:17:         COUNT(*) as total_calls,
2025-06-28T04:04:17:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:04:17.186Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:17: SQL実行成功: 結果行数=1
2025-06-28T04:04:17: [36m[2025-06-28T04:04:17.186Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:17: SQL実行: 
2025-06-28T04:04:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:17:           FROM contacts 
2025-06-28T04:04:17:           WHERE c... パラメータ数: 1
2025-06-28T04:04:17: SQL実行成功: 結果行数=0
2025-06-28T04:04:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:17: SQL実行成功: 結果行数=1
2025-06-28T04:04:17: SQL実行: 
2025-06-28T04:04:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:17:           FROM contacts 
2025-06-28T04:04:17:           WHERE c... パラメータ数: 1
2025-06-28T04:04:17: SQL実行成功: 結果行数=0
2025-06-28T04:04:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:17: SQL実行成功: 結果行数=1
2025-06-28T04:04:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T04:04:21.251Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:04:21: SQL実行成功: 結果行数=1
2025-06-28T04:04:21: [36m[2025-06-28T04:04:21.251Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T04:04:22.184Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:22: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:04:22: [36m[2025-06-28T04:04:22.184Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:22: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:04:22: SQL実行成功: 結果行数=1
2025-06-28T04:04:22: SQL実行: 
2025-06-28T04:04:22:       SELECT 
2025-06-28T04:04:22:         COUNT(*) as total,
2025-06-28T04:04:22:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:04:22: SQL実行成功: 結果行数=1
2025-06-28T04:04:22: SQL実行: 
2025-06-28T04:04:22:       SELECT 
2025-06-28T04:04:22:         COUNT(*) as total_calls,
2025-06-28T04:04:22:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:04:22.187Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:22: SQL実行成功: 結果行数=1
2025-06-28T04:04:22: [36m[2025-06-28T04:04:22.187Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:22: SQL実行: 
2025-06-28T04:04:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:22:           FROM contacts 
2025-06-28T04:04:22:           WHERE c... パラメータ数: 1
2025-06-28T04:04:22: SQL実行成功: 結果行数=0
2025-06-28T04:04:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:22: SQL実行成功: 結果行数=1
2025-06-28T04:04:22: SQL実行: 
2025-06-28T04:04:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:22:           FROM contacts 
2025-06-28T04:04:22:           WHERE c... パラメータ数: 1
2025-06-28T04:04:22: SQL実行成功: 結果行数=0
2025-06-28T04:04:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:22: SQL実行成功: 結果行数=1
[2025-06-28T04:04:27.183Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:27: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:04:27: [36m[2025-06-28T04:04:27.183Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:04:27: SQL実行成功: 結果行数=1
2025-06-28T04:04:27: SQL実行: 
2025-06-28T04:04:27:       SELECT 
2025-06-28T04:04:27:         COUNT(*) as total,
2025-06-28T04:04:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:04:27: SQL実行成功: 結果行数=1
2025-06-28T04:04:27: SQL実行: 
2025-06-28T04:04:27:       SELECT 
2025-06-28T04:04:27:         COUNT(*) as total_calls,
2025-06-28T04:04:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:04:27.188Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:27: SQL実行成功: 結果行数=1
2025-06-28T04:04:27: [36m[2025-06-28T04:04:27.188Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:27: SQL実行: 
2025-06-28T04:04:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:27:           FROM contacts 
2025-06-28T04:04:27:           WHERE c... パラメータ数: 1
2025-06-28T04:04:27: SQL実行成功: 結果行数=0
2025-06-28T04:04:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:27: SQL実行成功: 結果行数=1
2025-06-28T04:04:27: SQL実行: 
2025-06-28T04:04:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:27:           FROM contacts 
2025-06-28T04:04:27:           WHERE c... パラメータ数: 1
2025-06-28T04:04:27: SQL実行成功: 結果行数=0
2025-06-28T04:04:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:27: SQL実行成功: 結果行数=1
2025-06-28T04:04:31: SQL実行: SELECT 1... 
2025-06-28T04:04:31: SQL実行成功: 結果行数=1
2025-06-28T04:04:31: SQL実行: 
2025-06-28T04:04:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:04:31:                ci.number as ca... 
2025-06-28T04:04:31: SQL実行成功: 結果行数=80
2025-06-28T04:04:32: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
[2025-06-28T04:04:32.187Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:32: [36m[2025-06-28T04:04:32.187Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:32: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:04:32: SQL実行成功: 結果行数=1
2025-06-28T04:04:32: SQL実行: 
2025-06-28T04:04:32:       SELECT 
2025-06-28T04:04:32:         COUNT(*) as total,
2025-06-28T04:04:32:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:04:32: SQL実行成功: 結果行数=1
2025-06-28T04:04:32: SQL実行: 
2025-06-28T04:04:32:       SELECT 
2025-06-28T04:04:32:         COUNT(*) as total_calls,
2025-06-28T04:04:32:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:04:32.191Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:32: SQL実行成功: 結果行数=1
2025-06-28T04:04:32: [36m[2025-06-28T04:04:32.191Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:32: SQL実行: 
2025-06-28T04:04:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:32:           FROM contacts 
2025-06-28T04:04:32:           WHERE c... パラメータ数: 1
2025-06-28T04:04:32: SQL実行成功: 結果行数=0
2025-06-28T04:04:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:32: SQL実行成功: 結果行数=1
2025-06-28T04:04:32: SQL実行: 
2025-06-28T04:04:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:32:           FROM contacts 
2025-06-28T04:04:32:           WHERE c... パラメータ数: 1
2025-06-28T04:04:32: SQL実行成功: 結果行数=0
2025-06-28T04:04:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:32: SQL実行成功: 結果行数=1
[2025-06-28T04:04:37.186Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:37: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:04:37: [36m[2025-06-28T04:04:37.186Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:37: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:04:37: SQL実行成功: 結果行数=1
2025-06-28T04:04:37: SQL実行: 
2025-06-28T04:04:37:       SELECT 
2025-06-28T04:04:37:         COUNT(*) as total,
2025-06-28T04:04:37:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:04:37: SQL実行成功: 結果行数=1
2025-06-28T04:04:37: SQL実行: 
2025-06-28T04:04:37:       SELECT 
2025-06-28T04:04:37:         COUNT(*) as total_calls,
2025-06-28T04:04:37:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:04:37.191Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:37: SQL実行成功: 結果行数=1
2025-06-28T04:04:37: [36m[2025-06-28T04:04:37.191Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:37: SQL実行: 
2025-06-28T04:04:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:37:           FROM contacts 
2025-06-28T04:04:37:           WHERE c... パラメータ数: 1
2025-06-28T04:04:37: SQL実行成功: 結果行数=0
2025-06-28T04:04:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:37: SQL実行成功: 結果行数=1
2025-06-28T04:04:37: SQL実行: 
2025-06-28T04:04:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:37:           FROM contacts 
2025-06-28T04:04:37:           WHERE c... パラメータ数: 1
2025-06-28T04:04:37: SQL実行成功: 結果行数=0
2025-06-28T04:04:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:37: SQL実行成功: 結果行数=1
[2025-06-28T04:04:42.191Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:42: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:04:42: [36m[2025-06-28T04:04:42.191Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:42: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:04:42: SQL実行成功: 結果行数=1
2025-06-28T04:04:42: SQL実行: 
2025-06-28T04:04:42:       SELECT 
2025-06-28T04:04:42:         COUNT(*) as total,
2025-06-28T04:04:42:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:04:42: SQL実行成功: 結果行数=1
2025-06-28T04:04:42: SQL実行: 
2025-06-28T04:04:42:       SELECT 
2025-06-28T04:04:42:         COUNT(*) as total_calls,
2025-06-28T04:04:42:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:04:42.195Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:42: SQL実行成功: 結果行数=1
2025-06-28T04:04:42: [36m[2025-06-28T04:04:42.195Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:42: SQL実行: 
2025-06-28T04:04:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:42:           FROM contacts 
2025-06-28T04:04:42:           WHERE c... パラメータ数: 1
2025-06-28T04:04:42: SQL実行成功: 結果行数=0
2025-06-28T04:04:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:42: SQL実行成功: 結果行数=1
2025-06-28T04:04:42: SQL実行: 
2025-06-28T04:04:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:42:           FROM contacts 
2025-06-28T04:04:42:           WHERE c... パラメータ数: 1
2025-06-28T04:04:42: SQL実行成功: 結果行数=0
2025-06-28T04:04:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:42: SQL実行成功: 結果行数=1
2025-06-28T04:04:46: SQL実行: 
2025-06-28T04:04:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:04:46:                ci.number as ca... 
2025-06-28T04:04:46: SQL実行成功: 結果行数=80
[2025-06-28T04:04:47.184Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:47: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:04:47: [36m[2025-06-28T04:04:47.184Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:47: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:04:47: SQL実行成功: 結果行数=1
2025-06-28T04:04:47: SQL実行: 
2025-06-28T04:04:47:       SELECT 
2025-06-28T04:04:47:         COUNT(*) as total,
2025-06-28T04:04:47:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:04:47: SQL実行成功: 結果行数=1
2025-06-28T04:04:47: SQL実行: 
2025-06-28T04:04:47:       SELECT 
2025-06-28T04:04:47:         COUNT(*) as total_calls,
2025-06-28T04:04:47:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:04:47.187Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:47: SQL実行成功: 結果行数=1
2025-06-28T04:04:47: [36m[2025-06-28T04:04:47.187Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:47: SQL実行: 
2025-06-28T04:04:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:47:           FROM contacts 
2025-06-28T04:04:47:           WHERE c... パラメータ数: 1
2025-06-28T04:04:47: SQL実行成功: 結果行数=0
2025-06-28T04:04:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:47: SQL実行成功: 結果行数=1
2025-06-28T04:04:47: SQL実行: 
2025-06-28T04:04:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:47:           FROM contacts 
2025-06-28T04:04:47:           WHERE c... パラメータ数: 1
2025-06-28T04:04:47: SQL実行成功: 結果行数=0
2025-06-28T04:04:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:47: SQL実行成功: 結果行数=1
[2025-06-28T04:04:52.183Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:52: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:04:52: [36m[2025-06-28T04:04:52.183Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:52: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:04:52: SQL実行成功: 結果行数=1
2025-06-28T04:04:52: SQL実行: 
2025-06-28T04:04:52:       SELECT 
2025-06-28T04:04:52:         COUNT(*) as total,
2025-06-28T04:04:52:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:04:52: SQL実行成功: 結果行数=1
2025-06-28T04:04:52: SQL実行: 
2025-06-28T04:04:52:       SELECT 
2025-06-28T04:04:52:         COUNT(*) as total_calls,
2025-06-28T04:04:52:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:04:52.187Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:52: SQL実行成功: 結果行数=1
2025-06-28T04:04:52: [36m[2025-06-28T04:04:52.187Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:52: SQL実行: 
2025-06-28T04:04:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:52:           FROM contacts 
2025-06-28T04:04:52:           WHERE c... パラメータ数: 1
2025-06-28T04:04:52: SQL実行成功: 結果行数=0
2025-06-28T04:04:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:52: SQL実行成功: 結果行数=1
2025-06-28T04:04:52: SQL実行: 
2025-06-28T04:04:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:52:           FROM contacts 
2025-06-28T04:04:52:           WHERE c... パラメータ数: 1
2025-06-28T04:04:52: SQL実行成功: 結果行数=0
2025-06-28T04:04:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:52: SQL実行成功: 結果行数=1
[2025-06-28T04:04:57.183Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:57: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:04:57: [36m[2025-06-28T04:04:57.183Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:04:57: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:04:57: SQL実行成功: 結果行数=1
2025-06-28T04:04:57: SQL実行: 
2025-06-28T04:04:57:       SELECT 
2025-06-28T04:04:57:         COUNT(*) as total,
2025-06-28T04:04:57:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:04:57: SQL実行成功: 結果行数=1
2025-06-28T04:04:57: SQL実行: 
2025-06-28T04:04:57:       SELECT 
2025-06-28T04:04:57:         COUNT(*) as total_calls,
2025-06-28T04:04:57:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:04:57.187Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:57: SQL実行成功: 結果行数=1
2025-06-28T04:04:57: [36m[2025-06-28T04:04:57.187Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:04:57: SQL実行: 
2025-06-28T04:04:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:57:           FROM contacts 
2025-06-28T04:04:57:           WHERE c... パラメータ数: 1
2025-06-28T04:04:57: SQL実行成功: 結果行数=0
2025-06-28T04:04:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:57: SQL実行成功: 結果行数=1
2025-06-28T04:04:57: SQL実行: 
2025-06-28T04:04:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:04:57:           FROM contacts 
2025-06-28T04:04:57:           WHERE c... パラメータ数: 1
2025-06-28T04:04:57: SQL実行成功: 結果行数=0
2025-06-28T04:04:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:04:57: SQL実行成功: 結果行数=1
2025-06-28T04:05:01: SQL実行: SELECT 1... 
2025-06-28T04:05:01: SQL実行成功: 結果行数=1
2025-06-28T04:05:01: SQL実行: 
2025-06-28T04:05:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:05:01:                ci.number as ca... 
2025-06-28T04:05:01: SQL実行成功: 結果行数=80
[2025-06-28T04:05:02.184Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:05:02: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:05:02: [36m[2025-06-28T04:05:02.184Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:05:02: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:05:02: SQL実行成功: 結果行数=1
2025-06-28T04:05:02: SQL実行: 
2025-06-28T04:05:02:       SELECT 
2025-06-28T04:05:02:         COUNT(*) as total,
2025-06-28T04:05:02:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:05:02: SQL実行成功: 結果行数=1
2025-06-28T04:05:02: SQL実行: 
2025-06-28T04:05:02:       SELECT 
2025-06-28T04:05:02:         COUNT(*) as total_calls,
2025-06-28T04:05:02:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:05:02.189Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:05:02: SQL実行成功: 結果行数=1
2025-06-28T04:05:02: [36m[2025-06-28T04:05:02.189Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:05:02: SQL実行: 
2025-06-28T04:05:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:02:           FROM contacts 
2025-06-28T04:05:02:           WHERE c... パラメータ数: 1
2025-06-28T04:05:02: SQL実行成功: 結果行数=0
2025-06-28T04:05:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:02: SQL実行成功: 結果行数=1
2025-06-28T04:05:02: SQL実行: 
2025-06-28T04:05:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:02:           FROM contacts 
2025-06-28T04:05:02:           WHERE c... パラメータ数: 1
2025-06-28T04:05:02: SQL実行成功: 結果行数=0
2025-06-28T04:05:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:02: SQL実行成功: 結果行数=1
[2025-06-28T04:05:07.185Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
[2025-06-28T04:05:07.191Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:05:07: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:05:07: [36m[2025-06-28T04:05:07.185Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:05:07: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:05:07: SQL実行成功: 結果行数=1
2025-06-28T04:05:07: SQL実行: 
2025-06-28T04:05:07:       SELECT 
2025-06-28T04:05:07:         COUNT(*) as total,
2025-06-28T04:05:07:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:05:07: SQL実行成功: 結果行数=1
2025-06-28T04:05:07: SQL実行: 
2025-06-28T04:05:07:       SELECT 
2025-06-28T04:05:07:         COUNT(*) as total_calls,
2025-06-28T04:05:07:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:05:07: SQL実行成功: 結果行数=1
2025-06-28T04:05:07: [36m[2025-06-28T04:05:07.191Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:05:07: SQL実行: 
2025-06-28T04:05:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:07:           FROM contacts 
2025-06-28T04:05:07:           WHERE c... パラメータ数: 1
2025-06-28T04:05:07: SQL実行成功: 結果行数=0
2025-06-28T04:05:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:07: SQL実行成功: 結果行数=1
2025-06-28T04:05:07: SQL実行: 
2025-06-28T04:05:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:07:           FROM contacts 
2025-06-28T04:05:07:           WHERE c... パラメータ数: 1
2025-06-28T04:05:07: SQL実行成功: 結果行数=0
2025-06-28T04:05:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:07: SQL実行成功: 結果行数=1
2025-06-28T04:05:12: SQL実行: 
2025-06-28T04:05:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:12:           FROM contacts 
2025-06-28T04:05:12:           WHERE c... パラメータ数: 1
2025-06-28T04:05:12: SQL実行成功: 結果行数=0
2025-06-28T04:05:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:12: SQL実行成功: 結果行数=1
2025-06-28T04:05:12: SQL実行: 
2025-06-28T04:05:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:12:           FROM contacts 
2025-06-28T04:05:12:           WHERE c... パラメータ数: 1
2025-06-28T04:05:12: SQL実行成功: 結果行数=0
2025-06-28T04:05:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:12: SQL実行成功: 結果行数=1
[2025-06-28T04:05:14.187Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:05:14: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:05:14: [36m[2025-06-28T04:05:14.187Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:05:14: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:05:14: SQL実行成功: 結果行数=1
2025-06-28T04:05:14: SQL実行: 
2025-06-28T04:05:14:       SELECT 
2025-06-28T04:05:14:         COUNT(*) as total,
2025-06-28T04:05:14:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:05:14: SQL実行成功: 結果行数=1
2025-06-28T04:05:14: SQL実行: 
2025-06-28T04:05:14:       SELECT 
2025-06-28T04:05:14:         COUNT(*) as total_calls,
2025-06-28T04:05:14:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:05:14.191Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:05:14: SQL実行成功: 結果行数=1
2025-06-28T04:05:14: [36m[2025-06-28T04:05:14.191Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:05:16: SQL実行: 
2025-06-28T04:05:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:05:16:                ci.number as ca... 
2025-06-28T04:05:16: SQL実行成功: 結果行数=80
2025-06-28T04:05:17: SQL実行: 
2025-06-28T04:05:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:17:           FROM contacts 
2025-06-28T04:05:17:           WHERE c... パラメータ数: 1
2025-06-28T04:05:17: SQL実行成功: 結果行数=0
2025-06-28T04:05:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:17: SQL実行成功: 結果行数=1
2025-06-28T04:05:17: SQL実行: 
2025-06-28T04:05:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:17:           FROM contacts 
2025-06-28T04:05:17:           WHERE c... パラメータ数: 1
2025-06-28T04:05:17: SQL実行成功: 結果行数=0
2025-06-28T04:05:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:17: SQL実行成功: 結果行数=1
2025-06-28T04:05:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T04:05:21.251Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:05:21: SQL実行成功: 結果行数=1
2025-06-28T04:05:21: [36m[2025-06-28T04:05:21.251Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:05:22: SQL実行: 
2025-06-28T04:05:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:22:           FROM contacts 
2025-06-28T04:05:22:           WHERE c... パラメータ数: 1
2025-06-28T04:05:22: SQL実行成功: 結果行数=0
2025-06-28T04:05:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:22: SQL実行成功: 結果行数=1
2025-06-28T04:05:22: SQL実行: 
2025-06-28T04:05:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:22:           FROM contacts 
2025-06-28T04:05:22:           WHERE c... パラメータ数: 1
2025-06-28T04:05:22: SQL実行成功: 結果行数=0
2025-06-28T04:05:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:22: SQL実行成功: 結果行数=1
2025-06-28T04:05:27: SQL実行: 
2025-06-28T04:05:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:27:           FROM contacts 
2025-06-28T04:05:27:           WHERE c... パラメータ数: 1
2025-06-28T04:05:27: SQL実行成功: 結果行数=0
2025-06-28T04:05:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:27: SQL実行成功: 結果行数=1
2025-06-28T04:05:27: SQL実行: 
2025-06-28T04:05:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:27:           FROM contacts 
2025-06-28T04:05:27:           WHERE c... パラメータ数: 1
2025-06-28T04:05:27: SQL実行成功: 結果行数=0
2025-06-28T04:05:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:27: SQL実行成功: 結果行数=1
2025-06-28T04:05:31: SQL実行: SELECT 1... 
2025-06-28T04:05:31: SQL実行成功: 結果行数=1
2025-06-28T04:05:31: SQL実行: 
2025-06-28T04:05:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:05:31:                ci.number as ca... 
2025-06-28T04:05:31: SQL実行成功: 結果行数=80
2025-06-28T04:05:32: SQL実行: 
2025-06-28T04:05:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:32:           FROM contacts 
2025-06-28T04:05:32:           WHERE c... パラメータ数: 1
2025-06-28T04:05:32: SQL実行成功: 結果行数=0
2025-06-28T04:05:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:32: SQL実行成功: 結果行数=1
2025-06-28T04:05:32: SQL実行: 
2025-06-28T04:05:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:32:           FROM contacts 
2025-06-28T04:05:32:           WHERE c... パラメータ数: 1
2025-06-28T04:05:32: SQL実行成功: 結果行数=0
2025-06-28T04:05:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:32: SQL実行成功: 結果行数=1
2025-06-28T04:05:37: SQL実行: 
2025-06-28T04:05:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:37:           FROM contacts 
2025-06-28T04:05:37:           WHERE c... パラメータ数: 1
2025-06-28T04:05:37: SQL実行成功: 結果行数=0
2025-06-28T04:05:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:37: SQL実行成功: 結果行数=1
2025-06-28T04:05:37: SQL実行: 
2025-06-28T04:05:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:37:           FROM contacts 
2025-06-28T04:05:37:           WHERE c... パラメータ数: 1
2025-06-28T04:05:37: SQL実行成功: 結果行数=0
2025-06-28T04:05:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:37: SQL実行成功: 結果行数=1
2025-06-28T04:05:42: SQL実行: 
2025-06-28T04:05:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:42:           FROM contacts 
2025-06-28T04:05:42:           WHERE c... パラメータ数: 1
2025-06-28T04:05:42: SQL実行成功: 結果行数=0
2025-06-28T04:05:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:42: SQL実行成功: 結果行数=1
2025-06-28T04:05:42: SQL実行: 
2025-06-28T04:05:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:42:           FROM contacts 
2025-06-28T04:05:42:           WHERE c... パラメータ数: 1
2025-06-28T04:05:42: SQL実行成功: 結果行数=0
2025-06-28T04:05:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:42: SQL実行成功: 結果行数=1
2025-06-28T04:05:46: SQL実行: 
2025-06-28T04:05:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:05:46:                ci.number as ca... 
2025-06-28T04:05:46: SQL実行成功: 結果行数=80
2025-06-28T04:05:47: SQL実行: 
2025-06-28T04:05:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:47:           FROM contacts 
2025-06-28T04:05:47:           WHERE c... パラメータ数: 1
2025-06-28T04:05:47: SQL実行成功: 結果行数=0
2025-06-28T04:05:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:47: SQL実行成功: 結果行数=1
2025-06-28T04:05:47: SQL実行: 
2025-06-28T04:05:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:47:           FROM contacts 
2025-06-28T04:05:47:           WHERE c... パラメータ数: 1
2025-06-28T04:05:47: SQL実行成功: 結果行数=0
2025-06-28T04:05:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:47: SQL実行成功: 結果行数=1
2025-06-28T04:05:52: SQL実行: 
2025-06-28T04:05:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:52:           FROM contacts 
2025-06-28T04:05:52:           WHERE c... パラメータ数: 1
2025-06-28T04:05:52: SQL実行成功: 結果行数=0
2025-06-28T04:05:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:52: SQL実行成功: 結果行数=1
2025-06-28T04:05:52: SQL実行: 
2025-06-28T04:05:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:52:           FROM contacts 
2025-06-28T04:05:52:           WHERE c... パラメータ数: 1
2025-06-28T04:05:52: SQL実行成功: 結果行数=0
2025-06-28T04:05:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:52: SQL実行成功: 結果行数=1
2025-06-28T04:05:57: SQL実行: 
2025-06-28T04:05:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:57:           FROM contacts 
2025-06-28T04:05:57:           WHERE c... パラメータ数: 1
2025-06-28T04:05:57: SQL実行成功: 結果行数=0
2025-06-28T04:05:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:57: SQL実行成功: 結果行数=1
2025-06-28T04:05:57: SQL実行: 
2025-06-28T04:05:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:05:57:           FROM contacts 
2025-06-28T04:05:57:           WHERE c... パラメータ数: 1
2025-06-28T04:05:57: SQL実行成功: 結果行数=0
2025-06-28T04:05:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:05:57: SQL実行成功: 結果行数=1
2025-06-28T04:06:01: SQL実行: SELECT 1... 
2025-06-28T04:06:01: SQL実行成功: 結果行数=1
2025-06-28T04:06:01: SQL実行: 
2025-06-28T04:06:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:06:01:                ci.number as ca... 
2025-06-28T04:06:01: SQL実行成功: 結果行数=80
2025-06-28T04:06:02: SQL実行: 
2025-06-28T04:06:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:02:           FROM contacts 
2025-06-28T04:06:02:           WHERE c... パラメータ数: 1
2025-06-28T04:06:02: SQL実行成功: 結果行数=0
2025-06-28T04:06:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:02: SQL実行成功: 結果行数=1
2025-06-28T04:06:02: SQL実行: 
2025-06-28T04:06:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:02:           FROM contacts 
2025-06-28T04:06:02:           WHERE c... パラメータ数: 1
2025-06-28T04:06:02: SQL実行成功: 結果行数=0
2025-06-28T04:06:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:02: SQL実行成功: 結果行数=1
2025-06-28T04:06:07: SQL実行: 
2025-06-28T04:06:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:07:           FROM contacts 
2025-06-28T04:06:07:           WHERE c... パラメータ数: 1
2025-06-28T04:06:07: SQL実行成功: 結果行数=0
2025-06-28T04:06:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:07: SQL実行成功: 結果行数=1
2025-06-28T04:06:07: SQL実行: 
2025-06-28T04:06:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:07:           FROM contacts 
2025-06-28T04:06:07:           WHERE c... パラメータ数: 1
2025-06-28T04:06:07: SQL実行成功: 結果行数=0
2025-06-28T04:06:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:07: SQL実行成功: 結果行数=1
2025-06-28T04:06:12: SQL実行: 
2025-06-28T04:06:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:12:           FROM contacts 
2025-06-28T04:06:12:           WHERE c... パラメータ数: 1
2025-06-28T04:06:12: SQL実行成功: 結果行数=0
2025-06-28T04:06:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:12: SQL実行成功: 結果行数=1
2025-06-28T04:06:12: SQL実行: 
2025-06-28T04:06:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:12:           FROM contacts 
2025-06-28T04:06:12:           WHERE c... パラメータ数: 1
2025-06-28T04:06:12: SQL実行成功: 結果行数=0
2025-06-28T04:06:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:12: SQL実行成功: 結果行数=1
[2025-06-28T04:06:14.188Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:06:14: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:06:14: [36m[2025-06-28T04:06:14.188Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:06:14: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:06:14: SQL実行成功: 結果行数=1
2025-06-28T04:06:14: SQL実行: 
2025-06-28T04:06:14:       SELECT 
2025-06-28T04:06:14:         COUNT(*) as total,
2025-06-28T04:06:14:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:06:14: SQL実行成功: 結果行数=1
2025-06-28T04:06:14: SQL実行: 
2025-06-28T04:06:14:       SELECT 
2025-06-28T04:06:14:         COUNT(*) as total_calls,
2025-06-28T04:06:14:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:06:14: SQL実行成功: 結果行数=1
[2025-06-28T04:06:14.191Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:06:14: [36m[2025-06-28T04:06:14.191Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:06:16: SQL実行: 
2025-06-28T04:06:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:06:16:                ci.number as ca... 
2025-06-28T04:06:16: SQL実行成功: 結果行数=80
2025-06-28T04:06:17: SQL実行: 
2025-06-28T04:06:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:17:           FROM contacts 
2025-06-28T04:06:17:           WHERE c... パラメータ数: 1
2025-06-28T04:06:17: SQL実行成功: 結果行数=0
2025-06-28T04:06:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:17: SQL実行成功: 結果行数=1
2025-06-28T04:06:17: SQL実行: 
2025-06-28T04:06:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:17:           FROM contacts 
2025-06-28T04:06:17:           WHERE c... パラメータ数: 1
2025-06-28T04:06:17: SQL実行成功: 結果行数=0
2025-06-28T04:06:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:17: SQL実行成功: 結果行数=1
2025-06-28T04:06:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T04:06:21.252Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:06:21: SQL実行成功: 結果行数=1
2025-06-28T04:06:21: [36m[2025-06-28T04:06:21.252Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:06:22: SQL実行: 
2025-06-28T04:06:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:22:           FROM contacts 
2025-06-28T04:06:22:           WHERE c... パラメータ数: 1
2025-06-28T04:06:22: SQL実行成功: 結果行数=0
2025-06-28T04:06:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:22: SQL実行成功: 結果行数=1
2025-06-28T04:06:22: SQL実行: 
2025-06-28T04:06:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:22:           FROM contacts 
2025-06-28T04:06:22:           WHERE c... パラメータ数: 1
2025-06-28T04:06:22: SQL実行成功: 結果行数=0
2025-06-28T04:06:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:22: SQL実行成功: 結果行数=1
2025-06-28T04:06:27: SQL実行: 
2025-06-28T04:06:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:27:           FROM contacts 
2025-06-28T04:06:27:           WHERE c... パラメータ数: 1
2025-06-28T04:06:27: SQL実行成功: 結果行数=0
2025-06-28T04:06:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:27: SQL実行成功: 結果行数=1
2025-06-28T04:06:27: SQL実行: 
2025-06-28T04:06:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:27:           FROM contacts 
2025-06-28T04:06:27:           WHERE c... パラメータ数: 1
2025-06-28T04:06:27: SQL実行成功: 結果行数=0
2025-06-28T04:06:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:27: SQL実行成功: 結果行数=1
2025-06-28T04:06:31: SQL実行: SELECT 1... 
2025-06-28T04:06:31: SQL実行成功: 結果行数=1
2025-06-28T04:06:31: SQL実行: 
2025-06-28T04:06:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:06:31:                ci.number as ca... 
2025-06-28T04:06:31: SQL実行成功: 結果行数=80
2025-06-28T04:06:32: SQL実行: 
2025-06-28T04:06:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:32:           FROM contacts 
2025-06-28T04:06:32:           WHERE c... パラメータ数: 1
2025-06-28T04:06:32: SQL実行成功: 結果行数=0
2025-06-28T04:06:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:32: SQL実行成功: 結果行数=1
2025-06-28T04:06:32: SQL実行: 
2025-06-28T04:06:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:32:           FROM contacts 
2025-06-28T04:06:32:           WHERE c... パラメータ数: 1
2025-06-28T04:06:32: SQL実行成功: 結果行数=0
2025-06-28T04:06:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:32: SQL実行成功: 結果行数=1
2025-06-28T04:06:37: SQL実行: 
2025-06-28T04:06:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:37:           FROM contacts 
2025-06-28T04:06:37:           WHERE c... パラメータ数: 1
2025-06-28T04:06:37: SQL実行成功: 結果行数=0
2025-06-28T04:06:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:37: SQL実行成功: 結果行数=1
2025-06-28T04:06:37: SQL実行: 
2025-06-28T04:06:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:37:           FROM contacts 
2025-06-28T04:06:37:           WHERE c... パラメータ数: 1
2025-06-28T04:06:37: SQL実行成功: 結果行数=0
2025-06-28T04:06:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:37: SQL実行成功: 結果行数=1
2025-06-28T04:06:42: SQL実行: 
2025-06-28T04:06:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:42:           FROM contacts 
2025-06-28T04:06:42:           WHERE c... パラメータ数: 1
2025-06-28T04:06:42: SQL実行成功: 結果行数=0
2025-06-28T04:06:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:42: SQL実行成功: 結果行数=1
2025-06-28T04:06:42: SQL実行: 
2025-06-28T04:06:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:42:           FROM contacts 
2025-06-28T04:06:42:           WHERE c... パラメータ数: 1
2025-06-28T04:06:42: SQL実行成功: 結果行数=0
2025-06-28T04:06:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:42: SQL実行成功: 結果行数=1
2025-06-28T04:06:46: SQL実行: 
2025-06-28T04:06:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:06:46:                ci.number as ca... 
2025-06-28T04:06:46: SQL実行成功: 結果行数=80
2025-06-28T04:06:47: SQL実行: 
2025-06-28T04:06:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:47:           FROM contacts 
2025-06-28T04:06:47:           WHERE c... パラメータ数: 1
2025-06-28T04:06:47: SQL実行成功: 結果行数=0
2025-06-28T04:06:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:47: SQL実行成功: 結果行数=1
2025-06-28T04:06:47: SQL実行: 
2025-06-28T04:06:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:47:           FROM contacts 
2025-06-28T04:06:47:           WHERE c... パラメータ数: 1
2025-06-28T04:06:47: SQL実行成功: 結果行数=0
2025-06-28T04:06:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:47: SQL実行成功: 結果行数=1
2025-06-28T04:06:52: SQL実行: 
2025-06-28T04:06:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:52:           FROM contacts 
2025-06-28T04:06:52:           WHERE c... パラメータ数: 1
2025-06-28T04:06:52: SQL実行成功: 結果行数=0
2025-06-28T04:06:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:52: SQL実行成功: 結果行数=1
2025-06-28T04:06:52: SQL実行: 
2025-06-28T04:06:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:52:           FROM contacts 
2025-06-28T04:06:52:           WHERE c... パラメータ数: 1
2025-06-28T04:06:52: SQL実行成功: 結果行数=0
2025-06-28T04:06:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:52: SQL実行成功: 結果行数=1
2025-06-28T04:06:57: SQL実行: 
2025-06-28T04:06:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:57:           FROM contacts 
2025-06-28T04:06:57:           WHERE c... パラメータ数: 1
2025-06-28T04:06:57: SQL実行成功: 結果行数=0
2025-06-28T04:06:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:57: SQL実行成功: 結果行数=1
2025-06-28T04:06:57: SQL実行: 
2025-06-28T04:06:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:06:57:           FROM contacts 
2025-06-28T04:06:57:           WHERE c... パラメータ数: 1
2025-06-28T04:06:57: SQL実行成功: 結果行数=0
2025-06-28T04:06:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:06:57: SQL実行成功: 結果行数=1
2025-06-28T04:07:01: SQL実行: SELECT 1... 
2025-06-28T04:07:01: SQL実行成功: 結果行数=1
2025-06-28T04:07:01: SQL実行: 
2025-06-28T04:07:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:07:01:                ci.number as ca... 
2025-06-28T04:07:01: SQL実行成功: 結果行数=80
2025-06-28T04:07:02: SQL実行: 
2025-06-28T04:07:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:02:           FROM contacts 
2025-06-28T04:07:02:           WHERE c... パラメータ数: 1
2025-06-28T04:07:02: SQL実行成功: 結果行数=0
2025-06-28T04:07:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:02: SQL実行成功: 結果行数=1
2025-06-28T04:07:02: SQL実行: 
2025-06-28T04:07:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:02:           FROM contacts 
2025-06-28T04:07:02:           WHERE c... パラメータ数: 1
2025-06-28T04:07:02: SQL実行成功: 結果行数=0
2025-06-28T04:07:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:02: SQL実行成功: 結果行数=1
[2025-06-28T04:07:04.193Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:04: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:07:04: [36m[2025-06-28T04:07:04.193Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:04: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:07:04: SQL実行成功: 結果行数=1
2025-06-28T04:07:04: SQL実行: 
2025-06-28T04:07:04:       SELECT 
2025-06-28T04:07:04:         COUNT(*) as total,
2025-06-28T04:07:04:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-28T04:07:04.198Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:04: SQL実行成功: 結果行数=1
2025-06-28T04:07:04: SQL実行: 
2025-06-28T04:07:04:       SELECT 
2025-06-28T04:07:04:         COUNT(*) as total_calls,
2025-06-28T04:07:04:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:07:04: SQL実行成功: 結果行数=1
2025-06-28T04:07:04: [36m[2025-06-28T04:07:04.198Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
[2025-06-28T04:07:07.020Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:07: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:07:07: [36m[2025-06-28T04:07:07.020Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:07: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:07:07: SQL実行成功: 結果行数=1
2025-06-28T04:07:07: SQL実行: 
2025-06-28T04:07:07:       SELECT 
2025-06-28T04:07:07:         COUNT(*) as total,
2025-06-28T04:07:07:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:07:07: SQL実行成功: 結果行数=1
2025-06-28T04:07:07: SQL実行: 
2025-06-28T04:07:07:       SELECT 
2025-06-28T04:07:07:         COUNT(*) as total_calls,
2025-06-28T04:07:07:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:07:07.029Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:07: SQL実行成功: 結果行数=1
2025-06-28T04:07:07: [36m[2025-06-28T04:07:07.029Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:07: SQL実行: 
2025-06-28T04:07:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:07:           FROM contacts 
2025-06-28T04:07:07:           WHERE c... パラメータ数: 1
2025-06-28T04:07:07: SQL実行成功: 結果行数=0
2025-06-28T04:07:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:07: SQL実行成功: 結果行数=1
2025-06-28T04:07:07: SQL実行: 
2025-06-28T04:07:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:07:           FROM contacts 
2025-06-28T04:07:07:           WHERE c... パラメータ数: 1
2025-06-28T04:07:07: SQL実行成功: 結果行数=0
2025-06-28T04:07:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:07: SQL実行成功: 結果行数=1
[2025-06-28T04:07:12.027Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:12: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:07:12: [36m[2025-06-28T04:07:12.027Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:12: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:07:12: SQL実行成功: 結果行数=1
2025-06-28T04:07:12: SQL実行: 
2025-06-28T04:07:12:       SELECT 
2025-06-28T04:07:12:         COUNT(*) as total,
2025-06-28T04:07:12:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-28T04:07:12.031Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:12: SQL実行成功: 結果行数=1
2025-06-28T04:07:12: SQL実行: 
2025-06-28T04:07:12:       SELECT 
2025-06-28T04:07:12:         COUNT(*) as total_calls,
2025-06-28T04:07:12:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:07:12: SQL実行成功: 結果行数=1
2025-06-28T04:07:12: [36m[2025-06-28T04:07:12.031Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:12: SQL実行: 
2025-06-28T04:07:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:12:           FROM contacts 
2025-06-28T04:07:12:           WHERE c... パラメータ数: 1
2025-06-28T04:07:12: SQL実行成功: 結果行数=0
2025-06-28T04:07:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:12: SQL実行成功: 結果行数=1
2025-06-28T04:07:12: SQL実行: 
2025-06-28T04:07:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:12:           FROM contacts 
2025-06-28T04:07:12:           WHERE c... パラメータ数: 1
2025-06-28T04:07:12: SQL実行成功: 結果行数=0
2025-06-28T04:07:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:12: SQL実行成功: 結果行数=1
2025-06-28T04:07:16: SQL実行: 
2025-06-28T04:07:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:07:16:                ci.number as ca... 
2025-06-28T04:07:16: SQL実行成功: 結果行数=80
[2025-06-28T04:07:17.042Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:17: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:07:17: [36m[2025-06-28T04:07:17.042Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:17: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:07:17: SQL実行成功: 結果行数=1
2025-06-28T04:07:17: SQL実行: 
2025-06-28T04:07:17:       SELECT 
2025-06-28T04:07:17:         COUNT(*) as total,
2025-06-28T04:07:17:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-28T04:07:17.046Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:17: SQL実行成功: 結果行数=1
2025-06-28T04:07:17: SQL実行: 
2025-06-28T04:07:17:       SELECT 
2025-06-28T04:07:17:         COUNT(*) as total_calls,
2025-06-28T04:07:17:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:07:17: SQL実行成功: 結果行数=1
2025-06-28T04:07:17: [36m[2025-06-28T04:07:17.046Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:17: SQL実行: 
2025-06-28T04:07:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:17:           FROM contacts 
2025-06-28T04:07:17:           WHERE c... パラメータ数: 1
2025-06-28T04:07:17: SQL実行成功: 結果行数=0
2025-06-28T04:07:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:17: SQL実行成功: 結果行数=1
2025-06-28T04:07:17: SQL実行: 
2025-06-28T04:07:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:17:           FROM contacts 
2025-06-28T04:07:17:           WHERE c... パラメータ数: 1
2025-06-28T04:07:17: SQL実行成功: 結果行数=0
2025-06-28T04:07:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:17: SQL実行成功: 結果行数=1
2025-06-28T04:07:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T04:07:21.252Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:07:21: SQL実行成功: 結果行数=1
2025-06-28T04:07:21: [36m[2025-06-28T04:07:21.252Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T04:07:22.017Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:22: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:07:22: [36m[2025-06-28T04:07:22.017Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:22: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:07:22: SQL実行成功: 結果行数=1
2025-06-28T04:07:22: SQL実行: 
2025-06-28T04:07:22:       SELECT 
2025-06-28T04:07:22:         COUNT(*) as total,
2025-06-28T04:07:22:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:07:22: SQL実行成功: 結果行数=1
2025-06-28T04:07:22: SQL実行: 
2025-06-28T04:07:22:       SELECT 
2025-06-28T04:07:22:         COUNT(*) as total_calls,
2025-06-28T04:07:22:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:07:22.021Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:22: SQL実行成功: 結果行数=1
2025-06-28T04:07:22: [36m[2025-06-28T04:07:22.021Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:22: SQL実行: 
2025-06-28T04:07:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:22:           FROM contacts 
2025-06-28T04:07:22:           WHERE c... パラメータ数: 1
2025-06-28T04:07:22: SQL実行成功: 結果行数=0
2025-06-28T04:07:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:22: SQL実行成功: 結果行数=1
2025-06-28T04:07:22: SQL実行: 
2025-06-28T04:07:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:22:           FROM contacts 
2025-06-28T04:07:22:           WHERE c... パラメータ数: 1
2025-06-28T04:07:22: SQL実行成功: 結果行数=0
2025-06-28T04:07:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:22: SQL実行成功: 結果行数=1
[2025-06-28T04:07:27.035Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:27: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:07:27: [36m[2025-06-28T04:07:27.035Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:07:27: SQL実行成功: 結果行数=1
2025-06-28T04:07:27: SQL実行: 
2025-06-28T04:07:27:       SELECT 
2025-06-28T04:07:27:         COUNT(*) as total,
2025-06-28T04:07:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:07:27: SQL実行成功: 結果行数=1
2025-06-28T04:07:27: SQL実行: 
2025-06-28T04:07:27:       SELECT 
2025-06-28T04:07:27:         COUNT(*) as total_calls,
2025-06-28T04:07:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:07:27.040Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:27: SQL実行成功: 結果行数=1
2025-06-28T04:07:27: [36m[2025-06-28T04:07:27.040Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:27: SQL実行: 
2025-06-28T04:07:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:27:           FROM contacts 
2025-06-28T04:07:27:           WHERE c... パラメータ数: 1
2025-06-28T04:07:27: SQL実行成功: 結果行数=0
2025-06-28T04:07:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:27: SQL実行成功: 結果行数=1
2025-06-28T04:07:27: SQL実行: 
2025-06-28T04:07:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:27:           FROM contacts 
2025-06-28T04:07:27:           WHERE c... パラメータ数: 1
2025-06-28T04:07:27: SQL実行成功: 結果行数=0
2025-06-28T04:07:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:27: SQL実行成功: 結果行数=1
2025-06-28T04:07:31: SQL実行: SELECT 1... 
2025-06-28T04:07:31: SQL実行成功: 結果行数=1
2025-06-28T04:07:31: SQL実行: 
2025-06-28T04:07:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:07:31:                ci.number as ca... 
2025-06-28T04:07:31: SQL実行成功: 結果行数=80
[2025-06-28T04:07:32.020Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:32: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:07:32: [36m[2025-06-28T04:07:32.020Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:32: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:07:32: SQL実行成功: 結果行数=1
2025-06-28T04:07:32: SQL実行: 
2025-06-28T04:07:32:       SELECT 
2025-06-28T04:07:32:         COUNT(*) as total,
2025-06-28T04:07:32:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:07:32: SQL実行成功: 結果行数=1
2025-06-28T04:07:32: SQL実行: 
2025-06-28T04:07:32:       SELECT 
2025-06-28T04:07:32:         COUNT(*) as total_calls,
2025-06-28T04:07:32:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:07:32.025Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:32: SQL実行成功: 結果行数=1
2025-06-28T04:07:32: [36m[2025-06-28T04:07:32.025Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:32: SQL実行: 
2025-06-28T04:07:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:32:           FROM contacts 
2025-06-28T04:07:32:           WHERE c... パラメータ数: 1
2025-06-28T04:07:32: SQL実行成功: 結果行数=0
2025-06-28T04:07:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:32: SQL実行成功: 結果行数=1
2025-06-28T04:07:32: SQL実行: 
2025-06-28T04:07:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:32:           FROM contacts 
2025-06-28T04:07:32:           WHERE c... パラメータ数: 1
2025-06-28T04:07:32: SQL実行成功: 結果行数=0
2025-06-28T04:07:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:32: SQL実行成功: 結果行数=1
[2025-06-28T04:07:37.022Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:37: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:07:37: [36m[2025-06-28T04:07:37.022Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:37: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:07:37: SQL実行成功: 結果行数=1
[2025-06-28T04:07:37.026Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:37: SQL実行: 
2025-06-28T04:07:37:       SELECT 
2025-06-28T04:07:37:         COUNT(*) as total,
2025-06-28T04:07:37:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:07:37: SQL実行成功: 結果行数=1
2025-06-28T04:07:37: SQL実行: 
2025-06-28T04:07:37:       SELECT 
2025-06-28T04:07:37:         COUNT(*) as total_calls,
2025-06-28T04:07:37:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:07:37: SQL実行成功: 結果行数=1
2025-06-28T04:07:37: [36m[2025-06-28T04:07:37.026Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:37: SQL実行: 
2025-06-28T04:07:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:37:           FROM contacts 
2025-06-28T04:07:37:           WHERE c... パラメータ数: 1
2025-06-28T04:07:37: SQL実行成功: 結果行数=0
2025-06-28T04:07:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:37: SQL実行成功: 結果行数=1
2025-06-28T04:07:37: SQL実行: 
2025-06-28T04:07:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:37:           FROM contacts 
2025-06-28T04:07:37:           WHERE c... パラメータ数: 1
2025-06-28T04:07:37: SQL実行成功: 結果行数=0
2025-06-28T04:07:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:37: SQL実行成功: 結果行数=1
[2025-06-28T04:07:42.017Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:42: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:07:42: [36m[2025-06-28T04:07:42.017Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:42: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:07:42: SQL実行成功: 結果行数=1
2025-06-28T04:07:42: SQL実行: 
2025-06-28T04:07:42:       SELECT 
2025-06-28T04:07:42:         COUNT(*) as total,
2025-06-28T04:07:42:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-28T04:07:42.021Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:42: SQL実行成功: 結果行数=1
2025-06-28T04:07:42: SQL実行: 
2025-06-28T04:07:42:       SELECT 
2025-06-28T04:07:42:         COUNT(*) as total_calls,
2025-06-28T04:07:42:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:07:42: SQL実行成功: 結果行数=1
2025-06-28T04:07:42: [36m[2025-06-28T04:07:42.021Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:42: SQL実行: 
2025-06-28T04:07:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:42:           FROM contacts 
2025-06-28T04:07:42:           WHERE c... パラメータ数: 1
2025-06-28T04:07:42: SQL実行成功: 結果行数=0
2025-06-28T04:07:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:42: SQL実行成功: 結果行数=1
2025-06-28T04:07:42: SQL実行: 
2025-06-28T04:07:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:42:           FROM contacts 
2025-06-28T04:07:42:           WHERE c... パラメータ数: 1
2025-06-28T04:07:42: SQL実行成功: 結果行数=0
2025-06-28T04:07:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:42: SQL実行成功: 結果行数=1
2025-06-28T04:07:46: SQL実行: 
2025-06-28T04:07:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:07:46:                ci.number as ca... 
2025-06-28T04:07:46: SQL実行成功: 結果行数=80
[2025-06-28T04:07:47.018Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:47: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:07:47: [36m[2025-06-28T04:07:47.018Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:47: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:07:47: SQL実行成功: 結果行数=1
2025-06-28T04:07:47: SQL実行: 
2025-06-28T04:07:47:       SELECT 
2025-06-28T04:07:47:         COUNT(*) as total,
2025-06-28T04:07:47:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:07:47: SQL実行成功: 結果行数=1
2025-06-28T04:07:47: SQL実行: 
2025-06-28T04:07:47:       SELECT 
2025-06-28T04:07:47:         COUNT(*) as total_calls,
2025-06-28T04:07:47:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:07:47: SQL実行成功: 結果行数=1
[2025-06-28T04:07:47.023Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:47: [36m[2025-06-28T04:07:47.023Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:47: SQL実行: 
2025-06-28T04:07:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:47:           FROM contacts 
2025-06-28T04:07:47:           WHERE c... パラメータ数: 1
2025-06-28T04:07:47: SQL実行成功: 結果行数=0
2025-06-28T04:07:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:47: SQL実行成功: 結果行数=1
2025-06-28T04:07:47: SQL実行: 
2025-06-28T04:07:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:47:           FROM contacts 
2025-06-28T04:07:47:           WHERE c... パラメータ数: 1
2025-06-28T04:07:47: SQL実行成功: 結果行数=0
2025-06-28T04:07:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:47: SQL実行成功: 結果行数=1
[2025-06-28T04:07:52.053Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:52: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:07:52: [36m[2025-06-28T04:07:52.053Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:52: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:07:52: SQL実行成功: 結果行数=1
2025-06-28T04:07:52: SQL実行: 
2025-06-28T04:07:52:       SELECT 
2025-06-28T04:07:52:         COUNT(*) as total,
2025-06-28T04:07:52:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:07:52: SQL実行成功: 結果行数=1
2025-06-28T04:07:52: SQL実行: 
2025-06-28T04:07:52:       SELECT 
2025-06-28T04:07:52:         COUNT(*) as total_calls,
2025-06-28T04:07:52:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:07:52.058Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:52: SQL実行成功: 結果行数=1
2025-06-28T04:07:52: [36m[2025-06-28T04:07:52.058Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:52: SQL実行: 
2025-06-28T04:07:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:52:           FROM contacts 
2025-06-28T04:07:52:           WHERE c... パラメータ数: 1
2025-06-28T04:07:52: SQL実行成功: 結果行数=0
2025-06-28T04:07:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:52: SQL実行成功: 結果行数=1
2025-06-28T04:07:52: SQL実行: 
2025-06-28T04:07:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:52:           FROM contacts 
2025-06-28T04:07:52:           WHERE c... パラメータ数: 1
2025-06-28T04:07:52: SQL実行成功: 結果行数=0
2025-06-28T04:07:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:52: SQL実行成功: 結果行数=1
[2025-06-28T04:07:57.032Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:57: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:07:57: [36m[2025-06-28T04:07:57.032Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:07:57: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:07:57: SQL実行成功: 結果行数=1
2025-06-28T04:07:57: SQL実行: 
2025-06-28T04:07:57:       SELECT 
2025-06-28T04:07:57:         COUNT(*) as total,
2025-06-28T04:07:57:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:07:57: SQL実行成功: 結果行数=1
2025-06-28T04:07:57: SQL実行: 
2025-06-28T04:07:57:       SELECT 
2025-06-28T04:07:57:         COUNT(*) as total_calls,
2025-06-28T04:07:57:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:07:57: SQL実行成功: 結果行数=1
[2025-06-28T04:07:57.037Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:57: [36m[2025-06-28T04:07:57.037Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:07:57: SQL実行: 
2025-06-28T04:07:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:57:           FROM contacts 
2025-06-28T04:07:57:           WHERE c... パラメータ数: 1
2025-06-28T04:07:57: SQL実行成功: 結果行数=0
2025-06-28T04:07:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:57: SQL実行成功: 結果行数=1
2025-06-28T04:07:57: SQL実行: 
2025-06-28T04:07:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:07:57:           FROM contacts 
2025-06-28T04:07:57:           WHERE c... パラメータ数: 1
2025-06-28T04:07:57: SQL実行成功: 結果行数=0
2025-06-28T04:07:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:07:57: SQL実行成功: 結果行数=1
2025-06-28T04:08:01: SQL実行: SELECT 1... 
2025-06-28T04:08:01: SQL実行成功: 結果行数=1
2025-06-28T04:08:01: SQL実行: 
2025-06-28T04:08:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:08:01:                ci.number as ca... 
2025-06-28T04:08:01: SQL実行成功: 結果行数=80
[2025-06-28T04:08:02.019Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:08:02: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:08:02: [36m[2025-06-28T04:08:02.019Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:08:02: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:08:02: SQL実行成功: 結果行数=1
2025-06-28T04:08:02: SQL実行: 
2025-06-28T04:08:02:       SELECT 
2025-06-28T04:08:02:         COUNT(*) as total,
2025-06-28T04:08:02:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-28T04:08:02.024Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:08:02: SQL実行成功: 結果行数=1
2025-06-28T04:08:02: SQL実行: 
2025-06-28T04:08:02:       SELECT 
2025-06-28T04:08:02:         COUNT(*) as total_calls,
2025-06-28T04:08:02:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:08:02: SQL実行成功: 結果行数=1
2025-06-28T04:08:02: [36m[2025-06-28T04:08:02.024Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:08:02: SQL実行: 
2025-06-28T04:08:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:02:           FROM contacts 
2025-06-28T04:08:02:           WHERE c... パラメータ数: 1
2025-06-28T04:08:02: SQL実行成功: 結果行数=0
2025-06-28T04:08:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:02: SQL実行成功: 結果行数=1
2025-06-28T04:08:02: SQL実行: 
2025-06-28T04:08:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:02:           FROM contacts 
2025-06-28T04:08:02:           WHERE c... パラメータ数: 1
2025-06-28T04:08:02: SQL実行成功: 結果行数=0
2025-06-28T04:08:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:02: SQL実行成功: 結果行数=1
[2025-06-28T04:08:07.018Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:08:07: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:08:07: [36m[2025-06-28T04:08:07.018Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:08:07: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:08:07: SQL実行成功: 結果行数=1
2025-06-28T04:08:07: SQL実行: 
2025-06-28T04:08:07:       SELECT 
2025-06-28T04:08:07:         COUNT(*) as total,
2025-06-28T04:08:07:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:08:07: SQL実行成功: 結果行数=1
2025-06-28T04:08:07: SQL実行: 
2025-06-28T04:08:07:       SELECT 
2025-06-28T04:08:07:         COUNT(*) as total_calls,
2025-06-28T04:08:07:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:08:07.022Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:08:07: SQL実行成功: 結果行数=1
2025-06-28T04:08:07: [36m[2025-06-28T04:08:07.022Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:08:07: SQL実行: 
2025-06-28T04:08:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:07:           FROM contacts 
2025-06-28T04:08:07:           WHERE c... パラメータ数: 1
2025-06-28T04:08:07: SQL実行成功: 結果行数=0
2025-06-28T04:08:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:07: SQL実行成功: 結果行数=1
2025-06-28T04:08:07: SQL実行: 
2025-06-28T04:08:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:07:           FROM contacts 
2025-06-28T04:08:07:           WHERE c... パラメータ数: 1
2025-06-28T04:08:07: SQL実行成功: 結果行数=0
2025-06-28T04:08:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:07: SQL実行成功: 結果行数=1
[2025-06-28T04:08:12.017Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:08:12: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:08:12: [36m[2025-06-28T04:08:12.017Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:08:12: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:08:12: SQL実行成功: 結果行数=1
2025-06-28T04:08:12: SQL実行: 
2025-06-28T04:08:12:       SELECT 
2025-06-28T04:08:12:         COUNT(*) as total,
2025-06-28T04:08:12:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-28T04:08:12.021Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:08:12: SQL実行成功: 結果行数=1
2025-06-28T04:08:12: SQL実行: 
2025-06-28T04:08:12:       SELECT 
2025-06-28T04:08:12:         COUNT(*) as total_calls,
2025-06-28T04:08:12:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:08:12: SQL実行成功: 結果行数=1
2025-06-28T04:08:12: [36m[2025-06-28T04:08:12.021Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:08:12: SQL実行: 
2025-06-28T04:08:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:12:           FROM contacts 
2025-06-28T04:08:12:           WHERE c... パラメータ数: 1
2025-06-28T04:08:12: SQL実行成功: 結果行数=0
2025-06-28T04:08:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:12: SQL実行成功: 結果行数=1
2025-06-28T04:08:12: SQL実行: 
2025-06-28T04:08:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:12:           FROM contacts 
2025-06-28T04:08:12:           WHERE c... パラメータ数: 1
2025-06-28T04:08:12: SQL実行成功: 結果行数=0
2025-06-28T04:08:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:12: SQL実行成功: 結果行数=1
2025-06-28T04:08:16: SQL実行: 
2025-06-28T04:08:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:08:16:                ci.number as ca... 
2025-06-28T04:08:16: SQL実行成功: 結果行数=80
[2025-06-28T04:08:17.019Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:08:17: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:08:17: [36m[2025-06-28T04:08:17.019Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:08:17: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:08:17: SQL実行成功: 結果行数=1
2025-06-28T04:08:17: SQL実行: 
2025-06-28T04:08:17:       SELECT 
2025-06-28T04:08:17:         COUNT(*) as total,
2025-06-28T04:08:17:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:08:17: SQL実行成功: 結果行数=1
[2025-06-28T04:08:17.024Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:08:17: SQL実行: 
2025-06-28T04:08:17:       SELECT 
2025-06-28T04:08:17:         COUNT(*) as total_calls,
2025-06-28T04:08:17:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:08:17: SQL実行成功: 結果行数=1
2025-06-28T04:08:17: [36m[2025-06-28T04:08:17.024Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:08:17: SQL実行: 
2025-06-28T04:08:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:17:           FROM contacts 
2025-06-28T04:08:17:           WHERE c... パラメータ数: 1
2025-06-28T04:08:17: SQL実行成功: 結果行数=0
2025-06-28T04:08:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:17: SQL実行成功: 結果行数=1
2025-06-28T04:08:17: SQL実行: 
2025-06-28T04:08:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:17:           FROM contacts 
2025-06-28T04:08:17:           WHERE c... パラメータ数: 1
2025-06-28T04:08:17: SQL実行成功: 結果行数=0
2025-06-28T04:08:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:17: SQL実行成功: 結果行数=1
2025-06-28T04:08:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
2025-06-28T04:08:21: SQL実行成功: 結果行数=1
2025-06-28T04:08:21: [36m[2025-06-28T04:08:21.254Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T04:08:21.254Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
[2025-06-28T04:08:22.021Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:08:22: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:08:22: [36m[2025-06-28T04:08:22.021Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:08:22: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:08:22: SQL実行成功: 結果行数=1
2025-06-28T04:08:22: SQL実行: 
2025-06-28T04:08:22:       SELECT 
2025-06-28T04:08:22:         COUNT(*) as total,
2025-06-28T04:08:22:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:08:22: SQL実行成功: 結果行数=1
[2025-06-28T04:08:22.027Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:08:22: SQL実行: 
2025-06-28T04:08:22:       SELECT 
2025-06-28T04:08:22:         COUNT(*) as total_calls,
2025-06-28T04:08:22:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:08:22: SQL実行成功: 結果行数=1
2025-06-28T04:08:22: [36m[2025-06-28T04:08:22.027Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:08:22: SQL実行: 
2025-06-28T04:08:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:22:           FROM contacts 
2025-06-28T04:08:22:           WHERE c... パラメータ数: 1
2025-06-28T04:08:22: SQL実行成功: 結果行数=0
2025-06-28T04:08:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:22: SQL実行成功: 結果行数=1
2025-06-28T04:08:22: SQL実行: 
2025-06-28T04:08:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:22:           FROM contacts 
2025-06-28T04:08:22:           WHERE c... パラメータ数: 1
2025-06-28T04:08:22: SQL実行成功: 結果行数=0
2025-06-28T04:08:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:22: SQL実行成功: 結果行数=1
[2025-06-28T04:08:27.019Z] INFO  [PID:1111609] キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:08:27: GET /api/campaigns/171/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:08:27: [36m[2025-06-28T04:08:27.019Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=171 {"level":"INFO"}
2025-06-28T04:08:27: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:08:27: SQL実行成功: 結果行数=1
2025-06-28T04:08:27: SQL実行: 
2025-06-28T04:08:27:       SELECT 
2025-06-28T04:08:27:         COUNT(*) as total,
2025-06-28T04:08:27:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:08:27: SQL実行成功: 結果行数=1
2025-06-28T04:08:27: SQL実行: 
2025-06-28T04:08:27:       SELECT 
2025-06-28T04:08:27:         COUNT(*) as total_calls,
2025-06-28T04:08:27:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:08:27.023Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:08:27: SQL実行成功: 結果行数=1
2025-06-28T04:08:27: [36m[2025-06-28T04:08:27.023Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=171, Progress=0% {"level":"INFO"}
2025-06-28T04:08:27: SQL実行: 
2025-06-28T04:08:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:27:           FROM contacts 
2025-06-28T04:08:27:           WHERE c... パラメータ数: 1
2025-06-28T04:08:27: SQL実行成功: 結果行数=0
2025-06-28T04:08:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:27: SQL実行成功: 結果行数=1
2025-06-28T04:08:27: SQL実行: 
2025-06-28T04:08:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:27:           FROM contacts 
2025-06-28T04:08:27:           WHERE c... パラメータ数: 1
2025-06-28T04:08:27: SQL実行成功: 結果行数=0
2025-06-28T04:08:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:27: SQL実行成功: 結果行数=1
[2025-06-28T04:08:30.011Z] INFO  [PID:1111609] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T04:08:30: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-28T04:08:30: [36m[2025-06-28T04:08:30.011Z] INFO  [PID:1111609][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T04:08:30: SQL実行: 
2025-06-28T04:08:30:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-28T04:08:30:        ... 
2025-06-28T04:08:30: SQL実行成功: 結果行数=50
2025-06-28T04:08:30: SQL実行: 
2025-06-28T04:08:30:       SELECT COUNT(*) as total
2025-06-28T04:08:30:       FROM campaigns c
2025-06-28T04:08:30:       WHERE 1=1
2025-06-28T04:08:30:     ... 
2025-06-28T04:08:30: SQL実行成功: 結果行数=1
[2025-06-28T04:08:30.015Z] INFO  [PID:1111609] キャンペーン取得結果: 50/82件 {"level":"INFO"}
2025-06-28T04:08:30: [36m[2025-06-28T04:08:30.015Z] INFO  [PID:1111609][0m キャンペーン取得結果: 50/82件 {"level":"INFO"}
2025-06-28T04:08:31: SQL実行: SELECT 1... 
2025-06-28T04:08:31: SQL実行成功: 結果行数=1
2025-06-28T04:08:31: SQL実行: 
2025-06-28T04:08:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:08:31:                ci.number as ca... 
2025-06-28T04:08:31: SQL実行成功: 結果行数=80
2025-06-28T04:08:31: GET /api/caller-ids - Origin: http://146.190.83.205:3003
2025-06-28T04:08:31: 発信者番号一覧取得開始
2025-06-28T04:08:31: SQL実行: SELECT 1 as healthy, NOW() as timestamp, USER() as user, DATABASE() as db... 
2025-06-28T04:08:31: SQL実行成功: 結果行数=1
2025-06-28T04:08:31: データベース接続確認完了
2025-06-28T04:08:31: クエリ実行開始
2025-06-28T04:08:31: SQL実行: 
2025-06-28T04:08:31:       SELECT 
2025-06-28T04:08:31:         ci.id,
2025-06-28T04:08:31:         ci.number,
2025-06-28T04:08:31:         ci.description,
2025-06-28T04:08:31:         ci.provider,
2025-06-28T04:08:31:       ... 
2025-06-28T04:08:31: SQL実行成功: 結果行数=4
2025-06-28T04:08:31: クエリ実行完了: 4件取得
2025-06-28T04:08:31: 発信者番号一覧取得成功: 4
2025-06-28T04:08:32: SQL実行: 
2025-06-28T04:08:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:32:           FROM contacts 
2025-06-28T04:08:32:           WHERE c... パラメータ数: 1
2025-06-28T04:08:32: SQL実行成功: 結果行数=0
2025-06-28T04:08:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:32: SQL実行成功: 結果行数=1
2025-06-28T04:08:32: SQL実行: 
2025-06-28T04:08:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:32:           FROM contacts 
2025-06-28T04:08:32:           WHERE c... パラメータ数: 1
2025-06-28T04:08:32: SQL実行成功: 結果行数=0
2025-06-28T04:08:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:32: SQL実行成功: 結果行数=1
2025-06-28T04:08:37: SQL実行: 
2025-06-28T04:08:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:37:           FROM contacts 
2025-06-28T04:08:37:           WHERE c... パラメータ数: 1
2025-06-28T04:08:37: SQL実行成功: 結果行数=0
2025-06-28T04:08:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:37: SQL実行成功: 結果行数=1
2025-06-28T04:08:37: SQL実行: 
2025-06-28T04:08:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:37:           FROM contacts 
2025-06-28T04:08:37:           WHERE c... パラメータ数: 1
2025-06-28T04:08:37: SQL実行成功: 結果行数=0
2025-06-28T04:08:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:37: SQL実行成功: 結果行数=1
2025-06-28T04:08:42: SQL実行: 
2025-06-28T04:08:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:42:           FROM contacts 
2025-06-28T04:08:42:           WHERE c... パラメータ数: 1
2025-06-28T04:08:42: SQL実行成功: 結果行数=0
2025-06-28T04:08:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:42: SQL実行成功: 結果行数=1
2025-06-28T04:08:42: SQL実行: 
2025-06-28T04:08:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:42:           FROM contacts 
2025-06-28T04:08:42:           WHERE c... パラメータ数: 1
2025-06-28T04:08:42: SQL実行成功: 結果行数=0
2025-06-28T04:08:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:42: SQL実行成功: 結果行数=1
[2025-06-28T04:08:42.791Z] INFO  [PID:1111609] キャンペーン作成: Name=テスト {"level":"INFO"}
2025-06-28T04:08:42: POST /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-28T04:08:42: [36m[2025-06-28T04:08:42.791Z] INFO  [PID:1111609][0m キャンペーン作成: Name=テスト {"level":"INFO"}
2025-06-28T04:08:42: SQL実行: INSERT INTO campaigns (name, description, caller_id_id, script, status, created_at) VALUES (?, ?, ?,... パラメータ数: 5
[2025-06-28T04:08:42.798Z] INFO  [PID:1111609] キャンペーン作成完了: ID=172, Name=テスト {"level":"INFO"}
2025-06-28T04:08:42: SQL実行成功: 結果行数=不明
2025-06-28T04:08:42: [36m[2025-06-28T04:08:42.798Z] INFO  [PID:1111609][0m キャンペーン作成完了: ID=172, Name=テスト {"level":"INFO"}
[2025-06-28T04:08:43.855Z] INFO  [PID:1111609] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T04:08:43: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-28T04:08:43: [36m[2025-06-28T04:08:43.855Z] INFO  [PID:1111609][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T04:08:43: SQL実行: 
2025-06-28T04:08:43:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-28T04:08:43:        ... 
2025-06-28T04:08:43: SQL実行成功: 結果行数=50
2025-06-28T04:08:43: SQL実行: 
2025-06-28T04:08:43:       SELECT COUNT(*) as total
2025-06-28T04:08:43:       FROM campaigns c
2025-06-28T04:08:43:       WHERE 1=1
2025-06-28T04:08:43:     ... 
[2025-06-28T04:08:43.860Z] INFO  [PID:1111609] キャンペーン取得結果: 50/83件 {"level":"INFO"}
2025-06-28T04:08:43: SQL実行成功: 結果行数=1
2025-06-28T04:08:43: [36m[2025-06-28T04:08:43.860Z] INFO  [PID:1111609][0m キャンペーン取得結果: 50/83件 {"level":"INFO"}
2025-06-28T04:08:46: SQL実行: 
2025-06-28T04:08:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:08:46:                ci.number as ca... 
2025-06-28T04:08:46: SQL実行成功: 結果行数=80
[2025-06-28T04:08:46.848Z] INFO  [PID:1111609] キャンペーン詳細取得: ID=172 {"level":"INFO"}
2025-06-28T04:08:46: GET /api/campaigns/172 - Origin: http://146.190.83.205:3003
2025-06-28T04:08:46: [36m[2025-06-28T04:08:46.848Z] INFO  [PID:1111609][0m キャンペーン詳細取得: ID=172 {"level":"INFO"}
2025-06-28T04:08:46: SQL実行: 
2025-06-28T04:08:46:       SELECT c.*, 
2025-06-28T04:08:46:              ci.number as caller_id_number,
2025-06-28T04:08:46:              ci.description as calle... パラメータ数: 1
[2025-06-28T04:08:46.851Z] INFO  [PID:1111609] キャンペーン詳細取得完了: ID=172 {"level":"INFO"}
2025-06-28T04:08:46: SQL実行成功: 結果行数=1
2025-06-28T04:08:46: [36m[2025-06-28T04:08:46.851Z] INFO  [PID:1111609][0m キャンペーン詳細取得完了: ID=172 {"level":"INFO"}
[2025-06-28T04:08:46.885Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:08:46: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:08:46: [36m[2025-06-28T04:08:46.885Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:08:46: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:08:46: SQL実行成功: 結果行数=1
2025-06-28T04:08:46: SQL実行: 
2025-06-28T04:08:46:       SELECT 
2025-06-28T04:08:46:         COUNT(*) as total,
2025-06-28T04:08:46:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:08:46: SQL実行成功: 結果行数=1
2025-06-28T04:08:46: SQL実行: 
2025-06-28T04:08:46:       SELECT 
2025-06-28T04:08:46:         COUNT(*) as total_calls,
2025-06-28T04:08:46:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:08:46.889Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:08:46: SQL実行成功: 結果行数=1
2025-06-28T04:08:46: [36m[2025-06-28T04:08:46.889Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:08:47: SQL実行: 
2025-06-28T04:08:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:47:           FROM contacts 
2025-06-28T04:08:47:           WHERE c... パラメータ数: 1
2025-06-28T04:08:47: SQL実行成功: 結果行数=0
2025-06-28T04:08:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:47: SQL実行成功: 結果行数=1
2025-06-28T04:08:47: SQL実行: 
2025-06-28T04:08:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:47:           FROM contacts 
2025-06-28T04:08:47:           WHERE c... パラメータ数: 1
2025-06-28T04:08:47: SQL実行成功: 結果行数=0
2025-06-28T04:08:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:47: SQL実行成功: 結果行数=1
[2025-06-28T04:08:48.053Z] INFO  [PID:1111609] 連絡先一覧取得: Campaign=172, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T04:08:48: GET /api/campaigns/172/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
2025-06-28T04:08:48: [36m[2025-06-28T04:08:48.053Z] INFO  [PID:1111609][0m 連絡先一覧取得: Campaign=172, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T04:08:48: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:08:48: SQL実行成功: 結果行数=1
2025-06-28T04:08:48: SQL実行: 
2025-06-28T04:08:48:       SELECT c.*
2025-06-28T04:08:48:       FROM contacts c
2025-06-28T04:08:48:       WHERE c.campaign_id = ?
2025-06-28T04:08:48:      ORDER BY c.created_at DES... パラメータ数: 1
2025-06-28T04:08:48: SQL実行成功: 結果行数=0
2025-06-28T04:08:48: SQL実行: 
2025-06-28T04:08:48:       SELECT COUNT(*) as total
2025-06-28T04:08:48:       FROM contacts c
2025-06-28T04:08:48:       WHERE c.campaign_id = ?
2025-06-28T04:08:48:     ... パラメータ数: 1
2025-06-28T04:08:48: SQL実行成功: 結果行数=1
[2025-06-28T04:08:48.058Z] INFO  [PID:1111609] 連絡先取得結果: Campaign=172, 件数=0, 全体=0 {"level":"INFO"}
2025-06-28T04:08:48: [36m[2025-06-28T04:08:48.058Z] INFO  [PID:1111609][0m 連絡先取得結果: Campaign=172, 件数=0, 全体=0 {"level":"INFO"}
2025-06-28T04:08:52: SQL実行: 
2025-06-28T04:08:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:52:           FROM contacts 
2025-06-28T04:08:52:           WHERE c... パラメータ数: 1
2025-06-28T04:08:52: SQL実行成功: 結果行数=0
2025-06-28T04:08:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:52: SQL実行成功: 結果行数=1
2025-06-28T04:08:52: SQL実行: 
2025-06-28T04:08:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:52:           FROM contacts 
2025-06-28T04:08:52:           WHERE c... パラメータ数: 1
2025-06-28T04:08:52: SQL実行成功: 結果行数=0
2025-06-28T04:08:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:52: SQL実行成功: 結果行数=1
2025-06-28T04:08:55: POST /api/campaigns/172/contacts/upload - Origin: http://146.190.83.205:3003
[2025-06-28T04:08:55.056Z] INFO  [PID:1111609] 🚀 CSVアップロード開始 {"campaignId":"172","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-28T04:08:55.056Z","level":"INFO"}
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.056Z] INFO  [PID:1111609][0m 🚀 CSVアップロード開始 {"campaignId":"172","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-28T04:08:55.056Z","level":"INFO"}
2025-06-28T04:08:55: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T04:08:55.061Z] INFO  [PID:1111609] 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
2025-06-28T04:08:55: SQL実行成功: 結果行数=1
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.061Z] INFO  [PID:1111609][0m 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
[2025-06-28T04:08:55.062Z] WARN  [PID:1111609] CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
2025-06-28T04:08:55: [33m[2025-06-28T04:08:55.062Z] WARN  [PID:1111609][0m CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
[2025-06-28T04:08:55.062Z] INFO  [PID:1111609] CSV解析完了: 1行のデータ {"level":"INFO"}
[2025-06-28T04:08:55.062Z] INFO  [PID:1111609] 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.062Z] INFO  [PID:1111609][0m CSV解析完了: 1行のデータ {"level":"INFO"}
[2025-06-28T04:08:55.062Z] INFO  [PID:1111609] 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
[2025-06-28T04:08:55.062Z] INFO  [PID:1111609] 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.062Z] INFO  [PID:1111609][0m 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.062Z] INFO  [PID:1111609][0m 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
[2025-06-28T04:08:55.062Z] INFO  [PID:1111609] 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
[2025-06-28T04:08:55.063Z] INFO  [PID:1111609] バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.062Z] INFO  [PID:1111609][0m 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
[2025-06-28T04:08:55.063Z] INFO  [PID:1111609] 🔍 重複チェック開始... {"level":"INFO"}
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.062Z] INFO  [PID:1111609][0m 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.063Z] INFO  [PID:1111609][0m バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.063Z] INFO  [PID:1111609][0m 🔍 重複チェック開始... {"level":"INFO"}
2025-06-28T04:08:55: SQL実行: SELECT phone FROM contacts WHERE campaign_id = ?... パラメータ数: 1
[2025-06-28T04:08:55.064Z] INFO  [PID:1111609] 既存電話番号数: 0 {"level":"INFO"}
2025-06-28T04:08:55: SQL実行成功: 結果行数=0
[2025-06-28T04:08:55.064Z] INFO  [PID:1111609] 新規データ追加: 05018086649 {"level":"INFO"}
[2025-06-28T04:08:55.065Z] INFO  [PID:1111609] 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
[2025-06-28T04:08:55.065Z] INFO  [PID:1111609] 💾 データベース挿入開始: 1件 {"level":"INFO"}
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.064Z] INFO  [PID:1111609][0m 既存電話番号数: 0 {"level":"INFO"}
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.064Z] INFO  [PID:1111609][0m 新規データ追加: 05018086649 {"level":"INFO"}
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.065Z] INFO  [PID:1111609][0m 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.065Z] INFO  [PID:1111609][0m 💾 データベース挿入開始: 1件 {"level":"INFO"}
2025-06-28T04:08:55: SQL実行: START TRANSACTION... 
2025-06-28T04:08:55: SQL実行成功: 結果行数=不明
2025-06-28T04:08:55: SQL実行: INSERT INTO contacts (campaign_id, phone, name, company, status, created_at) VALUES (?, ?, ?, ?, ?, ... パラメータ数: 5
[2025-06-28T04:08:55.066Z] INFO  [PID:1111609] 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
2025-06-28T04:08:55: SQL実行成功: 結果行数=不明
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.066Z] INFO  [PID:1111609][0m 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
2025-06-28T04:08:55: SQL実行: COMMIT... 
[2025-06-28T04:08:55.071Z] INFO  [PID:1111609] ✅ 全件挿入完了: 1件 {"level":"INFO"}
2025-06-28T04:08:55: SQL実行成功: 結果行数=不明
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.071Z] INFO  [PID:1111609][0m ✅ 全件挿入完了: 1件 {"level":"INFO"}
2025-06-28T04:08:55: SQL実行: SELECT COUNT(*) as total FROM contacts WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T04:08:55: SQL実行成功: 結果行数=1
2025-06-28T04:08:55: SQL実行: SELECT COUNT(*) as completed FROM contacts WHERE campaign_id = ? AND status IN ("completed", "failed... パラメータ数: 1
2025-06-28T04:08:55: SQL実行成功: 結果行数=1
2025-06-28T04:08:55: SQL実行: UPDATE campaigns SET progress = ?, updated_at = NOW() WHERE id = ?... パラメータ数: 2
[2025-06-28T04:08:55.077Z] INFO  [PID:1111609] CSVアップロード完了 {"campaignId":"172","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
2025-06-28T04:08:55: SQL実行成功: 結果行数=不明
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.077Z] INFO  [PID:1111609][0m CSVアップロード完了 {"campaignId":"172","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
[2025-06-28T04:08:55.113Z] INFO  [PID:1111609] キャンペーン詳細取得: ID=172 {"level":"INFO"}
2025-06-28T04:08:55: GET /api/campaigns/172 - Origin: http://146.190.83.205:3003
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.113Z] INFO  [PID:1111609][0m キャンペーン詳細取得: ID=172 {"level":"INFO"}
2025-06-28T04:08:55: SQL実行: 
2025-06-28T04:08:55:       SELECT c.*, 
2025-06-28T04:08:55:              ci.number as caller_id_number,
2025-06-28T04:08:55:              ci.description as calle... パラメータ数: 1
[2025-06-28T04:08:55.116Z] INFO  [PID:1111609] キャンペーン詳細取得完了: ID=172 {"level":"INFO"}
2025-06-28T04:08:55: SQL実行成功: 結果行数=1
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.116Z] INFO  [PID:1111609][0m キャンペーン詳細取得完了: ID=172 {"level":"INFO"}
[2025-06-28T04:08:55.179Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:08:55: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.179Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:08:55: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:08:55: SQL実行成功: 結果行数=1
2025-06-28T04:08:55: SQL実行: 
2025-06-28T04:08:55:       SELECT 
2025-06-28T04:08:55:         COUNT(*) as total,
2025-06-28T04:08:55:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:08:55: SQL実行成功: 結果行数=1
2025-06-28T04:08:55: SQL実行: 
2025-06-28T04:08:55:       SELECT 
2025-06-28T04:08:55:         COUNT(*) as total_calls,
2025-06-28T04:08:55:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:08:55.183Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:08:55: SQL実行成功: 結果行数=1
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.183Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
[2025-06-28T04:08:55.219Z] INFO  [PID:1111609] 連絡先一覧取得: Campaign=172, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T04:08:55: GET /api/campaigns/172/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.219Z] INFO  [PID:1111609][0m 連絡先一覧取得: Campaign=172, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T04:08:55: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:08:55: SQL実行成功: 結果行数=1
2025-06-28T04:08:55: SQL実行: 
2025-06-28T04:08:55:       SELECT c.*
2025-06-28T04:08:55:       FROM contacts c
2025-06-28T04:08:55:       WHERE c.campaign_id = ?
2025-06-28T04:08:55:      ORDER BY c.created_at DES... パラメータ数: 1
2025-06-28T04:08:55: SQL実行成功: 結果行数=1
2025-06-28T04:08:55: SQL実行: 
2025-06-28T04:08:55:       SELECT COUNT(*) as total
2025-06-28T04:08:55:       FROM contacts c
2025-06-28T04:08:55:       WHERE c.campaign_id = ?
2025-06-28T04:08:55:     ... パラメータ数: 1
2025-06-28T04:08:55: SQL実行成功: 結果行数=1
[2025-06-28T04:08:55.223Z] INFO  [PID:1111609] 連絡先取得結果: Campaign=172, 件数=1, 全体=1 {"level":"INFO"}
2025-06-28T04:08:55: [36m[2025-06-28T04:08:55.223Z] INFO  [PID:1111609][0m 連絡先取得結果: Campaign=172, 件数=1, 全体=1 {"level":"INFO"}
[2025-06-28T04:08:56.323Z] INFO  [PID:1111609] 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T04:08:56: GET /api/audio - Origin: http://146.190.83.205:3003
2025-06-28T04:08:56: [36m[2025-06-28T04:08:56.323Z] INFO  [PID:1111609][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T04:08:56: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
2025-06-28T04:08:56: GET /api/ivr/campaigns/172 - Origin: http://146.190.83.205:3003
2025-06-28T04:08:56: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T04:08:56.325Z] INFO  [PID:1111609] 3件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T04:08:56: SQL実行成功: 結果行数=3
2025-06-28T04:08:56: [36m[2025-06-28T04:08:56.325Z] INFO  [PID:1111609][0m 3件の音声ファイルを取得しました {"level":"INFO"}
[2025-06-28T04:08:56.326Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=172 {"level":"INFO"}
2025-06-28T04:08:56: SQL実行成功: 結果行数=1
2025-06-28T04:08:56: [36m[2025-06-28T04:08:56.326Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=172 {"level":"INFO"}
2025-06-28T04:08:56: SQL実行: 
2025-06-28T04:08:56:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T04:08:56:    ... パラメータ数: 1
[2025-06-28T04:08:56.327Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=172, 件数=0 {"level":"INFO"}
2025-06-28T04:08:56: SQL実行成功: 結果行数=0
[2025-06-28T04:08:56.328Z] WARN  [PID:1111609] キャンペーン 172 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-28T04:08:56: [36m[2025-06-28T04:08:56.327Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=172, 件数=0 {"level":"INFO"}
2025-06-28T04:08:56: [33m[2025-06-28T04:08:56.328Z] WARN  [PID:1111609][0m キャンペーン 172 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-28T04:08:56: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T04:08:56: SQL実行成功: 結果行数=0
2025-06-28T04:08:56: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T04:08:56.329Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=172 {"level":"INFO"}
2025-06-28T04:08:56: SQL実行成功: 結果行数=1
2025-06-28T04:08:56: [36m[2025-06-28T04:08:56.329Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=172 {"level":"INFO"}
2025-06-28T04:08:56: SQL実行: 
2025-06-28T04:08:56:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T04:08:56:    ... パラメータ数: 1
[2025-06-28T04:08:56.330Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=172, 件数=0 {"level":"INFO"}
2025-06-28T04:08:56: SQL実行成功: 結果行数=0
[2025-06-28T04:08:56.330Z] WARN  [PID:1111609] キャンペーン 172 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-28T04:08:56: [36m[2025-06-28T04:08:56.330Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=172, 件数=0 {"level":"INFO"}
2025-06-28T04:08:56: [33m[2025-06-28T04:08:56.330Z] WARN  [PID:1111609][0m キャンペーン 172 に音声ファイルが見つかりません {"level":"WARN"}
[2025-06-28T04:08:56.330Z] INFO  [PID:1111609] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-172.conf {"level":"INFO"}
2025-06-28T04:08:56: [36m[2025-06-28T04:08:56.330Z] INFO  [PID:1111609][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-172.conf {"level":"INFO"}
2025-06-28T04:08:57: SQL実行: 
2025-06-28T04:08:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:57:           FROM contacts 
2025-06-28T04:08:57:           WHERE c... パラメータ数: 1
2025-06-28T04:08:57: SQL実行成功: 結果行数=0
2025-06-28T04:08:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:57: SQL実行成功: 結果行数=1
2025-06-28T04:08:57: SQL実行: 
2025-06-28T04:08:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:08:57:           FROM contacts 
2025-06-28T04:08:57:           WHERE c... パラメータ数: 1
2025-06-28T04:08:57: SQL実行成功: 結果行数=0
2025-06-28T04:08:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:08:57: SQL実行成功: 結果行数=1
2025-06-28T04:09:00: POST /api/ivr/campaigns/172/deploy - Origin: http://146.190.83.205:3003
2025-06-28T04:09:00: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T04:09:00.545Z] INFO  [PID:1111609] 🚀 キャンペーン 172 のIVRスクリプト完全デプロイ開始... {"level":"INFO"}
2025-06-28T04:09:00: SQL実行成功: 結果行数=1
[2025-06-28T04:09:00.545Z] INFO  [PID:1111609] 📝 Step 1: IVRスクリプト生成中... {"level":"INFO"}
2025-06-28T04:09:00: [36m[2025-06-28T04:09:00.545Z] INFO  [PID:1111609][0m 🚀 キャンペーン 172 のIVRスクリプト完全デプロイ開始... {"level":"INFO"}
2025-06-28T04:09:00: [36m[2025-06-28T04:09:00.545Z] INFO  [PID:1111609][0m 📝 Step 1: IVRスクリプト生成中... {"level":"INFO"}
2025-06-28T04:09:00: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T04:09:00.546Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=172 {"level":"INFO"}
2025-06-28T04:09:00: SQL実行成功: 結果行数=1
2025-06-28T04:09:00: [36m[2025-06-28T04:09:00.546Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=172 {"level":"INFO"}
2025-06-28T04:09:00: SQL実行: 
2025-06-28T04:09:00:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T04:09:00:    ... パラメータ数: 1
[2025-06-28T04:09:00.548Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=172, 件数=0 {"level":"INFO"}
[2025-06-28T04:09:00.548Z] WARN  [PID:1111609] キャンペーン 172 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-28T04:09:00: SQL実行成功: 結果行数=0
2025-06-28T04:09:00: [36m[2025-06-28T04:09:00.548Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=172, 件数=0 {"level":"INFO"}
2025-06-28T04:09:00: [33m[2025-06-28T04:09:00.548Z] WARN  [PID:1111609][0m キャンペーン 172 に音声ファイルが見つかりません {"level":"WARN"}
[2025-06-28T04:09:00.549Z] INFO  [PID:1111609] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-172.conf {"level":"INFO"}
2025-06-28T04:09:00: [36m[2025-06-28T04:09:00.549Z] INFO  [PID:1111609][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-172.conf {"level":"INFO"}
[2025-06-28T04:09:00.549Z] INFO  [PID:1111609] ✅ IVRスクリプト生成完了: /var/www/autodialer/backend/ivr-scripts/campaign-172.conf {"level":"INFO"}
[2025-06-28T04:09:00.549Z] INFO  [PID:1111609] 📝 Step 2: extensions.confへのinclude追加中... {"level":"INFO"}
[2025-06-28T04:09:00.549Z] INFO  [PID:1111609] 🔧 extensions.conf include追加: #include "/var/www/autodialer/backend/ivr-scripts/campaign-172.conf" {"level":"INFO"}
2025-06-28T04:09:00: [36m[2025-06-28T04:09:00.549Z] INFO  [PID:1111609][0m ✅ IVRスクリプト生成完了: /var/www/autodialer/backend/ivr-scripts/campaign-172.conf {"level":"INFO"}
2025-06-28T04:09:00: [36m[2025-06-28T04:09:00.549Z] INFO  [PID:1111609][0m 📝 Step 2: extensions.confへのinclude追加中... {"level":"INFO"}
2025-06-28T04:09:00: [36m[2025-06-28T04:09:00.549Z] INFO  [PID:1111609][0m 🔧 extensions.conf include追加: #include "/var/www/autodialer/backend/ivr-scripts/campaign-172.conf" {"level":"INFO"}
[2025-06-28T04:09:00.552Z] INFO  [PID:1111609] ✅ extensions.confにinclude追加完了: campaign-172.conf {"level":"INFO"}
[2025-06-28T04:09:00.553Z] INFO  [PID:1111609] 📝 Step 3: Asterisk dialplan reload実行中... {"level":"INFO"}
[2025-06-28T04:09:00.553Z] INFO  [PID:1111609] 🔄 Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T04:09:00: [36m[2025-06-28T04:09:00.552Z] INFO  [PID:1111609][0m ✅ extensions.confにinclude追加完了: campaign-172.conf {"level":"INFO"}
2025-06-28T04:09:00: [36m[2025-06-28T04:09:00.553Z] INFO  [PID:1111609][0m 📝 Step 3: Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T04:09:00: [36m[2025-06-28T04:09:00.553Z] INFO  [PID:1111609][0m 🔄 Asterisk dialplan reload実行中... {"level":"INFO"}
[2025-06-28T04:09:00.599Z] INFO  [PID:1111609] ✅ Asterisk dialplan reload成功: Dialplan reloaded. {"level":"INFO"}
[2025-06-28T04:09:00.599Z] INFO  [PID:1111609] 📝 Step 4: データベース記録中... {"level":"INFO"}
2025-06-28T04:09:00: [36m[2025-06-28T04:09:00.599Z] INFO  [PID:1111609][0m ✅ Asterisk dialplan reload成功: Dialplan reloaded. {"level":"INFO"}
2025-06-28T04:09:00: [36m[2025-06-28T04:09:00.599Z] INFO  [PID:1111609][0m 📝 Step 4: データベース記録中... {"level":"INFO"}
2025-06-28T04:09:00: SQL実行: UPDATE campaigns SET ivr_deployed = true, ivr_deploy_time = NOW() WHERE id = ?... パラメータ数: 1
[2025-06-28T04:09:00.606Z] INFO  [PID:1111609] ✅ データベース記録完了 {"level":"INFO"}
[2025-06-28T04:09:00.607Z] INFO  [PID:1111609] 📝 Step 5: デプロイ検証中... {"level":"INFO"}
[2025-06-28T04:09:00.607Z] INFO  [PID:1111609] 🔍 コンテキスト検証中: autodialer-campaign-172 {"level":"INFO"}
2025-06-28T04:09:00: SQL実行成功: 結果行数=不明
2025-06-28T04:09:00: [36m[2025-06-28T04:09:00.606Z] INFO  [PID:1111609][0m ✅ データベース記録完了 {"level":"INFO"}
2025-06-28T04:09:00: [36m[2025-06-28T04:09:00.607Z] INFO  [PID:1111609][0m 📝 Step 5: デプロイ検証中... {"level":"INFO"}
2025-06-28T04:09:00: [36m[2025-06-28T04:09:00.607Z] INFO  [PID:1111609][0m 🔍 コンテキスト検証中: autodialer-campaign-172 {"level":"INFO"}
[2025-06-28T04:09:00.638Z] WARN  [PID:1111609] ⚠️ コンテキスト検証結果不明: [ Context 'autodialer-campaign-172' created by 'pbx_config' ]
  '1' =>            1. NoOp(Operator transfer requested)          [campaign-172.conf:10]
                    2. Set(CAMPAIGN_ID=172)                       [campaign-172.conf:11]
                    3. Set(KEYPRESS=1)                            [campaign-172.conf:12]
                    4. Goto(operator-transfer-172,s,1)            [campaign-172.conf:13]
  '2' =>            1. NoOp(Operator transfer requested)          [campaign-172.conf:15]
                    2. Set(CAMPAIGN_ID=172)                       [campaign-172.conf:16]
                    3. Set(KEYPRESS=2)                            [campaign-172.conf:17]
                    4. Goto(operator-transfer-172,s,1)            [campaign-172.conf:18]
  '3' =>            1. NoOp(Operator transfer requested)          [campaign-172.conf:20]
                    2. Set(CAMPAIGN_ID=172)                       [campaign-172.conf:21]
                    3. Set(KEYPRESS=3)                            [campaign-172.conf:22]
                    4. Goto(operator-transfer-172,s,1)            [campaign-172.conf:23]
  '9' =>            1. NoOp(DNC requested)                        [campaign-172.conf:25]
                    2. Set(CAMPAIGN_ID=172)                       [campaign-172.conf:26]
                    3. Set(KEYPRESS=9)                            [campaign-172.conf:27]
                    4. Playback(vm-goodbye)                       [campaign-172.conf:28]
                    5. Hangup()                                   [campaign-172.conf:29]
  'h' =>            1. NoOp(Hangup handler)                       [campaign-172.conf:39]
                    2. System(curl -X POST http://localhost:5000/api/callback/call-end -d "callId=172-${UNIQUEID}&duration=${ANSWEREDTIME}&disposition=${DIALSTATUS}&keypress=${KEYPRESS}") [campaign-172.conf:40]
  'i' =>            1. NoOp(Invalid input)                        [campaign-172.conf:35]
                    2. Playback(invalid)                          [campaign-172.conf:36]
                    3. Goto(s,4)                                  [campaign-172.conf:37]
  's' =>            1. Answer()                                   [campaign-172.conf:4]
                    2. Wait(1)                                    [campaign-172.conf:5]
                    3. Playback(vm-tempgreeting)                  [campaign-172.conf:6]
                    4. Playback(vm-tempgreeting)                  [campaign-172.conf:7]
                    5. WaitExten(10)                              [campaign-172.conf:8]
  't' =>            1. NoOp(Timeout occurred)                     [campaign-172.conf:31]
                    2. Playback(goodbye)                          [campaign-172.conf:32]
                    3. Hangup()                                   [campaign-172.conf:33]

-= 8 extensions (30 priorities) in 1 context. =-
 {"level":"WARN"}
[2025-06-28T04:09:00.639Z] WARN  [PID:1111609] ⚠️ コンテキスト検証失敗 - 手動確認が必要です {"level":"WARN"}
2025-06-28T04:09:00: [33m[2025-06-28T04:09:00.638Z] WARN  [PID:1111609][0m ⚠️ コンテキスト検証結果不明: [ Context 'autodialer-campaign-172' created by 'pbx_config' ]
2025-06-28T04:09:00:   '1' =>            1. NoOp(Operator transfer requested)          [campaign-172.conf:10]
2025-06-28T04:09:00:                     2. Set(CAMPAIGN_ID=172)                       [campaign-172.conf:11]
2025-06-28T04:09:00:                     3. Set(KEYPRESS=1)                            [campaign-172.conf:12]
2025-06-28T04:09:00:                     4. Goto(operator-transfer-172,s,1)            [campaign-172.conf:13]
2025-06-28T04:09:00:   '2' =>            1. NoOp(Operator transfer requested)          [campaign-172.conf:15]
2025-06-28T04:09:00:                     2. Set(CAMPAIGN_ID=172)                       [campaign-172.conf:16]
2025-06-28T04:09:00:                     3. Set(KEYPRESS=2)                            [campaign-172.conf:17]
2025-06-28T04:09:00:                     4. Goto(operator-transfer-172,s,1)            [campaign-172.conf:18]
2025-06-28T04:09:00:   '3' =>            1. NoOp(Operator transfer requested)          [campaign-172.conf:20]
2025-06-28T04:09:00:                     2. Set(CAMPAIGN_ID=172)                       [campaign-172.conf:21]
2025-06-28T04:09:00:                     3. Set(KEYPRESS=3)                            [campaign-172.conf:22]
2025-06-28T04:09:00:                     4. Goto(operator-transfer-172,s,1)            [campaign-172.conf:23]
2025-06-28T04:09:00:   '9' =>            1. NoOp(DNC requested)                        [campaign-172.conf:25]
2025-06-28T04:09:00:                     2. Set(CAMPAIGN_ID=172)                       [campaign-172.conf:26]
2025-06-28T04:09:00:                     3. Set(KEYPRESS=9)                            [campaign-172.conf:27]
2025-06-28T04:09:00:                     4. Playback(vm-goodbye)                       [campaign-172.conf:28]
2025-06-28T04:09:00:                     5. Hangup()                                   [campaign-172.conf:29]
2025-06-28T04:09:00:   'h' =>            1. NoOp(Hangup handler)                       [campaign-172.conf:39]
2025-06-28T04:09:00:                     2. System(curl -X POST http://localhost:5000/api/callback/call-end -d "callId=172-${UNIQUEID}&duration=${ANSWEREDTIME}&disposition=${DIALSTATUS}&keypress=${KEYPRESS}") [campaign-172.conf:40]
2025-06-28T04:09:00:   'i' =>            1. NoOp(Invalid input)                        [campaign-172.conf:35]
2025-06-28T04:09:00:                     2. Playback(invalid)                          [campaign-172.conf:36]
2025-06-28T04:09:00:                     3. Goto(s,4)                                  [campaign-172.conf:37]
2025-06-28T04:09:00:   's' =>            1. Answer()                                   [campaign-172.conf:4]
2025-06-28T04:09:00:                     2. Wait(1)                                    [campaign-172.conf:5]
2025-06-28T04:09:00:                     3. Playback(vm-tempgreeting)                  [campaign-172.conf:6]
2025-06-28T04:09:00:                     4. Playback(vm-tempgreeting)                  [campaign-172.conf:7]
2025-06-28T04:09:00:                     5. WaitExten(10)                              [campaign-172.conf:8]
2025-06-28T04:09:00:   't' =>            1. NoOp(Timeout occurred)                     [campaign-172.conf:31]
2025-06-28T04:09:00:                     2. Playback(goodbye)                          [campaign-172.conf:32]
2025-06-28T04:09:00:                     3. Hangup()                                   [campaign-172.conf:33]
2025-06-28T04:09:00: 
2025-06-28T04:09:00: -= 8 extensions (30 priorities) in 1 context. =-
2025-06-28T04:09:00:  {"level":"WARN"}
2025-06-28T04:09:00: [33m[2025-06-28T04:09:00.639Z] WARN  [PID:1111609][0m ⚠️ コンテキスト検証失敗 - 手動確認が必要です {"level":"WARN"}
2025-06-28T04:09:01: SQL実行: SELECT 1... 
2025-06-28T04:09:01: SQL実行成功: 結果行数=1
2025-06-28T04:09:01: SQL実行: 
2025-06-28T04:09:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:09:01:                ci.number as ca... 
2025-06-28T04:09:01: SQL実行成功: 結果行数=80
2025-06-28T04:09:02: SQL実行: 
2025-06-28T04:09:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:02:           FROM contacts 
2025-06-28T04:09:02:           WHERE c... パラメータ数: 1
2025-06-28T04:09:02: SQL実行成功: 結果行数=0
2025-06-28T04:09:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:02: SQL実行成功: 結果行数=1
2025-06-28T04:09:02: SQL実行: 
2025-06-28T04:09:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:02:           FROM contacts 
2025-06-28T04:09:02:           WHERE c... パラメータ数: 1
2025-06-28T04:09:02: SQL実行成功: 結果行数=0
2025-06-28T04:09:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:02: SQL実行成功: 結果行数=1
[2025-06-28T04:09:04.524Z] INFO  [PID:1111609] 音声ファイル割り当て: キャンペーンID=172, 音声ID=1fdbb84a-dc24-4a44-87c9-713b65021f12, タイプ=welcome {"level":"INFO"}
2025-06-28T04:09:04: POST /api/audio/assign - Origin: http://146.190.83.205:3003
2025-06-28T04:09:04: [36m[2025-06-28T04:09:04.524Z] INFO  [PID:1111609][0m 音声ファイル割り当て: キャンペーンID=172, 音声ID=1fdbb84a-dc24-4a44-87c9-713b65021f12, タイプ=welcome {"level":"INFO"}
2025-06-28T04:09:04: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:09:04: SQL実行成功: 結果行数=1
2025-06-28T04:09:04: SQL実行: SELECT id FROM audio_files WHERE id = ?... パラメータ数: 1
2025-06-28T04:09:04: SQL実行成功: 結果行数=1
2025-06-28T04:09:04: SQL実行: SELECT * FROM campaign_audio WHERE campaign_id = ? AND audio_type = ?... パラメータ数: 2
2025-06-28T04:09:04: SQL実行成功: 結果行数=0
2025-06-28T04:09:04: SQL実行: INSERT INTO campaign_audio (campaign_id, audio_file_id, audio_type, created_at) VALUES (?, ?, ?, NOW... パラメータ数: 3
[2025-06-28T04:09:04.547Z] INFO  [PID:1111609] 新規割り当てを作成しました: キャンペーンID=172, タイプ=welcome {"level":"INFO"}
2025-06-28T04:09:04: SQL実行成功: 結果行数=不明
2025-06-28T04:09:04: [36m[2025-06-28T04:09:04.547Z] INFO  [PID:1111609][0m 新規割り当てを作成しました: キャンペーンID=172, タイプ=welcome {"level":"INFO"}
[2025-06-28T04:09:04.593Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=172 {"level":"INFO"}
[2025-06-28T04:09:04.596Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=172, 件数=1 {"level":"INFO"}
[2025-06-28T04:09:04.596Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T04:09:04: GET /api/ivr/campaigns/172 - Origin: http://146.190.83.205:3003
2025-06-28T04:09:04: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:09:04: SQL実行成功: 結果行数=1
2025-06-28T04:09:04: [36m[2025-06-28T04:09:04.593Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=172 {"level":"INFO"}
2025-06-28T04:09:04: SQL実行: 
2025-06-28T04:09:04:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T04:09:04:    ... パラメータ数: 1
2025-06-28T04:09:04: SQL実行成功: 結果行数=1
2025-06-28T04:09:04: [36m[2025-06-28T04:09:04.596Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=172, 件数=1 {"level":"INFO"}
2025-06-28T04:09:04: [36m[2025-06-28T04:09:04.596Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T04:09:04: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T04:09:04: SQL実行成功: 結果行数=0
2025-06-28T04:09:04: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T04:09:04.599Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=172 {"level":"INFO"}
2025-06-28T04:09:04: SQL実行成功: 結果行数=1
2025-06-28T04:09:04: [36m[2025-06-28T04:09:04.599Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=172 {"level":"INFO"}
[2025-06-28T04:09:04.601Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=172, 件数=1 {"level":"INFO"}
[2025-06-28T04:09:04.601Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T04:09:04: SQL実行: 
2025-06-28T04:09:04:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T04:09:04:    ... パラメータ数: 1
2025-06-28T04:09:04: SQL実行成功: 結果行数=1
2025-06-28T04:09:04: [36m[2025-06-28T04:09:04.601Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=172, 件数=1 {"level":"INFO"}
2025-06-28T04:09:04: [36m[2025-06-28T04:09:04.601Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
[2025-06-28T04:09:04.602Z] INFO  [PID:1111609] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-172.conf {"level":"INFO"}
2025-06-28T04:09:04: [36m[2025-06-28T04:09:04.602Z] INFO  [PID:1111609][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-172.conf {"level":"INFO"}
2025-06-28T04:09:07: SQL実行: 
2025-06-28T04:09:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:07:           FROM contacts 
2025-06-28T04:09:07:           WHERE c... パラメータ数: 1
2025-06-28T04:09:07: SQL実行成功: 結果行数=0
2025-06-28T04:09:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:07: SQL実行成功: 結果行数=1
2025-06-28T04:09:07: SQL実行: 
2025-06-28T04:09:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:07:           FROM contacts 
2025-06-28T04:09:07:           WHERE c... パラメータ数: 1
2025-06-28T04:09:07: SQL実行成功: 結果行数=0
2025-06-28T04:09:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:07: SQL実行成功: 結果行数=1
2025-06-28T04:09:12: SQL実行: 
2025-06-28T04:09:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:12:           FROM contacts 
2025-06-28T04:09:12:           WHERE c... パラメータ数: 1
2025-06-28T04:09:12: SQL実行成功: 結果行数=0
2025-06-28T04:09:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:12: SQL実行成功: 結果行数=1
2025-06-28T04:09:12: SQL実行: 
2025-06-28T04:09:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:12:           FROM contacts 
2025-06-28T04:09:12:           WHERE c... パラメータ数: 1
2025-06-28T04:09:12: SQL実行成功: 結果行数=0
2025-06-28T04:09:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:12: SQL実行成功: 結果行数=1
2025-06-28T04:09:12: POST /api/campaigns/172/start - Origin: http://146.190.83.205:3003
2025-06-28T04:09:12: 🔍 campaignsController.startCampaign 開始: { campaignId: '172' }
2025-06-28T04:09:12: SQL実行: 
2025-06-28T04:09:12:       SELECT c.*, ci.active as caller_id_active,
2025-06-28T04:09:12:              (SELECT COUNT(*) FROM contacts WHERE ... パラメータ数: 1
2025-06-28T04:09:12: SQL実行成功: 結果行数=1
2025-06-28T04:09:12: 🔍 修正後のクエリ結果: {
2025-06-28T04:09:12:   rows_length: 1,
2025-06-28T04:09:12:   campaign_exists: 'YES',
2025-06-28T04:09:12:   caller_id_id: 8,
2025-06-28T04:09:12:   caller_id_active: 1,
2025-06-28T04:09:12:   contact_count: '1'
2025-06-28T04:09:12: }
[2025-06-28T04:09:12.840Z] INFO  [PID:1111609] 🚀 キャンペーン 172 のIVRスクリプト完全デプロイ開始... {"level":"INFO"}
[2025-06-28T04:09:12.840Z] INFO  [PID:1111609] 📝 Step 1: IVRスクリプト生成中... {"level":"INFO"}
2025-06-28T04:09:12: 🔍 検証開始: {
2025-06-28T04:09:12:   'campaign.caller_id_id': 8,
2025-06-28T04:09:12:   'campaign.caller_id_active': 1,
2025-06-28T04:09:12:   'typeof caller_id_id': 'number',
2025-06-28T04:09:12:   'typeof caller_id_active': 'number',
2025-06-28T04:09:12:   '!campaign.caller_id_id': false,
2025-06-28T04:09:12:   '!campaign.caller_id_active': false
2025-06-28T04:09:12: }
2025-06-28T04:09:12: ✅ 検証完了、IVRデプロイ開始
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.840Z] INFO  [PID:1111609][0m 🚀 キャンペーン 172 のIVRスクリプト完全デプロイ開始... {"level":"INFO"}
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.840Z] INFO  [PID:1111609][0m 📝 Step 1: IVRスクリプト生成中... {"level":"INFO"}
2025-06-28T04:09:12: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T04:09:12.843Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=172 {"level":"INFO"}
2025-06-28T04:09:12: SQL実行成功: 結果行数=1
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.843Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=172 {"level":"INFO"}
2025-06-28T04:09:12: SQL実行: 
2025-06-28T04:09:12:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T04:09:12:    ... パラメータ数: 1
[2025-06-28T04:09:12.845Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=172, 件数=1 {"level":"INFO"}
[2025-06-28T04:09:12.845Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T04:09:12: SQL実行成功: 結果行数=1
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.845Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=172, 件数=1 {"level":"INFO"}
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.845Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
[2025-06-28T04:09:12.846Z] INFO  [PID:1111609] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-172.conf {"level":"INFO"}
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.846Z] INFO  [PID:1111609][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-172.conf {"level":"INFO"}
[2025-06-28T04:09:12.846Z] INFO  [PID:1111609] ✅ IVRスクリプト生成完了: /var/www/autodialer/backend/ivr-scripts/campaign-172.conf {"level":"INFO"}
[2025-06-28T04:09:12.846Z] INFO  [PID:1111609] 📝 Step 2: extensions.confへのinclude追加中... {"level":"INFO"}
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.846Z] INFO  [PID:1111609][0m ✅ IVRスクリプト生成完了: /var/www/autodialer/backend/ivr-scripts/campaign-172.conf {"level":"INFO"}
[2025-06-28T04:09:12.846Z] INFO  [PID:1111609] 🔧 extensions.conf include追加: #include "/var/www/autodialer/backend/ivr-scripts/campaign-172.conf" {"level":"INFO"}
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.846Z] INFO  [PID:1111609][0m 📝 Step 2: extensions.confへのinclude追加中... {"level":"INFO"}
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.846Z] INFO  [PID:1111609][0m 🔧 extensions.conf include追加: #include "/var/www/autodialer/backend/ivr-scripts/campaign-172.conf" {"level":"INFO"}
[2025-06-28T04:09:12.847Z] INFO  [PID:1111609] ℹ️ include文は既に存在します: campaign-172.conf {"level":"INFO"}
[2025-06-28T04:09:12.847Z] INFO  [PID:1111609] 📝 Step 3: Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.847Z] INFO  [PID:1111609][0m ℹ️ include文は既に存在します: campaign-172.conf {"level":"INFO"}
[2025-06-28T04:09:12.847Z] INFO  [PID:1111609] 🔄 Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.847Z] INFO  [PID:1111609][0m 📝 Step 3: Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.847Z] INFO  [PID:1111609][0m 🔄 Asterisk dialplan reload実行中... {"level":"INFO"}
[2025-06-28T04:09:12.891Z] INFO  [PID:1111609] ✅ Asterisk dialplan reload成功: Dialplan reloaded. {"level":"INFO"}
[2025-06-28T04:09:12.891Z] INFO  [PID:1111609] 📝 Step 4: データベース記録中... {"level":"INFO"}
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.891Z] INFO  [PID:1111609][0m ✅ Asterisk dialplan reload成功: Dialplan reloaded. {"level":"INFO"}
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.891Z] INFO  [PID:1111609][0m 📝 Step 4: データベース記録中... {"level":"INFO"}
2025-06-28T04:09:12: SQL実行: UPDATE campaigns SET ivr_deployed = true, ivr_deploy_time = NOW() WHERE id = ?... パラメータ数: 1
[2025-06-28T04:09:12.900Z] INFO  [PID:1111609] ✅ データベース記録完了 {"level":"INFO"}
2025-06-28T04:09:12: SQL実行成功: 結果行数=不明
[2025-06-28T04:09:12.900Z] INFO  [PID:1111609] 📝 Step 5: デプロイ検証中... {"level":"INFO"}
[2025-06-28T04:09:12.900Z] INFO  [PID:1111609] 🔍 コンテキスト検証中: autodialer-campaign-172 {"level":"INFO"}
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.900Z] INFO  [PID:1111609][0m ✅ データベース記録完了 {"level":"INFO"}
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.900Z] INFO  [PID:1111609][0m 📝 Step 5: デプロイ検証中... {"level":"INFO"}
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.900Z] INFO  [PID:1111609][0m 🔍 コンテキスト検証中: autodialer-campaign-172 {"level":"INFO"}
[2025-06-28T04:09:12.926Z] WARN  [PID:1111609] ⚠️ コンテキスト検証結果不明: [ Context 'autodialer-campaign-172' created by 'pbx_config' ]
  '1' =>            1. NoOp(Operator transfer requested)          [campaign-172.conf:10]
                    2. Set(CAMPAIGN_ID=172)                       [campaign-172.conf:11]
                    3. Set(KEYPRESS=1)                            [campaign-172.conf:12]
                    4. Goto(operator-transfer-172,s,1)            [campaign-172.conf:13]
  '2' =>            1. NoOp(Operator transfer requested)          [campaign-172.conf:15]
                    2. Set(CAMPAIGN_ID=172)                       [campaign-172.conf:16]
                    3. Set(KEYPRESS=2)                            [campaign-172.conf:17]
                    4. Goto(operator-transfer-172,s,1)            [campaign-172.conf:18]
  '3' =>            1. NoOp(Operator transfer requested)          [campaign-172.conf:20]
                    2. Set(CAMPAIGN_ID=172)                       [campaign-172.conf:21]
                    3. Set(KEYPRESS=3)                            [campaign-172.conf:22]
                    4. Goto(operator-transfer-172,s,1)            [campaign-172.conf:23]
  '9' =>            1. NoOp(DNC requested)                        [campaign-172.conf:25]
                    2. Set(CAMPAIGN_ID=172)                       [campaign-172.conf:26]
                    3. Set(KEYPRESS=9)                            [campaign-172.conf:27]
                    4. Playback(vm-goodbye)                       [campaign-172.conf:28]
                    5. Hangup()                                   [campaign-172.conf:29]
  'h' =>            1. NoOp(Hangup handler)                       [campaign-172.conf:39]
                    2. System(curl -X POST http://localhost:5000/api/callback/call-end -d "callId=172-${UNIQUEID}&duration=${ANSWEREDTIME}&disposition=${DIALSTATUS}&keypress=${KEYPRESS}") [campaign-172.conf:40]
  'i' =>            1. NoOp(Invalid input)                        [campaign-172.conf:35]
                    2. Playback(invalid)                          [campaign-172.conf:36]
                    3. Goto(s,4)                                  [campaign-172.conf:37]
  's' =>            1. Answer()                                   [campaign-172.conf:4]
                    2. Wait(1)                                    [campaign-172.conf:5]
                    3. Playback(autodialer/1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302) [campaign-172.conf:6]
                    4. Playback(vm-tempgreeting)                  [campaign-172.conf:7]
                    5. WaitExten(10)                              [campaign-172.conf:8]
  't' =>            1. NoOp(Timeout occurred)                     [campaign-172.conf:31]
                    2. Playback(goodbye)                          [campaign-172.conf:32]
                    3. Hangup()                                   [campaign-172.conf:33]

-= 8 extensions (30 priorities) in 1 context. =-
 {"level":"WARN"}
[2025-06-28T04:09:12.927Z] WARN  [PID:1111609] ⚠️ コンテキスト検証失敗 - 手動確認が必要です {"level":"WARN"}
[2025-06-28T04:09:12.927Z] INFO  [PID:1111609] 🚀 手動キャンペーン開始: 172 {"level":"INFO"}
2025-06-28T04:09:12: [33m[2025-06-28T04:09:12.926Z] WARN  [PID:1111609][0m ⚠️ コンテキスト検証結果不明: [ Context 'autodialer-campaign-172' created by 'pbx_config' ]
2025-06-28T04:09:12:   '1' =>            1. NoOp(Operator transfer requested)          [campaign-172.conf:10]
2025-06-28T04:09:12:                     2. Set(CAMPAIGN_ID=172)                       [campaign-172.conf:11]
2025-06-28T04:09:12:                     3. Set(KEYPRESS=1)                            [campaign-172.conf:12]
2025-06-28T04:09:12:                     4. Goto(operator-transfer-172,s,1)            [campaign-172.conf:13]
2025-06-28T04:09:12:   '2' =>            1. NoOp(Operator transfer requested)          [campaign-172.conf:15]
2025-06-28T04:09:12:                     2. Set(CAMPAIGN_ID=172)                       [campaign-172.conf:16]
2025-06-28T04:09:12:                     3. Set(KEYPRESS=2)                            [campaign-172.conf:17]
2025-06-28T04:09:12:                     4. Goto(operator-transfer-172,s,1)            [campaign-172.conf:18]
2025-06-28T04:09:12:   '3' =>            1. NoOp(Operator transfer requested)          [campaign-172.conf:20]
2025-06-28T04:09:12:                     2. Set(CAMPAIGN_ID=172)                       [campaign-172.conf:21]
2025-06-28T04:09:12:                     3. Set(KEYPRESS=3)                            [campaign-172.conf:22]
2025-06-28T04:09:12:                     4. Goto(operator-transfer-172,s,1)            [campaign-172.conf:23]
2025-06-28T04:09:12:   '9' =>            1. NoOp(DNC requested)                        [campaign-172.conf:25]
2025-06-28T04:09:12:                     2. Set(CAMPAIGN_ID=172)                       [campaign-172.conf:26]
2025-06-28T04:09:12:                     3. Set(KEYPRESS=9)                            [campaign-172.conf:27]
2025-06-28T04:09:12:                     4. Playback(vm-goodbye)                       [campaign-172.conf:28]
2025-06-28T04:09:12:                     5. Hangup()                                   [campaign-172.conf:29]
2025-06-28T04:09:12:   'h' =>            1. NoOp(Hangup handler)                       [campaign-172.conf:39]
2025-06-28T04:09:12:                     2. System(curl -X POST http://localhost:5000/api/callback/call-end -d "callId=172-${UNIQUEID}&duration=${ANSWEREDTIME}&disposition=${DIALSTATUS}&keypress=${KEYPRESS}") [campaign-172.conf:40]
2025-06-28T04:09:12:   'i' =>            1. NoOp(Invalid input)                        [campaign-172.conf:35]
2025-06-28T04:09:12:                     2. Playback(invalid)                          [campaign-172.conf:36]
2025-06-28T04:09:12:                     3. Goto(s,4)                                  [campaign-172.conf:37]
2025-06-28T04:09:12:   's' =>            1. Answer()                                   [campaign-172.conf:4]
2025-06-28T04:09:12:                     2. Wait(1)                                    [campaign-172.conf:5]
2025-06-28T04:09:12:                     3. Playback(autodialer/1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302) [campaign-172.conf:6]
2025-06-28T04:09:12:                     4. Playback(vm-tempgreeting)                  [campaign-172.conf:7]
2025-06-28T04:09:12:                     5. WaitExten(10)                              [campaign-172.conf:8]
2025-06-28T04:09:12:   't' =>            1. NoOp(Timeout occurred)                     [campaign-172.conf:31]
2025-06-28T04:09:12:                     2. Playback(goodbye)                          [campaign-172.conf:32]
2025-06-28T04:09:12:                     3. Hangup()                                   [campaign-172.conf:33]
2025-06-28T04:09:12: 
2025-06-28T04:09:12: -= 8 extensions (30 priorities) in 1 context. =-
2025-06-28T04:09:12:  {"level":"WARN"}
2025-06-28T04:09:12: [33m[2025-06-28T04:09:12.927Z] WARN  [PID:1111609][0m ⚠️ コンテキスト検証失敗 - 手動確認が必要です {"level":"WARN"}
2025-06-28T04:09:12: ✅ IVRスクリプト自動デプロイ完了: キャンペーン 172 {
2025-06-28T04:09:12:   scriptPath: '/var/www/autodialer/backend/ivr-scripts/campaign-172.conf',
2025-06-28T04:09:12:   message: 'キャンペーン 172 のIVRスクリプトが完全デプロイされました'
2025-06-28T04:09:12: }
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.927Z] INFO  [PID:1111609][0m 🚀 手動キャンペーン開始: 172 {"level":"INFO"}
2025-06-28T04:09:12: SQL実行: 
2025-06-28T04:09:12:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:09:12:                ci.number as ca... パラメータ数: 1
2025-06-28T04:09:12: SQL実行成功: 結果行数=1
2025-06-28T04:09:12: SQL実行: UPDATE campaigns SET status = ?, updated_at = NOW() WHERE id = ?... パラメータ数: 2
[2025-06-28T04:09:12.935Z] INFO  [PID:1111609] 🎉 イベント: キャンペーン追加 - テスト (ID: 172) {"level":"INFO"}
2025-06-28T04:09:12: SQL実行成功: 結果行数=不明
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.935Z] INFO  [PID:1111609][0m 🎉 イベント: キャンペーン追加 - テスト (ID: 172) {"level":"INFO"}
[2025-06-28T04:09:12.938Z] INFO  [PID:1111609] ✅ キャンペーン自動追加: "テスト" (未処理: 1件) {"level":"INFO"}
[2025-06-28T04:09:12.939Z] INFO  [PID:1111609] ✅ 手動キャンペーン開始完了: "テスト" {"level":"INFO"}
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.938Z] INFO  [PID:1111609][0m ✅ キャンペーン自動追加: "テスト" (未処理: 1件) {"level":"INFO"}
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.939Z] INFO  [PID:1111609][0m ✅ 手動キャンペーン開始完了: "テスト" {"level":"INFO"}
[2025-06-28T04:09:12.979Z] INFO  [PID:1111609] キャンペーン詳細取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:12: GET /api/campaigns/172 - Origin: http://146.190.83.205:3003
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.979Z] INFO  [PID:1111609][0m キャンペーン詳細取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:12: SQL実行: 
2025-06-28T04:09:12:       SELECT c.*, 
2025-06-28T04:09:12:              ci.number as caller_id_number,
2025-06-28T04:09:12:              ci.description as calle... パラメータ数: 1
[2025-06-28T04:09:12.981Z] INFO  [PID:1111609] キャンペーン詳細取得完了: ID=172 {"level":"INFO"}
2025-06-28T04:09:12: SQL実行成功: 結果行数=1
2025-06-28T04:09:12: [36m[2025-06-28T04:09:12.981Z] INFO  [PID:1111609][0m キャンペーン詳細取得完了: ID=172 {"level":"INFO"}
2025-06-28T04:09:13: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:09:13: [36m[2025-06-28T04:09:13.029Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
[2025-06-28T04:09:13.029Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:13: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:09:13: SQL実行成功: 結果行数=1
2025-06-28T04:09:13: SQL実行: 
2025-06-28T04:09:13:       SELECT 
2025-06-28T04:09:13:         COUNT(*) as total,
2025-06-28T04:09:13:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:09:13: SQL実行成功: 結果行数=1
2025-06-28T04:09:13: SQL実行: 
2025-06-28T04:09:13:       SELECT 
2025-06-28T04:09:13:         COUNT(*) as total_calls,
2025-06-28T04:09:13:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:09:13.040Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:09:13: SQL実行成功: 結果行数=1
2025-06-28T04:09:13: [36m[2025-06-28T04:09:13.040Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:09:13: GET /api/ivr/campaigns/172 - Origin: http://146.190.83.205:3003
[2025-06-28T04:09:13.083Z] INFO  [PID:1111609] 音声ファイル一覧を取得します {"level":"INFO"}
[2025-06-28T04:09:13.083Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=172 {"level":"INFO"}
2025-06-28T04:09:13: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:09:13: GET /api/audio - Origin: http://146.190.83.205:3003
2025-06-28T04:09:13: [36m[2025-06-28T04:09:13.083Z] INFO  [PID:1111609][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T04:09:13: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
2025-06-28T04:09:13: SQL実行成功: 結果行数=1
2025-06-28T04:09:13: [36m[2025-06-28T04:09:13.083Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=172 {"level":"INFO"}
2025-06-28T04:09:13: SQL実行: 
2025-06-28T04:09:13:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T04:09:13:    ... パラメータ数: 1
[2025-06-28T04:09:13.085Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=172, 件数=1 {"level":"INFO"}
[2025-06-28T04:09:13.085Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T04:09:13: SQL実行成功: 結果行数=1
[2025-06-28T04:09:13.085Z] INFO  [PID:1111609] 3件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T04:09:13: [36m[2025-06-28T04:09:13.085Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=172, 件数=1 {"level":"INFO"}
2025-06-28T04:09:13: [36m[2025-06-28T04:09:13.085Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T04:09:13: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T04:09:13: SQL実行成功: 結果行数=3
2025-06-28T04:09:13: [36m[2025-06-28T04:09:13.085Z] INFO  [PID:1111609][0m 3件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T04:09:13: SQL実行成功: 結果行数=0
2025-06-28T04:09:13: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T04:09:13.089Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=172 {"level":"INFO"}
2025-06-28T04:09:13: SQL実行成功: 結果行数=1
2025-06-28T04:09:13: [36m[2025-06-28T04:09:13.089Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=172 {"level":"INFO"}
2025-06-28T04:09:13: SQL実行: 
2025-06-28T04:09:13:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T04:09:13:    ... パラメータ数: 1
[2025-06-28T04:09:13.099Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=172, 件数=1 {"level":"INFO"}
[2025-06-28T04:09:13.099Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T04:09:13: SQL実行成功: 結果行数=1
2025-06-28T04:09:13: [36m[2025-06-28T04:09:13.099Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=172, 件数=1 {"level":"INFO"}
2025-06-28T04:09:13: [36m[2025-06-28T04:09:13.099Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
[2025-06-28T04:09:13.100Z] INFO  [PID:1111609] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-172.conf {"level":"INFO"}
2025-06-28T04:09:13: [36m[2025-06-28T04:09:13.100Z] INFO  [PID:1111609][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-172.conf {"level":"INFO"}
2025-06-28T04:09:16: SQL実行: 
2025-06-28T04:09:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:09:16:                ci.number as ca... 
2025-06-28T04:09:16: SQL実行成功: 結果行数=81
2025-06-28T04:09:17: SQL実行: 
2025-06-28T04:09:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:17:           FROM contacts 
2025-06-28T04:09:17:           WHERE c... パラメータ数: 1
2025-06-28T04:09:17: SQL実行成功: 結果行数=0
2025-06-28T04:09:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:17: SQL実行成功: 結果行数=1
2025-06-28T04:09:17: SQL実行: 
2025-06-28T04:09:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:17:           FROM contacts 
2025-06-28T04:09:17:           WHERE c... パラメータ数: 1
2025-06-28T04:09:17: SQL実行成功: 結果行数=0
2025-06-28T04:09:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:17: SQL実行成功: 結果行数=1
2025-06-28T04:09:17: SQL実行: 
2025-06-28T04:09:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:17:           FROM contacts 
2025-06-28T04:09:17:           WHERE c... パラメータ数: 1
2025-06-28T04:09:17: SQL実行成功: 結果行数=1
[2025-06-28T04:09:17.498Z] INFO  [PID:1111609] 📞 発信準備: 05018086649 (Campaign: テスト, 試行回数: 0) {"level":"INFO"}
[2025-06-28T04:09:17.498Z] INFO  [PID:1111609] 🔧 発信診断開始: 05018086649 {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.498Z] INFO  [PID:1111609][0m 📞 発信準備: 05018086649 (Campaign: テスト, 試行回数: 0) {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.498Z] INFO  [PID:1111609][0m 🔧 発信診断開始: 05018086649 {"level":"INFO"}
2025-06-28T04:09:17: SQL実行: UPDATE contacts SET status = ?, last_attempt = NOW(), attempt_count = attempt_count + 1 WHERE id = ?... パラメータ数: 2
2025-06-28T04:09:17: SQL実行成功: 結果行数=不明
2025-06-28T04:09:17: SQL実行: SELECT * FROM caller_ids WHERE id = ? AND active = true... パラメータ数: 1
[2025-06-28T04:09:17.511Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=172 {"level":"INFO"}
2025-06-28T04:09:17: SQL実行成功: 結果行数=1
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.511Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=172 {"level":"INFO"}
2025-06-28T04:09:17: SQL実行: 
2025-06-28T04:09:17:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T04:09:17:    ... パラメータ数: 1
[2025-06-28T04:09:17.513Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=172, 件数=1 {"level":"INFO"}
[2025-06-28T04:09:17.513Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T04:09:17: SQL実行成功: 結果行数=1
[2025-06-28T04:09:17.513Z] INFO  [PID:1111609] 🎵 自動発信で音声ファイル取得成功: 1件 (Campaign: 172) {"level":"INFO"}
[2025-06-28T04:09:17.514Z] INFO  [PID:1111609] 🎵 音声1: welcome - 549444996463302 (1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav) {"level":"INFO"}
[2025-06-28T04:09:17.514Z] INFO  [PID:1111609] 🚀 音声付き自動発信実行: 05018086649 {"campaignId":172,"contactId":10167,"callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":1,"hasAudio":true,"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.513Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=172, 件数=1 {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.513Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.513Z] INFO  [PID:1111609][0m 🎵 自動発信で音声ファイル取得成功: 1件 (Campaign: 172) {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.514Z] INFO  [PID:1111609][0m 🎵 音声1: welcome - 549444996463302 (1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav) {"level":"INFO"}
[2025-06-28T04:09:17.514Z] INFO  [PID:1111609] SIPプロバイダで発信: 05018086649 {"level":"INFO"}
[2025-06-28T04:09:17.514Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] ===== sipService.originate 開始 (AMI版) ===== {"level":"INFO"}
[2025-06-28T04:09:17.514Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - phoneNumber: 05018086649 {"level":"INFO"}
[2025-06-28T04:09:17.514Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - mockMode: false {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.514Z] INFO  [PID:1111609][0m 🚀 音声付き自動発信実行: 05018086649 {"campaignId":172,"contactId":10167,"callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":1,"hasAudio":true,"level":"INFO"}
2025-06-28T04:09:17: 🚀🚀🚀 CALLSERVICE-START: originateメソッド開始（SIP専用）
2025-06-28T04:09:17: 🚀🚀🚀 CALLSERVICE-PARAMS: {"phoneNumber":"05018086649","callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","context":"autodialer","exten":"s","priority":1,"variables":{"CAMPAIGN_ID":172,"CONTACT_ID":10167,"CONTACT_NAME":"","COMPANY":"","AUTO_DIAL":"true","DIALER_VERSION":"v2.0"},"callerIdData":{"id":8,"number":"0369087851","description":"6/9 契約開始　1番号（25U、23CH）","provider":"外部","domain":"pantex.online","active":1,"created_at":"2025-06-14 10:02:51"},"mockMode":false,"provider":"sip","campaignAudio":[{"audio_type":"welcome","id":"1fdbb84a-dc24-4a44-87c9-713b65021f12","name":"549444996463302","filename":"1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav","mimetype":"audio/wav","description":"","path":"/var/www/autodialer/backend/audio-files/1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav"}]}
2025-06-28T04:09:17: 🚀🚀🚀 CALLSERVICE-PROVIDER: sip（固定）
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.514Z] INFO  [PID:1111609][0m SIPプロバイダで発信: 05018086649 {"level":"INFO"}
2025-06-28T04:09:17: 🚀🚀🚀 CALLSERVICE-SERVICE: SIPサービス利用可能
2025-06-28T04:09:17: 🚀🚀🚀 CALLSERVICE-EXEC-1: SIP発信実行直前
[2025-06-28T04:09:17.514Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - connected: true {"level":"INFO"}
[2025-06-28T04:09:17.514Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] 実発信モードで AMI発信を開始: 発信先=05018086649 {"level":"INFO"}
[2025-06-28T04:09:17.514Z] INFO  [PID:1111609] 🔍 SIPアカウント選択開始 {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.514Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] ===== sipService.originate 開始 (AMI版) ===== {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.514Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - phoneNumber: 05018086649 {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.514Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - mockMode: false {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.514Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - connected: true {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.514Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] 実発信モードで AMI発信を開始: 発信先=05018086649 {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.514Z] INFO  [PID:1111609][0m 🔍 SIPアカウント選択開始 {"level":"INFO"}
2025-06-28T04:09:17: SQL実行: SELECT caller_id_id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T04:09:17.515Z] INFO  [PID:1111609] 🔍 キャンペーン172 → 発信者番号ID: 8 {"level":"INFO"}
2025-06-28T04:09:17: SQL実行成功: 結果行数=1
[2025-06-28T04:09:17.516Z] INFO  [PID:1111609] 🔍 選択されたSIPアカウント: 03500003 {"level":"INFO"}
[2025-06-28T04:09:17.516Z] INFO  [PID:1111609] 🔍 - username: "03500003" (type: string) {"level":"INFO"}
[2025-06-28T04:09:17.516Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] AMI発信準備完了: {"level":"INFO"}
[2025-06-28T04:09:17.516Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - formattedNumber: 05018086649 {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.515Z] INFO  [PID:1111609][0m 🔍 キャンペーン172 → 発信者番号ID: 8 {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.516Z] INFO  [PID:1111609][0m 🔍 選択されたSIPアカウント: 03500003 {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.516Z] INFO  [PID:1111609][0m 🔍 - username: "03500003" (type: string) {"level":"INFO"}
[2025-06-28T04:09:17.516Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - callId: ami-1751083757516-2389 {"level":"INFO"}
[2025-06-28T04:09:17.516Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し開始 ===== {"level":"INFO"}
[2025-06-28T04:09:17.516Z] INFO  [PID:1111609] 🔍 ===== AMI発信データ追跡開始 ===== {"level":"INFO"}
[2025-06-28T04:09:17.516Z] INFO  [PID:1111609] 🔍 STEP1-引数確認: sipAccount.username="03500003" (type: string) {"level":"INFO"}
[2025-06-28T04:09:17.516Z] INFO  [PID:1111609] 🔍 STEP1-引数確認: formattedNumber="05018086649" {"level":"INFO"}
[2025-06-28T04:09:17.516Z] INFO  [PID:1111609] 🔍 STEP1-引数確認: callId="ami-1751083757516-2389" {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.516Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] AMI発信準備完了: {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.516Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - formattedNumber: 05018086649 {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.516Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - callId: ami-1751083757516-2389 {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.516Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し開始 ===== {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.516Z] INFO  [PID:1111609][0m 🔍 ===== AMI発信データ追跡開始 ===== {"level":"INFO"}
[2025-06-28T04:09:17.516Z] INFO  [PID:1111609] 🔍 STEP1-引数確認: campaignId="172" {"level":"INFO"}
[2025-06-28T04:09:17.516Z] INFO  [PID:1111609] 🔍 STEP3-ディープコピー: safeSipAccount.username="03500003" {"level":"INFO"}
[2025-06-28T04:09:17.516Z] INFO  [PID:1111609] 🔍 STEP4-Channel構築: "SIP/03500003@pantex.online" {"level":"INFO"}
[2025-06-28T04:09:17.516Z] INFO  [PID:1111609] ✅ データ整合性確認完了 - AMI送信実行 {"level":"INFO"}
[2025-06-28T04:09:17.516Z] INFO  [PID:1111609] 📤 AMI送信内容: {"level":"INFO"}
[2025-06-28T04:09:17.516Z] INFO  [PID:1111609] Action: Originate
Channel: PJSIP/05018086649@03500003
Context: autodialer-campaign-172
Exten: s
Priority: 1
CallerID: "0369087851" <0369087851>
Variable: CALLERID(name)=0369087851
Variable: CALLERID(num)=0369087851
Variable: PJSIP_HEADER(update,From)=\"0369087851\" <sip:0369087851@pantex.online>
ActionID: ami-1751083757516-2389
Async: yes

 {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.516Z] INFO  [PID:1111609][0m 🔍 STEP1-引数確認: sipAccount.username="03500003" (type: string) {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.516Z] INFO  [PID:1111609][0m 🔍 STEP1-引数確認: formattedNumber="05018086649" {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.516Z] INFO  [PID:1111609][0m 🔍 STEP1-引数確認: callId="ami-1751083757516-2389" {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.516Z] INFO  [PID:1111609][0m 🔍 STEP1-引数確認: campaignId="172" {"level":"INFO"}
[2025-06-28T04:09:17.517Z] INFO  [PID:1111609] 📤 AMI送信開始: {"0":"A","1":"c","2":"t","3":"i","4":"o","5":"n","6":":","7":" ","8":"O","9":"r","10":"i","11":"g","12":"i","13":"n","14":"a","15":"t","16":"e","17":"\r","18":"\n","19":"C","20":"h","21":"a","22":"n","23":"n","24":"e","25":"l","26":":","27":" ","28":"P","29":"J","30":"S","31":"I","32":"P","33":"/","34":"0","35":"5","36":"0","37":"1","38":"8","39":"0","40":"8","41":"6","42":"6","43":"4","44":"9","45":"@","46":"0","47":"3","48":"5","49":"0","50":"0","51":"0","52":"0","53":"3","54":"\r","55":"\n","56":"C","57":"o","58":"n","59":"t","60":"e","61":"x","62":"t","63":":","64":" ","65":"a","66":"u","67":"t","68":"o","69":"d","70":"i","71":"a","72":"l","73":"e","74":"r","75":"-","76":"c","77":"a","78":"m","79":"p","80":"a","81":"i","82":"g","83":"n","84":"-","85":"1","86":"7","87":"2","88":"\r","89":"\n","90":"E","91":"x","92":"t","93":"e","94":"n","95":":","96":" ","97":"s","98":"\r","99":"\n","level":"INFO"}
[2025-06-28T04:09:17.518Z] INFO  [PID:1111609] AMI応答: Response: Success
ActionID: ami-1751083757516-2389
Message: Originate successfully queued

 {"level":"INFO"}
[2025-06-28T04:09:17.518Z] INFO  [PID:1111609] 📥 AMI応答受信: Response: Success
ActionID: ami-1751083757516-2389
Message: Originate successfully queued

 {"level":"INFO"}
[2025-06-28T04:09:17.518Z] INFO  [PID:1111609] ✅ AMI送信成功 {"level":"INFO"}
[2025-06-28T04:09:17.518Z] INFO  [PID:1111609] ✅ AMI送信成功 {"level":"INFO"}
[2025-06-28T04:09:17.518Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し完了: true ===== {"level":"INFO"}
[2025-06-28T04:09:17.518Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] sipService.originate 正常完了 (AMI版) {"level":"INFO"}
[2025-06-28T04:09:17.518Z] INFO  [PID:1111609] ✅ 音声付き自動発信成功: 05018086649 → CallID: ami-1751083757516-2389, Provider: sip, Audio: 1件 {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.516Z] INFO  [PID:1111609][0m 🔍 STEP3-ディープコピー: safeSipAccount.username="03500003" {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.516Z] INFO  [PID:1111609][0m 🔍 STEP4-Channel構築: "SIP/03500003@pantex.online" {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.516Z] INFO  [PID:1111609][0m ✅ データ整合性確認完了 - AMI送信実行 {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.516Z] INFO  [PID:1111609][0m 📤 AMI送信内容: {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.516Z] INFO  [PID:1111609][0m Action: Originate
2025-06-28T04:09:17: Channel: PJSIP/05018086649@03500003
2025-06-28T04:09:17: Context: autodialer-campaign-172
2025-06-28T04:09:17: Exten: s
2025-06-28T04:09:17: Priority: 1
2025-06-28T04:09:17: CallerID: "0369087851" <0369087851>
2025-06-28T04:09:17: Variable: CALLERID(name)=0369087851
2025-06-28T04:09:17: Variable: CALLERID(num)=0369087851
2025-06-28T04:09:17: Variable: PJSIP_HEADER(update,From)=\"0369087851\" <sip:0369087851@pantex.online>
2025-06-28T04:09:17: ActionID: ami-1751083757516-2389
2025-06-28T04:09:17: Async: yes
2025-06-28T04:09:17: 
2025-06-28T04:09:17:  {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.517Z] INFO  [PID:1111609][0m 📤 AMI送信開始: {"0":"A","1":"c","2":"t","3":"i","4":"o","5":"n","6":":","7":" ","8":"O","9":"r","10":"i","11":"g","12":"i","13":"n","14":"a","15":"t","16":"e","17":"\r","18":"\n","19":"C","20":"h","21":"a","22":"n","23":"n","24":"e","25":"l","26":":","27":" ","28":"P","29":"J","30":"S","31":"I","32":"P","33":"/","34":"0","35":"5","36":"0","37":"1","38":"8","39":"0","40":"8","41":"6","42":"6","43":"4","44":"9","45":"@","46":"0","47":"3","48":"5","49":"0","50":"0","51":"0","52":"0","53":"3","54":"\r","55":"\n","56":"C","57":"o","58":"n","59":"t","60":"e","61":"x","62":"t","63":":","64":" ","65":"a","66":"u","67":"t","68":"o","69":"d","70":"i","71":"a","72":"l","73":"e","74":"r","75":"-","76":"c","77":"a","78":"m","79":"p","80":"a","81":"i","82":"g","83":"n","84":"-","85":"1","86":"7","87":"2","88":"\r","89":"\n","90":"E","91":"x","92":"t","93":"e","94":"n","95":":","96":" ","97":"s","98":"\r","99":"\n","level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.518Z] INFO  [PID:1111609][0m AMI応答: Response: Success
2025-06-28T04:09:17: ActionID: ami-1751083757516-2389
2025-06-28T04:09:17: Message: Originate successfully queued
2025-06-28T04:09:17: 
2025-06-28T04:09:17:  {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.518Z] INFO  [PID:1111609][0m 📥 AMI応答受信: Response: Success
2025-06-28T04:09:17: ActionID: ami-1751083757516-2389
2025-06-28T04:09:17: Message: Originate successfully queued
2025-06-28T04:09:17: 
2025-06-28T04:09:17:  {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.518Z] INFO  [PID:1111609][0m ✅ AMI送信成功 {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.518Z] INFO  [PID:1111609][0m ✅ AMI送信成功 {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.518Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し完了: true ===== {"level":"INFO"}
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.518Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] sipService.originate 正常完了 (AMI版) {"level":"INFO"}
2025-06-28T04:09:17: 🚀🚀🚀 CALLSERVICE-EXEC-2: SIP発信完了: レスポンスあり
2025-06-28T04:09:17: 🚀🚀🚀 CALLSERVICE-SUCCESS: SIP発信成功
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.518Z] INFO  [PID:1111609][0m ✅ 音声付き自動発信成功: 05018086649 → CallID: ami-1751083757516-2389, Provider: sip, Audio: 1件 {"level":"INFO"}
2025-06-28T04:09:17: SQL実行: 
2025-06-28T04:09:17:         INSERT INTO call_logs 
2025-06-28T04:09:17:         (contact_id, campaign_id, caller_id_id, call_id, phone_numbe... パラメータ数: 8
[2025-06-28T04:09:17.538Z] INFO  [PID:1111609] 🎯 音声付き発信診断完了: 05018086649 (処理時間: 40ms, 音声: 1件) {"level":"INFO"}
2025-06-28T04:09:17: SQL実行成功: 結果行数=不明
2025-06-28T04:09:17: [36m[2025-06-28T04:09:17.538Z] INFO  [PID:1111609][0m 🎯 音声付き発信診断完了: 05018086649 (処理時間: 40ms, 音声: 1件) {"level":"INFO"}
[2025-06-28T04:09:18.021Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:18: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:09:18: [36m[2025-06-28T04:09:18.021Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:18: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:09:18: SQL実行成功: 結果行数=1
2025-06-28T04:09:18: SQL実行: 
2025-06-28T04:09:18:       SELECT 
2025-06-28T04:09:18:         COUNT(*) as total,
2025-06-28T04:09:18:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:09:18: SQL実行成功: 結果行数=1
2025-06-28T04:09:18: SQL実行: 
2025-06-28T04:09:18:       SELECT 
2025-06-28T04:09:18:         COUNT(*) as total_calls,
2025-06-28T04:09:18:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:09:18.025Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:09:18: SQL実行成功: 結果行数=1
2025-06-28T04:09:18: [36m[2025-06-28T04:09:18.025Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
[2025-06-28T04:09:19.539Z] INFO  [PID:1111609] 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
2025-06-28T04:09:19: [36m[2025-06-28T04:09:19.539Z] INFO  [PID:1111609][0m 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
2025-06-28T04:09:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T04:09:21.255Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:09:21: SQL実行成功: 結果行数=1
2025-06-28T04:09:21: [36m[2025-06-28T04:09:21.255Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:09:22: SQL実行: 
2025-06-28T04:09:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:22:           FROM contacts 
2025-06-28T04:09:22:           WHERE c... パラメータ数: 1
2025-06-28T04:09:22: SQL実行成功: 結果行数=0
2025-06-28T04:09:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:22: SQL実行成功: 結果行数=1
2025-06-28T04:09:22: SQL実行: 
2025-06-28T04:09:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:22:           FROM contacts 
2025-06-28T04:09:22:           WHERE c... パラメータ数: 1
2025-06-28T04:09:22: SQL実行成功: 結果行数=0
2025-06-28T04:09:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:22: SQL実行成功: 結果行数=1
2025-06-28T04:09:22: SQL実行: 
2025-06-28T04:09:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:22:           FROM contacts 
2025-06-28T04:09:22:           WHERE c... パラメータ数: 1
2025-06-28T04:09:22: SQL実行成功: 結果行数=0
2025-06-28T04:09:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:22: SQL実行成功: 結果行数=1
[2025-06-28T04:09:23.023Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:23: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:09:23: [36m[2025-06-28T04:09:23.023Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:23: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:09:23: SQL実行成功: 結果行数=1
2025-06-28T04:09:23: SQL実行: 
2025-06-28T04:09:23:       SELECT 
2025-06-28T04:09:23:         COUNT(*) as total,
2025-06-28T04:09:23:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:09:23: SQL実行成功: 結果行数=1
2025-06-28T04:09:23: SQL実行: 
2025-06-28T04:09:23:       SELECT 
2025-06-28T04:09:23:         COUNT(*) as total_calls,
2025-06-28T04:09:23:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:09:23.028Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:09:23: SQL実行成功: 結果行数=1
2025-06-28T04:09:23: [36m[2025-06-28T04:09:23.028Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:09:27: SQL実行: 
2025-06-28T04:09:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:27:           FROM contacts 
2025-06-28T04:09:27:           WHERE c... パラメータ数: 1
2025-06-28T04:09:27: SQL実行成功: 結果行数=0
2025-06-28T04:09:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:27: SQL実行成功: 結果行数=1
2025-06-28T04:09:27: SQL実行: 
2025-06-28T04:09:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:27:           FROM contacts 
2025-06-28T04:09:27:           WHERE c... パラメータ数: 1
2025-06-28T04:09:27: SQL実行成功: 結果行数=0
2025-06-28T04:09:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:27: SQL実行成功: 結果行数=1
2025-06-28T04:09:27: SQL実行: 
2025-06-28T04:09:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:27:           FROM contacts 
2025-06-28T04:09:27:           WHERE c... パラメータ数: 1
2025-06-28T04:09:27: SQL実行成功: 結果行数=0
2025-06-28T04:09:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:27: SQL実行成功: 結果行数=1
[2025-06-28T04:09:28.023Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:28: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:09:28: [36m[2025-06-28T04:09:28.023Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:28: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:09:28: SQL実行成功: 結果行数=1
2025-06-28T04:09:28: SQL実行: 
2025-06-28T04:09:28:       SELECT 
2025-06-28T04:09:28:         COUNT(*) as total,
2025-06-28T04:09:28:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:09:28: SQL実行成功: 結果行数=1
2025-06-28T04:09:28: SQL実行: 
2025-06-28T04:09:28:       SELECT 
2025-06-28T04:09:28:         COUNT(*) as total_calls,
2025-06-28T04:09:28:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:09:28: SQL実行成功: 結果行数=1
[2025-06-28T04:09:28.028Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:09:28: [36m[2025-06-28T04:09:28.028Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:09:31: SQL実行: SELECT 1... 
2025-06-28T04:09:31: SQL実行成功: 結果行数=1
2025-06-28T04:09:31: SQL実行: 
2025-06-28T04:09:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:09:31:                ci.number as ca... 
2025-06-28T04:09:31: SQL実行成功: 結果行数=81
2025-06-28T04:09:32: SQL実行: 
2025-06-28T04:09:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:32:           FROM contacts 
2025-06-28T04:09:32:           WHERE c... パラメータ数: 1
2025-06-28T04:09:32: SQL実行成功: 結果行数=0
2025-06-28T04:09:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:32: SQL実行成功: 結果行数=1
2025-06-28T04:09:32: SQL実行: 
2025-06-28T04:09:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:32:           FROM contacts 
2025-06-28T04:09:32:           WHERE c... パラメータ数: 1
2025-06-28T04:09:32: SQL実行成功: 結果行数=0
2025-06-28T04:09:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:32: SQL実行成功: 結果行数=1
2025-06-28T04:09:32: SQL実行: 
2025-06-28T04:09:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:32:           FROM contacts 
2025-06-28T04:09:32:           WHERE c... パラメータ数: 1
2025-06-28T04:09:32: SQL実行成功: 結果行数=0
2025-06-28T04:09:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:32: SQL実行成功: 結果行数=1
2025-06-28T04:09:32: POST /api/callback/call-end - Origin: none
2025-06-28T04:09:32: ❌ 404 Not Found: POST /api/callback/call-end
[2025-06-28T04:09:33.026Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:33: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:09:33: [36m[2025-06-28T04:09:33.026Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:33: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:09:33: SQL実行成功: 結果行数=1
2025-06-28T04:09:33: SQL実行: 
2025-06-28T04:09:33:       SELECT 
2025-06-28T04:09:33:         COUNT(*) as total,
2025-06-28T04:09:33:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:09:33: SQL実行成功: 結果行数=1
2025-06-28T04:09:33: SQL実行: 
2025-06-28T04:09:33:       SELECT 
2025-06-28T04:09:33:         COUNT(*) as total_calls,
2025-06-28T04:09:33:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:09:33.031Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:09:33: SQL実行成功: 結果行数=1
2025-06-28T04:09:33: [36m[2025-06-28T04:09:33.031Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:09:37: SQL実行: 
2025-06-28T04:09:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:37:           FROM contacts 
2025-06-28T04:09:37:           WHERE c... パラメータ数: 1
2025-06-28T04:09:37: SQL実行成功: 結果行数=0
2025-06-28T04:09:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:37: SQL実行成功: 結果行数=1
2025-06-28T04:09:37: SQL実行: 
2025-06-28T04:09:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:37:           FROM contacts 
2025-06-28T04:09:37:           WHERE c... パラメータ数: 1
2025-06-28T04:09:37: SQL実行成功: 結果行数=0
2025-06-28T04:09:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:37: SQL実行成功: 結果行数=1
2025-06-28T04:09:37: SQL実行: 
2025-06-28T04:09:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:37:           FROM contacts 
2025-06-28T04:09:37:           WHERE c... パラメータ数: 1
2025-06-28T04:09:37: SQL実行成功: 結果行数=0
2025-06-28T04:09:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:37: SQL実行成功: 結果行数=1
[2025-06-28T04:09:38.024Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:38: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:09:38: [36m[2025-06-28T04:09:38.024Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:38: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:09:38: SQL実行成功: 結果行数=1
2025-06-28T04:09:38: SQL実行: 
2025-06-28T04:09:38:       SELECT 
2025-06-28T04:09:38:         COUNT(*) as total,
2025-06-28T04:09:38:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:09:38: SQL実行成功: 結果行数=1
2025-06-28T04:09:38: SQL実行: 
2025-06-28T04:09:38:       SELECT 
2025-06-28T04:09:38:         COUNT(*) as total_calls,
2025-06-28T04:09:38:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:09:38.028Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:09:38: SQL実行成功: 結果行数=1
2025-06-28T04:09:38: [36m[2025-06-28T04:09:38.028Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:09:42: SQL実行: 
2025-06-28T04:09:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:42:           FROM contacts 
2025-06-28T04:09:42:           WHERE c... パラメータ数: 1
2025-06-28T04:09:42: SQL実行成功: 結果行数=0
2025-06-28T04:09:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:42: SQL実行成功: 結果行数=1
2025-06-28T04:09:42: SQL実行: 
2025-06-28T04:09:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:42:           FROM contacts 
2025-06-28T04:09:42:           WHERE c... パラメータ数: 1
2025-06-28T04:09:42: SQL実行成功: 結果行数=0
2025-06-28T04:09:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:42: SQL実行成功: 結果行数=1
2025-06-28T04:09:42: SQL実行: 
2025-06-28T04:09:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:42:           FROM contacts 
2025-06-28T04:09:42:           WHERE c... パラメータ数: 1
2025-06-28T04:09:42: SQL実行成功: 結果行数=0
2025-06-28T04:09:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:42: SQL実行成功: 結果行数=1
[2025-06-28T04:09:43.028Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:43: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:09:43: [36m[2025-06-28T04:09:43.028Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:43: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:09:43: SQL実行成功: 結果行数=1
2025-06-28T04:09:43: SQL実行: 
2025-06-28T04:09:43:       SELECT 
2025-06-28T04:09:43:         COUNT(*) as total,
2025-06-28T04:09:43:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:09:43: SQL実行成功: 結果行数=1
2025-06-28T04:09:43: SQL実行: 
2025-06-28T04:09:43:       SELECT 
2025-06-28T04:09:43:         COUNT(*) as total_calls,
2025-06-28T04:09:43:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:09:43.032Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:09:43: SQL実行成功: 結果行数=1
2025-06-28T04:09:43: [36m[2025-06-28T04:09:43.032Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:09:46: SQL実行: 
2025-06-28T04:09:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:09:46:                ci.number as ca... 
2025-06-28T04:09:46: SQL実行成功: 結果行数=81
2025-06-28T04:09:47: SQL実行: 
2025-06-28T04:09:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:47:           FROM contacts 
2025-06-28T04:09:47:           WHERE c... パラメータ数: 1
2025-06-28T04:09:47: SQL実行成功: 結果行数=0
2025-06-28T04:09:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:47: SQL実行成功: 結果行数=1
2025-06-28T04:09:47: SQL実行: 
2025-06-28T04:09:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:47:           FROM contacts 
2025-06-28T04:09:47:           WHERE c... パラメータ数: 1
2025-06-28T04:09:47: SQL実行成功: 結果行数=0
2025-06-28T04:09:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:47: SQL実行成功: 結果行数=1
2025-06-28T04:09:47: SQL実行: 
2025-06-28T04:09:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:47:           FROM contacts 
2025-06-28T04:09:47:           WHERE c... パラメータ数: 1
2025-06-28T04:09:47: SQL実行成功: 結果行数=0
2025-06-28T04:09:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:47: SQL実行成功: 結果行数=1
[2025-06-28T04:09:48.021Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:48: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:09:48: [36m[2025-06-28T04:09:48.021Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:48: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:09:48: SQL実行成功: 結果行数=1
2025-06-28T04:09:48: SQL実行: 
2025-06-28T04:09:48:       SELECT 
2025-06-28T04:09:48:         COUNT(*) as total,
2025-06-28T04:09:48:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:09:48: SQL実行成功: 結果行数=1
2025-06-28T04:09:48: SQL実行: 
2025-06-28T04:09:48:       SELECT 
2025-06-28T04:09:48:         COUNT(*) as total_calls,
2025-06-28T04:09:48:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:09:48: SQL実行成功: 結果行数=1
[2025-06-28T04:09:48.027Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:09:48: [36m[2025-06-28T04:09:48.027Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:09:52: SQL実行: 
2025-06-28T04:09:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:52:           FROM contacts 
2025-06-28T04:09:52:           WHERE c... パラメータ数: 1
2025-06-28T04:09:52: SQL実行成功: 結果行数=0
2025-06-28T04:09:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:52: SQL実行成功: 結果行数=1
2025-06-28T04:09:52: SQL実行: 
2025-06-28T04:09:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:52:           FROM contacts 
2025-06-28T04:09:52:           WHERE c... パラメータ数: 1
2025-06-28T04:09:52: SQL実行成功: 結果行数=0
2025-06-28T04:09:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:52: SQL実行成功: 結果行数=1
2025-06-28T04:09:52: SQL実行: 
2025-06-28T04:09:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:52:           FROM contacts 
2025-06-28T04:09:52:           WHERE c... パラメータ数: 1
2025-06-28T04:09:52: SQL実行成功: 結果行数=0
2025-06-28T04:09:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:52: SQL実行成功: 結果行数=1
[2025-06-28T04:09:53.021Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:53: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:09:53: [36m[2025-06-28T04:09:53.021Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:53: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:09:53: SQL実行成功: 結果行数=1
2025-06-28T04:09:53: SQL実行: 
2025-06-28T04:09:53:       SELECT 
2025-06-28T04:09:53:         COUNT(*) as total,
2025-06-28T04:09:53:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:09:53: SQL実行成功: 結果行数=1
2025-06-28T04:09:53: SQL実行: 
2025-06-28T04:09:53:       SELECT 
2025-06-28T04:09:53:         COUNT(*) as total_calls,
2025-06-28T04:09:53:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:09:53: SQL実行成功: 結果行数=1
[2025-06-28T04:09:53.026Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:09:53: [36m[2025-06-28T04:09:53.026Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:09:57: SQL実行: 
2025-06-28T04:09:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:57:           FROM contacts 
2025-06-28T04:09:57:           WHERE c... パラメータ数: 1
2025-06-28T04:09:57: SQL実行成功: 結果行数=0
2025-06-28T04:09:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:57: SQL実行成功: 結果行数=1
2025-06-28T04:09:57: SQL実行: 
2025-06-28T04:09:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:57:           FROM contacts 
2025-06-28T04:09:57:           WHERE c... パラメータ数: 1
2025-06-28T04:09:57: SQL実行成功: 結果行数=0
2025-06-28T04:09:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:57: SQL実行成功: 結果行数=1
2025-06-28T04:09:57: SQL実行: 
2025-06-28T04:09:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:09:57:           FROM contacts 
2025-06-28T04:09:57:           WHERE c... パラメータ数: 1
2025-06-28T04:09:57: SQL実行成功: 結果行数=0
2025-06-28T04:09:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:09:57: SQL実行成功: 結果行数=1
[2025-06-28T04:09:58.020Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:58: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:09:58: [36m[2025-06-28T04:09:58.020Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:09:58: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:09:58: SQL実行成功: 結果行数=1
2025-06-28T04:09:58: SQL実行: 
2025-06-28T04:09:58:       SELECT 
2025-06-28T04:09:58:         COUNT(*) as total,
2025-06-28T04:09:58:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:09:58: SQL実行成功: 結果行数=1
2025-06-28T04:09:58: SQL実行: 
2025-06-28T04:09:58:       SELECT 
2025-06-28T04:09:58:         COUNT(*) as total_calls,
2025-06-28T04:09:58:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:09:58.024Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:09:58: SQL実行成功: 結果行数=1
2025-06-28T04:09:58: [36m[2025-06-28T04:09:58.024Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:10:01: SQL実行: SELECT 1... 
2025-06-28T04:10:01: SQL実行成功: 結果行数=1
2025-06-28T04:10:01: SQL実行: 
2025-06-28T04:10:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:10:01:                ci.number as ca... 
2025-06-28T04:10:01: SQL実行成功: 結果行数=81
2025-06-28T04:10:02: SQL実行: 
2025-06-28T04:10:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:02:           FROM contacts 
2025-06-28T04:10:02:           WHERE c... パラメータ数: 1
2025-06-28T04:10:02: SQL実行成功: 結果行数=0
2025-06-28T04:10:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:02: SQL実行成功: 結果行数=1
2025-06-28T04:10:02: SQL実行: 
2025-06-28T04:10:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:02:           FROM contacts 
2025-06-28T04:10:02:           WHERE c... パラメータ数: 1
2025-06-28T04:10:02: SQL実行成功: 結果行数=0
2025-06-28T04:10:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:02: SQL実行成功: 結果行数=1
2025-06-28T04:10:02: SQL実行: 
2025-06-28T04:10:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:02:           FROM contacts 
2025-06-28T04:10:02:           WHERE c... パラメータ数: 1
2025-06-28T04:10:02: SQL実行成功: 結果行数=0
2025-06-28T04:10:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:02: SQL実行成功: 結果行数=1
[2025-06-28T04:10:03.022Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:10:03: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:10:03: [36m[2025-06-28T04:10:03.022Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:10:03: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:10:03: SQL実行成功: 結果行数=1
2025-06-28T04:10:03: SQL実行: 
2025-06-28T04:10:03:       SELECT 
2025-06-28T04:10:03:         COUNT(*) as total,
2025-06-28T04:10:03:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:10:03: SQL実行成功: 結果行数=1
2025-06-28T04:10:03: SQL実行: 
2025-06-28T04:10:03:       SELECT 
2025-06-28T04:10:03:         COUNT(*) as total_calls,
2025-06-28T04:10:03:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:10:03.035Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:10:03: SQL実行成功: 結果行数=1
2025-06-28T04:10:03: [36m[2025-06-28T04:10:03.035Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:10:07: SQL実行: 
2025-06-28T04:10:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:07:           FROM contacts 
2025-06-28T04:10:07:           WHERE c... パラメータ数: 1
2025-06-28T04:10:07: SQL実行成功: 結果行数=0
2025-06-28T04:10:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:07: SQL実行成功: 結果行数=1
2025-06-28T04:10:07: SQL実行: 
2025-06-28T04:10:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:07:           FROM contacts 
2025-06-28T04:10:07:           WHERE c... パラメータ数: 1
2025-06-28T04:10:07: SQL実行成功: 結果行数=0
2025-06-28T04:10:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:07: SQL実行成功: 結果行数=1
2025-06-28T04:10:07: SQL実行: 
2025-06-28T04:10:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:07:           FROM contacts 
2025-06-28T04:10:07:           WHERE c... パラメータ数: 1
2025-06-28T04:10:07: SQL実行成功: 結果行数=0
2025-06-28T04:10:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:07: SQL実行成功: 結果行数=1
[2025-06-28T04:10:08.022Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:10:08: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:10:08: [36m[2025-06-28T04:10:08.022Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:10:08: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:10:08: SQL実行成功: 結果行数=1
2025-06-28T04:10:08: SQL実行: 
2025-06-28T04:10:08:       SELECT 
2025-06-28T04:10:08:         COUNT(*) as total,
2025-06-28T04:10:08:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:10:08: SQL実行成功: 結果行数=1
2025-06-28T04:10:08: SQL実行: 
2025-06-28T04:10:08:       SELECT 
2025-06-28T04:10:08:         COUNT(*) as total_calls,
2025-06-28T04:10:08:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:10:08: SQL実行成功: 結果行数=1
[2025-06-28T04:10:08.027Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:10:08: [36m[2025-06-28T04:10:08.027Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:10:12: SQL実行: 
2025-06-28T04:10:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:12:           FROM contacts 
2025-06-28T04:10:12:           WHERE c... パラメータ数: 1
2025-06-28T04:10:12: SQL実行成功: 結果行数=0
2025-06-28T04:10:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:12: SQL実行成功: 結果行数=1
2025-06-28T04:10:12: SQL実行: 
2025-06-28T04:10:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:12:           FROM contacts 
2025-06-28T04:10:12:           WHERE c... パラメータ数: 1
2025-06-28T04:10:12: SQL実行成功: 結果行数=0
2025-06-28T04:10:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:12: SQL実行成功: 結果行数=1
2025-06-28T04:10:12: SQL実行: 
2025-06-28T04:10:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:12:           FROM contacts 
2025-06-28T04:10:12:           WHERE c... パラメータ数: 1
2025-06-28T04:10:12: SQL実行成功: 結果行数=0
2025-06-28T04:10:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:12: SQL実行成功: 結果行数=1
[2025-06-28T04:10:13.027Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:10:13: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:10:13: [36m[2025-06-28T04:10:13.027Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:10:13: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:10:13: SQL実行成功: 結果行数=1
2025-06-28T04:10:13: SQL実行: 
2025-06-28T04:10:13:       SELECT 
2025-06-28T04:10:13:         COUNT(*) as total,
2025-06-28T04:10:13:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:10:13: SQL実行成功: 結果行数=1
2025-06-28T04:10:13: SQL実行: 
2025-06-28T04:10:13:       SELECT 
2025-06-28T04:10:13:         COUNT(*) as total_calls,
2025-06-28T04:10:13:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:10:13.031Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:10:13: SQL実行成功: 結果行数=1
2025-06-28T04:10:13: [36m[2025-06-28T04:10:13.031Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:10:16: SQL実行: 
2025-06-28T04:10:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:10:16:                ci.number as ca... 
2025-06-28T04:10:16: SQL実行成功: 結果行数=81
2025-06-28T04:10:17: SQL実行: 
2025-06-28T04:10:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:17:           FROM contacts 
2025-06-28T04:10:17:           WHERE c... パラメータ数: 1
2025-06-28T04:10:17: SQL実行成功: 結果行数=0
2025-06-28T04:10:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:17: SQL実行成功: 結果行数=1
2025-06-28T04:10:17: SQL実行: 
2025-06-28T04:10:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:17:           FROM contacts 
2025-06-28T04:10:17:           WHERE c... パラメータ数: 1
2025-06-28T04:10:17: SQL実行成功: 結果行数=0
2025-06-28T04:10:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:17: SQL実行成功: 結果行数=1
2025-06-28T04:10:17: SQL実行: 
2025-06-28T04:10:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:17:           FROM contacts 
2025-06-28T04:10:17:           WHERE c... パラメータ数: 1
2025-06-28T04:10:17: SQL実行成功: 結果行数=0
2025-06-28T04:10:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:17: SQL実行成功: 結果行数=1
[2025-06-28T04:10:18.024Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:10:18: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:10:18: [36m[2025-06-28T04:10:18.024Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:10:18: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:10:18: SQL実行成功: 結果行数=1
2025-06-28T04:10:18: SQL実行: 
2025-06-28T04:10:18:       SELECT 
2025-06-28T04:10:18:         COUNT(*) as total,
2025-06-28T04:10:18:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:10:18: SQL実行成功: 結果行数=1
2025-06-28T04:10:18: SQL実行: 
2025-06-28T04:10:18:       SELECT 
2025-06-28T04:10:18:         COUNT(*) as total_calls,
2025-06-28T04:10:18:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:10:18.028Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:10:18: SQL実行成功: 結果行数=1
2025-06-28T04:10:18: [36m[2025-06-28T04:10:18.028Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:10:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T04:10:21.254Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:10:21: SQL実行成功: 結果行数=1
2025-06-28T04:10:21: [36m[2025-06-28T04:10:21.254Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:10:22: SQL実行: 
2025-06-28T04:10:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:22:           FROM contacts 
2025-06-28T04:10:22:           WHERE c... パラメータ数: 1
2025-06-28T04:10:22: SQL実行成功: 結果行数=0
2025-06-28T04:10:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:22: SQL実行成功: 結果行数=1
2025-06-28T04:10:22: SQL実行: 
2025-06-28T04:10:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:22:           FROM contacts 
2025-06-28T04:10:22:           WHERE c... パラメータ数: 1
2025-06-28T04:10:22: SQL実行成功: 結果行数=0
2025-06-28T04:10:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:22: SQL実行成功: 結果行数=1
2025-06-28T04:10:22: SQL実行: 
2025-06-28T04:10:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:22:           FROM contacts 
2025-06-28T04:10:22:           WHERE c... パラメータ数: 1
2025-06-28T04:10:22: SQL実行成功: 結果行数=0
2025-06-28T04:10:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:22: SQL実行成功: 結果行数=1
[2025-06-28T04:10:23.022Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:10:23: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:10:23: [36m[2025-06-28T04:10:23.022Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:10:23: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:10:23: SQL実行成功: 結果行数=1
2025-06-28T04:10:23: SQL実行: 
2025-06-28T04:10:23:       SELECT 
2025-06-28T04:10:23:         COUNT(*) as total,
2025-06-28T04:10:23:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:10:23: SQL実行成功: 結果行数=1
2025-06-28T04:10:23: SQL実行: 
2025-06-28T04:10:23:       SELECT 
2025-06-28T04:10:23:         COUNT(*) as total_calls,
2025-06-28T04:10:23:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:10:23: SQL実行成功: 結果行数=1
[2025-06-28T04:10:23.027Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:10:23: [36m[2025-06-28T04:10:23.027Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:10:27: SQL実行: 
2025-06-28T04:10:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:27:           FROM contacts 
2025-06-28T04:10:27:           WHERE c... パラメータ数: 1
2025-06-28T04:10:27: SQL実行成功: 結果行数=0
2025-06-28T04:10:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:27: SQL実行成功: 結果行数=1
2025-06-28T04:10:27: SQL実行: 
2025-06-28T04:10:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:27:           FROM contacts 
2025-06-28T04:10:27:           WHERE c... パラメータ数: 1
2025-06-28T04:10:27: SQL実行成功: 結果行数=0
2025-06-28T04:10:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:27: SQL実行成功: 結果行数=1
2025-06-28T04:10:27: SQL実行: 
2025-06-28T04:10:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:27:           FROM contacts 
2025-06-28T04:10:27:           WHERE c... パラメータ数: 1
2025-06-28T04:10:27: SQL実行成功: 結果行数=0
2025-06-28T04:10:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:27: SQL実行成功: 結果行数=1
[2025-06-28T04:10:28.028Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:10:28: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:10:28: [36m[2025-06-28T04:10:28.028Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:10:28: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:10:28: SQL実行成功: 結果行数=1
2025-06-28T04:10:28: SQL実行: 
2025-06-28T04:10:28:       SELECT 
2025-06-28T04:10:28:         COUNT(*) as total,
2025-06-28T04:10:28:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:10:28: SQL実行成功: 結果行数=1
2025-06-28T04:10:28: SQL実行: 
2025-06-28T04:10:28:       SELECT 
2025-06-28T04:10:28:         COUNT(*) as total_calls,
2025-06-28T04:10:28:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:10:28.031Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:10:28: SQL実行成功: 結果行数=1
2025-06-28T04:10:28: [36m[2025-06-28T04:10:28.031Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:10:31: SQL実行: SELECT 1... 
2025-06-28T04:10:31: SQL実行成功: 結果行数=1
2025-06-28T04:10:31: SQL実行: 
2025-06-28T04:10:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:10:31:                ci.number as ca... 
2025-06-28T04:10:31: SQL実行成功: 結果行数=81
2025-06-28T04:10:32: SQL実行: 
2025-06-28T04:10:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:32:           FROM contacts 
2025-06-28T04:10:32:           WHERE c... パラメータ数: 1
2025-06-28T04:10:32: SQL実行成功: 結果行数=0
2025-06-28T04:10:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:32: SQL実行成功: 結果行数=1
2025-06-28T04:10:32: SQL実行: 
2025-06-28T04:10:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:32:           FROM contacts 
2025-06-28T04:10:32:           WHERE c... パラメータ数: 1
2025-06-28T04:10:32: SQL実行成功: 結果行数=0
2025-06-28T04:10:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:32: SQL実行成功: 結果行数=1
2025-06-28T04:10:32: SQL実行: 
2025-06-28T04:10:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:32:           FROM contacts 
2025-06-28T04:10:32:           WHERE c... パラメータ数: 1
2025-06-28T04:10:32: SQL実行成功: 結果行数=0
2025-06-28T04:10:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:32: SQL実行成功: 結果行数=1
[2025-06-28T04:10:33.028Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:10:33: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:10:33: [36m[2025-06-28T04:10:33.028Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:10:33: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:10:33: SQL実行成功: 結果行数=1
2025-06-28T04:10:33: SQL実行: 
2025-06-28T04:10:33:       SELECT 
2025-06-28T04:10:33:         COUNT(*) as total,
2025-06-28T04:10:33:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:10:33: SQL実行成功: 結果行数=1
2025-06-28T04:10:33: SQL実行: 
2025-06-28T04:10:33:       SELECT 
2025-06-28T04:10:33:         COUNT(*) as total_calls,
2025-06-28T04:10:33:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:10:33.031Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:10:33: SQL実行成功: 結果行数=1
2025-06-28T04:10:33: [36m[2025-06-28T04:10:33.031Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:10:37: SQL実行: 
2025-06-28T04:10:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:37:           FROM contacts 
2025-06-28T04:10:37:           WHERE c... パラメータ数: 1
2025-06-28T04:10:37: SQL実行成功: 結果行数=0
2025-06-28T04:10:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:37: SQL実行成功: 結果行数=1
2025-06-28T04:10:37: SQL実行: 
2025-06-28T04:10:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:37:           FROM contacts 
2025-06-28T04:10:37:           WHERE c... パラメータ数: 1
2025-06-28T04:10:37: SQL実行成功: 結果行数=0
2025-06-28T04:10:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:37: SQL実行成功: 結果行数=1
2025-06-28T04:10:37: SQL実行: 
2025-06-28T04:10:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:37:           FROM contacts 
2025-06-28T04:10:37:           WHERE c... パラメータ数: 1
2025-06-28T04:10:37: SQL実行成功: 結果行数=0
2025-06-28T04:10:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:37: SQL実行成功: 結果行数=1
[2025-06-28T04:10:38.021Z] INFO  [PID:1111609] キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:10:38: GET /api/campaigns/172/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:10:38: [36m[2025-06-28T04:10:38.021Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=172 {"level":"INFO"}
2025-06-28T04:10:38: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:10:38: SQL実行成功: 結果行数=1
2025-06-28T04:10:38: SQL実行: 
2025-06-28T04:10:38:       SELECT 
2025-06-28T04:10:38:         COUNT(*) as total,
2025-06-28T04:10:38:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:10:38: SQL実行成功: 結果行数=1
2025-06-28T04:10:38: SQL実行: 
2025-06-28T04:10:38:       SELECT 
2025-06-28T04:10:38:         COUNT(*) as total_calls,
2025-06-28T04:10:38:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:10:38: SQL実行成功: 結果行数=1
[2025-06-28T04:10:38.026Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
2025-06-28T04:10:38: [36m[2025-06-28T04:10:38.026Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=172, Progress=0% {"level":"INFO"}
[2025-06-28T04:10:38.452Z] INFO  [PID:1111609] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T04:10:38: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-28T04:10:38: [36m[2025-06-28T04:10:38.452Z] INFO  [PID:1111609][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T04:10:38: SQL実行: 
2025-06-28T04:10:38:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-28T04:10:38:        ... 
2025-06-28T04:10:38: SQL実行成功: 結果行数=50
2025-06-28T04:10:38: SQL実行: 
2025-06-28T04:10:38:       SELECT COUNT(*) as total
2025-06-28T04:10:38:       FROM campaigns c
2025-06-28T04:10:38:       WHERE 1=1
2025-06-28T04:10:38:     ... 
2025-06-28T04:10:38: SQL実行成功: 結果行数=1
[2025-06-28T04:10:38.458Z] INFO  [PID:1111609] キャンペーン取得結果: 50/83件 {"level":"INFO"}
2025-06-28T04:10:38: [36m[2025-06-28T04:10:38.458Z] INFO  [PID:1111609][0m キャンペーン取得結果: 50/83件 {"level":"INFO"}
2025-06-28T04:10:40: GET /api/caller-ids - Origin: http://146.190.83.205:3003
2025-06-28T04:10:40: 発信者番号一覧取得開始
2025-06-28T04:10:40: SQL実行: SELECT 1 as healthy, NOW() as timestamp, USER() as user, DATABASE() as db... 
2025-06-28T04:10:40: SQL実行成功: 結果行数=1
2025-06-28T04:10:40: データベース接続確認完了
2025-06-28T04:10:40: クエリ実行開始
2025-06-28T04:10:40: SQL実行: 
2025-06-28T04:10:40:       SELECT 
2025-06-28T04:10:40:         ci.id,
2025-06-28T04:10:40:         ci.number,
2025-06-28T04:10:40:         ci.description,
2025-06-28T04:10:40:         ci.provider,
2025-06-28T04:10:40:       ... 
2025-06-28T04:10:40: SQL実行成功: 結果行数=4
2025-06-28T04:10:40: クエリ実行完了: 4件取得
2025-06-28T04:10:40: 発信者番号一覧取得成功: 4
2025-06-28T04:10:42: SQL実行: 
2025-06-28T04:10:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:42:           FROM contacts 
2025-06-28T04:10:42:           WHERE c... パラメータ数: 1
2025-06-28T04:10:42: SQL実行成功: 結果行数=0
2025-06-28T04:10:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:42: SQL実行成功: 結果行数=1
2025-06-28T04:10:42: SQL実行: 
2025-06-28T04:10:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:42:           FROM contacts 
2025-06-28T04:10:42:           WHERE c... パラメータ数: 1
2025-06-28T04:10:42: SQL実行成功: 結果行数=0
2025-06-28T04:10:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:42: SQL実行成功: 結果行数=1
2025-06-28T04:10:42: SQL実行: 
2025-06-28T04:10:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:42:           FROM contacts 
2025-06-28T04:10:42:           WHERE c... パラメータ数: 1
2025-06-28T04:10:42: SQL実行成功: 結果行数=0
2025-06-28T04:10:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:42: SQL実行成功: 結果行数=1
2025-06-28T04:10:46: SQL実行: 
2025-06-28T04:10:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:10:46:                ci.number as ca... 
2025-06-28T04:10:46: SQL実行成功: 結果行数=81
2025-06-28T04:10:47: SQL実行: 
2025-06-28T04:10:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:47:           FROM contacts 
2025-06-28T04:10:47:           WHERE c... パラメータ数: 1
2025-06-28T04:10:47: SQL実行成功: 結果行数=0
2025-06-28T04:10:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:47: SQL実行成功: 結果行数=1
2025-06-28T04:10:47: SQL実行: 
2025-06-28T04:10:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:47:           FROM contacts 
2025-06-28T04:10:47:           WHERE c... パラメータ数: 1
2025-06-28T04:10:47: SQL実行成功: 結果行数=0
2025-06-28T04:10:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:47: SQL実行成功: 結果行数=1
2025-06-28T04:10:47: SQL実行: 
2025-06-28T04:10:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:47:           FROM contacts 
2025-06-28T04:10:47:           WHERE c... パラメータ数: 1
2025-06-28T04:10:47: SQL実行成功: 結果行数=0
2025-06-28T04:10:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:47: SQL実行成功: 結果行数=1
[2025-06-28T04:10:51.335Z] INFO  [PID:1111609] キャンペーン作成: Name=テスト {"level":"INFO"}
2025-06-28T04:10:51: POST /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-28T04:10:51: [36m[2025-06-28T04:10:51.335Z] INFO  [PID:1111609][0m キャンペーン作成: Name=テスト {"level":"INFO"}
2025-06-28T04:10:51: SQL実行: INSERT INTO campaigns (name, description, caller_id_id, script, status, created_at) VALUES (?, ?, ?,... パラメータ数: 5
[2025-06-28T04:10:51.342Z] INFO  [PID:1111609] キャンペーン作成完了: ID=173, Name=テスト {"level":"INFO"}
2025-06-28T04:10:51: SQL実行成功: 結果行数=不明
2025-06-28T04:10:51: [36m[2025-06-28T04:10:51.342Z] INFO  [PID:1111609][0m キャンペーン作成完了: ID=173, Name=テスト {"level":"INFO"}
[2025-06-28T04:10:52.391Z] INFO  [PID:1111609] キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T04:10:52: GET /api/campaigns - Origin: http://146.190.83.205:3003
2025-06-28T04:10:52: [36m[2025-06-28T04:10:52.391Z] INFO  [PID:1111609][0m キャンペーン一覧取得: Page=1, Limit=50, Status=undefined {"level":"INFO"}
2025-06-28T04:10:52: SQL実行: 
2025-06-28T04:10:52:       SELECT c.id, c.name, c.description, c.status, c.created_at, c.updated_at, c.progress,
2025-06-28T04:10:52:        ... 
2025-06-28T04:10:52: SQL実行成功: 結果行数=50
2025-06-28T04:10:52: SQL実行: 
2025-06-28T04:10:52:       SELECT COUNT(*) as total
2025-06-28T04:10:52:       FROM campaigns c
2025-06-28T04:10:52:       WHERE 1=1
2025-06-28T04:10:52:     ... 
2025-06-28T04:10:52: SQL実行成功: 結果行数=1
[2025-06-28T04:10:52.395Z] INFO  [PID:1111609] キャンペーン取得結果: 50/84件 {"level":"INFO"}
2025-06-28T04:10:52: [36m[2025-06-28T04:10:52.395Z] INFO  [PID:1111609][0m キャンペーン取得結果: 50/84件 {"level":"INFO"}
2025-06-28T04:10:52: SQL実行: 
2025-06-28T04:10:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:52:           FROM contacts 
2025-06-28T04:10:52:           WHERE c... パラメータ数: 1
2025-06-28T04:10:52: SQL実行成功: 結果行数=0
2025-06-28T04:10:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:52: SQL実行成功: 結果行数=1
2025-06-28T04:10:52: SQL実行: 
2025-06-28T04:10:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:52:           FROM contacts 
2025-06-28T04:10:52:           WHERE c... パラメータ数: 1
2025-06-28T04:10:52: SQL実行成功: 結果行数=0
2025-06-28T04:10:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:52: SQL実行成功: 結果行数=1
2025-06-28T04:10:52: SQL実行: 
2025-06-28T04:10:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:52:           FROM contacts 
2025-06-28T04:10:52:           WHERE c... パラメータ数: 1
2025-06-28T04:10:52: SQL実行成功: 結果行数=0
2025-06-28T04:10:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:52: SQL実行成功: 結果行数=1
[2025-06-28T04:10:53.960Z] INFO  [PID:1111609] キャンペーン詳細取得: ID=173 {"level":"INFO"}
2025-06-28T04:10:53: GET /api/campaigns/173 - Origin: http://146.190.83.205:3003
2025-06-28T04:10:53: [36m[2025-06-28T04:10:53.960Z] INFO  [PID:1111609][0m キャンペーン詳細取得: ID=173 {"level":"INFO"}
2025-06-28T04:10:53: SQL実行: 
2025-06-28T04:10:53:       SELECT c.*, 
2025-06-28T04:10:53:              ci.number as caller_id_number,
2025-06-28T04:10:53:              ci.description as calle... パラメータ数: 1
[2025-06-28T04:10:53.963Z] INFO  [PID:1111609] キャンペーン詳細取得完了: ID=173 {"level":"INFO"}
2025-06-28T04:10:53: SQL実行成功: 結果行数=1
2025-06-28T04:10:53: [36m[2025-06-28T04:10:53.963Z] INFO  [PID:1111609][0m キャンペーン詳細取得完了: ID=173 {"level":"INFO"}
[2025-06-28T04:10:53.997Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:10:53: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:10:53: [36m[2025-06-28T04:10:53.997Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:10:53: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:10:53: SQL実行成功: 結果行数=1
2025-06-28T04:10:54: SQL実行: 
2025-06-28T04:10:54:       SELECT 
2025-06-28T04:10:54:         COUNT(*) as total,
2025-06-28T04:10:54:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:10:54: SQL実行成功: 結果行数=1
2025-06-28T04:10:54: SQL実行: 
2025-06-28T04:10:54:       SELECT 
2025-06-28T04:10:54:         COUNT(*) as total_calls,
2025-06-28T04:10:54:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:10:54.002Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:10:54: SQL実行成功: 結果行数=1
2025-06-28T04:10:54: [36m[2025-06-28T04:10:54.002Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
[2025-06-28T04:10:55.120Z] INFO  [PID:1111609] 連絡先一覧取得: Campaign=173, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T04:10:55: GET /api/campaigns/173/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
2025-06-28T04:10:55: [36m[2025-06-28T04:10:55.120Z] INFO  [PID:1111609][0m 連絡先一覧取得: Campaign=173, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T04:10:55: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:10:55: SQL実行成功: 結果行数=1
2025-06-28T04:10:55: SQL実行: 
2025-06-28T04:10:55:       SELECT c.*
2025-06-28T04:10:55:       FROM contacts c
2025-06-28T04:10:55:       WHERE c.campaign_id = ?
2025-06-28T04:10:55:      ORDER BY c.created_at DES... パラメータ数: 1
2025-06-28T04:10:55: SQL実行成功: 結果行数=0
2025-06-28T04:10:55: SQL実行: 
2025-06-28T04:10:55:       SELECT COUNT(*) as total
2025-06-28T04:10:55:       FROM contacts c
2025-06-28T04:10:55:       WHERE c.campaign_id = ?
2025-06-28T04:10:55:     ... パラメータ数: 1
2025-06-28T04:10:55: SQL実行成功: 結果行数=1
[2025-06-28T04:10:55.124Z] INFO  [PID:1111609] 連絡先取得結果: Campaign=173, 件数=0, 全体=0 {"level":"INFO"}
2025-06-28T04:10:55: [36m[2025-06-28T04:10:55.124Z] INFO  [PID:1111609][0m 連絡先取得結果: Campaign=173, 件数=0, 全体=0 {"level":"INFO"}
2025-06-28T04:10:57: SQL実行: 
2025-06-28T04:10:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:57:           FROM contacts 
2025-06-28T04:10:57:           WHERE c... パラメータ数: 1
2025-06-28T04:10:57: SQL実行成功: 結果行数=0
2025-06-28T04:10:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:57: SQL実行成功: 結果行数=1
2025-06-28T04:10:57: SQL実行: 
2025-06-28T04:10:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:57:           FROM contacts 
2025-06-28T04:10:57:           WHERE c... パラメータ数: 1
2025-06-28T04:10:57: SQL実行成功: 結果行数=0
2025-06-28T04:10:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:57: SQL実行成功: 結果行数=1
2025-06-28T04:10:57: SQL実行: 
2025-06-28T04:10:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:10:57:           FROM contacts 
2025-06-28T04:10:57:           WHERE c... パラメータ数: 1
2025-06-28T04:10:57: SQL実行成功: 結果行数=0
2025-06-28T04:10:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:10:57: SQL実行成功: 結果行数=1
2025-06-28T04:11:01: SQL実行: SELECT 1... 
2025-06-28T04:11:01: SQL実行成功: 結果行数=1
2025-06-28T04:11:01: SQL実行: 
2025-06-28T04:11:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:11:01:                ci.number as ca... 
2025-06-28T04:11:01: SQL実行成功: 結果行数=81
2025-06-28T04:11:02: POST /api/campaigns/173/contacts/upload - Origin: http://146.190.83.205:3003
[2025-06-28T04:11:02.120Z] INFO  [PID:1111609] 🚀 CSVアップロード開始 {"campaignId":"173","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-28T04:11:02.120Z","level":"INFO"}
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.120Z] INFO  [PID:1111609][0m 🚀 CSVアップロード開始 {"campaignId":"173","fileSize":11,"hasHeader":"false","skipEmptyLines":"true","delimiter":"auto","timestamp":"2025-06-28T04:11:02.120Z","level":"INFO"}
2025-06-28T04:11:02: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:11:02: SQL実行成功: 結果行数=1
[2025-06-28T04:11:02.133Z] INFO  [PID:1111609] 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
[2025-06-28T04:11:02.134Z] WARN  [PID:1111609] CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
[2025-06-28T04:11:02.134Z] INFO  [PID:1111609] CSV解析完了: 1行のデータ {"level":"INFO"}
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.133Z] INFO  [PID:1111609][0m 📄 CSVファイル内容: {"totalLength":11,"firstLine":"05018086649","totalLines":1,"level":"INFO"}
[2025-06-28T04:11:02.134Z] INFO  [PID:1111609] 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
[2025-06-28T04:11:02.134Z] INFO  [PID:1111609] 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
2025-06-28T04:11:02: [33m[2025-06-28T04:11:02.134Z] WARN  [PID:1111609][0m CSV解析警告: {"0":{"type":"Delimiter","code":"UndetectableDelimiter","message":"Unable to auto-detect delimiting character; defaulted to ','"},"level":"WARN"}
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.134Z] INFO  [PID:1111609][0m CSV解析完了: 1行のデータ {"level":"INFO"}
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.134Z] INFO  [PID:1111609][0m 行1（ヘッダーなし）: {"original":["05018086649"],"rowArray":["05018086649"],"normalized":{"phone":"05018086649","name":"","company":""},"level":"INFO"}
[2025-06-28T04:11:02.134Z] INFO  [PID:1111609] 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
[2025-06-28T04:11:02.135Z] INFO  [PID:1111609] 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.134Z] INFO  [PID:1111609][0m 電話番号正規化前: "05018086649" -> 数字のみ: "05018086649" {"level":"INFO"}
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.134Z] INFO  [PID:1111609][0m 電話番号正規化完了: "05018086649" -> "05018086649" {"level":"INFO"}
[2025-06-28T04:11:02.135Z] INFO  [PID:1111609] バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
[2025-06-28T04:11:02.135Z] INFO  [PID:1111609] 🔍 重複チェック開始... {"level":"INFO"}
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.135Z] INFO  [PID:1111609][0m 行1: 有効データ - "05018086649" -> "05018086649" {"level":"INFO"}
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.135Z] INFO  [PID:1111609][0m バリデーション結果: 有効=1, 無効=0, 修正=0 {"level":"INFO"}
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.135Z] INFO  [PID:1111609][0m 🔍 重複チェック開始... {"level":"INFO"}
2025-06-28T04:11:02: SQL実行: SELECT phone FROM contacts WHERE campaign_id = ?... パラメータ数: 1
[2025-06-28T04:11:02.136Z] INFO  [PID:1111609] 既存電話番号数: 0 {"level":"INFO"}
2025-06-28T04:11:02: SQL実行成功: 結果行数=0
[2025-06-28T04:11:02.136Z] INFO  [PID:1111609] 新規データ追加: 05018086649 {"level":"INFO"}
[2025-06-28T04:11:02.137Z] INFO  [PID:1111609] 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
[2025-06-28T04:11:02.137Z] INFO  [PID:1111609] 💾 データベース挿入開始: 1件 {"level":"INFO"}
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.136Z] INFO  [PID:1111609][0m 既存電話番号数: 0 {"level":"INFO"}
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.136Z] INFO  [PID:1111609][0m 新規データ追加: 05018086649 {"level":"INFO"}
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.137Z] INFO  [PID:1111609][0m 重複チェック完了: 新規=1, 重複=0 {"level":"INFO"}
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.137Z] INFO  [PID:1111609][0m 💾 データベース挿入開始: 1件 {"level":"INFO"}
2025-06-28T04:11:02: SQL実行: START TRANSACTION... 
2025-06-28T04:11:02: SQL実行成功: 結果行数=不明
2025-06-28T04:11:02: SQL実行: INSERT INTO contacts (campaign_id, phone, name, company, status, created_at) VALUES (?, ?, ?, ?, ?, ... パラメータ数: 5
2025-06-28T04:11:02: SQL実行成功: 結果行数=不明
[2025-06-28T04:11:02.139Z] INFO  [PID:1111609] 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.139Z] INFO  [PID:1111609][0m 挿入成功: 05018086649 (名前なし) {"level":"INFO"}
2025-06-28T04:11:02: SQL実行: COMMIT... 
[2025-06-28T04:11:02.144Z] INFO  [PID:1111609] ✅ 全件挿入完了: 1件 {"level":"INFO"}
2025-06-28T04:11:02: SQL実行成功: 結果行数=不明
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.144Z] INFO  [PID:1111609][0m ✅ 全件挿入完了: 1件 {"level":"INFO"}
2025-06-28T04:11:02: SQL実行: SELECT COUNT(*) as total FROM contacts WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T04:11:02: SQL実行成功: 結果行数=1
2025-06-28T04:11:02: SQL実行: SELECT COUNT(*) as completed FROM contacts WHERE campaign_id = ? AND status IN ("completed", "failed... パラメータ数: 1
2025-06-28T04:11:02: SQL実行成功: 結果行数=1
2025-06-28T04:11:02: SQL実行: UPDATE campaigns SET progress = ?, updated_at = NOW() WHERE id = ?... パラメータ数: 2
[2025-06-28T04:11:02.160Z] INFO  [PID:1111609] CSVアップロード完了 {"campaignId":"173","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
2025-06-28T04:11:02: SQL実行成功: 結果行数=不明
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.160Z] INFO  [PID:1111609][0m CSVアップロード完了 {"campaignId":"173","取り込み":1,"重複":0,"エラー":0,"修正":0,"level":"INFO"}
[2025-06-28T04:11:02.197Z] INFO  [PID:1111609] キャンペーン詳細取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:02: GET /api/campaigns/173 - Origin: http://146.190.83.205:3003
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.197Z] INFO  [PID:1111609][0m キャンペーン詳細取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:02: SQL実行: 
2025-06-28T04:11:02:       SELECT c.*, 
2025-06-28T04:11:02:              ci.number as caller_id_number,
2025-06-28T04:11:02:              ci.description as calle... パラメータ数: 1
[2025-06-28T04:11:02.199Z] INFO  [PID:1111609] キャンペーン詳細取得完了: ID=173 {"level":"INFO"}
2025-06-28T04:11:02: SQL実行成功: 結果行数=1
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.199Z] INFO  [PID:1111609][0m キャンペーン詳細取得完了: ID=173 {"level":"INFO"}
[2025-06-28T04:11:02.234Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:02: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.234Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:02: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:11:02: SQL実行成功: 結果行数=1
2025-06-28T04:11:02: SQL実行: 
2025-06-28T04:11:02:       SELECT 
2025-06-28T04:11:02:         COUNT(*) as total,
2025-06-28T04:11:02:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:11:02: SQL実行成功: 結果行数=1
2025-06-28T04:11:02: SQL実行: 
2025-06-28T04:11:02:       SELECT 
2025-06-28T04:11:02:         COUNT(*) as total_calls,
2025-06-28T04:11:02:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:11:02.240Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:02: SQL実行成功: 結果行数=1
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.240Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
[2025-06-28T04:11:02.276Z] INFO  [PID:1111609] 連絡先一覧取得: Campaign=173, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T04:11:02: GET /api/campaigns/173/contacts?page=1&limit=20 - Origin: http://146.190.83.205:3003
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.276Z] INFO  [PID:1111609][0m 連絡先一覧取得: Campaign=173, Page=1, Limit=20 {"level":"INFO"}
2025-06-28T04:11:02: SQL実行: SELECT id, name FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:11:02: SQL実行成功: 結果行数=1
2025-06-28T04:11:02: SQL実行: 
2025-06-28T04:11:02:       SELECT c.*
2025-06-28T04:11:02:       FROM contacts c
2025-06-28T04:11:02:       WHERE c.campaign_id = ?
2025-06-28T04:11:02:      ORDER BY c.created_at DES... パラメータ数: 1
2025-06-28T04:11:02: SQL実行成功: 結果行数=1
2025-06-28T04:11:02: SQL実行: 
2025-06-28T04:11:02:       SELECT COUNT(*) as total
2025-06-28T04:11:02:       FROM contacts c
2025-06-28T04:11:02:       WHERE c.campaign_id = ?
2025-06-28T04:11:02:     ... パラメータ数: 1
2025-06-28T04:11:02: SQL実行成功: 結果行数=1
[2025-06-28T04:11:02.281Z] INFO  [PID:1111609] 連絡先取得結果: Campaign=173, 件数=1, 全体=1 {"level":"INFO"}
2025-06-28T04:11:02: [36m[2025-06-28T04:11:02.281Z] INFO  [PID:1111609][0m 連絡先取得結果: Campaign=173, 件数=1, 全体=1 {"level":"INFO"}
2025-06-28T04:11:02: SQL実行: 
2025-06-28T04:11:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:02:           FROM contacts 
2025-06-28T04:11:02:           WHERE c... パラメータ数: 1
2025-06-28T04:11:02: SQL実行成功: 結果行数=0
2025-06-28T04:11:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:02: SQL実行成功: 結果行数=1
2025-06-28T04:11:02: SQL実行: 
2025-06-28T04:11:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:02:           FROM contacts 
2025-06-28T04:11:02:           WHERE c... パラメータ数: 1
2025-06-28T04:11:02: SQL実行成功: 結果行数=0
2025-06-28T04:11:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:02: SQL実行成功: 結果行数=1
2025-06-28T04:11:02: SQL実行: 
2025-06-28T04:11:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:02:           FROM contacts 
2025-06-28T04:11:02:           WHERE c... パラメータ数: 1
2025-06-28T04:11:02: SQL実行成功: 結果行数=0
2025-06-28T04:11:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:02: SQL実行成功: 結果行数=1
2025-06-28T04:11:03: GET /api/ivr/campaigns/173 - Origin: http://146.190.83.205:3003
2025-06-28T04:11:03: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T04:11:03.509Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=173 {"level":"INFO"}
2025-06-28T04:11:03: SQL実行成功: 結果行数=1
2025-06-28T04:11:03: [36m[2025-06-28T04:11:03.509Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=173 {"level":"INFO"}
2025-06-28T04:11:03: SQL実行: 
2025-06-28T04:11:03:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T04:11:03:    ... パラメータ数: 1
[2025-06-28T04:11:03.511Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=173, 件数=0 {"level":"INFO"}
2025-06-28T04:11:03: SQL実行成功: 結果行数=0
[2025-06-28T04:11:03.511Z] WARN  [PID:1111609] キャンペーン 173 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-28T04:11:03: [36m[2025-06-28T04:11:03.511Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=173, 件数=0 {"level":"INFO"}
2025-06-28T04:11:03: [33m[2025-06-28T04:11:03.511Z] WARN  [PID:1111609][0m キャンペーン 173 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-28T04:11:03: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T04:11:03: SQL実行成功: 結果行数=0
2025-06-28T04:11:03: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T04:11:03.513Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=173 {"level":"INFO"}
2025-06-28T04:11:03: SQL実行成功: 結果行数=1
2025-06-28T04:11:03: [36m[2025-06-28T04:11:03.513Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=173 {"level":"INFO"}
2025-06-28T04:11:03: SQL実行: 
2025-06-28T04:11:03:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T04:11:03:    ... パラメータ数: 1
[2025-06-28T04:11:03.514Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=173, 件数=0 {"level":"INFO"}
2025-06-28T04:11:03: SQL実行成功: 結果行数=0
[2025-06-28T04:11:03.514Z] WARN  [PID:1111609] キャンペーン 173 に音声ファイルが見つかりません {"level":"WARN"}
2025-06-28T04:11:03: [36m[2025-06-28T04:11:03.514Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=173, 件数=0 {"level":"INFO"}
2025-06-28T04:11:03: [33m[2025-06-28T04:11:03.514Z] WARN  [PID:1111609][0m キャンペーン 173 に音声ファイルが見つかりません {"level":"WARN"}
[2025-06-28T04:11:03.515Z] INFO  [PID:1111609] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-173.conf {"level":"INFO"}
2025-06-28T04:11:03: [36m[2025-06-28T04:11:03.515Z] INFO  [PID:1111609][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-173.conf {"level":"INFO"}
[2025-06-28T04:11:03.537Z] INFO  [PID:1111609] 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T04:11:03: GET /api/audio - Origin: http://146.190.83.205:3003
2025-06-28T04:11:03: [36m[2025-06-28T04:11:03.537Z] INFO  [PID:1111609][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T04:11:03: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
[2025-06-28T04:11:03.539Z] INFO  [PID:1111609] 3件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T04:11:03: SQL実行成功: 結果行数=3
2025-06-28T04:11:03: [36m[2025-06-28T04:11:03.539Z] INFO  [PID:1111609][0m 3件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T04:11:06: POST /api/audio/assign - Origin: http://146.190.83.205:3003
[2025-06-28T04:11:06.054Z] INFO  [PID:1111609] 音声ファイル割り当て: キャンペーンID=173, 音声ID=1fdbb84a-dc24-4a44-87c9-713b65021f12, タイプ=welcome {"level":"INFO"}
2025-06-28T04:11:06: [36m[2025-06-28T04:11:06.054Z] INFO  [PID:1111609][0m 音声ファイル割り当て: キャンペーンID=173, 音声ID=1fdbb84a-dc24-4a44-87c9-713b65021f12, タイプ=welcome {"level":"INFO"}
2025-06-28T04:11:06: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:11:06: SQL実行成功: 結果行数=1
2025-06-28T04:11:06: SQL実行: SELECT id FROM audio_files WHERE id = ?... パラメータ数: 1
2025-06-28T04:11:06: SQL実行成功: 結果行数=1
2025-06-28T04:11:06: SQL実行: SELECT * FROM campaign_audio WHERE campaign_id = ? AND audio_type = ?... パラメータ数: 2
2025-06-28T04:11:06: SQL実行成功: 結果行数=0
2025-06-28T04:11:06: SQL実行: INSERT INTO campaign_audio (campaign_id, audio_file_id, audio_type, created_at) VALUES (?, ?, ?, NOW... パラメータ数: 3
[2025-06-28T04:11:06.063Z] INFO  [PID:1111609] 新規割り当てを作成しました: キャンペーンID=173, タイプ=welcome {"level":"INFO"}
2025-06-28T04:11:06: SQL実行成功: 結果行数=不明
2025-06-28T04:11:06: [36m[2025-06-28T04:11:06.063Z] INFO  [PID:1111609][0m 新規割り当てを作成しました: キャンペーンID=173, タイプ=welcome {"level":"INFO"}
2025-06-28T04:11:06: GET /api/ivr/campaigns/173 - Origin: http://146.190.83.205:3003
2025-06-28T04:11:06: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T04:11:06.102Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=173 {"level":"INFO"}
[2025-06-28T04:11:06.103Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=173, 件数=1 {"level":"INFO"}
[2025-06-28T04:11:06.103Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
[2025-06-28T04:11:06.106Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=173 {"level":"INFO"}
[2025-06-28T04:11:06.107Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=173, 件数=1 {"level":"INFO"}
[2025-06-28T04:11:06.107Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
[2025-06-28T04:11:06.110Z] INFO  [PID:1111609] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-173.conf {"level":"INFO"}
2025-06-28T04:11:06: SQL実行成功: 結果行数=1
2025-06-28T04:11:06: [36m[2025-06-28T04:11:06.102Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=173 {"level":"INFO"}
2025-06-28T04:11:06: SQL実行: 
2025-06-28T04:11:06:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T04:11:06:    ... パラメータ数: 1
2025-06-28T04:11:06: SQL実行成功: 結果行数=1
2025-06-28T04:11:06: [36m[2025-06-28T04:11:06.103Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=173, 件数=1 {"level":"INFO"}
2025-06-28T04:11:06: [36m[2025-06-28T04:11:06.103Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T04:11:06: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T04:11:06: SQL実行成功: 結果行数=0
2025-06-28T04:11:06: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
2025-06-28T04:11:06: SQL実行成功: 結果行数=1
2025-06-28T04:11:06: [36m[2025-06-28T04:11:06.106Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=173 {"level":"INFO"}
2025-06-28T04:11:06: SQL実行: 
2025-06-28T04:11:06:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T04:11:06:    ... パラメータ数: 1
2025-06-28T04:11:06: SQL実行成功: 結果行数=1
2025-06-28T04:11:06: [36m[2025-06-28T04:11:06.107Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=173, 件数=1 {"level":"INFO"}
2025-06-28T04:11:06: [36m[2025-06-28T04:11:06.107Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T04:11:06: [36m[2025-06-28T04:11:06.110Z] INFO  [PID:1111609][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-173.conf {"level":"INFO"}
2025-06-28T04:11:07: SQL実行: 
2025-06-28T04:11:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:07:           FROM contacts 
2025-06-28T04:11:07:           WHERE c... パラメータ数: 1
2025-06-28T04:11:07: SQL実行成功: 結果行数=0
2025-06-28T04:11:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:07: SQL実行成功: 結果行数=1
2025-06-28T04:11:07: SQL実行: 
2025-06-28T04:11:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:07:           FROM contacts 
2025-06-28T04:11:07:           WHERE c... パラメータ数: 1
2025-06-28T04:11:07: SQL実行成功: 結果行数=0
2025-06-28T04:11:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:07: SQL実行成功: 結果行数=1
2025-06-28T04:11:07: SQL実行: 
2025-06-28T04:11:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:07:           FROM contacts 
2025-06-28T04:11:07:           WHERE c... パラメータ数: 1
2025-06-28T04:11:07: SQL実行成功: 結果行数=0
2025-06-28T04:11:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:07: SQL実行成功: 結果行数=1
2025-06-28T04:11:08: POST /api/campaigns/173/start - Origin: http://146.190.83.205:3003
2025-06-28T04:11:08: 🔍 campaignsController.startCampaign 開始: { campaignId: '173' }
2025-06-28T04:11:08: SQL実行: 
2025-06-28T04:11:08:       SELECT c.*, ci.active as caller_id_active,
2025-06-28T04:11:08:              (SELECT COUNT(*) FROM contacts WHERE ... パラメータ数: 1
[2025-06-28T04:11:08.577Z] INFO  [PID:1111609] 🚀 キャンペーン 173 のIVRスクリプト完全デプロイ開始... {"level":"INFO"}
2025-06-28T04:11:08: SQL実行成功: 結果行数=1
[2025-06-28T04:11:08.578Z] INFO  [PID:1111609] 📝 Step 1: IVRスクリプト生成中... {"level":"INFO"}
2025-06-28T04:11:08: 🔍 修正後のクエリ結果: {
2025-06-28T04:11:08:   rows_length: 1,
2025-06-28T04:11:08:   campaign_exists: 'YES',
2025-06-28T04:11:08:   caller_id_id: 8,
2025-06-28T04:11:08:   caller_id_active: 1,
2025-06-28T04:11:08:   contact_count: '1'
2025-06-28T04:11:08: }
2025-06-28T04:11:08: 🔍 検証開始: {
2025-06-28T04:11:08:   'campaign.caller_id_id': 8,
2025-06-28T04:11:08:   'campaign.caller_id_active': 1,
2025-06-28T04:11:08:   'typeof caller_id_id': 'number',
2025-06-28T04:11:08:   'typeof caller_id_active': 'number',
2025-06-28T04:11:08:   '!campaign.caller_id_id': false,
2025-06-28T04:11:08:   '!campaign.caller_id_active': false
2025-06-28T04:11:08: }
2025-06-28T04:11:08: ✅ 検証完了、IVRデプロイ開始
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.577Z] INFO  [PID:1111609][0m 🚀 キャンペーン 173 のIVRスクリプト完全デプロイ開始... {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.578Z] INFO  [PID:1111609][0m 📝 Step 1: IVRスクリプト生成中... {"level":"INFO"}
2025-06-28T04:11:08: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T04:11:08.579Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=173 {"level":"INFO"}
2025-06-28T04:11:08: SQL実行成功: 結果行数=1
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.579Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=173 {"level":"INFO"}
2025-06-28T04:11:08: SQL実行: 
2025-06-28T04:11:08:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T04:11:08:    ... パラメータ数: 1
[2025-06-28T04:11:08.581Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=173, 件数=1 {"level":"INFO"}
2025-06-28T04:11:08: SQL実行成功: 結果行数=1
[2025-06-28T04:11:08.581Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.581Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=173, 件数=1 {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.581Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
[2025-06-28T04:11:08.582Z] INFO  [PID:1111609] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-173.conf {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.582Z] INFO  [PID:1111609][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-173.conf {"level":"INFO"}
[2025-06-28T04:11:08.582Z] INFO  [PID:1111609] ✅ IVRスクリプト生成完了: /var/www/autodialer/backend/ivr-scripts/campaign-173.conf {"level":"INFO"}
[2025-06-28T04:11:08.582Z] INFO  [PID:1111609] 📝 Step 2: extensions.confへのinclude追加中... {"level":"INFO"}
[2025-06-28T04:11:08.582Z] INFO  [PID:1111609] 🔧 extensions.conf include追加: #include "/var/www/autodialer/backend/ivr-scripts/campaign-173.conf" {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.582Z] INFO  [PID:1111609][0m ✅ IVRスクリプト生成完了: /var/www/autodialer/backend/ivr-scripts/campaign-173.conf {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.582Z] INFO  [PID:1111609][0m 📝 Step 2: extensions.confへのinclude追加中... {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.582Z] INFO  [PID:1111609][0m 🔧 extensions.conf include追加: #include "/var/www/autodialer/backend/ivr-scripts/campaign-173.conf" {"level":"INFO"}
[2025-06-28T04:11:08.583Z] INFO  [PID:1111609] ✅ extensions.confにinclude追加完了: campaign-173.conf {"level":"INFO"}
[2025-06-28T04:11:08.584Z] INFO  [PID:1111609] 📝 Step 3: Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.583Z] INFO  [PID:1111609][0m ✅ extensions.confにinclude追加完了: campaign-173.conf {"level":"INFO"}
[2025-06-28T04:11:08.584Z] INFO  [PID:1111609] 🔄 Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.584Z] INFO  [PID:1111609][0m 📝 Step 3: Asterisk dialplan reload実行中... {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.584Z] INFO  [PID:1111609][0m 🔄 Asterisk dialplan reload実行中... {"level":"INFO"}
[2025-06-28T04:11:08.618Z] INFO  [PID:1111609] ✅ Asterisk dialplan reload成功: Dialplan reloaded. {"level":"INFO"}
[2025-06-28T04:11:08.619Z] INFO  [PID:1111609] 📝 Step 4: データベース記録中... {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.618Z] INFO  [PID:1111609][0m ✅ Asterisk dialplan reload成功: Dialplan reloaded. {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.619Z] INFO  [PID:1111609][0m 📝 Step 4: データベース記録中... {"level":"INFO"}
2025-06-28T04:11:08: SQL実行: UPDATE campaigns SET ivr_deployed = true, ivr_deploy_time = NOW() WHERE id = ?... パラメータ数: 1
[2025-06-28T04:11:08.626Z] INFO  [PID:1111609] ✅ データベース記録完了 {"level":"INFO"}
[2025-06-28T04:11:08.626Z] INFO  [PID:1111609] 📝 Step 5: デプロイ検証中... {"level":"INFO"}
[2025-06-28T04:11:08.627Z] INFO  [PID:1111609] 🔍 コンテキスト検証中: autodialer-campaign-173 {"level":"INFO"}
2025-06-28T04:11:08: SQL実行成功: 結果行数=不明
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.626Z] INFO  [PID:1111609][0m ✅ データベース記録完了 {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.626Z] INFO  [PID:1111609][0m 📝 Step 5: デプロイ検証中... {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.627Z] INFO  [PID:1111609][0m 🔍 コンテキスト検証中: autodialer-campaign-173 {"level":"INFO"}
[2025-06-28T04:11:08.652Z] WARN  [PID:1111609] ⚠️ コンテキスト検証結果不明: [ Context 'autodialer-campaign-173' created by 'pbx_config' ]
  '1' =>            1. NoOp(Operator transfer requested)          [campaign-173.conf:10]
                    2. Set(CAMPAIGN_ID=173)                       [campaign-173.conf:11]
                    3. Set(KEYPRESS=1)                            [campaign-173.conf:12]
                    4. Goto(operator-transfer-173,s,1)            [campaign-173.conf:13]
  '2' =>            1. NoOp(Operator transfer requested)          [campaign-173.conf:15]
                    2. Set(CAMPAIGN_ID=173)                       [campaign-173.conf:16]
                    3. Set(KEYPRESS=2)                            [campaign-173.conf:17]
                    4. Goto(operator-transfer-173,s,1)            [campaign-173.conf:18]
  '3' =>            1. NoOp(Operator transfer requested)          [campaign-173.conf:20]
                    2. Set(CAMPAIGN_ID=173)                       [campaign-173.conf:21]
                    3. Set(KEYPRESS=3)                            [campaign-173.conf:22]
                    4. Goto(operator-transfer-173,s,1)            [campaign-173.conf:23]
  '9' =>            1. NoOp(DNC requested)                        [campaign-173.conf:25]
                    2. Set(CAMPAIGN_ID=173)                       [campaign-173.conf:26]
                    3. Set(KEYPRESS=9)                            [campaign-173.conf:27]
                    4. Playback(vm-goodbye)                       [campaign-173.conf:28]
                    5. Hangup()                                   [campaign-173.conf:29]
  'h' =>            1. NoOp(Hangup handler)                       [campaign-173.conf:39]
                    2. System(curl -X POST http://localhost:5000/api/callback/call-end -d "callId=173-${UNIQUEID}&duration=${ANSWEREDTIME}&disposition=${DIALSTATUS}&keypress=${KEYPRESS}") [campaign-173.conf:40]
  'i' =>            1. NoOp(Invalid input)                        [campaign-173.conf:35]
                    2. Playback(invalid)                          [campaign-173.conf:36]
                    3. Goto(s,4)                                  [campaign-173.conf:37]
  's' =>            1. Answer()                                   [campaign-173.conf:4]
                    2. Wait(1)                                    [campaign-173.conf:5]
                    3. Playback(autodialer/1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302) [campaign-173.conf:6]
                    4. Playback(vm-tempgreeting)                  [campaign-173.conf:7]
                    5. WaitExten(10)                              [campaign-173.conf:8]
  't' =>            1. NoOp(Timeout occurred)                     [campaign-173.conf:31]
                    2. Playback(goodbye)                          [campaign-173.conf:32]
                    3. Hangup()                                   [campaign-173.conf:33]

-= 8 extensions (30 priorities) in 1 context. =-
 {"level":"WARN"}
[2025-06-28T04:11:08.652Z] WARN  [PID:1111609] ⚠️ コンテキスト検証失敗 - 手動確認が必要です {"level":"WARN"}
2025-06-28T04:11:08: [33m[2025-06-28T04:11:08.652Z] WARN  [PID:1111609][0m ⚠️ コンテキスト検証結果不明: [ Context 'autodialer-campaign-173' created by 'pbx_config' ]
2025-06-28T04:11:08:   '1' =>            1. NoOp(Operator transfer requested)          [campaign-173.conf:10]
2025-06-28T04:11:08:                     2. Set(CAMPAIGN_ID=173)                       [campaign-173.conf:11]
2025-06-28T04:11:08:                     3. Set(KEYPRESS=1)                            [campaign-173.conf:12]
2025-06-28T04:11:08:                     4. Goto(operator-transfer-173,s,1)            [campaign-173.conf:13]
2025-06-28T04:11:08:   '2' =>            1. NoOp(Operator transfer requested)          [campaign-173.conf:15]
2025-06-28T04:11:08:                     2. Set(CAMPAIGN_ID=173)                       [campaign-173.conf:16]
2025-06-28T04:11:08:                     3. Set(KEYPRESS=2)                            [campaign-173.conf:17]
2025-06-28T04:11:08:                     4. Goto(operator-transfer-173,s,1)            [campaign-173.conf:18]
2025-06-28T04:11:08:   '3' =>            1. NoOp(Operator transfer requested)          [campaign-173.conf:20]
2025-06-28T04:11:08:                     2. Set(CAMPAIGN_ID=173)                       [campaign-173.conf:21]
2025-06-28T04:11:08:                     3. Set(KEYPRESS=3)                            [campaign-173.conf:22]
2025-06-28T04:11:08:                     4. Goto(operator-transfer-173,s,1)            [campaign-173.conf:23]
2025-06-28T04:11:08:   '9' =>            1. NoOp(DNC requested)                        [campaign-173.conf:25]
2025-06-28T04:11:08:                     2. Set(CAMPAIGN_ID=173)                       [campaign-173.conf:26]
2025-06-28T04:11:08:                     3. Set(KEYPRESS=9)                            [campaign-173.conf:27]
2025-06-28T04:11:08:                     4. Playback(vm-goodbye)                       [campaign-173.conf:28]
2025-06-28T04:11:08:                     5. Hangup()                                   [campaign-173.conf:29]
2025-06-28T04:11:08:   'h' =>            1. NoOp(Hangup handler)                       [campaign-173.conf:39]
2025-06-28T04:11:08:                     2. System(curl -X POST http://localhost:5000/api/callback/call-end -d "callId=173-${UNIQUEID}&duration=${ANSWEREDTIME}&disposition=${DIALSTATUS}&keypress=${KEYPRESS}") [campaign-173.conf:40]
2025-06-28T04:11:08:   'i' =>            1. NoOp(Invalid input)                        [campaign-173.conf:35]
2025-06-28T04:11:08:                     2. Playback(invalid)                          [campaign-173.conf:36]
2025-06-28T04:11:08:                     3. Goto(s,4)                                  [campaign-173.conf:37]
2025-06-28T04:11:08:   's' =>            1. Answer()                                   [campaign-173.conf:4]
2025-06-28T04:11:08:                     2. Wait(1)                                    [campaign-173.conf:5]
2025-06-28T04:11:08:                     3. Playback(autodialer/1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302) [campaign-173.conf:6]
2025-06-28T04:11:08:                     4. Playback(vm-tempgreeting)                  [campaign-173.conf:7]
2025-06-28T04:11:08:                     5. WaitExten(10)                              [campaign-173.conf:8]
2025-06-28T04:11:08:   't' =>            1. NoOp(Timeout occurred)                     [campaign-173.conf:31]
2025-06-28T04:11:08:                     2. Playback(goodbye)                          [campaign-173.conf:32]
2025-06-28T04:11:08:                     3. Hangup()                                   [campaign-173.conf:33]
2025-06-28T04:11:08: 
2025-06-28T04:11:08: -= 8 extensions (30 priorities) in 1 context. =-
2025-06-28T04:11:08:  {"level":"WARN"}
[2025-06-28T04:11:08.653Z] INFO  [PID:1111609] 🚀 手動キャンペーン開始: 173 {"level":"INFO"}
2025-06-28T04:11:08: [33m[2025-06-28T04:11:08.652Z] WARN  [PID:1111609][0m ⚠️ コンテキスト検証失敗 - 手動確認が必要です {"level":"WARN"}
2025-06-28T04:11:08: ✅ IVRスクリプト自動デプロイ完了: キャンペーン 173 {
2025-06-28T04:11:08:   scriptPath: '/var/www/autodialer/backend/ivr-scripts/campaign-173.conf',
2025-06-28T04:11:08:   message: 'キャンペーン 173 のIVRスクリプトが完全デプロイされました'
2025-06-28T04:11:08: }
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.653Z] INFO  [PID:1111609][0m 🚀 手動キャンペーン開始: 173 {"level":"INFO"}
2025-06-28T04:11:08: SQL実行: 
2025-06-28T04:11:08:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:11:08:                ci.number as ca... パラメータ数: 1
2025-06-28T04:11:08: SQL実行成功: 結果行数=1
2025-06-28T04:11:08: SQL実行: UPDATE campaigns SET status = ?, updated_at = NOW() WHERE id = ?... パラメータ数: 2
[2025-06-28T04:11:08.668Z] INFO  [PID:1111609] 🎉 イベント: キャンペーン追加 - テスト (ID: 173) {"level":"INFO"}
2025-06-28T04:11:08: SQL実行成功: 結果行数=不明
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.668Z] INFO  [PID:1111609][0m 🎉 イベント: キャンペーン追加 - テスト (ID: 173) {"level":"INFO"}
[2025-06-28T04:11:08.669Z] INFO  [PID:1111609] ✅ キャンペーン自動追加: "テスト" (未処理: 1件) {"level":"INFO"}
[2025-06-28T04:11:08.670Z] INFO  [PID:1111609] ✅ 手動キャンペーン開始完了: "テスト" {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.669Z] INFO  [PID:1111609][0m ✅ キャンペーン自動追加: "テスト" (未処理: 1件) {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.670Z] INFO  [PID:1111609][0m ✅ 手動キャンペーン開始完了: "テスト" {"level":"INFO"}
[2025-06-28T04:11:08.707Z] INFO  [PID:1111609] キャンペーン詳細取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:08: GET /api/campaigns/173 - Origin: http://146.190.83.205:3003
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.707Z] INFO  [PID:1111609][0m キャンペーン詳細取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:08: SQL実行: 
2025-06-28T04:11:08:       SELECT c.*, 
2025-06-28T04:11:08:              ci.number as caller_id_number,
2025-06-28T04:11:08:              ci.description as calle... パラメータ数: 1
[2025-06-28T04:11:08.710Z] INFO  [PID:1111609] キャンペーン詳細取得完了: ID=173 {"level":"INFO"}
2025-06-28T04:11:08: SQL実行成功: 結果行数=1
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.710Z] INFO  [PID:1111609][0m キャンペーン詳細取得完了: ID=173 {"level":"INFO"}
[2025-06-28T04:11:08.746Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:08: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.746Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:08: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:11:08: SQL実行成功: 結果行数=1
2025-06-28T04:11:08: SQL実行: 
2025-06-28T04:11:08:       SELECT 
2025-06-28T04:11:08:         COUNT(*) as total,
2025-06-28T04:11:08:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:11:08: SQL実行成功: 結果行数=1
2025-06-28T04:11:08: SQL実行: 
2025-06-28T04:11:08:       SELECT 
2025-06-28T04:11:08:         COUNT(*) as total_calls,
2025-06-28T04:11:08:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:11:08.749Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:08: SQL実行成功: 結果行数=1
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.749Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
[2025-06-28T04:11:08.785Z] INFO  [PID:1111609] 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T04:11:08: GET /api/audio - Origin: http://146.190.83.205:3003
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.785Z] INFO  [PID:1111609][0m 音声ファイル一覧を取得します {"level":"INFO"}
2025-06-28T04:11:08: SQL実行: SELECT * FROM audio_files ORDER BY created_at DESC... 
2025-06-28T04:11:08: GET /api/ivr/campaigns/173 - Origin: http://146.190.83.205:3003
2025-06-28T04:11:08: SQL実行: SELECT id FROM campaigns WHERE id = ?... パラメータ数: 1
[2025-06-28T04:11:08.787Z] INFO  [PID:1111609] 3件の音声ファイルを取得しました {"level":"INFO"}
2025-06-28T04:11:08: SQL実行成功: 結果行数=3
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.787Z] INFO  [PID:1111609][0m 3件の音声ファイルを取得しました {"level":"INFO"}
[2025-06-28T04:11:08.789Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=173 {"level":"INFO"}
2025-06-28T04:11:08: SQL実行成功: 結果行数=1
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.789Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=173 {"level":"INFO"}
2025-06-28T04:11:08: SQL実行: 
2025-06-28T04:11:08:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T04:11:08:    ... パラメータ数: 1
[2025-06-28T04:11:08.790Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=173, 件数=1 {"level":"INFO"}
2025-06-28T04:11:08: SQL実行成功: 結果行数=1
[2025-06-28T04:11:08.791Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.790Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=173, 件数=1 {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.791Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T04:11:08: SQL実行: SELECT config FROM campaign_ivr_config WHERE campaign_id = ?... パラメータ数: 1
2025-06-28T04:11:08: SQL実行成功: 結果行数=0
2025-06-28T04:11:08: SQL実行: SELECT c.id, c.name, ci.number as caller_id_number, ci.domain FROM campaigns c JOIN caller_ids ci ON... パラメータ数: 1
[2025-06-28T04:11:08.792Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=173 {"level":"INFO"}
2025-06-28T04:11:08: SQL実行成功: 結果行数=1
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.792Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=173 {"level":"INFO"}
2025-06-28T04:11:08: SQL実行: 
2025-06-28T04:11:08:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T04:11:08:    ... パラメータ数: 1
[2025-06-28T04:11:08.793Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=173, 件数=1 {"level":"INFO"}
[2025-06-28T04:11:08.793Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T04:11:08: SQL実行成功: 結果行数=1
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.793Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=173, 件数=1 {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.793Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
[2025-06-28T04:11:08.794Z] INFO  [PID:1111609] キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-173.conf {"level":"INFO"}
2025-06-28T04:11:08: [36m[2025-06-28T04:11:08.794Z] INFO  [PID:1111609][0m キャンペーンIVRスクリプトを生成しました: /var/www/autodialer/backend/ivr-scripts/campaign-173.conf {"level":"INFO"}
2025-06-28T04:11:12: SQL実行: 
2025-06-28T04:11:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:12:           FROM contacts 
2025-06-28T04:11:12:           WHERE c... パラメータ数: 1
2025-06-28T04:11:12: SQL実行成功: 結果行数=0
2025-06-28T04:11:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:12: SQL実行成功: 結果行数=1
2025-06-28T04:11:12: SQL実行: 
2025-06-28T04:11:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:12:           FROM contacts 
2025-06-28T04:11:12:           WHERE c... パラメータ数: 1
2025-06-28T04:11:12: SQL実行成功: 結果行数=0
2025-06-28T04:11:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:12: SQL実行成功: 結果行数=1
2025-06-28T04:11:12: SQL実行: 
2025-06-28T04:11:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:12:           FROM contacts 
2025-06-28T04:11:12:           WHERE c... パラメータ数: 1
2025-06-28T04:11:12: SQL実行成功: 結果行数=0
2025-06-28T04:11:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:12: SQL実行成功: 結果行数=1
2025-06-28T04:11:12: SQL実行: 
2025-06-28T04:11:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:12:           FROM contacts 
2025-06-28T04:11:12:           WHERE c... パラメータ数: 1
[2025-06-28T04:11:12.509Z] INFO  [PID:1111609] 📞 発信準備: 05018086649 (Campaign: テスト, 試行回数: 0) {"level":"INFO"}
[2025-06-28T04:11:12.509Z] INFO  [PID:1111609] 🔧 発信診断開始: 05018086649 {"level":"INFO"}
2025-06-28T04:11:12: SQL実行成功: 結果行数=1
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.509Z] INFO  [PID:1111609][0m 📞 発信準備: 05018086649 (Campaign: テスト, 試行回数: 0) {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.509Z] INFO  [PID:1111609][0m 🔧 発信診断開始: 05018086649 {"level":"INFO"}
2025-06-28T04:11:12: SQL実行: UPDATE contacts SET status = ?, last_attempt = NOW(), attempt_count = attempt_count + 1 WHERE id = ?... パラメータ数: 2
2025-06-28T04:11:12: SQL実行成功: 結果行数=不明
2025-06-28T04:11:12: SQL実行: SELECT * FROM caller_ids WHERE id = ? AND active = true... パラメータ数: 1
2025-06-28T04:11:12: SQL実行成功: 結果行数=1
[2025-06-28T04:11:12.515Z] INFO  [PID:1111609] キャンペーン音声取得開始: Campaign=173 {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.515Z] INFO  [PID:1111609][0m キャンペーン音声取得開始: Campaign=173 {"level":"INFO"}
2025-06-28T04:11:12: SQL実行: 
2025-06-28T04:11:12:         SELECT ca.audio_type, af.id, af.name, af.filename, af.mimetype, af.description, af.path
2025-06-28T04:11:12:    ... パラメータ数: 1
[2025-06-28T04:11:12.517Z] INFO  [PID:1111609] キャンペーン音声取得結果: Campaign=173, 件数=1 {"level":"INFO"}
2025-06-28T04:11:12: SQL実行成功: 結果行数=1
[2025-06-28T04:11:12.517Z] INFO  [PID:1111609] 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.517Z] INFO  [PID:1111609][0m キャンペーン音声取得結果: Campaign=173, 件数=1 {"level":"INFO"}
[2025-06-28T04:11:12.517Z] INFO  [PID:1111609] 🎵 自動発信で音声ファイル取得成功: 1件 (Campaign: 173) {"level":"INFO"}
[2025-06-28T04:11:12.517Z] INFO  [PID:1111609] 🎵 音声1: welcome - 549444996463302 (1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav) {"level":"INFO"}
[2025-06-28T04:11:12.517Z] INFO  [PID:1111609] 🚀 音声付き自動発信実行: 05018086649 {"campaignId":173,"contactId":10168,"callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":1,"hasAudio":true,"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.517Z] INFO  [PID:1111609][0m 音声ファイル詳細: タイプ=welcome, 名前=549444996463302, ファイル名=1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.517Z] INFO  [PID:1111609][0m 🎵 自動発信で音声ファイル取得成功: 1件 (Campaign: 173) {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.517Z] INFO  [PID:1111609][0m 🎵 音声1: welcome - 549444996463302 (1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav) {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.517Z] INFO  [PID:1111609][0m 🚀 音声付き自動発信実行: 05018086649 {"campaignId":173,"contactId":10168,"callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","provider":"sip","hasCallerIdData":true,"exten":"s","priority":1,"audioFilesCount":1,"hasAudio":true,"level":"INFO"}
2025-06-28T04:11:12: 🚀🚀🚀 CALLSERVICE-START: originateメソッド開始（SIP専用）
[2025-06-28T04:11:12.518Z] INFO  [PID:1111609] SIPプロバイダで発信: 05018086649 {"level":"INFO"}
[2025-06-28T04:11:12.518Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] ===== sipService.originate 開始 (AMI版) ===== {"level":"INFO"}
[2025-06-28T04:11:12.518Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - phoneNumber: 05018086649 {"level":"INFO"}
[2025-06-28T04:11:12.518Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - mockMode: false {"level":"INFO"}
[2025-06-28T04:11:12.518Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - connected: true {"level":"INFO"}
[2025-06-28T04:11:12.518Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] 実発信モードで AMI発信を開始: 発信先=05018086649 {"level":"INFO"}
[2025-06-28T04:11:12.518Z] INFO  [PID:1111609] 🔍 SIPアカウント選択開始 {"level":"INFO"}
[2025-06-28T04:11:12.519Z] INFO  [PID:1111609] 🔍 キャンペーン173 → 発信者番号ID: 8 {"level":"INFO"}
[2025-06-28T04:11:12.519Z] INFO  [PID:1111609] 🔍 選択されたSIPアカウント: 03500004 {"level":"INFO"}
[2025-06-28T04:11:12.519Z] INFO  [PID:1111609] 🔍 - username: "03500004" (type: string) {"level":"INFO"}
[2025-06-28T04:11:12.519Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] AMI発信準備完了: {"level":"INFO"}
[2025-06-28T04:11:12.519Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - formattedNumber: 05018086649 {"level":"INFO"}
[2025-06-28T04:11:12.519Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] - callId: ami-1751083872519-1390 {"level":"INFO"}
[2025-06-28T04:11:12.519Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し開始 ===== {"level":"INFO"}
[2025-06-28T04:11:12.519Z] INFO  [PID:1111609] 🔍 ===== AMI発信データ追跡開始 ===== {"level":"INFO"}
[2025-06-28T04:11:12.519Z] INFO  [PID:1111609] 🔍 STEP1-引数確認: sipAccount.username="03500004" (type: string) {"level":"INFO"}
[2025-06-28T04:11:12.520Z] INFO  [PID:1111609] 🔍 STEP1-引数確認: formattedNumber="05018086649" {"level":"INFO"}
[2025-06-28T04:11:12.520Z] INFO  [PID:1111609] 🔍 STEP1-引数確認: callId="ami-1751083872519-1390" {"level":"INFO"}
[2025-06-28T04:11:12.520Z] INFO  [PID:1111609] 🔍 STEP1-引数確認: campaignId="173" {"level":"INFO"}
2025-06-28T04:11:12: 🚀🚀🚀 CALLSERVICE-PARAMS: {"phoneNumber":"05018086649","callerID":"\"6/9 契約開始　1番号（25U、23CH）\" <0369087851>","context":"autodialer","exten":"s","priority":1,"variables":{"CAMPAIGN_ID":173,"CONTACT_ID":10168,"CONTACT_NAME":"","COMPANY":"","AUTO_DIAL":"true","DIALER_VERSION":"v2.0"},"callerIdData":{"id":8,"number":"0369087851","description":"6/9 契約開始　1番号（25U、23CH）","provider":"外部","domain":"pantex.online","active":1,"created_at":"2025-06-14 10:02:51"},"mockMode":false,"provider":"sip","campaignAudio":[{"audio_type":"welcome","id":"1fdbb84a-dc24-4a44-87c9-713b65021f12","name":"549444996463302","filename":"1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav","mimetype":"audio/wav","description":"","path":"/var/www/autodialer/backend/audio-files/1fdbb84a-dc24-4a44-87c9-713b65021f12-549444996463302.wav"}]}
2025-06-28T04:11:12: 🚀🚀🚀 CALLSERVICE-PROVIDER: sip（固定）
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.518Z] INFO  [PID:1111609][0m SIPプロバイダで発信: 05018086649 {"level":"INFO"}
2025-06-28T04:11:12: 🚀🚀🚀 CALLSERVICE-SERVICE: SIPサービス利用可能
2025-06-28T04:11:12: 🚀🚀🚀 CALLSERVICE-EXEC-1: SIP発信実行直前
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.518Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] ===== sipService.originate 開始 (AMI版) ===== {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.518Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - phoneNumber: 05018086649 {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.518Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - mockMode: false {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.518Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - connected: true {"level":"INFO"}
[2025-06-28T04:11:12.520Z] INFO  [PID:1111609] 🔍 STEP3-ディープコピー: safeSipAccount.username="03500004" {"level":"INFO"}
[2025-06-28T04:11:12.520Z] INFO  [PID:1111609] 🔍 STEP4-Channel構築: "SIP/03500004@pantex.online" {"level":"INFO"}
[2025-06-28T04:11:12.520Z] INFO  [PID:1111609] ✅ データ整合性確認完了 - AMI送信実行 {"level":"INFO"}
[2025-06-28T04:11:12.520Z] INFO  [PID:1111609] 📤 AMI送信内容: {"level":"INFO"}
[2025-06-28T04:11:12.520Z] INFO  [PID:1111609] Action: Originate
Channel: PJSIP/05018086649@03500004
Context: autodialer-campaign-173
Exten: s
Priority: 1
CallerID: "0369087851" <0369087851>
Variable: CALLERID(name)=0369087851
Variable: CALLERID(num)=0369087851
Variable: PJSIP_HEADER(update,From)=\"0369087851\" <sip:0369087851@pantex.online>
ActionID: ami-1751083872519-1390
Async: yes

 {"level":"INFO"}
[2025-06-28T04:11:12.520Z] INFO  [PID:1111609] 📤 AMI送信開始: {"0":"A","1":"c","2":"t","3":"i","4":"o","5":"n","6":":","7":" ","8":"O","9":"r","10":"i","11":"g","12":"i","13":"n","14":"a","15":"t","16":"e","17":"\r","18":"\n","19":"C","20":"h","21":"a","22":"n","23":"n","24":"e","25":"l","26":":","27":" ","28":"P","29":"J","30":"S","31":"I","32":"P","33":"/","34":"0","35":"5","36":"0","37":"1","38":"8","39":"0","40":"8","41":"6","42":"6","43":"4","44":"9","45":"@","46":"0","47":"3","48":"5","49":"0","50":"0","51":"0","52":"0","53":"4","54":"\r","55":"\n","56":"C","57":"o","58":"n","59":"t","60":"e","61":"x","62":"t","63":":","64":" ","65":"a","66":"u","67":"t","68":"o","69":"d","70":"i","71":"a","72":"l","73":"e","74":"r","75":"-","76":"c","77":"a","78":"m","79":"p","80":"a","81":"i","82":"g","83":"n","84":"-","85":"1","86":"7","87":"3","88":"\r","89":"\n","90":"E","91":"x","92":"t","93":"e","94":"n","95":":","96":" ","97":"s","98":"\r","99":"\n","level":"INFO"}
[2025-06-28T04:11:12.521Z] INFO  [PID:1111609] AMI応答: Response: Success
ActionID: ami-1751083872519-1390
Message: Originate successfully queued

 {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.518Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] 実発信モードで AMI発信を開始: 発信先=05018086649 {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.518Z] INFO  [PID:1111609][0m 🔍 SIPアカウント選択開始 {"level":"INFO"}
2025-06-28T04:11:12: SQL実行: SELECT caller_id_id FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:11:12: SQL実行成功: 結果行数=1
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.519Z] INFO  [PID:1111609][0m 🔍 キャンペーン173 → 発信者番号ID: 8 {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.519Z] INFO  [PID:1111609][0m 🔍 選択されたSIPアカウント: 03500004 {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.519Z] INFO  [PID:1111609][0m 🔍 - username: "03500004" (type: string) {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.519Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] AMI発信準備完了: {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.519Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - formattedNumber: 05018086649 {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.519Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] - callId: ami-1751083872519-1390 {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.519Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し開始 ===== {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.519Z] INFO  [PID:1111609][0m 🔍 ===== AMI発信データ追跡開始 ===== {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.519Z] INFO  [PID:1111609][0m 🔍 STEP1-引数確認: sipAccount.username="03500004" (type: string) {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.520Z] INFO  [PID:1111609][0m 🔍 STEP1-引数確認: formattedNumber="05018086649" {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.520Z] INFO  [PID:1111609][0m 🔍 STEP1-引数確認: callId="ami-1751083872519-1390" {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.520Z] INFO  [PID:1111609][0m 🔍 STEP1-引数確認: campaignId="173" {"level":"INFO"}
[2025-06-28T04:11:12.521Z] INFO  [PID:1111609] 📥 AMI応答受信: Response: Success
ActionID: ami-1751083872519-1390
Message: Originate successfully queued

 {"level":"INFO"}
[2025-06-28T04:11:12.521Z] INFO  [PID:1111609] ✅ AMI送信成功 {"level":"INFO"}
[2025-06-28T04:11:12.521Z] INFO  [PID:1111609] ✅ AMI送信成功 {"level":"INFO"}
[2025-06-28T04:11:12.521Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し完了: true ===== {"level":"INFO"}
[2025-06-28T04:11:12.521Z] INFO  [PID:1111609] 🔥 [SIP-DEBUG] sipService.originate 正常完了 (AMI版) {"level":"INFO"}
[2025-06-28T04:11:12.521Z] INFO  [PID:1111609] ✅ 音声付き自動発信成功: 05018086649 → CallID: ami-1751083872519-1390, Provider: sip, Audio: 1件 {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.520Z] INFO  [PID:1111609][0m 🔍 STEP3-ディープコピー: safeSipAccount.username="03500004" {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.520Z] INFO  [PID:1111609][0m 🔍 STEP4-Channel構築: "SIP/03500004@pantex.online" {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.520Z] INFO  [PID:1111609][0m ✅ データ整合性確認完了 - AMI送信実行 {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.520Z] INFO  [PID:1111609][0m 📤 AMI送信内容: {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.520Z] INFO  [PID:1111609][0m Action: Originate
2025-06-28T04:11:12: Channel: PJSIP/05018086649@03500004
2025-06-28T04:11:12: Context: autodialer-campaign-173
2025-06-28T04:11:12: Exten: s
2025-06-28T04:11:12: Priority: 1
2025-06-28T04:11:12: CallerID: "0369087851" <0369087851>
2025-06-28T04:11:12: Variable: CALLERID(name)=0369087851
2025-06-28T04:11:12: Variable: CALLERID(num)=0369087851
2025-06-28T04:11:12: Variable: PJSIP_HEADER(update,From)=\"0369087851\" <sip:0369087851@pantex.online>
2025-06-28T04:11:12: ActionID: ami-1751083872519-1390
2025-06-28T04:11:12: Async: yes
2025-06-28T04:11:12: 
2025-06-28T04:11:12:  {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.520Z] INFO  [PID:1111609][0m 📤 AMI送信開始: {"0":"A","1":"c","2":"t","3":"i","4":"o","5":"n","6":":","7":" ","8":"O","9":"r","10":"i","11":"g","12":"i","13":"n","14":"a","15":"t","16":"e","17":"\r","18":"\n","19":"C","20":"h","21":"a","22":"n","23":"n","24":"e","25":"l","26":":","27":" ","28":"P","29":"J","30":"S","31":"I","32":"P","33":"/","34":"0","35":"5","36":"0","37":"1","38":"8","39":"0","40":"8","41":"6","42":"6","43":"4","44":"9","45":"@","46":"0","47":"3","48":"5","49":"0","50":"0","51":"0","52":"0","53":"4","54":"\r","55":"\n","56":"C","57":"o","58":"n","59":"t","60":"e","61":"x","62":"t","63":":","64":" ","65":"a","66":"u","67":"t","68":"o","69":"d","70":"i","71":"a","72":"l","73":"e","74":"r","75":"-","76":"c","77":"a","78":"m","79":"p","80":"a","81":"i","82":"g","83":"n","84":"-","85":"1","86":"7","87":"3","88":"\r","89":"\n","90":"E","91":"x","92":"t","93":"e","94":"n","95":":","96":" ","97":"s","98":"\r","99":"\n","level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.521Z] INFO  [PID:1111609][0m AMI応答: Response: Success
2025-06-28T04:11:12: ActionID: ami-1751083872519-1390
2025-06-28T04:11:12: Message: Originate successfully queued
2025-06-28T04:11:12: 
2025-06-28T04:11:12:  {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.521Z] INFO  [PID:1111609][0m 📥 AMI応答受信: Response: Success
2025-06-28T04:11:12: ActionID: ami-1751083872519-1390
2025-06-28T04:11:12: Message: Originate successfully queued
2025-06-28T04:11:12: 
2025-06-28T04:11:12:  {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.521Z] INFO  [PID:1111609][0m ✅ AMI送信成功 {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.521Z] INFO  [PID:1111609][0m ✅ AMI送信成功 {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.521Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] ===== executeAmiOriginate 呼び出し完了: true ===== {"level":"INFO"}
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.521Z] INFO  [PID:1111609][0m 🔥 [SIP-DEBUG] sipService.originate 正常完了 (AMI版) {"level":"INFO"}
2025-06-28T04:11:12: 🚀🚀🚀 CALLSERVICE-EXEC-2: SIP発信完了: レスポンスあり
2025-06-28T04:11:12: 🚀🚀🚀 CALLSERVICE-SUCCESS: SIP発信成功
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.521Z] INFO  [PID:1111609][0m ✅ 音声付き自動発信成功: 05018086649 → CallID: ami-1751083872519-1390, Provider: sip, Audio: 1件 {"level":"INFO"}
2025-06-28T04:11:12: SQL実行: 
2025-06-28T04:11:12:         INSERT INTO call_logs 
2025-06-28T04:11:12:         (contact_id, campaign_id, caller_id_id, call_id, phone_numbe... パラメータ数: 8
[2025-06-28T04:11:12.530Z] INFO  [PID:1111609] 🎯 音声付き発信診断完了: 05018086649 (処理時間: 21ms, 音声: 1件) {"level":"INFO"}
2025-06-28T04:11:12: SQL実行成功: 結果行数=不明
2025-06-28T04:11:12: [36m[2025-06-28T04:11:12.530Z] INFO  [PID:1111609][0m 🎯 音声付き発信診断完了: 05018086649 (処理時間: 21ms, 音声: 1件) {"level":"INFO"}
[2025-06-28T04:11:13.754Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:13: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:11:13: [36m[2025-06-28T04:11:13.754Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:13: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:11:13: SQL実行成功: 結果行数=1
2025-06-28T04:11:13: SQL実行: 
2025-06-28T04:11:13:       SELECT 
2025-06-28T04:11:13:         COUNT(*) as total,
2025-06-28T04:11:13:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:11:13: SQL実行成功: 結果行数=1
2025-06-28T04:11:13: SQL実行: 
2025-06-28T04:11:13:       SELECT 
2025-06-28T04:11:13:         COUNT(*) as total_calls,
2025-06-28T04:11:13:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:11:13.759Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:13: SQL実行成功: 結果行数=1
2025-06-28T04:11:13: [36m[2025-06-28T04:11:13.759Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
[2025-06-28T04:11:14.530Z] INFO  [PID:1111609] 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
2025-06-28T04:11:14: [36m[2025-06-28T04:11:14.530Z] INFO  [PID:1111609][0m 📞 自動発信処理完了: 1件処理 {"level":"INFO"}
2025-06-28T04:11:16: SQL実行: 
2025-06-28T04:11:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:11:16:                ci.number as ca... 
2025-06-28T04:11:16: SQL実行成功: 結果行数=82
2025-06-28T04:11:17: SQL実行: 
2025-06-28T04:11:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:17:           FROM contacts 
2025-06-28T04:11:17:           WHERE c... パラメータ数: 1
2025-06-28T04:11:17: SQL実行成功: 結果行数=0
2025-06-28T04:11:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:17: SQL実行成功: 結果行数=1
2025-06-28T04:11:17: SQL実行: 
2025-06-28T04:11:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:17:           FROM contacts 
2025-06-28T04:11:17:           WHERE c... パラメータ数: 1
2025-06-28T04:11:17: SQL実行成功: 結果行数=0
2025-06-28T04:11:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:17: SQL実行成功: 結果行数=1
2025-06-28T04:11:17: SQL実行: 
2025-06-28T04:11:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:17:           FROM contacts 
2025-06-28T04:11:17:           WHERE c... パラメータ数: 1
2025-06-28T04:11:17: SQL実行成功: 結果行数=0
2025-06-28T04:11:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:17: SQL実行成功: 結果行数=1
2025-06-28T04:11:17: SQL実行: 
2025-06-28T04:11:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:17:           FROM contacts 
2025-06-28T04:11:17:           WHERE c... パラメータ数: 1
2025-06-28T04:11:17: SQL実行成功: 結果行数=0
2025-06-28T04:11:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:17: SQL実行成功: 結果行数=1
[2025-06-28T04:11:18.752Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:18: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:11:18: [36m[2025-06-28T04:11:18.752Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:18: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:11:18: SQL実行成功: 結果行数=1
2025-06-28T04:11:18: SQL実行: 
2025-06-28T04:11:18:       SELECT 
2025-06-28T04:11:18:         COUNT(*) as total,
2025-06-28T04:11:18:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:11:18: SQL実行成功: 結果行数=1
2025-06-28T04:11:18: SQL実行: 
2025-06-28T04:11:18:       SELECT 
2025-06-28T04:11:18:         COUNT(*) as total_calls,
2025-06-28T04:11:18:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:11:18.756Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:18: SQL実行成功: 結果行数=1
2025-06-28T04:11:18: [36m[2025-06-28T04:11:18.756Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T04:11:21.254Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:11:21: SQL実行成功: 結果行数=1
2025-06-28T04:11:21: [36m[2025-06-28T04:11:21.254Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:11:22: SQL実行: 
2025-06-28T04:11:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:22:           FROM contacts 
2025-06-28T04:11:22:           WHERE c... パラメータ数: 1
2025-06-28T04:11:22: SQL実行成功: 結果行数=0
2025-06-28T04:11:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:22: SQL実行成功: 結果行数=1
2025-06-28T04:11:22: SQL実行: 
2025-06-28T04:11:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:22:           FROM contacts 
2025-06-28T04:11:22:           WHERE c... パラメータ数: 1
2025-06-28T04:11:22: SQL実行成功: 結果行数=0
2025-06-28T04:11:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:22: SQL実行成功: 結果行数=1
2025-06-28T04:11:22: SQL実行: 
2025-06-28T04:11:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:22:           FROM contacts 
2025-06-28T04:11:22:           WHERE c... パラメータ数: 1
2025-06-28T04:11:22: SQL実行成功: 結果行数=0
2025-06-28T04:11:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:22: SQL実行成功: 結果行数=1
2025-06-28T04:11:22: SQL実行: 
2025-06-28T04:11:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:22:           FROM contacts 
2025-06-28T04:11:22:           WHERE c... パラメータ数: 1
2025-06-28T04:11:22: SQL実行成功: 結果行数=0
2025-06-28T04:11:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:22: SQL実行成功: 結果行数=1
[2025-06-28T04:11:23.754Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:23: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:11:23: [36m[2025-06-28T04:11:23.754Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:23: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:11:23: SQL実行成功: 結果行数=1
2025-06-28T04:11:23: SQL実行: 
2025-06-28T04:11:23:       SELECT 
2025-06-28T04:11:23:         COUNT(*) as total,
2025-06-28T04:11:23:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:11:23: SQL実行成功: 結果行数=1
2025-06-28T04:11:23: SQL実行: 
2025-06-28T04:11:23:       SELECT 
2025-06-28T04:11:23:         COUNT(*) as total_calls,
2025-06-28T04:11:23:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:11:23: SQL実行成功: 結果行数=1
[2025-06-28T04:11:23.757Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:23: [36m[2025-06-28T04:11:23.757Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:27: SQL実行: 
2025-06-28T04:11:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:27:           FROM contacts 
2025-06-28T04:11:27:           WHERE c... パラメータ数: 1
2025-06-28T04:11:27: SQL実行成功: 結果行数=0
2025-06-28T04:11:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:27: SQL実行成功: 結果行数=1
2025-06-28T04:11:27: SQL実行: 
2025-06-28T04:11:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:27:           FROM contacts 
2025-06-28T04:11:27:           WHERE c... パラメータ数: 1
2025-06-28T04:11:27: SQL実行成功: 結果行数=0
2025-06-28T04:11:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:27: SQL実行成功: 結果行数=1
2025-06-28T04:11:27: SQL実行: 
2025-06-28T04:11:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:27:           FROM contacts 
2025-06-28T04:11:27:           WHERE c... パラメータ数: 1
2025-06-28T04:11:27: SQL実行成功: 結果行数=0
2025-06-28T04:11:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:27: SQL実行成功: 結果行数=1
2025-06-28T04:11:27: SQL実行: 
2025-06-28T04:11:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:27:           FROM contacts 
2025-06-28T04:11:27:           WHERE c... パラメータ数: 1
2025-06-28T04:11:27: SQL実行成功: 結果行数=0
2025-06-28T04:11:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:27: SQL実行成功: 結果行数=1
2025-06-28T04:11:28: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
[2025-06-28T04:11:28.754Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:28: [36m[2025-06-28T04:11:28.754Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:28: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:11:28: SQL実行成功: 結果行数=1
2025-06-28T04:11:28: SQL実行: 
2025-06-28T04:11:28:       SELECT 
2025-06-28T04:11:28:         COUNT(*) as total,
2025-06-28T04:11:28:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:11:28: SQL実行成功: 結果行数=1
2025-06-28T04:11:28: SQL実行: 
2025-06-28T04:11:28:       SELECT 
2025-06-28T04:11:28:         COUNT(*) as total_calls,
2025-06-28T04:11:28:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:11:28.758Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:28: SQL実行成功: 結果行数=1
2025-06-28T04:11:28: [36m[2025-06-28T04:11:28.758Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:31: SQL実行: SELECT 1... 
2025-06-28T04:11:31: SQL実行成功: 結果行数=1
2025-06-28T04:11:31: SQL実行: 
2025-06-28T04:11:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:11:31:                ci.number as ca... 
2025-06-28T04:11:31: SQL実行成功: 結果行数=82
2025-06-28T04:11:31: POST /api/callback/call-end - Origin: none
2025-06-28T04:11:31: ❌ 404 Not Found: POST /api/callback/call-end
2025-06-28T04:11:32: SQL実行: 
2025-06-28T04:11:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:32:           FROM contacts 
2025-06-28T04:11:32:           WHERE c... パラメータ数: 1
2025-06-28T04:11:32: SQL実行成功: 結果行数=0
2025-06-28T04:11:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:32: SQL実行成功: 結果行数=1
2025-06-28T04:11:32: SQL実行: 
2025-06-28T04:11:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:32:           FROM contacts 
2025-06-28T04:11:32:           WHERE c... パラメータ数: 1
2025-06-28T04:11:32: SQL実行成功: 結果行数=0
2025-06-28T04:11:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:32: SQL実行成功: 結果行数=1
2025-06-28T04:11:32: SQL実行: 
2025-06-28T04:11:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:32:           FROM contacts 
2025-06-28T04:11:32:           WHERE c... パラメータ数: 1
2025-06-28T04:11:32: SQL実行成功: 結果行数=0
2025-06-28T04:11:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:32: SQL実行成功: 結果行数=1
2025-06-28T04:11:32: SQL実行: 
2025-06-28T04:11:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:32:           FROM contacts 
2025-06-28T04:11:32:           WHERE c... パラメータ数: 1
2025-06-28T04:11:32: SQL実行成功: 結果行数=0
2025-06-28T04:11:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:32: SQL実行成功: 結果行数=1
[2025-06-28T04:11:33.750Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:33: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:11:33: [36m[2025-06-28T04:11:33.750Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:33: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:11:33: SQL実行成功: 結果行数=1
2025-06-28T04:11:33: SQL実行: 
2025-06-28T04:11:33:       SELECT 
2025-06-28T04:11:33:         COUNT(*) as total,
2025-06-28T04:11:33:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:11:33: SQL実行成功: 結果行数=1
2025-06-28T04:11:33: SQL実行: 
2025-06-28T04:11:33:       SELECT 
2025-06-28T04:11:33:         COUNT(*) as total_calls,
2025-06-28T04:11:33:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:11:33.754Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:33: SQL実行成功: 結果行数=1
2025-06-28T04:11:33: [36m[2025-06-28T04:11:33.754Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:37: SQL実行: 
2025-06-28T04:11:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:37:           FROM contacts 
2025-06-28T04:11:37:           WHERE c... パラメータ数: 1
2025-06-28T04:11:37: SQL実行成功: 結果行数=0
2025-06-28T04:11:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:37: SQL実行成功: 結果行数=1
2025-06-28T04:11:37: SQL実行: 
2025-06-28T04:11:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:37:           FROM contacts 
2025-06-28T04:11:37:           WHERE c... パラメータ数: 1
2025-06-28T04:11:37: SQL実行成功: 結果行数=0
2025-06-28T04:11:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:37: SQL実行成功: 結果行数=1
2025-06-28T04:11:37: SQL実行: 
2025-06-28T04:11:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:37:           FROM contacts 
2025-06-28T04:11:37:           WHERE c... パラメータ数: 1
2025-06-28T04:11:37: SQL実行成功: 結果行数=0
2025-06-28T04:11:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:37: SQL実行成功: 結果行数=1
2025-06-28T04:11:37: SQL実行: 
2025-06-28T04:11:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:37:           FROM contacts 
2025-06-28T04:11:37:           WHERE c... パラメータ数: 1
2025-06-28T04:11:37: SQL実行成功: 結果行数=0
2025-06-28T04:11:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:37: SQL実行成功: 結果行数=1
[2025-06-28T04:11:38.752Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:38: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:11:38: [36m[2025-06-28T04:11:38.752Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:38: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:11:38: SQL実行成功: 結果行数=1
2025-06-28T04:11:38: SQL実行: 
2025-06-28T04:11:38:       SELECT 
2025-06-28T04:11:38:         COUNT(*) as total,
2025-06-28T04:11:38:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:11:38: SQL実行成功: 結果行数=1
2025-06-28T04:11:38: SQL実行: 
2025-06-28T04:11:38:       SELECT 
2025-06-28T04:11:38:         COUNT(*) as total_calls,
2025-06-28T04:11:38:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:11:38.756Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:38: SQL実行成功: 結果行数=1
2025-06-28T04:11:38: [36m[2025-06-28T04:11:38.756Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:42: SQL実行: 
2025-06-28T04:11:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:42:           FROM contacts 
2025-06-28T04:11:42:           WHERE c... パラメータ数: 1
2025-06-28T04:11:42: SQL実行成功: 結果行数=0
2025-06-28T04:11:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:42: SQL実行成功: 結果行数=1
2025-06-28T04:11:42: SQL実行: 
2025-06-28T04:11:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:42:           FROM contacts 
2025-06-28T04:11:42:           WHERE c... パラメータ数: 1
2025-06-28T04:11:42: SQL実行成功: 結果行数=0
2025-06-28T04:11:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:42: SQL実行成功: 結果行数=1
2025-06-28T04:11:42: SQL実行: 
2025-06-28T04:11:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:42:           FROM contacts 
2025-06-28T04:11:42:           WHERE c... パラメータ数: 1
2025-06-28T04:11:42: SQL実行成功: 結果行数=0
2025-06-28T04:11:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:42: SQL実行成功: 結果行数=1
2025-06-28T04:11:42: SQL実行: 
2025-06-28T04:11:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:42:           FROM contacts 
2025-06-28T04:11:42:           WHERE c... パラメータ数: 1
2025-06-28T04:11:42: SQL実行成功: 結果行数=0
2025-06-28T04:11:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:42: SQL実行成功: 結果行数=1
[2025-06-28T04:11:43.752Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:43: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:11:43: [36m[2025-06-28T04:11:43.752Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:43: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:11:43: SQL実行成功: 結果行数=1
2025-06-28T04:11:43: SQL実行: 
2025-06-28T04:11:43:       SELECT 
2025-06-28T04:11:43:         COUNT(*) as total,
2025-06-28T04:11:43:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:11:43: SQL実行成功: 結果行数=1
2025-06-28T04:11:43: SQL実行: 
2025-06-28T04:11:43:       SELECT 
2025-06-28T04:11:43:         COUNT(*) as total_calls,
2025-06-28T04:11:43:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:11:43: SQL実行成功: 結果行数=1
[2025-06-28T04:11:43.756Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:43: [36m[2025-06-28T04:11:43.756Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:46: SQL実行: 
2025-06-28T04:11:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:11:46:                ci.number as ca... 
2025-06-28T04:11:46: SQL実行成功: 結果行数=82
2025-06-28T04:11:47: SQL実行: 
2025-06-28T04:11:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:47:           FROM contacts 
2025-06-28T04:11:47:           WHERE c... パラメータ数: 1
2025-06-28T04:11:47: SQL実行成功: 結果行数=0
2025-06-28T04:11:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:47: SQL実行成功: 結果行数=1
2025-06-28T04:11:47: SQL実行: 
2025-06-28T04:11:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:47:           FROM contacts 
2025-06-28T04:11:47:           WHERE c... パラメータ数: 1
2025-06-28T04:11:47: SQL実行成功: 結果行数=0
2025-06-28T04:11:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:47: SQL実行成功: 結果行数=1
2025-06-28T04:11:47: SQL実行: 
2025-06-28T04:11:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:47:           FROM contacts 
2025-06-28T04:11:47:           WHERE c... パラメータ数: 1
2025-06-28T04:11:47: SQL実行成功: 結果行数=0
2025-06-28T04:11:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:47: SQL実行成功: 結果行数=1
2025-06-28T04:11:47: SQL実行: 
2025-06-28T04:11:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:47:           FROM contacts 
2025-06-28T04:11:47:           WHERE c... パラメータ数: 1
2025-06-28T04:11:47: SQL実行成功: 結果行数=0
2025-06-28T04:11:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:47: SQL実行成功: 結果行数=1
[2025-06-28T04:11:48.753Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:48: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:11:48: [36m[2025-06-28T04:11:48.753Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:48: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:11:48: SQL実行成功: 結果行数=1
2025-06-28T04:11:48: SQL実行: 
2025-06-28T04:11:48:       SELECT 
2025-06-28T04:11:48:         COUNT(*) as total,
2025-06-28T04:11:48:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:11:48: SQL実行成功: 結果行数=1
2025-06-28T04:11:48: SQL実行: 
2025-06-28T04:11:48:       SELECT 
2025-06-28T04:11:48:         COUNT(*) as total_calls,
2025-06-28T04:11:48:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:11:48: SQL実行成功: 結果行数=1
[2025-06-28T04:11:48.756Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:48: [36m[2025-06-28T04:11:48.756Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:52: SQL実行: 
2025-06-28T04:11:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:52:           FROM contacts 
2025-06-28T04:11:52:           WHERE c... パラメータ数: 1
2025-06-28T04:11:52: SQL実行成功: 結果行数=0
2025-06-28T04:11:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:52: SQL実行成功: 結果行数=1
2025-06-28T04:11:52: SQL実行: 
2025-06-28T04:11:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:52:           FROM contacts 
2025-06-28T04:11:52:           WHERE c... パラメータ数: 1
2025-06-28T04:11:52: SQL実行成功: 結果行数=0
2025-06-28T04:11:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:52: SQL実行成功: 結果行数=1
2025-06-28T04:11:52: SQL実行: 
2025-06-28T04:11:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:52:           FROM contacts 
2025-06-28T04:11:52:           WHERE c... パラメータ数: 1
2025-06-28T04:11:52: SQL実行成功: 結果行数=0
2025-06-28T04:11:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:52: SQL実行成功: 結果行数=1
2025-06-28T04:11:52: SQL実行: 
2025-06-28T04:11:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:52:           FROM contacts 
2025-06-28T04:11:52:           WHERE c... パラメータ数: 1
2025-06-28T04:11:52: SQL実行成功: 結果行数=0
2025-06-28T04:11:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:52: SQL実行成功: 結果行数=1
[2025-06-28T04:11:53.779Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:53: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:11:53: [36m[2025-06-28T04:11:53.779Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:53: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:11:53: SQL実行成功: 結果行数=1
2025-06-28T04:11:53: SQL実行: 
2025-06-28T04:11:53:       SELECT 
2025-06-28T04:11:53:         COUNT(*) as total,
2025-06-28T04:11:53:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:11:53: SQL実行成功: 結果行数=1
2025-06-28T04:11:53: SQL実行: 
2025-06-28T04:11:53:       SELECT 
2025-06-28T04:11:53:         COUNT(*) as total_calls,
2025-06-28T04:11:53:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:11:53.783Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:53: SQL実行成功: 結果行数=1
2025-06-28T04:11:53: [36m[2025-06-28T04:11:53.783Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:57: SQL実行: 
2025-06-28T04:11:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:57:           FROM contacts 
2025-06-28T04:11:57:           WHERE c... パラメータ数: 1
2025-06-28T04:11:57: SQL実行成功: 結果行数=0
2025-06-28T04:11:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:57: SQL実行成功: 結果行数=1
2025-06-28T04:11:57: SQL実行: 
2025-06-28T04:11:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:57:           FROM contacts 
2025-06-28T04:11:57:           WHERE c... パラメータ数: 1
2025-06-28T04:11:57: SQL実行成功: 結果行数=0
2025-06-28T04:11:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:57: SQL実行成功: 結果行数=1
2025-06-28T04:11:57: SQL実行: 
2025-06-28T04:11:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:57:           FROM contacts 
2025-06-28T04:11:57:           WHERE c... パラメータ数: 1
2025-06-28T04:11:57: SQL実行成功: 結果行数=0
2025-06-28T04:11:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:57: SQL実行成功: 結果行数=1
2025-06-28T04:11:57: SQL実行: 
2025-06-28T04:11:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:11:57:           FROM contacts 
2025-06-28T04:11:57:           WHERE c... パラメータ数: 1
2025-06-28T04:11:57: SQL実行成功: 結果行数=0
2025-06-28T04:11:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:11:57: SQL実行成功: 結果行数=1
[2025-06-28T04:11:58.759Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:58: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:11:58: [36m[2025-06-28T04:11:58.759Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:11:58: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:11:58: SQL実行成功: 結果行数=1
2025-06-28T04:11:58: SQL実行: 
2025-06-28T04:11:58:       SELECT 
2025-06-28T04:11:58:         COUNT(*) as total,
2025-06-28T04:11:58:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:11:58: SQL実行成功: 結果行数=1
2025-06-28T04:11:58: SQL実行: 
2025-06-28T04:11:58:       SELECT 
2025-06-28T04:11:58:         COUNT(*) as total_calls,
2025-06-28T04:11:58:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:11:58: SQL実行成功: 結果行数=1
[2025-06-28T04:11:58.762Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:11:58: [36m[2025-06-28T04:11:58.762Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:01: SQL実行: SELECT 1... 
2025-06-28T04:12:01: SQL実行成功: 結果行数=1
2025-06-28T04:12:01: SQL実行: 
2025-06-28T04:12:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:12:01:                ci.number as ca... 
2025-06-28T04:12:01: SQL実行成功: 結果行数=82
2025-06-28T04:12:02: SQL実行: 
2025-06-28T04:12:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:02:           FROM contacts 
2025-06-28T04:12:02:           WHERE c... パラメータ数: 1
2025-06-28T04:12:02: SQL実行成功: 結果行数=0
2025-06-28T04:12:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:02: SQL実行成功: 結果行数=1
2025-06-28T04:12:02: SQL実行: 
2025-06-28T04:12:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:02:           FROM contacts 
2025-06-28T04:12:02:           WHERE c... パラメータ数: 1
2025-06-28T04:12:02: SQL実行成功: 結果行数=0
2025-06-28T04:12:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:02: SQL実行成功: 結果行数=1
2025-06-28T04:12:02: SQL実行: 
2025-06-28T04:12:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:02:           FROM contacts 
2025-06-28T04:12:02:           WHERE c... パラメータ数: 1
2025-06-28T04:12:02: SQL実行成功: 結果行数=0
2025-06-28T04:12:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:02: SQL実行成功: 結果行数=1
2025-06-28T04:12:02: SQL実行: 
2025-06-28T04:12:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:02:           FROM contacts 
2025-06-28T04:12:02:           WHERE c... パラメータ数: 1
2025-06-28T04:12:02: SQL実行成功: 結果行数=0
2025-06-28T04:12:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:02: SQL実行成功: 結果行数=1
[2025-06-28T04:12:03.748Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:03: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:12:03: [36m[2025-06-28T04:12:03.748Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:03: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:12:03: SQL実行成功: 結果行数=1
2025-06-28T04:12:03: SQL実行: 
2025-06-28T04:12:03:       SELECT 
2025-06-28T04:12:03:         COUNT(*) as total,
2025-06-28T04:12:03:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:12:03: SQL実行成功: 結果行数=1
2025-06-28T04:12:03: SQL実行: 
2025-06-28T04:12:03:       SELECT 
2025-06-28T04:12:03:         COUNT(*) as total_calls,
2025-06-28T04:12:03:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:12:03.753Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:03: SQL実行成功: 結果行数=1
2025-06-28T04:12:03: [36m[2025-06-28T04:12:03.753Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:07: SQL実行: 
2025-06-28T04:12:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:07:           FROM contacts 
2025-06-28T04:12:07:           WHERE c... パラメータ数: 1
2025-06-28T04:12:07: SQL実行成功: 結果行数=0
2025-06-28T04:12:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:07: SQL実行成功: 結果行数=1
2025-06-28T04:12:07: SQL実行: 
2025-06-28T04:12:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:07:           FROM contacts 
2025-06-28T04:12:07:           WHERE c... パラメータ数: 1
2025-06-28T04:12:07: SQL実行成功: 結果行数=0
2025-06-28T04:12:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:07: SQL実行成功: 結果行数=1
2025-06-28T04:12:07: SQL実行: 
2025-06-28T04:12:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:07:           FROM contacts 
2025-06-28T04:12:07:           WHERE c... パラメータ数: 1
2025-06-28T04:12:07: SQL実行成功: 結果行数=0
2025-06-28T04:12:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:07: SQL実行成功: 結果行数=1
2025-06-28T04:12:07: SQL実行: 
2025-06-28T04:12:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:07:           FROM contacts 
2025-06-28T04:12:07:           WHERE c... パラメータ数: 1
2025-06-28T04:12:07: SQL実行成功: 結果行数=0
2025-06-28T04:12:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:07: SQL実行成功: 結果行数=1
[2025-06-28T04:12:08.755Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:08: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:12:08: [36m[2025-06-28T04:12:08.755Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:08: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:12:08: SQL実行成功: 結果行数=1
2025-06-28T04:12:08: SQL実行: 
2025-06-28T04:12:08:       SELECT 
2025-06-28T04:12:08:         COUNT(*) as total,
2025-06-28T04:12:08:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:12:08: SQL実行成功: 結果行数=1
2025-06-28T04:12:08: SQL実行: 
2025-06-28T04:12:08:       SELECT 
2025-06-28T04:12:08:         COUNT(*) as total_calls,
2025-06-28T04:12:08:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:12:08.759Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:08: SQL実行成功: 結果行数=1
2025-06-28T04:12:08: [36m[2025-06-28T04:12:08.759Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:12: SQL実行: 
2025-06-28T04:12:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:12:           FROM contacts 
2025-06-28T04:12:12:           WHERE c... パラメータ数: 1
2025-06-28T04:12:12: SQL実行成功: 結果行数=0
2025-06-28T04:12:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:12: SQL実行成功: 結果行数=1
2025-06-28T04:12:12: SQL実行: 
2025-06-28T04:12:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:12:           FROM contacts 
2025-06-28T04:12:12:           WHERE c... パラメータ数: 1
2025-06-28T04:12:12: SQL実行成功: 結果行数=0
2025-06-28T04:12:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:12: SQL実行成功: 結果行数=1
2025-06-28T04:12:12: SQL実行: 
2025-06-28T04:12:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:12:           FROM contacts 
2025-06-28T04:12:12:           WHERE c... パラメータ数: 1
2025-06-28T04:12:12: SQL実行成功: 結果行数=0
2025-06-28T04:12:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:12: SQL実行成功: 結果行数=1
2025-06-28T04:12:12: SQL実行: 
2025-06-28T04:12:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:12:           FROM contacts 
2025-06-28T04:12:12:           WHERE c... パラメータ数: 1
2025-06-28T04:12:12: SQL実行成功: 結果行数=0
2025-06-28T04:12:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:12: SQL実行成功: 結果行数=1
[2025-06-28T04:12:13.749Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:13: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:12:13: [36m[2025-06-28T04:12:13.749Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:13: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:12:13: SQL実行成功: 結果行数=1
2025-06-28T04:12:13: SQL実行: 
2025-06-28T04:12:13:       SELECT 
2025-06-28T04:12:13:         COUNT(*) as total,
2025-06-28T04:12:13:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:12:13: SQL実行成功: 結果行数=1
2025-06-28T04:12:13: SQL実行: 
2025-06-28T04:12:13:       SELECT 
2025-06-28T04:12:13:         COUNT(*) as total_calls,
2025-06-28T04:12:13:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:12:13: SQL実行成功: 結果行数=1
[2025-06-28T04:12:13.753Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:13: [36m[2025-06-28T04:12:13.753Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:16: SQL実行: 
2025-06-28T04:12:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:12:16:                ci.number as ca... 
2025-06-28T04:12:16: SQL実行成功: 結果行数=82
2025-06-28T04:12:17: SQL実行: 
2025-06-28T04:12:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:17:           FROM contacts 
2025-06-28T04:12:17:           WHERE c... パラメータ数: 1
2025-06-28T04:12:17: SQL実行成功: 結果行数=0
2025-06-28T04:12:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:17: SQL実行成功: 結果行数=1
2025-06-28T04:12:17: SQL実行: 
2025-06-28T04:12:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:17:           FROM contacts 
2025-06-28T04:12:17:           WHERE c... パラメータ数: 1
2025-06-28T04:12:17: SQL実行成功: 結果行数=0
2025-06-28T04:12:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:17: SQL実行成功: 結果行数=1
2025-06-28T04:12:17: SQL実行: 
2025-06-28T04:12:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:17:           FROM contacts 
2025-06-28T04:12:17:           WHERE c... パラメータ数: 1
2025-06-28T04:12:17: SQL実行成功: 結果行数=0
2025-06-28T04:12:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:17: SQL実行成功: 結果行数=1
2025-06-28T04:12:17: SQL実行: 
2025-06-28T04:12:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:17:           FROM contacts 
2025-06-28T04:12:17:           WHERE c... パラメータ数: 1
2025-06-28T04:12:17: SQL実行成功: 結果行数=0
2025-06-28T04:12:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:17: SQL実行成功: 結果行数=1
[2025-06-28T04:12:18.753Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:18: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:12:18: [36m[2025-06-28T04:12:18.753Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:18: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:12:18: SQL実行成功: 結果行数=1
2025-06-28T04:12:18: SQL実行: 
2025-06-28T04:12:18:       SELECT 
2025-06-28T04:12:18:         COUNT(*) as total,
2025-06-28T04:12:18:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:12:18: SQL実行成功: 結果行数=1
2025-06-28T04:12:18: SQL実行: 
2025-06-28T04:12:18:       SELECT 
2025-06-28T04:12:18:         COUNT(*) as total_calls,
2025-06-28T04:12:18:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:12:18.757Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:18: SQL実行成功: 結果行数=1
2025-06-28T04:12:18: [36m[2025-06-28T04:12:18.757Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T04:12:21.255Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:12:21: SQL実行成功: 結果行数=1
2025-06-28T04:12:21: [36m[2025-06-28T04:12:21.255Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:12:22: SQL実行: 
2025-06-28T04:12:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:22:           FROM contacts 
2025-06-28T04:12:22:           WHERE c... パラメータ数: 1
2025-06-28T04:12:22: SQL実行成功: 結果行数=0
2025-06-28T04:12:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:22: SQL実行成功: 結果行数=1
2025-06-28T04:12:22: SQL実行: 
2025-06-28T04:12:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:22:           FROM contacts 
2025-06-28T04:12:22:           WHERE c... パラメータ数: 1
2025-06-28T04:12:22: SQL実行成功: 結果行数=0
2025-06-28T04:12:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:22: SQL実行成功: 結果行数=1
2025-06-28T04:12:22: SQL実行: 
2025-06-28T04:12:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:22:           FROM contacts 
2025-06-28T04:12:22:           WHERE c... パラメータ数: 1
2025-06-28T04:12:22: SQL実行成功: 結果行数=0
2025-06-28T04:12:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:22: SQL実行成功: 結果行数=1
2025-06-28T04:12:22: SQL実行: 
2025-06-28T04:12:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:22:           FROM contacts 
2025-06-28T04:12:22:           WHERE c... パラメータ数: 1
2025-06-28T04:12:22: SQL実行成功: 結果行数=0
2025-06-28T04:12:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:22: SQL実行成功: 結果行数=1
[2025-06-28T04:12:23.756Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:23: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:12:23: [36m[2025-06-28T04:12:23.756Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:23: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:12:23: SQL実行成功: 結果行数=1
2025-06-28T04:12:23: SQL実行: 
2025-06-28T04:12:23:       SELECT 
2025-06-28T04:12:23:         COUNT(*) as total,
2025-06-28T04:12:23:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:12:23: SQL実行成功: 結果行数=1
2025-06-28T04:12:23: SQL実行: 
2025-06-28T04:12:23:       SELECT 
2025-06-28T04:12:23:         COUNT(*) as total_calls,
2025-06-28T04:12:23:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:12:23.761Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:23: SQL実行成功: 結果行数=1
2025-06-28T04:12:23: [36m[2025-06-28T04:12:23.761Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:27: SQL実行: 
2025-06-28T04:12:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:27:           FROM contacts 
2025-06-28T04:12:27:           WHERE c... パラメータ数: 1
2025-06-28T04:12:27: SQL実行成功: 結果行数=0
2025-06-28T04:12:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:27: SQL実行成功: 結果行数=1
2025-06-28T04:12:27: SQL実行: 
2025-06-28T04:12:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:27:           FROM contacts 
2025-06-28T04:12:27:           WHERE c... パラメータ数: 1
2025-06-28T04:12:27: SQL実行成功: 結果行数=0
2025-06-28T04:12:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:27: SQL実行成功: 結果行数=1
2025-06-28T04:12:27: SQL実行: 
2025-06-28T04:12:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:27:           FROM contacts 
2025-06-28T04:12:27:           WHERE c... パラメータ数: 1
2025-06-28T04:12:27: SQL実行成功: 結果行数=0
2025-06-28T04:12:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:27: SQL実行成功: 結果行数=1
2025-06-28T04:12:27: SQL実行: 
2025-06-28T04:12:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:27:           FROM contacts 
2025-06-28T04:12:27:           WHERE c... パラメータ数: 1
2025-06-28T04:12:27: SQL実行成功: 結果行数=0
2025-06-28T04:12:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:27: SQL実行成功: 結果行数=1
[2025-06-28T04:12:28.752Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:28: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:12:28: [36m[2025-06-28T04:12:28.752Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:28: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:12:28: SQL実行成功: 結果行数=1
2025-06-28T04:12:28: SQL実行: 
2025-06-28T04:12:28:       SELECT 
2025-06-28T04:12:28:         COUNT(*) as total,
2025-06-28T04:12:28:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:12:28: SQL実行成功: 結果行数=1
2025-06-28T04:12:28: SQL実行: 
2025-06-28T04:12:28:       SELECT 
2025-06-28T04:12:28:         COUNT(*) as total_calls,
2025-06-28T04:12:28:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:12:28.756Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:28: SQL実行成功: 結果行数=1
2025-06-28T04:12:28: [36m[2025-06-28T04:12:28.756Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:31: SQL実行: SELECT 1... 
2025-06-28T04:12:31: SQL実行成功: 結果行数=1
2025-06-28T04:12:31: SQL実行: 
2025-06-28T04:12:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:12:31:                ci.number as ca... 
2025-06-28T04:12:31: SQL実行成功: 結果行数=82
2025-06-28T04:12:32: SQL実行: 
2025-06-28T04:12:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:32:           FROM contacts 
2025-06-28T04:12:32:           WHERE c... パラメータ数: 1
2025-06-28T04:12:32: SQL実行成功: 結果行数=0
2025-06-28T04:12:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:32: SQL実行成功: 結果行数=1
2025-06-28T04:12:32: SQL実行: 
2025-06-28T04:12:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:32:           FROM contacts 
2025-06-28T04:12:32:           WHERE c... パラメータ数: 1
2025-06-28T04:12:32: SQL実行成功: 結果行数=0
2025-06-28T04:12:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:32: SQL実行成功: 結果行数=1
2025-06-28T04:12:32: SQL実行: 
2025-06-28T04:12:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:32:           FROM contacts 
2025-06-28T04:12:32:           WHERE c... パラメータ数: 1
2025-06-28T04:12:32: SQL実行成功: 結果行数=0
2025-06-28T04:12:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:32: SQL実行成功: 結果行数=1
2025-06-28T04:12:32: SQL実行: 
2025-06-28T04:12:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:32:           FROM contacts 
2025-06-28T04:12:32:           WHERE c... パラメータ数: 1
2025-06-28T04:12:32: SQL実行成功: 結果行数=0
2025-06-28T04:12:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:32: SQL実行成功: 結果行数=1
[2025-06-28T04:12:33.749Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:33: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:12:33: [36m[2025-06-28T04:12:33.749Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:33: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:12:33: SQL実行成功: 結果行数=1
2025-06-28T04:12:33: SQL実行: 
2025-06-28T04:12:33:       SELECT 
2025-06-28T04:12:33:         COUNT(*) as total,
2025-06-28T04:12:33:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:12:33: SQL実行成功: 結果行数=1
2025-06-28T04:12:33: SQL実行: 
2025-06-28T04:12:33:       SELECT 
2025-06-28T04:12:33:         COUNT(*) as total_calls,
2025-06-28T04:12:33:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:12:33.753Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:33: SQL実行成功: 結果行数=1
2025-06-28T04:12:33: [36m[2025-06-28T04:12:33.753Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:37: SQL実行: 
2025-06-28T04:12:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:37:           FROM contacts 
2025-06-28T04:12:37:           WHERE c... パラメータ数: 1
2025-06-28T04:12:37: SQL実行成功: 結果行数=0
2025-06-28T04:12:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:37: SQL実行成功: 結果行数=1
2025-06-28T04:12:37: SQL実行: 
2025-06-28T04:12:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:37:           FROM contacts 
2025-06-28T04:12:37:           WHERE c... パラメータ数: 1
2025-06-28T04:12:37: SQL実行成功: 結果行数=0
2025-06-28T04:12:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:37: SQL実行成功: 結果行数=1
2025-06-28T04:12:37: SQL実行: 
2025-06-28T04:12:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:37:           FROM contacts 
2025-06-28T04:12:37:           WHERE c... パラメータ数: 1
2025-06-28T04:12:37: SQL実行成功: 結果行数=0
2025-06-28T04:12:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:37: SQL実行成功: 結果行数=1
2025-06-28T04:12:37: SQL実行: 
2025-06-28T04:12:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:37:           FROM contacts 
2025-06-28T04:12:37:           WHERE c... パラメータ数: 1
2025-06-28T04:12:37: SQL実行成功: 結果行数=0
2025-06-28T04:12:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:37: SQL実行成功: 結果行数=1
[2025-06-28T04:12:38.750Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:38: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:12:38: [36m[2025-06-28T04:12:38.750Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:38: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:12:38: SQL実行成功: 結果行数=1
2025-06-28T04:12:38: SQL実行: 
2025-06-28T04:12:38:       SELECT 
2025-06-28T04:12:38:         COUNT(*) as total,
2025-06-28T04:12:38:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:12:38: SQL実行成功: 結果行数=1
2025-06-28T04:12:38: SQL実行: 
2025-06-28T04:12:38:       SELECT 
2025-06-28T04:12:38:         COUNT(*) as total_calls,
2025-06-28T04:12:38:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:12:38.753Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:38: SQL実行成功: 結果行数=1
2025-06-28T04:12:38: [36m[2025-06-28T04:12:38.753Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:42: SQL実行: 
2025-06-28T04:12:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:42:           FROM contacts 
2025-06-28T04:12:42:           WHERE c... パラメータ数: 1
2025-06-28T04:12:42: SQL実行成功: 結果行数=0
2025-06-28T04:12:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:42: SQL実行成功: 結果行数=1
2025-06-28T04:12:42: SQL実行: 
2025-06-28T04:12:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:42:           FROM contacts 
2025-06-28T04:12:42:           WHERE c... パラメータ数: 1
2025-06-28T04:12:42: SQL実行成功: 結果行数=0
2025-06-28T04:12:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:42: SQL実行成功: 結果行数=1
2025-06-28T04:12:42: SQL実行: 
2025-06-28T04:12:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:42:           FROM contacts 
2025-06-28T04:12:42:           WHERE c... パラメータ数: 1
2025-06-28T04:12:42: SQL実行成功: 結果行数=0
2025-06-28T04:12:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:42: SQL実行成功: 結果行数=1
2025-06-28T04:12:42: SQL実行: 
2025-06-28T04:12:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:42:           FROM contacts 
2025-06-28T04:12:42:           WHERE c... パラメータ数: 1
2025-06-28T04:12:42: SQL実行成功: 結果行数=0
2025-06-28T04:12:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:42: SQL実行成功: 結果行数=1
[2025-06-28T04:12:43.750Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:43: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:12:43: [36m[2025-06-28T04:12:43.750Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:43: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:12:43: SQL実行成功: 結果行数=1
2025-06-28T04:12:43: SQL実行: 
2025-06-28T04:12:43:       SELECT 
2025-06-28T04:12:43:         COUNT(*) as total,
2025-06-28T04:12:43:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:12:43: SQL実行成功: 結果行数=1
2025-06-28T04:12:43: SQL実行: 
2025-06-28T04:12:43:       SELECT 
2025-06-28T04:12:43:         COUNT(*) as total_calls,
2025-06-28T04:12:43:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:12:43.755Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:43: SQL実行成功: 結果行数=1
2025-06-28T04:12:43: [36m[2025-06-28T04:12:43.755Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:46: SQL実行: 
2025-06-28T04:12:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:12:46:                ci.number as ca... 
2025-06-28T04:12:46: SQL実行成功: 結果行数=82
2025-06-28T04:12:47: SQL実行: 
2025-06-28T04:12:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:47:           FROM contacts 
2025-06-28T04:12:47:           WHERE c... パラメータ数: 1
2025-06-28T04:12:47: SQL実行成功: 結果行数=0
2025-06-28T04:12:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:47: SQL実行成功: 結果行数=1
2025-06-28T04:12:47: SQL実行: 
2025-06-28T04:12:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:47:           FROM contacts 
2025-06-28T04:12:47:           WHERE c... パラメータ数: 1
2025-06-28T04:12:47: SQL実行成功: 結果行数=0
2025-06-28T04:12:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:47: SQL実行成功: 結果行数=1
2025-06-28T04:12:47: SQL実行: 
2025-06-28T04:12:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:47:           FROM contacts 
2025-06-28T04:12:47:           WHERE c... パラメータ数: 1
2025-06-28T04:12:47: SQL実行成功: 結果行数=0
2025-06-28T04:12:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:47: SQL実行成功: 結果行数=1
2025-06-28T04:12:47: SQL実行: 
2025-06-28T04:12:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:47:           FROM contacts 
2025-06-28T04:12:47:           WHERE c... パラメータ数: 1
2025-06-28T04:12:47: SQL実行成功: 結果行数=0
2025-06-28T04:12:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:47: SQL実行成功: 結果行数=1
[2025-06-28T04:12:48.749Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:48: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:12:48: [36m[2025-06-28T04:12:48.749Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:48: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:12:48: SQL実行成功: 結果行数=1
2025-06-28T04:12:48: SQL実行: 
2025-06-28T04:12:48:       SELECT 
2025-06-28T04:12:48:         COUNT(*) as total,
2025-06-28T04:12:48:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:12:48: SQL実行成功: 結果行数=1
2025-06-28T04:12:48: SQL実行: 
2025-06-28T04:12:48:       SELECT 
2025-06-28T04:12:48:         COUNT(*) as total_calls,
2025-06-28T04:12:48:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:12:48.753Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:48: SQL実行成功: 結果行数=1
2025-06-28T04:12:48: [36m[2025-06-28T04:12:48.753Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:52: SQL実行: 
2025-06-28T04:12:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:52:           FROM contacts 
2025-06-28T04:12:52:           WHERE c... パラメータ数: 1
2025-06-28T04:12:52: SQL実行成功: 結果行数=0
2025-06-28T04:12:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:52: SQL実行成功: 結果行数=1
2025-06-28T04:12:52: SQL実行: 
2025-06-28T04:12:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:52:           FROM contacts 
2025-06-28T04:12:52:           WHERE c... パラメータ数: 1
2025-06-28T04:12:52: SQL実行成功: 結果行数=0
2025-06-28T04:12:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:52: SQL実行成功: 結果行数=1
2025-06-28T04:12:52: SQL実行: 
2025-06-28T04:12:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:52:           FROM contacts 
2025-06-28T04:12:52:           WHERE c... パラメータ数: 1
2025-06-28T04:12:52: SQL実行成功: 結果行数=0
2025-06-28T04:12:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:52: SQL実行成功: 結果行数=1
2025-06-28T04:12:52: SQL実行: 
2025-06-28T04:12:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:52:           FROM contacts 
2025-06-28T04:12:52:           WHERE c... パラメータ数: 1
2025-06-28T04:12:52: SQL実行成功: 結果行数=0
2025-06-28T04:12:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:52: SQL実行成功: 結果行数=1
2025-06-28T04:12:53: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
[2025-06-28T04:12:53.751Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:53: [36m[2025-06-28T04:12:53.751Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:53: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:12:53: SQL実行成功: 結果行数=1
2025-06-28T04:12:53: SQL実行: 
2025-06-28T04:12:53:       SELECT 
2025-06-28T04:12:53:         COUNT(*) as total,
2025-06-28T04:12:53:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:12:53: SQL実行成功: 結果行数=1
2025-06-28T04:12:53: SQL実行: 
2025-06-28T04:12:53:       SELECT 
2025-06-28T04:12:53:         COUNT(*) as total_calls,
2025-06-28T04:12:53:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:12:53.757Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:53: SQL実行成功: 結果行数=1
2025-06-28T04:12:53: [36m[2025-06-28T04:12:53.757Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:57: SQL実行: 
2025-06-28T04:12:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:57:           FROM contacts 
2025-06-28T04:12:57:           WHERE c... パラメータ数: 1
2025-06-28T04:12:57: SQL実行成功: 結果行数=0
2025-06-28T04:12:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:57: SQL実行成功: 結果行数=1
2025-06-28T04:12:57: SQL実行: 
2025-06-28T04:12:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:57:           FROM contacts 
2025-06-28T04:12:57:           WHERE c... パラメータ数: 1
2025-06-28T04:12:57: SQL実行成功: 結果行数=0
2025-06-28T04:12:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:57: SQL実行成功: 結果行数=1
2025-06-28T04:12:57: SQL実行: 
2025-06-28T04:12:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:57:           FROM contacts 
2025-06-28T04:12:57:           WHERE c... パラメータ数: 1
2025-06-28T04:12:57: SQL実行成功: 結果行数=0
2025-06-28T04:12:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:57: SQL実行成功: 結果行数=1
2025-06-28T04:12:57: SQL実行: 
2025-06-28T04:12:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:12:57:           FROM contacts 
2025-06-28T04:12:57:           WHERE c... パラメータ数: 1
2025-06-28T04:12:57: SQL実行成功: 結果行数=0
2025-06-28T04:12:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:12:57: SQL実行成功: 結果行数=1
[2025-06-28T04:12:58.753Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:58: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:12:58: [36m[2025-06-28T04:12:58.753Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:12:58: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:12:58: SQL実行成功: 結果行数=1
2025-06-28T04:12:58: SQL実行: 
2025-06-28T04:12:58:       SELECT 
2025-06-28T04:12:58:         COUNT(*) as total,
2025-06-28T04:12:58:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:12:58: SQL実行成功: 結果行数=1
2025-06-28T04:12:58: SQL実行: 
2025-06-28T04:12:58:       SELECT 
2025-06-28T04:12:58:         COUNT(*) as total_calls,
2025-06-28T04:12:58:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:12:58.756Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:12:58: SQL実行成功: 結果行数=1
2025-06-28T04:12:58: [36m[2025-06-28T04:12:58.756Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:01: SQL実行: SELECT 1... 
2025-06-28T04:13:01: SQL実行成功: 結果行数=1
2025-06-28T04:13:01: SQL実行: 
2025-06-28T04:13:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:13:01:                ci.number as ca... 
2025-06-28T04:13:01: SQL実行成功: 結果行数=82
2025-06-28T04:13:02: SQL実行: 
2025-06-28T04:13:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:02:           FROM contacts 
2025-06-28T04:13:02:           WHERE c... パラメータ数: 1
2025-06-28T04:13:02: SQL実行成功: 結果行数=0
2025-06-28T04:13:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:02: SQL実行成功: 結果行数=1
2025-06-28T04:13:02: SQL実行: 
2025-06-28T04:13:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:02:           FROM contacts 
2025-06-28T04:13:02:           WHERE c... パラメータ数: 1
2025-06-28T04:13:02: SQL実行成功: 結果行数=0
2025-06-28T04:13:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:02: SQL実行成功: 結果行数=1
2025-06-28T04:13:02: SQL実行: 
2025-06-28T04:13:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:02:           FROM contacts 
2025-06-28T04:13:02:           WHERE c... パラメータ数: 1
2025-06-28T04:13:02: SQL実行成功: 結果行数=0
2025-06-28T04:13:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:02: SQL実行成功: 結果行数=1
2025-06-28T04:13:02: SQL実行: 
2025-06-28T04:13:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:02:           FROM contacts 
2025-06-28T04:13:02:           WHERE c... パラメータ数: 1
2025-06-28T04:13:02: SQL実行成功: 結果行数=0
2025-06-28T04:13:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:02: SQL実行成功: 結果行数=1
[2025-06-28T04:13:03.753Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:03: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:13:03: [36m[2025-06-28T04:13:03.753Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:03: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:13:03: SQL実行成功: 結果行数=1
2025-06-28T04:13:03: SQL実行: 
2025-06-28T04:13:03:       SELECT 
2025-06-28T04:13:03:         COUNT(*) as total,
2025-06-28T04:13:03:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:13:03: SQL実行成功: 結果行数=1
2025-06-28T04:13:03: SQL実行: 
2025-06-28T04:13:03:       SELECT 
2025-06-28T04:13:03:         COUNT(*) as total_calls,
2025-06-28T04:13:03:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:13:03.758Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:03: SQL実行成功: 結果行数=1
2025-06-28T04:13:03: [36m[2025-06-28T04:13:03.758Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:07: SQL実行: 
2025-06-28T04:13:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:07:           FROM contacts 
2025-06-28T04:13:07:           WHERE c... パラメータ数: 1
2025-06-28T04:13:07: SQL実行成功: 結果行数=0
2025-06-28T04:13:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:07: SQL実行成功: 結果行数=1
2025-06-28T04:13:07: SQL実行: 
2025-06-28T04:13:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:07:           FROM contacts 
2025-06-28T04:13:07:           WHERE c... パラメータ数: 1
2025-06-28T04:13:07: SQL実行成功: 結果行数=0
2025-06-28T04:13:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:07: SQL実行成功: 結果行数=1
2025-06-28T04:13:07: SQL実行: 
2025-06-28T04:13:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:07:           FROM contacts 
2025-06-28T04:13:07:           WHERE c... パラメータ数: 1
2025-06-28T04:13:07: SQL実行成功: 結果行数=0
2025-06-28T04:13:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:07: SQL実行成功: 結果行数=1
2025-06-28T04:13:07: SQL実行: 
2025-06-28T04:13:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:07:           FROM contacts 
2025-06-28T04:13:07:           WHERE c... パラメータ数: 1
2025-06-28T04:13:07: SQL実行成功: 結果行数=0
2025-06-28T04:13:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:07: SQL実行成功: 結果行数=1
[2025-06-28T04:13:08.750Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:08: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:13:08: [36m[2025-06-28T04:13:08.750Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:08: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:13:08: SQL実行成功: 結果行数=1
2025-06-28T04:13:08: SQL実行: 
2025-06-28T04:13:08:       SELECT 
2025-06-28T04:13:08:         COUNT(*) as total,
2025-06-28T04:13:08:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:13:08: SQL実行成功: 結果行数=1
2025-06-28T04:13:08: SQL実行: 
2025-06-28T04:13:08:       SELECT 
2025-06-28T04:13:08:         COUNT(*) as total_calls,
2025-06-28T04:13:08:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:13:08.754Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:08: SQL実行成功: 結果行数=1
2025-06-28T04:13:08: [36m[2025-06-28T04:13:08.754Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:12: SQL実行: 
2025-06-28T04:13:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:12:           FROM contacts 
2025-06-28T04:13:12:           WHERE c... パラメータ数: 1
2025-06-28T04:13:12: SQL実行成功: 結果行数=0
2025-06-28T04:13:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:12: SQL実行成功: 結果行数=1
2025-06-28T04:13:12: SQL実行: 
2025-06-28T04:13:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:12:           FROM contacts 
2025-06-28T04:13:12:           WHERE c... パラメータ数: 1
2025-06-28T04:13:12: SQL実行成功: 結果行数=0
2025-06-28T04:13:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:12: SQL実行成功: 結果行数=1
2025-06-28T04:13:12: SQL実行: 
2025-06-28T04:13:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:12:           FROM contacts 
2025-06-28T04:13:12:           WHERE c... パラメータ数: 1
2025-06-28T04:13:12: SQL実行成功: 結果行数=0
2025-06-28T04:13:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:12: SQL実行成功: 結果行数=1
2025-06-28T04:13:12: SQL実行: 
2025-06-28T04:13:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:12:           FROM contacts 
2025-06-28T04:13:12:           WHERE c... パラメータ数: 1
2025-06-28T04:13:12: SQL実行成功: 結果行数=0
2025-06-28T04:13:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:12: SQL実行成功: 結果行数=1
[2025-06-28T04:13:13.758Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:13: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:13:13: [36m[2025-06-28T04:13:13.758Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:13: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:13:13: SQL実行成功: 結果行数=1
2025-06-28T04:13:13: SQL実行: 
2025-06-28T04:13:13:       SELECT 
2025-06-28T04:13:13:         COUNT(*) as total,
2025-06-28T04:13:13:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:13:13: SQL実行成功: 結果行数=1
2025-06-28T04:13:13: SQL実行: 
2025-06-28T04:13:13:       SELECT 
2025-06-28T04:13:13:         COUNT(*) as total_calls,
2025-06-28T04:13:13:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:13:13: SQL実行成功: 結果行数=1
[2025-06-28T04:13:13.761Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:13: [36m[2025-06-28T04:13:13.761Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:16: SQL実行: 
2025-06-28T04:13:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:13:16:                ci.number as ca... 
2025-06-28T04:13:16: SQL実行成功: 結果行数=82
2025-06-28T04:13:17: SQL実行: 
2025-06-28T04:13:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:17:           FROM contacts 
2025-06-28T04:13:17:           WHERE c... パラメータ数: 1
2025-06-28T04:13:17: SQL実行成功: 結果行数=0
2025-06-28T04:13:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:17: SQL実行成功: 結果行数=1
2025-06-28T04:13:17: SQL実行: 
2025-06-28T04:13:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:17:           FROM contacts 
2025-06-28T04:13:17:           WHERE c... パラメータ数: 1
2025-06-28T04:13:17: SQL実行成功: 結果行数=0
2025-06-28T04:13:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:17: SQL実行成功: 結果行数=1
2025-06-28T04:13:17: SQL実行: 
2025-06-28T04:13:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:17:           FROM contacts 
2025-06-28T04:13:17:           WHERE c... パラメータ数: 1
2025-06-28T04:13:17: SQL実行成功: 結果行数=0
2025-06-28T04:13:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:17: SQL実行成功: 結果行数=1
2025-06-28T04:13:17: SQL実行: 
2025-06-28T04:13:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:17:           FROM contacts 
2025-06-28T04:13:17:           WHERE c... パラメータ数: 1
2025-06-28T04:13:17: SQL実行成功: 結果行数=0
2025-06-28T04:13:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:17: SQL実行成功: 結果行数=1
[2025-06-28T04:13:18.753Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:18: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:13:18: [36m[2025-06-28T04:13:18.753Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:18: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:13:18: SQL実行成功: 結果行数=1
2025-06-28T04:13:18: SQL実行: 
2025-06-28T04:13:18:       SELECT 
2025-06-28T04:13:18:         COUNT(*) as total,
2025-06-28T04:13:18:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:13:18: SQL実行成功: 結果行数=1
2025-06-28T04:13:18: SQL実行: 
2025-06-28T04:13:18:       SELECT 
2025-06-28T04:13:18:         COUNT(*) as total_calls,
2025-06-28T04:13:18:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:13:18.757Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:18: SQL実行成功: 結果行数=1
2025-06-28T04:13:18: [36m[2025-06-28T04:13:18.757Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T04:13:21.254Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:13:21: SQL実行成功: 結果行数=1
2025-06-28T04:13:21: [36m[2025-06-28T04:13:21.254Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:13:22: SQL実行: 
2025-06-28T04:13:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:22:           FROM contacts 
2025-06-28T04:13:22:           WHERE c... パラメータ数: 1
2025-06-28T04:13:22: SQL実行成功: 結果行数=0
2025-06-28T04:13:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:22: SQL実行成功: 結果行数=1
2025-06-28T04:13:22: SQL実行: 
2025-06-28T04:13:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:22:           FROM contacts 
2025-06-28T04:13:22:           WHERE c... パラメータ数: 1
2025-06-28T04:13:22: SQL実行成功: 結果行数=0
2025-06-28T04:13:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:22: SQL実行成功: 結果行数=1
2025-06-28T04:13:22: SQL実行: 
2025-06-28T04:13:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:22:           FROM contacts 
2025-06-28T04:13:22:           WHERE c... パラメータ数: 1
2025-06-28T04:13:22: SQL実行成功: 結果行数=0
2025-06-28T04:13:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:22: SQL実行成功: 結果行数=1
2025-06-28T04:13:22: SQL実行: 
2025-06-28T04:13:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:22:           FROM contacts 
2025-06-28T04:13:22:           WHERE c... パラメータ数: 1
2025-06-28T04:13:22: SQL実行成功: 結果行数=0
2025-06-28T04:13:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:22: SQL実行成功: 結果行数=1
[2025-06-28T04:13:23.753Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:23: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:13:23: [36m[2025-06-28T04:13:23.753Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:23: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:13:23: SQL実行成功: 結果行数=1
2025-06-28T04:13:23: SQL実行: 
2025-06-28T04:13:23:       SELECT 
2025-06-28T04:13:23:         COUNT(*) as total,
2025-06-28T04:13:23:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:13:23: SQL実行成功: 結果行数=1
2025-06-28T04:13:23: SQL実行: 
2025-06-28T04:13:23:       SELECT 
2025-06-28T04:13:23:         COUNT(*) as total_calls,
2025-06-28T04:13:23:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:13:23.757Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:23: SQL実行成功: 結果行数=1
2025-06-28T04:13:23: [36m[2025-06-28T04:13:23.757Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:27: SQL実行: 
2025-06-28T04:13:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:27:           FROM contacts 
2025-06-28T04:13:27:           WHERE c... パラメータ数: 1
2025-06-28T04:13:27: SQL実行成功: 結果行数=0
2025-06-28T04:13:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:27: SQL実行成功: 結果行数=1
2025-06-28T04:13:27: SQL実行: 
2025-06-28T04:13:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:27:           FROM contacts 
2025-06-28T04:13:27:           WHERE c... パラメータ数: 1
2025-06-28T04:13:27: SQL実行成功: 結果行数=0
2025-06-28T04:13:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:27: SQL実行成功: 結果行数=1
2025-06-28T04:13:27: SQL実行: 
2025-06-28T04:13:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:27:           FROM contacts 
2025-06-28T04:13:27:           WHERE c... パラメータ数: 1
2025-06-28T04:13:27: SQL実行成功: 結果行数=0
2025-06-28T04:13:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:27: SQL実行成功: 結果行数=1
2025-06-28T04:13:27: SQL実行: 
2025-06-28T04:13:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:27:           FROM contacts 
2025-06-28T04:13:27:           WHERE c... パラメータ数: 1
2025-06-28T04:13:27: SQL実行成功: 結果行数=0
2025-06-28T04:13:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:27: SQL実行成功: 結果行数=1
[2025-06-28T04:13:28.753Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:28: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:13:28: [36m[2025-06-28T04:13:28.753Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:28: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:13:28: SQL実行成功: 結果行数=1
2025-06-28T04:13:28: SQL実行: 
2025-06-28T04:13:28:       SELECT 
2025-06-28T04:13:28:         COUNT(*) as total,
2025-06-28T04:13:28:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
[2025-06-28T04:13:28.756Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:28: SQL実行成功: 結果行数=1
2025-06-28T04:13:28: SQL実行: 
2025-06-28T04:13:28:       SELECT 
2025-06-28T04:13:28:         COUNT(*) as total_calls,
2025-06-28T04:13:28:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:13:28: SQL実行成功: 結果行数=1
2025-06-28T04:13:28: [36m[2025-06-28T04:13:28.756Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:31: SQL実行: SELECT 1... 
2025-06-28T04:13:31: SQL実行成功: 結果行数=1
2025-06-28T04:13:31: SQL実行: 
2025-06-28T04:13:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:13:31:                ci.number as ca... 
2025-06-28T04:13:31: SQL実行成功: 結果行数=82
2025-06-28T04:13:32: SQL実行: 
2025-06-28T04:13:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:32:           FROM contacts 
2025-06-28T04:13:32:           WHERE c... パラメータ数: 1
2025-06-28T04:13:32: SQL実行成功: 結果行数=0
2025-06-28T04:13:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:32: SQL実行成功: 結果行数=1
2025-06-28T04:13:32: SQL実行: 
2025-06-28T04:13:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:32:           FROM contacts 
2025-06-28T04:13:32:           WHERE c... パラメータ数: 1
2025-06-28T04:13:32: SQL実行成功: 結果行数=0
2025-06-28T04:13:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:32: SQL実行成功: 結果行数=1
2025-06-28T04:13:32: SQL実行: 
2025-06-28T04:13:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:32:           FROM contacts 
2025-06-28T04:13:32:           WHERE c... パラメータ数: 1
2025-06-28T04:13:32: SQL実行成功: 結果行数=0
2025-06-28T04:13:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:32: SQL実行成功: 結果行数=1
2025-06-28T04:13:32: SQL実行: 
2025-06-28T04:13:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:32:           FROM contacts 
2025-06-28T04:13:32:           WHERE c... パラメータ数: 1
2025-06-28T04:13:32: SQL実行成功: 結果行数=0
2025-06-28T04:13:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:32: SQL実行成功: 結果行数=1
[2025-06-28T04:13:33.749Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:33: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:13:33: [36m[2025-06-28T04:13:33.749Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:33: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:13:33: SQL実行成功: 結果行数=1
2025-06-28T04:13:33: SQL実行: 
2025-06-28T04:13:33:       SELECT 
2025-06-28T04:13:33:         COUNT(*) as total,
2025-06-28T04:13:33:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:13:33: SQL実行成功: 結果行数=1
2025-06-28T04:13:33: SQL実行: 
2025-06-28T04:13:33:       SELECT 
2025-06-28T04:13:33:         COUNT(*) as total_calls,
2025-06-28T04:13:33:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:13:33.756Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:33: SQL実行成功: 結果行数=1
2025-06-28T04:13:33: [36m[2025-06-28T04:13:33.756Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:37: SQL実行: 
2025-06-28T04:13:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:37:           FROM contacts 
2025-06-28T04:13:37:           WHERE c... パラメータ数: 1
2025-06-28T04:13:37: SQL実行成功: 結果行数=0
2025-06-28T04:13:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:37: SQL実行成功: 結果行数=1
2025-06-28T04:13:37: SQL実行: 
2025-06-28T04:13:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:37:           FROM contacts 
2025-06-28T04:13:37:           WHERE c... パラメータ数: 1
2025-06-28T04:13:37: SQL実行成功: 結果行数=0
2025-06-28T04:13:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:37: SQL実行成功: 結果行数=1
2025-06-28T04:13:37: SQL実行: 
2025-06-28T04:13:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:37:           FROM contacts 
2025-06-28T04:13:37:           WHERE c... パラメータ数: 1
2025-06-28T04:13:37: SQL実行成功: 結果行数=0
2025-06-28T04:13:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:37: SQL実行成功: 結果行数=1
2025-06-28T04:13:37: SQL実行: 
2025-06-28T04:13:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:37:           FROM contacts 
2025-06-28T04:13:37:           WHERE c... パラメータ数: 1
2025-06-28T04:13:37: SQL実行成功: 結果行数=0
2025-06-28T04:13:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:37: SQL実行成功: 結果行数=1
[2025-06-28T04:13:38.753Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:38: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:13:38: [36m[2025-06-28T04:13:38.753Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:38: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:13:38: SQL実行成功: 結果行数=1
2025-06-28T04:13:38: SQL実行: 
2025-06-28T04:13:38:       SELECT 
2025-06-28T04:13:38:         COUNT(*) as total,
2025-06-28T04:13:38:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:13:38: SQL実行成功: 結果行数=1
2025-06-28T04:13:38: SQL実行: 
2025-06-28T04:13:38:       SELECT 
2025-06-28T04:13:38:         COUNT(*) as total_calls,
2025-06-28T04:13:38:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:13:38: SQL実行成功: 結果行数=1
[2025-06-28T04:13:38.756Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:38: [36m[2025-06-28T04:13:38.756Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:42: SQL実行: 
2025-06-28T04:13:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:42:           FROM contacts 
2025-06-28T04:13:42:           WHERE c... パラメータ数: 1
2025-06-28T04:13:42: SQL実行成功: 結果行数=0
2025-06-28T04:13:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:42: SQL実行成功: 結果行数=1
2025-06-28T04:13:42: SQL実行: 
2025-06-28T04:13:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:42:           FROM contacts 
2025-06-28T04:13:42:           WHERE c... パラメータ数: 1
2025-06-28T04:13:42: SQL実行成功: 結果行数=0
2025-06-28T04:13:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:42: SQL実行成功: 結果行数=1
2025-06-28T04:13:42: SQL実行: 
2025-06-28T04:13:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:42:           FROM contacts 
2025-06-28T04:13:42:           WHERE c... パラメータ数: 1
2025-06-28T04:13:42: SQL実行成功: 結果行数=0
2025-06-28T04:13:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:42: SQL実行成功: 結果行数=1
2025-06-28T04:13:42: SQL実行: 
2025-06-28T04:13:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:42:           FROM contacts 
2025-06-28T04:13:42:           WHERE c... パラメータ数: 1
2025-06-28T04:13:42: SQL実行成功: 結果行数=0
2025-06-28T04:13:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:42: SQL実行成功: 結果行数=1
[2025-06-28T04:13:43.753Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:43: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:13:43: [36m[2025-06-28T04:13:43.753Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:43: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:13:43: SQL実行成功: 結果行数=1
2025-06-28T04:13:43: SQL実行: 
2025-06-28T04:13:43:       SELECT 
2025-06-28T04:13:43:         COUNT(*) as total,
2025-06-28T04:13:43:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:13:43: SQL実行成功: 結果行数=1
2025-06-28T04:13:43: SQL実行: 
2025-06-28T04:13:43:       SELECT 
2025-06-28T04:13:43:         COUNT(*) as total_calls,
2025-06-28T04:13:43:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:13:43.757Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:43: SQL実行成功: 結果行数=1
2025-06-28T04:13:43: [36m[2025-06-28T04:13:43.757Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:46: SQL実行: 
2025-06-28T04:13:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:13:46:                ci.number as ca... 
2025-06-28T04:13:46: SQL実行成功: 結果行数=82
2025-06-28T04:13:47: SQL実行: 
2025-06-28T04:13:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:47:           FROM contacts 
2025-06-28T04:13:47:           WHERE c... パラメータ数: 1
2025-06-28T04:13:47: SQL実行成功: 結果行数=0
2025-06-28T04:13:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:47: SQL実行成功: 結果行数=1
2025-06-28T04:13:47: SQL実行: 
2025-06-28T04:13:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:47:           FROM contacts 
2025-06-28T04:13:47:           WHERE c... パラメータ数: 1
2025-06-28T04:13:47: SQL実行成功: 結果行数=0
2025-06-28T04:13:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:47: SQL実行成功: 結果行数=1
2025-06-28T04:13:47: SQL実行: 
2025-06-28T04:13:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:47:           FROM contacts 
2025-06-28T04:13:47:           WHERE c... パラメータ数: 1
2025-06-28T04:13:47: SQL実行成功: 結果行数=0
2025-06-28T04:13:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:47: SQL実行成功: 結果行数=1
2025-06-28T04:13:47: SQL実行: 
2025-06-28T04:13:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:47:           FROM contacts 
2025-06-28T04:13:47:           WHERE c... パラメータ数: 1
2025-06-28T04:13:47: SQL実行成功: 結果行数=0
2025-06-28T04:13:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:47: SQL実行成功: 結果行数=1
[2025-06-28T04:13:48.749Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:48: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:13:48: [36m[2025-06-28T04:13:48.749Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:48: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:13:48: SQL実行成功: 結果行数=1
2025-06-28T04:13:48: SQL実行: 
2025-06-28T04:13:48:       SELECT 
2025-06-28T04:13:48:         COUNT(*) as total,
2025-06-28T04:13:48:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:13:48: SQL実行成功: 結果行数=1
2025-06-28T04:13:48: SQL実行: 
2025-06-28T04:13:48:       SELECT 
2025-06-28T04:13:48:         COUNT(*) as total_calls,
2025-06-28T04:13:48:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:13:48.754Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:48: SQL実行成功: 結果行数=1
2025-06-28T04:13:48: [36m[2025-06-28T04:13:48.754Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:52: SQL実行: 
2025-06-28T04:13:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:52:           FROM contacts 
2025-06-28T04:13:52:           WHERE c... パラメータ数: 1
2025-06-28T04:13:52: SQL実行成功: 結果行数=0
2025-06-28T04:13:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:52: SQL実行成功: 結果行数=1
2025-06-28T04:13:52: SQL実行: 
2025-06-28T04:13:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:52:           FROM contacts 
2025-06-28T04:13:52:           WHERE c... パラメータ数: 1
2025-06-28T04:13:52: SQL実行成功: 結果行数=0
2025-06-28T04:13:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:52: SQL実行成功: 結果行数=1
2025-06-28T04:13:52: SQL実行: 
2025-06-28T04:13:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:52:           FROM contacts 
2025-06-28T04:13:52:           WHERE c... パラメータ数: 1
2025-06-28T04:13:52: SQL実行成功: 結果行数=0
2025-06-28T04:13:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:52: SQL実行成功: 結果行数=1
2025-06-28T04:13:52: SQL実行: 
2025-06-28T04:13:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:52:           FROM contacts 
2025-06-28T04:13:52:           WHERE c... パラメータ数: 1
2025-06-28T04:13:52: SQL実行成功: 結果行数=0
2025-06-28T04:13:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:52: SQL実行成功: 結果行数=1
[2025-06-28T04:13:53.752Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:53: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:13:53: [36m[2025-06-28T04:13:53.752Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:53: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:13:53: SQL実行成功: 結果行数=1
2025-06-28T04:13:53: SQL実行: 
2025-06-28T04:13:53:       SELECT 
2025-06-28T04:13:53:         COUNT(*) as total,
2025-06-28T04:13:53:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:13:53: SQL実行成功: 結果行数=1
2025-06-28T04:13:53: SQL実行: 
2025-06-28T04:13:53:       SELECT 
2025-06-28T04:13:53:         COUNT(*) as total_calls,
2025-06-28T04:13:53:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:13:53.757Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:53: SQL実行成功: 結果行数=1
2025-06-28T04:13:53: [36m[2025-06-28T04:13:53.757Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:57: SQL実行: 
2025-06-28T04:13:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:57:           FROM contacts 
2025-06-28T04:13:57:           WHERE c... パラメータ数: 1
2025-06-28T04:13:57: SQL実行成功: 結果行数=0
2025-06-28T04:13:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:57: SQL実行成功: 結果行数=1
2025-06-28T04:13:57: SQL実行: 
2025-06-28T04:13:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:57:           FROM contacts 
2025-06-28T04:13:57:           WHERE c... パラメータ数: 1
2025-06-28T04:13:57: SQL実行成功: 結果行数=0
2025-06-28T04:13:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:57: SQL実行成功: 結果行数=1
2025-06-28T04:13:57: SQL実行: 
2025-06-28T04:13:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:57:           FROM contacts 
2025-06-28T04:13:57:           WHERE c... パラメータ数: 1
2025-06-28T04:13:57: SQL実行成功: 結果行数=0
2025-06-28T04:13:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:57: SQL実行成功: 結果行数=1
2025-06-28T04:13:57: SQL実行: 
2025-06-28T04:13:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:13:57:           FROM contacts 
2025-06-28T04:13:57:           WHERE c... パラメータ数: 1
2025-06-28T04:13:57: SQL実行成功: 結果行数=0
2025-06-28T04:13:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:13:57: SQL実行成功: 結果行数=1
[2025-06-28T04:13:58.753Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:58: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:13:58: [36m[2025-06-28T04:13:58.753Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:13:58: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:13:58: SQL実行成功: 結果行数=1
2025-06-28T04:13:58: SQL実行: 
2025-06-28T04:13:58:       SELECT 
2025-06-28T04:13:58:         COUNT(*) as total,
2025-06-28T04:13:58:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:13:58: SQL実行成功: 結果行数=1
2025-06-28T04:13:58: SQL実行: 
2025-06-28T04:13:58:       SELECT 
2025-06-28T04:13:58:         COUNT(*) as total_calls,
2025-06-28T04:13:58:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:13:58: SQL実行成功: 結果行数=1
[2025-06-28T04:13:58.757Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:13:58: [36m[2025-06-28T04:13:58.757Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:01: SQL実行: SELECT 1... 
2025-06-28T04:14:01: SQL実行成功: 結果行数=1
2025-06-28T04:14:01: SQL実行: 
2025-06-28T04:14:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:14:01:                ci.number as ca... 
2025-06-28T04:14:01: SQL実行成功: 結果行数=82
2025-06-28T04:14:02: SQL実行: 
2025-06-28T04:14:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:02:           FROM contacts 
2025-06-28T04:14:02:           WHERE c... パラメータ数: 1
2025-06-28T04:14:02: SQL実行成功: 結果行数=0
2025-06-28T04:14:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:02: SQL実行成功: 結果行数=1
2025-06-28T04:14:02: SQL実行: 
2025-06-28T04:14:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:02:           FROM contacts 
2025-06-28T04:14:02:           WHERE c... パラメータ数: 1
2025-06-28T04:14:02: SQL実行成功: 結果行数=0
2025-06-28T04:14:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:02: SQL実行成功: 結果行数=1
2025-06-28T04:14:02: SQL実行: 
2025-06-28T04:14:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:02:           FROM contacts 
2025-06-28T04:14:02:           WHERE c... パラメータ数: 1
2025-06-28T04:14:02: SQL実行成功: 結果行数=0
2025-06-28T04:14:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:02: SQL実行成功: 結果行数=1
2025-06-28T04:14:02: SQL実行: 
2025-06-28T04:14:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:02:           FROM contacts 
2025-06-28T04:14:02:           WHERE c... パラメータ数: 1
2025-06-28T04:14:02: SQL実行成功: 結果行数=0
2025-06-28T04:14:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:02: SQL実行成功: 結果行数=1
[2025-06-28T04:14:03.754Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:03: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:14:03: [36m[2025-06-28T04:14:03.754Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:03: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:14:03: SQL実行成功: 結果行数=1
2025-06-28T04:14:03: SQL実行: 
2025-06-28T04:14:03:       SELECT 
2025-06-28T04:14:03:         COUNT(*) as total,
2025-06-28T04:14:03:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:14:03: SQL実行成功: 結果行数=1
2025-06-28T04:14:03: SQL実行: 
2025-06-28T04:14:03:       SELECT 
2025-06-28T04:14:03:         COUNT(*) as total_calls,
2025-06-28T04:14:03:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:14:03.759Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:03: SQL実行成功: 結果行数=1
2025-06-28T04:14:03: [36m[2025-06-28T04:14:03.759Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:07: SQL実行: 
2025-06-28T04:14:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:07:           FROM contacts 
2025-06-28T04:14:07:           WHERE c... パラメータ数: 1
2025-06-28T04:14:07: SQL実行成功: 結果行数=0
2025-06-28T04:14:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:07: SQL実行成功: 結果行数=1
2025-06-28T04:14:07: SQL実行: 
2025-06-28T04:14:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:07:           FROM contacts 
2025-06-28T04:14:07:           WHERE c... パラメータ数: 1
2025-06-28T04:14:07: SQL実行成功: 結果行数=0
2025-06-28T04:14:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:07: SQL実行成功: 結果行数=1
2025-06-28T04:14:07: SQL実行: 
2025-06-28T04:14:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:07:           FROM contacts 
2025-06-28T04:14:07:           WHERE c... パラメータ数: 1
2025-06-28T04:14:07: SQL実行成功: 結果行数=0
2025-06-28T04:14:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:07: SQL実行成功: 結果行数=1
2025-06-28T04:14:07: SQL実行: 
2025-06-28T04:14:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:07:           FROM contacts 
2025-06-28T04:14:07:           WHERE c... パラメータ数: 1
2025-06-28T04:14:07: SQL実行成功: 結果行数=0
2025-06-28T04:14:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:07: SQL実行成功: 結果行数=1
[2025-06-28T04:14:08.751Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:08: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:14:08: [36m[2025-06-28T04:14:08.751Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:08: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:14:08: SQL実行成功: 結果行数=1
2025-06-28T04:14:08: SQL実行: 
2025-06-28T04:14:08:       SELECT 
2025-06-28T04:14:08:         COUNT(*) as total,
2025-06-28T04:14:08:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:14:08: SQL実行成功: 結果行数=1
2025-06-28T04:14:08: SQL実行: 
2025-06-28T04:14:08:       SELECT 
2025-06-28T04:14:08:         COUNT(*) as total_calls,
2025-06-28T04:14:08:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:14:08.754Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:08: SQL実行成功: 結果行数=1
2025-06-28T04:14:08: [36m[2025-06-28T04:14:08.754Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:12: SQL実行: 
2025-06-28T04:14:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:12:           FROM contacts 
2025-06-28T04:14:12:           WHERE c... パラメータ数: 1
2025-06-28T04:14:12: SQL実行成功: 結果行数=0
2025-06-28T04:14:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:12: SQL実行成功: 結果行数=1
2025-06-28T04:14:12: SQL実行: 
2025-06-28T04:14:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:12:           FROM contacts 
2025-06-28T04:14:12:           WHERE c... パラメータ数: 1
2025-06-28T04:14:12: SQL実行成功: 結果行数=0
2025-06-28T04:14:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:12: SQL実行成功: 結果行数=1
2025-06-28T04:14:12: SQL実行: 
2025-06-28T04:14:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:12:           FROM contacts 
2025-06-28T04:14:12:           WHERE c... パラメータ数: 1
2025-06-28T04:14:12: SQL実行成功: 結果行数=0
2025-06-28T04:14:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:12: SQL実行成功: 結果行数=1
2025-06-28T04:14:12: SQL実行: 
2025-06-28T04:14:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:12:           FROM contacts 
2025-06-28T04:14:12:           WHERE c... パラメータ数: 1
2025-06-28T04:14:12: SQL実行成功: 結果行数=0
2025-06-28T04:14:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:12: SQL実行成功: 結果行数=1
[2025-06-28T04:14:13.749Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:13: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:14:13: [36m[2025-06-28T04:14:13.749Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:13: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:14:13: SQL実行成功: 結果行数=1
2025-06-28T04:14:13: SQL実行: 
2025-06-28T04:14:13:       SELECT 
2025-06-28T04:14:13:         COUNT(*) as total,
2025-06-28T04:14:13:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:14:13: SQL実行成功: 結果行数=1
2025-06-28T04:14:13: SQL実行: 
2025-06-28T04:14:13:       SELECT 
2025-06-28T04:14:13:         COUNT(*) as total_calls,
2025-06-28T04:14:13:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:14:13.753Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:13: SQL実行成功: 結果行数=1
2025-06-28T04:14:13: [36m[2025-06-28T04:14:13.753Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:16: SQL実行: 
2025-06-28T04:14:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:14:16:                ci.number as ca... 
2025-06-28T04:14:16: SQL実行成功: 結果行数=82
2025-06-28T04:14:17: SQL実行: 
2025-06-28T04:14:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:17:           FROM contacts 
2025-06-28T04:14:17:           WHERE c... パラメータ数: 1
2025-06-28T04:14:17: SQL実行成功: 結果行数=0
2025-06-28T04:14:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:17: SQL実行成功: 結果行数=1
2025-06-28T04:14:17: SQL実行: 
2025-06-28T04:14:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:17:           FROM contacts 
2025-06-28T04:14:17:           WHERE c... パラメータ数: 1
2025-06-28T04:14:17: SQL実行成功: 結果行数=0
2025-06-28T04:14:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:17: SQL実行成功: 結果行数=1
2025-06-28T04:14:17: SQL実行: 
2025-06-28T04:14:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:17:           FROM contacts 
2025-06-28T04:14:17:           WHERE c... パラメータ数: 1
2025-06-28T04:14:17: SQL実行成功: 結果行数=0
2025-06-28T04:14:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:17: SQL実行成功: 結果行数=1
2025-06-28T04:14:17: SQL実行: 
2025-06-28T04:14:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:17:           FROM contacts 
2025-06-28T04:14:17:           WHERE c... パラメータ数: 1
2025-06-28T04:14:17: SQL実行成功: 結果行数=0
2025-06-28T04:14:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:17: SQL実行成功: 結果行数=1
[2025-06-28T04:14:18.751Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:18: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:14:18: [36m[2025-06-28T04:14:18.751Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:18: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:14:18: SQL実行成功: 結果行数=1
2025-06-28T04:14:18: SQL実行: 
2025-06-28T04:14:18:       SELECT 
2025-06-28T04:14:18:         COUNT(*) as total,
2025-06-28T04:14:18:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:14:18: SQL実行成功: 結果行数=1
2025-06-28T04:14:18: SQL実行: 
2025-06-28T04:14:18:       SELECT 
2025-06-28T04:14:18:         COUNT(*) as total_calls,
2025-06-28T04:14:18:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:14:18: SQL実行成功: 結果行数=1
[2025-06-28T04:14:18.754Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:18: [36m[2025-06-28T04:14:18.754Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T04:14:21.256Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:14:21: SQL実行成功: 結果行数=1
2025-06-28T04:14:21: [36m[2025-06-28T04:14:21.256Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:14:22: SQL実行: 
2025-06-28T04:14:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:22:           FROM contacts 
2025-06-28T04:14:22:           WHERE c... パラメータ数: 1
2025-06-28T04:14:22: SQL実行成功: 結果行数=0
2025-06-28T04:14:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:22: SQL実行成功: 結果行数=1
2025-06-28T04:14:22: SQL実行: 
2025-06-28T04:14:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:22:           FROM contacts 
2025-06-28T04:14:22:           WHERE c... パラメータ数: 1
2025-06-28T04:14:22: SQL実行成功: 結果行数=0
2025-06-28T04:14:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:22: SQL実行成功: 結果行数=1
2025-06-28T04:14:22: SQL実行: 
2025-06-28T04:14:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:22:           FROM contacts 
2025-06-28T04:14:22:           WHERE c... パラメータ数: 1
2025-06-28T04:14:22: SQL実行成功: 結果行数=0
2025-06-28T04:14:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:22: SQL実行成功: 結果行数=1
2025-06-28T04:14:22: SQL実行: 
2025-06-28T04:14:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:22:           FROM contacts 
2025-06-28T04:14:22:           WHERE c... パラメータ数: 1
2025-06-28T04:14:22: SQL実行成功: 結果行数=0
2025-06-28T04:14:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:22: SQL実行成功: 結果行数=1
[2025-06-28T04:14:23.753Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:23: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:14:23: [36m[2025-06-28T04:14:23.753Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:23: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:14:23: SQL実行成功: 結果行数=1
2025-06-28T04:14:23: SQL実行: 
2025-06-28T04:14:23:       SELECT 
2025-06-28T04:14:23:         COUNT(*) as total,
2025-06-28T04:14:23:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:14:23: SQL実行成功: 結果行数=1
2025-06-28T04:14:23: SQL実行: 
2025-06-28T04:14:23:       SELECT 
2025-06-28T04:14:23:         COUNT(*) as total_calls,
2025-06-28T04:14:23:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:14:23.757Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:23: SQL実行成功: 結果行数=1
2025-06-28T04:14:23: [36m[2025-06-28T04:14:23.757Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:27: SQL実行: 
2025-06-28T04:14:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:27:           FROM contacts 
2025-06-28T04:14:27:           WHERE c... パラメータ数: 1
2025-06-28T04:14:27: SQL実行成功: 結果行数=0
2025-06-28T04:14:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:27: SQL実行成功: 結果行数=1
2025-06-28T04:14:27: SQL実行: 
2025-06-28T04:14:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:27:           FROM contacts 
2025-06-28T04:14:27:           WHERE c... パラメータ数: 1
2025-06-28T04:14:27: SQL実行成功: 結果行数=0
2025-06-28T04:14:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:27: SQL実行成功: 結果行数=1
2025-06-28T04:14:27: SQL実行: 
2025-06-28T04:14:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:27:           FROM contacts 
2025-06-28T04:14:27:           WHERE c... パラメータ数: 1
2025-06-28T04:14:27: SQL実行成功: 結果行数=0
2025-06-28T04:14:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:27: SQL実行成功: 結果行数=1
2025-06-28T04:14:27: SQL実行: 
2025-06-28T04:14:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:27:           FROM contacts 
2025-06-28T04:14:27:           WHERE c... パラメータ数: 1
2025-06-28T04:14:27: SQL実行成功: 結果行数=0
2025-06-28T04:14:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:27: SQL実行成功: 結果行数=1
[2025-06-28T04:14:28.749Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:28: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:14:28: [36m[2025-06-28T04:14:28.749Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:28: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:14:28: SQL実行成功: 結果行数=1
2025-06-28T04:14:28: SQL実行: 
2025-06-28T04:14:28:       SELECT 
2025-06-28T04:14:28:         COUNT(*) as total,
2025-06-28T04:14:28:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:14:28: SQL実行成功: 結果行数=1
2025-06-28T04:14:28: SQL実行: 
2025-06-28T04:14:28:       SELECT 
2025-06-28T04:14:28:         COUNT(*) as total_calls,
2025-06-28T04:14:28:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:14:28: SQL実行成功: 結果行数=1
[2025-06-28T04:14:28.752Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:28: [36m[2025-06-28T04:14:28.752Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:31: SQL実行: SELECT 1... 
2025-06-28T04:14:31: SQL実行成功: 結果行数=1
2025-06-28T04:14:31: SQL実行: 
2025-06-28T04:14:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:14:31:                ci.number as ca... 
2025-06-28T04:14:31: SQL実行成功: 結果行数=82
2025-06-28T04:14:32: SQL実行: 
2025-06-28T04:14:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:32:           FROM contacts 
2025-06-28T04:14:32:           WHERE c... パラメータ数: 1
2025-06-28T04:14:32: SQL実行成功: 結果行数=0
2025-06-28T04:14:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:32: SQL実行成功: 結果行数=1
2025-06-28T04:14:32: SQL実行: 
2025-06-28T04:14:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:32:           FROM contacts 
2025-06-28T04:14:32:           WHERE c... パラメータ数: 1
2025-06-28T04:14:32: SQL実行成功: 結果行数=0
2025-06-28T04:14:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:32: SQL実行成功: 結果行数=1
2025-06-28T04:14:32: SQL実行: 
2025-06-28T04:14:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:32:           FROM contacts 
2025-06-28T04:14:32:           WHERE c... パラメータ数: 1
2025-06-28T04:14:32: SQL実行成功: 結果行数=0
2025-06-28T04:14:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:32: SQL実行成功: 結果行数=1
2025-06-28T04:14:32: SQL実行: 
2025-06-28T04:14:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:32:           FROM contacts 
2025-06-28T04:14:32:           WHERE c... パラメータ数: 1
2025-06-28T04:14:32: SQL実行成功: 結果行数=0
2025-06-28T04:14:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:32: SQL実行成功: 結果行数=1
[2025-06-28T04:14:33.752Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:33: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:14:33: [36m[2025-06-28T04:14:33.752Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:33: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:14:33: SQL実行成功: 結果行数=1
2025-06-28T04:14:33: SQL実行: 
2025-06-28T04:14:33:       SELECT 
2025-06-28T04:14:33:         COUNT(*) as total,
2025-06-28T04:14:33:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:14:33: SQL実行成功: 結果行数=1
2025-06-28T04:14:33: SQL実行: 
2025-06-28T04:14:33:       SELECT 
2025-06-28T04:14:33:         COUNT(*) as total_calls,
2025-06-28T04:14:33:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:14:33: SQL実行成功: 結果行数=1
[2025-06-28T04:14:33.757Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:33: [36m[2025-06-28T04:14:33.757Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:37: SQL実行: 
2025-06-28T04:14:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:37:           FROM contacts 
2025-06-28T04:14:37:           WHERE c... パラメータ数: 1
2025-06-28T04:14:37: SQL実行成功: 結果行数=0
2025-06-28T04:14:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:37: SQL実行成功: 結果行数=1
2025-06-28T04:14:37: SQL実行: 
2025-06-28T04:14:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:37:           FROM contacts 
2025-06-28T04:14:37:           WHERE c... パラメータ数: 1
2025-06-28T04:14:37: SQL実行成功: 結果行数=0
2025-06-28T04:14:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:37: SQL実行成功: 結果行数=1
2025-06-28T04:14:37: SQL実行: 
2025-06-28T04:14:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:37:           FROM contacts 
2025-06-28T04:14:37:           WHERE c... パラメータ数: 1
2025-06-28T04:14:37: SQL実行成功: 結果行数=0
2025-06-28T04:14:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:37: SQL実行成功: 結果行数=1
2025-06-28T04:14:37: SQL実行: 
2025-06-28T04:14:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:37:           FROM contacts 
2025-06-28T04:14:37:           WHERE c... パラメータ数: 1
2025-06-28T04:14:37: SQL実行成功: 結果行数=0
2025-06-28T04:14:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:37: SQL実行成功: 結果行数=1
[2025-06-28T04:14:38.753Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:38: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:14:38: [36m[2025-06-28T04:14:38.753Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:38: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:14:38: SQL実行成功: 結果行数=1
2025-06-28T04:14:38: SQL実行: 
2025-06-28T04:14:38:       SELECT 
2025-06-28T04:14:38:         COUNT(*) as total,
2025-06-28T04:14:38:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:14:38: SQL実行成功: 結果行数=1
2025-06-28T04:14:38: SQL実行: 
2025-06-28T04:14:38:       SELECT 
2025-06-28T04:14:38:         COUNT(*) as total_calls,
2025-06-28T04:14:38:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:14:38.761Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:38: SQL実行成功: 結果行数=1
2025-06-28T04:14:38: [36m[2025-06-28T04:14:38.761Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:42: SQL実行: 
2025-06-28T04:14:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:42:           FROM contacts 
2025-06-28T04:14:42:           WHERE c... パラメータ数: 1
2025-06-28T04:14:42: SQL実行成功: 結果行数=0
2025-06-28T04:14:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:42: SQL実行成功: 結果行数=1
2025-06-28T04:14:42: SQL実行: 
2025-06-28T04:14:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:42:           FROM contacts 
2025-06-28T04:14:42:           WHERE c... パラメータ数: 1
2025-06-28T04:14:42: SQL実行成功: 結果行数=0
2025-06-28T04:14:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:42: SQL実行成功: 結果行数=1
2025-06-28T04:14:42: SQL実行: 
2025-06-28T04:14:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:42:           FROM contacts 
2025-06-28T04:14:42:           WHERE c... パラメータ数: 1
2025-06-28T04:14:42: SQL実行成功: 結果行数=0
2025-06-28T04:14:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:42: SQL実行成功: 結果行数=1
2025-06-28T04:14:42: SQL実行: 
2025-06-28T04:14:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:42:           FROM contacts 
2025-06-28T04:14:42:           WHERE c... パラメータ数: 1
2025-06-28T04:14:42: SQL実行成功: 結果行数=0
2025-06-28T04:14:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:42: SQL実行成功: 結果行数=1
[2025-06-28T04:14:43.752Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:43: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:14:43: [36m[2025-06-28T04:14:43.752Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:43: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:14:43: SQL実行成功: 結果行数=1
2025-06-28T04:14:43: SQL実行: 
2025-06-28T04:14:43:       SELECT 
2025-06-28T04:14:43:         COUNT(*) as total,
2025-06-28T04:14:43:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:14:43: SQL実行成功: 結果行数=1
2025-06-28T04:14:43: SQL実行: 
2025-06-28T04:14:43:       SELECT 
2025-06-28T04:14:43:         COUNT(*) as total_calls,
2025-06-28T04:14:43:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:14:43.757Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:43: SQL実行成功: 結果行数=1
2025-06-28T04:14:43: [36m[2025-06-28T04:14:43.757Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:46: SQL実行: 
2025-06-28T04:14:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:14:46:                ci.number as ca... 
2025-06-28T04:14:46: SQL実行成功: 結果行数=82
2025-06-28T04:14:47: SQL実行: 
2025-06-28T04:14:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:47:           FROM contacts 
2025-06-28T04:14:47:           WHERE c... パラメータ数: 1
2025-06-28T04:14:47: SQL実行成功: 結果行数=0
2025-06-28T04:14:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:47: SQL実行成功: 結果行数=1
2025-06-28T04:14:47: SQL実行: 
2025-06-28T04:14:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:47:           FROM contacts 
2025-06-28T04:14:47:           WHERE c... パラメータ数: 1
2025-06-28T04:14:47: SQL実行成功: 結果行数=0
2025-06-28T04:14:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:47: SQL実行成功: 結果行数=1
2025-06-28T04:14:47: SQL実行: 
2025-06-28T04:14:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:47:           FROM contacts 
2025-06-28T04:14:47:           WHERE c... パラメータ数: 1
2025-06-28T04:14:47: SQL実行成功: 結果行数=0
2025-06-28T04:14:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:47: SQL実行成功: 結果行数=1
2025-06-28T04:14:47: SQL実行: 
2025-06-28T04:14:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:47:           FROM contacts 
2025-06-28T04:14:47:           WHERE c... パラメータ数: 1
2025-06-28T04:14:47: SQL実行成功: 結果行数=0
2025-06-28T04:14:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:47: SQL実行成功: 結果行数=1
[2025-06-28T04:14:48.751Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:48: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:14:48: [36m[2025-06-28T04:14:48.751Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:48: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:14:48: SQL実行成功: 結果行数=1
2025-06-28T04:14:48: SQL実行: 
2025-06-28T04:14:48:       SELECT 
2025-06-28T04:14:48:         COUNT(*) as total,
2025-06-28T04:14:48:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:14:48: SQL実行成功: 結果行数=1
2025-06-28T04:14:48: SQL実行: 
2025-06-28T04:14:48:       SELECT 
2025-06-28T04:14:48:         COUNT(*) as total_calls,
2025-06-28T04:14:48:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:14:48.755Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:48: SQL実行成功: 結果行数=1
2025-06-28T04:14:48: [36m[2025-06-28T04:14:48.755Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:52: SQL実行: 
2025-06-28T04:14:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:52:           FROM contacts 
2025-06-28T04:14:52:           WHERE c... パラメータ数: 1
2025-06-28T04:14:52: SQL実行成功: 結果行数=0
2025-06-28T04:14:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:52: SQL実行成功: 結果行数=1
2025-06-28T04:14:52: SQL実行: 
2025-06-28T04:14:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:52:           FROM contacts 
2025-06-28T04:14:52:           WHERE c... パラメータ数: 1
2025-06-28T04:14:52: SQL実行成功: 結果行数=0
2025-06-28T04:14:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:52: SQL実行成功: 結果行数=1
2025-06-28T04:14:52: SQL実行: 
2025-06-28T04:14:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:52:           FROM contacts 
2025-06-28T04:14:52:           WHERE c... パラメータ数: 1
2025-06-28T04:14:52: SQL実行成功: 結果行数=0
2025-06-28T04:14:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:52: SQL実行成功: 結果行数=1
2025-06-28T04:14:52: SQL実行: 
2025-06-28T04:14:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:52:           FROM contacts 
2025-06-28T04:14:52:           WHERE c... パラメータ数: 1
2025-06-28T04:14:52: SQL実行成功: 結果行数=0
2025-06-28T04:14:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:52: SQL実行成功: 結果行数=1
[2025-06-28T04:14:53.776Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:53: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:14:53: [36m[2025-06-28T04:14:53.776Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:53: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:14:53: SQL実行成功: 結果行数=1
2025-06-28T04:14:53: SQL実行: 
2025-06-28T04:14:53:       SELECT 
2025-06-28T04:14:53:         COUNT(*) as total,
2025-06-28T04:14:53:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:14:53: SQL実行成功: 結果行数=1
2025-06-28T04:14:53: SQL実行: 
2025-06-28T04:14:53:       SELECT 
2025-06-28T04:14:53:         COUNT(*) as total_calls,
2025-06-28T04:14:53:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:14:53.779Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:53: SQL実行成功: 結果行数=1
2025-06-28T04:14:53: [36m[2025-06-28T04:14:53.779Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:57: SQL実行: 
2025-06-28T04:14:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:57:           FROM contacts 
2025-06-28T04:14:57:           WHERE c... パラメータ数: 1
2025-06-28T04:14:57: SQL実行成功: 結果行数=0
2025-06-28T04:14:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:57: SQL実行成功: 結果行数=1
2025-06-28T04:14:57: SQL実行: 
2025-06-28T04:14:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:57:           FROM contacts 
2025-06-28T04:14:57:           WHERE c... パラメータ数: 1
2025-06-28T04:14:57: SQL実行成功: 結果行数=0
2025-06-28T04:14:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:57: SQL実行成功: 結果行数=1
2025-06-28T04:14:57: SQL実行: 
2025-06-28T04:14:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:57:           FROM contacts 
2025-06-28T04:14:57:           WHERE c... パラメータ数: 1
2025-06-28T04:14:57: SQL実行成功: 結果行数=0
2025-06-28T04:14:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:57: SQL実行成功: 結果行数=1
2025-06-28T04:14:57: SQL実行: 
2025-06-28T04:14:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:14:57:           FROM contacts 
2025-06-28T04:14:57:           WHERE c... パラメータ数: 1
2025-06-28T04:14:57: SQL実行成功: 結果行数=0
2025-06-28T04:14:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:14:57: SQL実行成功: 結果行数=1
[2025-06-28T04:14:58.755Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:58: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:14:58: [36m[2025-06-28T04:14:58.755Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:14:58: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:14:58: SQL実行成功: 結果行数=1
2025-06-28T04:14:58: SQL実行: 
2025-06-28T04:14:58:       SELECT 
2025-06-28T04:14:58:         COUNT(*) as total,
2025-06-28T04:14:58:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:14:58: SQL実行成功: 結果行数=1
2025-06-28T04:14:58: SQL実行: 
2025-06-28T04:14:58:       SELECT 
2025-06-28T04:14:58:         COUNT(*) as total_calls,
2025-06-28T04:14:58:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:14:58.758Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:14:58: SQL実行成功: 結果行数=1
2025-06-28T04:14:58: [36m[2025-06-28T04:14:58.758Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:01: SQL実行: SELECT 1... 
2025-06-28T04:15:01: SQL実行成功: 結果行数=1
2025-06-28T04:15:01: SQL実行: 
2025-06-28T04:15:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:15:01:                ci.number as ca... 
2025-06-28T04:15:01: SQL実行成功: 結果行数=82
2025-06-28T04:15:02: SQL実行: 
2025-06-28T04:15:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:02:           FROM contacts 
2025-06-28T04:15:02:           WHERE c... パラメータ数: 1
2025-06-28T04:15:02: SQL実行成功: 結果行数=0
2025-06-28T04:15:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:02: SQL実行成功: 結果行数=1
2025-06-28T04:15:02: SQL実行: 
2025-06-28T04:15:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:02:           FROM contacts 
2025-06-28T04:15:02:           WHERE c... パラメータ数: 1
2025-06-28T04:15:02: SQL実行成功: 結果行数=0
2025-06-28T04:15:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:02: SQL実行成功: 結果行数=1
2025-06-28T04:15:02: SQL実行: 
2025-06-28T04:15:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:02:           FROM contacts 
2025-06-28T04:15:02:           WHERE c... パラメータ数: 1
2025-06-28T04:15:02: SQL実行成功: 結果行数=0
2025-06-28T04:15:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:02: SQL実行成功: 結果行数=1
2025-06-28T04:15:02: SQL実行: 
2025-06-28T04:15:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:02:           FROM contacts 
2025-06-28T04:15:02:           WHERE c... パラメータ数: 1
2025-06-28T04:15:02: SQL実行成功: 結果行数=0
2025-06-28T04:15:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:02: SQL実行成功: 結果行数=1
[2025-06-28T04:15:03.749Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
[2025-06-28T04:15:03.754Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:03: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:15:03: [36m[2025-06-28T04:15:03.749Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:03: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:15:03: SQL実行成功: 結果行数=1
2025-06-28T04:15:03: SQL実行: 
2025-06-28T04:15:03:       SELECT 
2025-06-28T04:15:03:         COUNT(*) as total,
2025-06-28T04:15:03:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:15:03: SQL実行成功: 結果行数=1
2025-06-28T04:15:03: SQL実行: 
2025-06-28T04:15:03:       SELECT 
2025-06-28T04:15:03:         COUNT(*) as total_calls,
2025-06-28T04:15:03:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:15:03: SQL実行成功: 結果行数=1
2025-06-28T04:15:03: [36m[2025-06-28T04:15:03.754Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:07: SQL実行: 
2025-06-28T04:15:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:07:           FROM contacts 
2025-06-28T04:15:07:           WHERE c... パラメータ数: 1
2025-06-28T04:15:07: SQL実行成功: 結果行数=0
2025-06-28T04:15:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:07: SQL実行成功: 結果行数=1
2025-06-28T04:15:07: SQL実行: 
2025-06-28T04:15:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:07:           FROM contacts 
2025-06-28T04:15:07:           WHERE c... パラメータ数: 1
2025-06-28T04:15:07: SQL実行成功: 結果行数=0
2025-06-28T04:15:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:07: SQL実行成功: 結果行数=1
2025-06-28T04:15:07: SQL実行: 
2025-06-28T04:15:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:07:           FROM contacts 
2025-06-28T04:15:07:           WHERE c... パラメータ数: 1
2025-06-28T04:15:07: SQL実行成功: 結果行数=0
2025-06-28T04:15:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:07: SQL実行成功: 結果行数=1
2025-06-28T04:15:07: SQL実行: 
2025-06-28T04:15:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:07:           FROM contacts 
2025-06-28T04:15:07:           WHERE c... パラメータ数: 1
2025-06-28T04:15:07: SQL実行成功: 結果行数=0
2025-06-28T04:15:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:07: SQL実行成功: 結果行数=1
[2025-06-28T04:15:08.750Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:08: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:15:08: [36m[2025-06-28T04:15:08.750Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:08: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:15:08: SQL実行成功: 結果行数=1
2025-06-28T04:15:08: SQL実行: 
2025-06-28T04:15:08:       SELECT 
2025-06-28T04:15:08:         COUNT(*) as total,
2025-06-28T04:15:08:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:15:08: SQL実行成功: 結果行数=1
2025-06-28T04:15:08: SQL実行: 
2025-06-28T04:15:08:       SELECT 
2025-06-28T04:15:08:         COUNT(*) as total_calls,
2025-06-28T04:15:08:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:15:08: SQL実行成功: 結果行数=1
[2025-06-28T04:15:08.754Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:08: [36m[2025-06-28T04:15:08.754Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:12: SQL実行: 
2025-06-28T04:15:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:12:           FROM contacts 
2025-06-28T04:15:12:           WHERE c... パラメータ数: 1
2025-06-28T04:15:12: SQL実行成功: 結果行数=0
2025-06-28T04:15:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:12: SQL実行成功: 結果行数=1
2025-06-28T04:15:12: SQL実行: 
2025-06-28T04:15:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:12:           FROM contacts 
2025-06-28T04:15:12:           WHERE c... パラメータ数: 1
2025-06-28T04:15:12: SQL実行成功: 結果行数=0
2025-06-28T04:15:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:12: SQL実行成功: 結果行数=1
2025-06-28T04:15:12: SQL実行: 
2025-06-28T04:15:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:12:           FROM contacts 
2025-06-28T04:15:12:           WHERE c... パラメータ数: 1
2025-06-28T04:15:12: SQL実行成功: 結果行数=0
2025-06-28T04:15:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:12: SQL実行成功: 結果行数=1
2025-06-28T04:15:12: SQL実行: 
2025-06-28T04:15:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:12:           FROM contacts 
2025-06-28T04:15:12:           WHERE c... パラメータ数: 1
2025-06-28T04:15:12: SQL実行成功: 結果行数=0
2025-06-28T04:15:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:12: SQL実行成功: 結果行数=1
[2025-06-28T04:15:13.748Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:13: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:15:13: [36m[2025-06-28T04:15:13.748Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:13: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:15:13: SQL実行成功: 結果行数=1
2025-06-28T04:15:13: SQL実行: 
2025-06-28T04:15:13:       SELECT 
2025-06-28T04:15:13:         COUNT(*) as total,
2025-06-28T04:15:13:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:15:13: SQL実行成功: 結果行数=1
2025-06-28T04:15:13: SQL実行: 
2025-06-28T04:15:13:       SELECT 
2025-06-28T04:15:13:         COUNT(*) as total_calls,
2025-06-28T04:15:13:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:15:13.751Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:13: SQL実行成功: 結果行数=1
2025-06-28T04:15:13: [36m[2025-06-28T04:15:13.751Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:16: SQL実行: 
2025-06-28T04:15:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:15:16:                ci.number as ca... 
2025-06-28T04:15:16: SQL実行成功: 結果行数=82
2025-06-28T04:15:17: SQL実行: 
2025-06-28T04:15:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:17:           FROM contacts 
2025-06-28T04:15:17:           WHERE c... パラメータ数: 1
2025-06-28T04:15:17: SQL実行成功: 結果行数=0
2025-06-28T04:15:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:17: SQL実行成功: 結果行数=1
2025-06-28T04:15:17: SQL実行: 
2025-06-28T04:15:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:17:           FROM contacts 
2025-06-28T04:15:17:           WHERE c... パラメータ数: 1
2025-06-28T04:15:17: SQL実行成功: 結果行数=0
2025-06-28T04:15:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:17: SQL実行成功: 結果行数=1
2025-06-28T04:15:17: SQL実行: 
2025-06-28T04:15:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:17:           FROM contacts 
2025-06-28T04:15:17:           WHERE c... パラメータ数: 1
2025-06-28T04:15:17: SQL実行成功: 結果行数=0
2025-06-28T04:15:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:17: SQL実行成功: 結果行数=1
2025-06-28T04:15:17: SQL実行: 
2025-06-28T04:15:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:17:           FROM contacts 
2025-06-28T04:15:17:           WHERE c... パラメータ数: 1
2025-06-28T04:15:17: SQL実行成功: 結果行数=0
2025-06-28T04:15:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:17: SQL実行成功: 結果行数=1
[2025-06-28T04:15:18.770Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:18: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:15:18: [36m[2025-06-28T04:15:18.770Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:18: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:15:18: SQL実行成功: 結果行数=1
2025-06-28T04:15:18: SQL実行: 
2025-06-28T04:15:18:       SELECT 
2025-06-28T04:15:18:         COUNT(*) as total,
2025-06-28T04:15:18:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:15:18: SQL実行成功: 結果行数=1
2025-06-28T04:15:18: SQL実行: 
2025-06-28T04:15:18:       SELECT 
2025-06-28T04:15:18:         COUNT(*) as total_calls,
2025-06-28T04:15:18:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:15:18.774Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:18: SQL実行成功: 結果行数=1
2025-06-28T04:15:18: [36m[2025-06-28T04:15:18.774Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T04:15:21.257Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:15:21: SQL実行成功: 結果行数=1
2025-06-28T04:15:21: [36m[2025-06-28T04:15:21.257Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:15:22: SQL実行: 
2025-06-28T04:15:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:22:           FROM contacts 
2025-06-28T04:15:22:           WHERE c... パラメータ数: 1
2025-06-28T04:15:22: SQL実行成功: 結果行数=0
2025-06-28T04:15:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:22: SQL実行成功: 結果行数=1
2025-06-28T04:15:22: SQL実行: 
2025-06-28T04:15:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:22:           FROM contacts 
2025-06-28T04:15:22:           WHERE c... パラメータ数: 1
2025-06-28T04:15:22: SQL実行成功: 結果行数=0
2025-06-28T04:15:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:22: SQL実行成功: 結果行数=1
2025-06-28T04:15:22: SQL実行: 
2025-06-28T04:15:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:22:           FROM contacts 
2025-06-28T04:15:22:           WHERE c... パラメータ数: 1
2025-06-28T04:15:22: SQL実行成功: 結果行数=0
2025-06-28T04:15:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:22: SQL実行成功: 結果行数=1
2025-06-28T04:15:22: SQL実行: 
2025-06-28T04:15:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:22:           FROM contacts 
2025-06-28T04:15:22:           WHERE c... パラメータ数: 1
2025-06-28T04:15:22: SQL実行成功: 結果行数=0
2025-06-28T04:15:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:22: SQL実行成功: 結果行数=1
[2025-06-28T04:15:23.787Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:23: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:15:23: [36m[2025-06-28T04:15:23.787Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:23: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:15:23: SQL実行成功: 結果行数=1
2025-06-28T04:15:23: SQL実行: 
2025-06-28T04:15:23:       SELECT 
2025-06-28T04:15:23:         COUNT(*) as total,
2025-06-28T04:15:23:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:15:23: SQL実行成功: 結果行数=1
2025-06-28T04:15:23: SQL実行: 
2025-06-28T04:15:23:       SELECT 
2025-06-28T04:15:23:         COUNT(*) as total_calls,
2025-06-28T04:15:23:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:15:23: SQL実行成功: 結果行数=1
[2025-06-28T04:15:23.790Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:23: [36m[2025-06-28T04:15:23.790Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:27: SQL実行: 
2025-06-28T04:15:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:27:           FROM contacts 
2025-06-28T04:15:27:           WHERE c... パラメータ数: 1
2025-06-28T04:15:27: SQL実行成功: 結果行数=0
2025-06-28T04:15:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:27: SQL実行成功: 結果行数=1
2025-06-28T04:15:27: SQL実行: 
2025-06-28T04:15:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:27:           FROM contacts 
2025-06-28T04:15:27:           WHERE c... パラメータ数: 1
2025-06-28T04:15:27: SQL実行成功: 結果行数=0
2025-06-28T04:15:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:27: SQL実行成功: 結果行数=1
2025-06-28T04:15:27: SQL実行: 
2025-06-28T04:15:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:27:           FROM contacts 
2025-06-28T04:15:27:           WHERE c... パラメータ数: 1
2025-06-28T04:15:27: SQL実行成功: 結果行数=0
2025-06-28T04:15:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:27: SQL実行成功: 結果行数=1
2025-06-28T04:15:27: SQL実行: 
2025-06-28T04:15:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:27:           FROM contacts 
2025-06-28T04:15:27:           WHERE c... パラメータ数: 1
2025-06-28T04:15:27: SQL実行成功: 結果行数=0
2025-06-28T04:15:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:27: SQL実行成功: 結果行数=1
[2025-06-28T04:15:28.754Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:28: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:15:28: [36m[2025-06-28T04:15:28.754Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:28: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:15:28: SQL実行成功: 結果行数=1
2025-06-28T04:15:28: SQL実行: 
2025-06-28T04:15:28:       SELECT 
2025-06-28T04:15:28:         COUNT(*) as total,
2025-06-28T04:15:28:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:15:28: SQL実行成功: 結果行数=1
2025-06-28T04:15:28: SQL実行: 
2025-06-28T04:15:28:       SELECT 
2025-06-28T04:15:28:         COUNT(*) as total_calls,
2025-06-28T04:15:28:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:15:28.757Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:28: SQL実行成功: 結果行数=1
2025-06-28T04:15:28: [36m[2025-06-28T04:15:28.757Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:31: SQL実行: SELECT 1... 
2025-06-28T04:15:31: SQL実行成功: 結果行数=1
2025-06-28T04:15:31: SQL実行: 
2025-06-28T04:15:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:15:31:                ci.number as ca... 
2025-06-28T04:15:31: SQL実行成功: 結果行数=82
2025-06-28T04:15:32: SQL実行: 
2025-06-28T04:15:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:32:           FROM contacts 
2025-06-28T04:15:32:           WHERE c... パラメータ数: 1
2025-06-28T04:15:32: SQL実行成功: 結果行数=0
2025-06-28T04:15:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:32: SQL実行成功: 結果行数=1
2025-06-28T04:15:32: SQL実行: 
2025-06-28T04:15:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:32:           FROM contacts 
2025-06-28T04:15:32:           WHERE c... パラメータ数: 1
2025-06-28T04:15:32: SQL実行成功: 結果行数=0
2025-06-28T04:15:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:32: SQL実行成功: 結果行数=1
2025-06-28T04:15:32: SQL実行: 
2025-06-28T04:15:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:32:           FROM contacts 
2025-06-28T04:15:32:           WHERE c... パラメータ数: 1
2025-06-28T04:15:32: SQL実行成功: 結果行数=0
2025-06-28T04:15:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:32: SQL実行成功: 結果行数=1
2025-06-28T04:15:32: SQL実行: 
2025-06-28T04:15:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:32:           FROM contacts 
2025-06-28T04:15:32:           WHERE c... パラメータ数: 1
2025-06-28T04:15:32: SQL実行成功: 結果行数=0
2025-06-28T04:15:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:32: SQL実行成功: 結果行数=1
[2025-06-28T04:15:33.750Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:33: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:15:33: [36m[2025-06-28T04:15:33.750Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:33: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:15:33: SQL実行成功: 結果行数=1
2025-06-28T04:15:33: SQL実行: 
2025-06-28T04:15:33:       SELECT 
2025-06-28T04:15:33:         COUNT(*) as total,
2025-06-28T04:15:33:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:15:33: SQL実行成功: 結果行数=1
2025-06-28T04:15:33: SQL実行: 
2025-06-28T04:15:33:       SELECT 
2025-06-28T04:15:33:         COUNT(*) as total_calls,
2025-06-28T04:15:33:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:15:33.755Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:33: SQL実行成功: 結果行数=1
2025-06-28T04:15:33: [36m[2025-06-28T04:15:33.755Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:37: SQL実行: 
2025-06-28T04:15:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:37:           FROM contacts 
2025-06-28T04:15:37:           WHERE c... パラメータ数: 1
2025-06-28T04:15:37: SQL実行成功: 結果行数=0
2025-06-28T04:15:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:37: SQL実行成功: 結果行数=1
2025-06-28T04:15:37: SQL実行: 
2025-06-28T04:15:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:37:           FROM contacts 
2025-06-28T04:15:37:           WHERE c... パラメータ数: 1
2025-06-28T04:15:37: SQL実行成功: 結果行数=0
2025-06-28T04:15:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:37: SQL実行成功: 結果行数=1
2025-06-28T04:15:37: SQL実行: 
2025-06-28T04:15:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:37:           FROM contacts 
2025-06-28T04:15:37:           WHERE c... パラメータ数: 1
2025-06-28T04:15:37: SQL実行成功: 結果行数=0
2025-06-28T04:15:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:37: SQL実行成功: 結果行数=1
2025-06-28T04:15:37: SQL実行: 
2025-06-28T04:15:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:37:           FROM contacts 
2025-06-28T04:15:37:           WHERE c... パラメータ数: 1
2025-06-28T04:15:37: SQL実行成功: 結果行数=0
2025-06-28T04:15:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:37: SQL実行成功: 結果行数=1
[2025-06-28T04:15:38.747Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:38: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:15:38: [36m[2025-06-28T04:15:38.747Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:38: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:15:38: SQL実行成功: 結果行数=1
2025-06-28T04:15:38: SQL実行: 
2025-06-28T04:15:38:       SELECT 
2025-06-28T04:15:38:         COUNT(*) as total,
2025-06-28T04:15:38:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:15:38: SQL実行成功: 結果行数=1
2025-06-28T04:15:38: SQL実行: 
2025-06-28T04:15:38:       SELECT 
2025-06-28T04:15:38:         COUNT(*) as total_calls,
2025-06-28T04:15:38:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:15:38: SQL実行成功: 結果行数=1
[2025-06-28T04:15:38.751Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:38: [36m[2025-06-28T04:15:38.751Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:42: SQL実行: 
2025-06-28T04:15:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:42:           FROM contacts 
2025-06-28T04:15:42:           WHERE c... パラメータ数: 1
2025-06-28T04:15:42: SQL実行成功: 結果行数=0
2025-06-28T04:15:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:42: SQL実行成功: 結果行数=1
2025-06-28T04:15:42: SQL実行: 
2025-06-28T04:15:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:42:           FROM contacts 
2025-06-28T04:15:42:           WHERE c... パラメータ数: 1
2025-06-28T04:15:42: SQL実行成功: 結果行数=0
2025-06-28T04:15:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:42: SQL実行成功: 結果行数=1
2025-06-28T04:15:42: SQL実行: 
2025-06-28T04:15:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:42:           FROM contacts 
2025-06-28T04:15:42:           WHERE c... パラメータ数: 1
2025-06-28T04:15:42: SQL実行成功: 結果行数=0
2025-06-28T04:15:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:42: SQL実行成功: 結果行数=1
2025-06-28T04:15:42: SQL実行: 
2025-06-28T04:15:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:42:           FROM contacts 
2025-06-28T04:15:42:           WHERE c... パラメータ数: 1
2025-06-28T04:15:42: SQL実行成功: 結果行数=0
2025-06-28T04:15:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:42: SQL実行成功: 結果行数=1
[2025-06-28T04:15:43.748Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:43: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:15:43: [36m[2025-06-28T04:15:43.748Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:43: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:15:43: SQL実行成功: 結果行数=1
2025-06-28T04:15:43: SQL実行: 
2025-06-28T04:15:43:       SELECT 
2025-06-28T04:15:43:         COUNT(*) as total,
2025-06-28T04:15:43:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:15:43: SQL実行成功: 結果行数=1
2025-06-28T04:15:43: SQL実行: 
2025-06-28T04:15:43:       SELECT 
2025-06-28T04:15:43:         COUNT(*) as total_calls,
2025-06-28T04:15:43:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:15:43: SQL実行成功: 結果行数=1
[2025-06-28T04:15:43.751Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:43: [36m[2025-06-28T04:15:43.751Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:46: SQL実行: 
2025-06-28T04:15:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:15:46:                ci.number as ca... 
2025-06-28T04:15:46: SQL実行成功: 結果行数=82
2025-06-28T04:15:47: SQL実行: 
2025-06-28T04:15:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:47:           FROM contacts 
2025-06-28T04:15:47:           WHERE c... パラメータ数: 1
2025-06-28T04:15:47: SQL実行成功: 結果行数=0
2025-06-28T04:15:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:47: SQL実行成功: 結果行数=1
2025-06-28T04:15:47: SQL実行: 
2025-06-28T04:15:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:47:           FROM contacts 
2025-06-28T04:15:47:           WHERE c... パラメータ数: 1
2025-06-28T04:15:47: SQL実行成功: 結果行数=0
2025-06-28T04:15:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:47: SQL実行成功: 結果行数=1
2025-06-28T04:15:47: SQL実行: 
2025-06-28T04:15:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:47:           FROM contacts 
2025-06-28T04:15:47:           WHERE c... パラメータ数: 1
2025-06-28T04:15:47: SQL実行成功: 結果行数=0
2025-06-28T04:15:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:47: SQL実行成功: 結果行数=1
2025-06-28T04:15:47: SQL実行: 
2025-06-28T04:15:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:47:           FROM contacts 
2025-06-28T04:15:47:           WHERE c... パラメータ数: 1
2025-06-28T04:15:47: SQL実行成功: 結果行数=0
2025-06-28T04:15:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:47: SQL実行成功: 結果行数=1
[2025-06-28T04:15:48.749Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:48: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:15:48: [36m[2025-06-28T04:15:48.749Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:48: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:15:48: SQL実行成功: 結果行数=1
2025-06-28T04:15:48: SQL実行: 
2025-06-28T04:15:48:       SELECT 
2025-06-28T04:15:48:         COUNT(*) as total,
2025-06-28T04:15:48:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:15:48: SQL実行成功: 結果行数=1
2025-06-28T04:15:48: SQL実行: 
2025-06-28T04:15:48:       SELECT 
2025-06-28T04:15:48:         COUNT(*) as total_calls,
2025-06-28T04:15:48:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:15:48.753Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:48: SQL実行成功: 結果行数=1
2025-06-28T04:15:48: [36m[2025-06-28T04:15:48.753Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:52: SQL実行: 
2025-06-28T04:15:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:52:           FROM contacts 
2025-06-28T04:15:52:           WHERE c... パラメータ数: 1
2025-06-28T04:15:52: SQL実行成功: 結果行数=0
2025-06-28T04:15:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:52: SQL実行成功: 結果行数=1
2025-06-28T04:15:52: SQL実行: 
2025-06-28T04:15:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:52:           FROM contacts 
2025-06-28T04:15:52:           WHERE c... パラメータ数: 1
2025-06-28T04:15:52: SQL実行成功: 結果行数=0
2025-06-28T04:15:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:52: SQL実行成功: 結果行数=1
2025-06-28T04:15:52: SQL実行: 
2025-06-28T04:15:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:52:           FROM contacts 
2025-06-28T04:15:52:           WHERE c... パラメータ数: 1
2025-06-28T04:15:52: SQL実行成功: 結果行数=0
2025-06-28T04:15:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:52: SQL実行成功: 結果行数=1
2025-06-28T04:15:52: SQL実行: 
2025-06-28T04:15:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:52:           FROM contacts 
2025-06-28T04:15:52:           WHERE c... パラメータ数: 1
2025-06-28T04:15:52: SQL実行成功: 結果行数=0
2025-06-28T04:15:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:52: SQL実行成功: 結果行数=1
[2025-06-28T04:15:53.755Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:53: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
[2025-06-28T04:15:53.758Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:53: [36m[2025-06-28T04:15:53.755Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:53: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:15:53: SQL実行成功: 結果行数=1
2025-06-28T04:15:53: SQL実行: 
2025-06-28T04:15:53:       SELECT 
2025-06-28T04:15:53:         COUNT(*) as total,
2025-06-28T04:15:53:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:15:53: SQL実行成功: 結果行数=1
2025-06-28T04:15:53: SQL実行: 
2025-06-28T04:15:53:       SELECT 
2025-06-28T04:15:53:         COUNT(*) as total_calls,
2025-06-28T04:15:53:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:15:53: SQL実行成功: 結果行数=1
2025-06-28T04:15:53: [36m[2025-06-28T04:15:53.758Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:57: SQL実行: 
2025-06-28T04:15:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:57:           FROM contacts 
2025-06-28T04:15:57:           WHERE c... パラメータ数: 1
2025-06-28T04:15:57: SQL実行成功: 結果行数=0
2025-06-28T04:15:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:57: SQL実行成功: 結果行数=1
2025-06-28T04:15:57: SQL実行: 
2025-06-28T04:15:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:57:           FROM contacts 
2025-06-28T04:15:57:           WHERE c... パラメータ数: 1
2025-06-28T04:15:57: SQL実行成功: 結果行数=0
2025-06-28T04:15:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:57: SQL実行成功: 結果行数=1
2025-06-28T04:15:57: SQL実行: 
2025-06-28T04:15:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:57:           FROM contacts 
2025-06-28T04:15:57:           WHERE c... パラメータ数: 1
2025-06-28T04:15:57: SQL実行成功: 結果行数=0
2025-06-28T04:15:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:57: SQL実行成功: 結果行数=1
2025-06-28T04:15:57: SQL実行: 
2025-06-28T04:15:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:15:57:           FROM contacts 
2025-06-28T04:15:57:           WHERE c... パラメータ数: 1
2025-06-28T04:15:57: SQL実行成功: 結果行数=0
2025-06-28T04:15:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:15:57: SQL実行成功: 結果行数=1
[2025-06-28T04:15:58.748Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:58: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:15:58: [36m[2025-06-28T04:15:58.748Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:15:58: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:15:58: SQL実行成功: 結果行数=1
2025-06-28T04:15:58: SQL実行: 
2025-06-28T04:15:58:       SELECT 
2025-06-28T04:15:58:         COUNT(*) as total,
2025-06-28T04:15:58:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:15:58: SQL実行成功: 結果行数=1
2025-06-28T04:15:58: SQL実行: 
2025-06-28T04:15:58:       SELECT 
2025-06-28T04:15:58:         COUNT(*) as total_calls,
2025-06-28T04:15:58:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:15:58.752Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:15:58: SQL実行成功: 結果行数=1
2025-06-28T04:15:58: [36m[2025-06-28T04:15:58.752Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:01: SQL実行: SELECT 1... 
2025-06-28T04:16:01: SQL実行成功: 結果行数=1
2025-06-28T04:16:01: SQL実行: 
2025-06-28T04:16:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:16:01:                ci.number as ca... 
2025-06-28T04:16:01: SQL実行成功: 結果行数=82
2025-06-28T04:16:02: SQL実行: 
2025-06-28T04:16:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:02:           FROM contacts 
2025-06-28T04:16:02:           WHERE c... パラメータ数: 1
2025-06-28T04:16:02: SQL実行成功: 結果行数=0
2025-06-28T04:16:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:02: SQL実行成功: 結果行数=1
2025-06-28T04:16:02: SQL実行: 
2025-06-28T04:16:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:02:           FROM contacts 
2025-06-28T04:16:02:           WHERE c... パラメータ数: 1
2025-06-28T04:16:02: SQL実行成功: 結果行数=0
2025-06-28T04:16:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:02: SQL実行成功: 結果行数=1
2025-06-28T04:16:02: SQL実行: 
2025-06-28T04:16:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:02:           FROM contacts 
2025-06-28T04:16:02:           WHERE c... パラメータ数: 1
2025-06-28T04:16:02: SQL実行成功: 結果行数=0
2025-06-28T04:16:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:02: SQL実行成功: 結果行数=1
2025-06-28T04:16:02: SQL実行: 
2025-06-28T04:16:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:02:           FROM contacts 
2025-06-28T04:16:02:           WHERE c... パラメータ数: 1
2025-06-28T04:16:02: SQL実行成功: 結果行数=0
2025-06-28T04:16:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:02: SQL実行成功: 結果行数=1
[2025-06-28T04:16:03.747Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
[2025-06-28T04:16:03.751Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:03: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:16:03: [36m[2025-06-28T04:16:03.747Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:03: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:16:03: SQL実行成功: 結果行数=1
2025-06-28T04:16:03: SQL実行: 
2025-06-28T04:16:03:       SELECT 
2025-06-28T04:16:03:         COUNT(*) as total,
2025-06-28T04:16:03:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:16:03: SQL実行成功: 結果行数=1
2025-06-28T04:16:03: SQL実行: 
2025-06-28T04:16:03:       SELECT 
2025-06-28T04:16:03:         COUNT(*) as total_calls,
2025-06-28T04:16:03:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:16:03: SQL実行成功: 結果行数=1
2025-06-28T04:16:03: [36m[2025-06-28T04:16:03.751Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:07: SQL実行: 
2025-06-28T04:16:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:07:           FROM contacts 
2025-06-28T04:16:07:           WHERE c... パラメータ数: 1
2025-06-28T04:16:07: SQL実行成功: 結果行数=0
2025-06-28T04:16:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:07: SQL実行成功: 結果行数=1
2025-06-28T04:16:07: SQL実行: 
2025-06-28T04:16:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:07:           FROM contacts 
2025-06-28T04:16:07:           WHERE c... パラメータ数: 1
2025-06-28T04:16:07: SQL実行成功: 結果行数=0
2025-06-28T04:16:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:07: SQL実行成功: 結果行数=1
2025-06-28T04:16:07: SQL実行: 
2025-06-28T04:16:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:07:           FROM contacts 
2025-06-28T04:16:07:           WHERE c... パラメータ数: 1
2025-06-28T04:16:07: SQL実行成功: 結果行数=0
2025-06-28T04:16:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:07: SQL実行成功: 結果行数=1
2025-06-28T04:16:07: SQL実行: 
2025-06-28T04:16:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:07:           FROM contacts 
2025-06-28T04:16:07:           WHERE c... パラメータ数: 1
2025-06-28T04:16:07: SQL実行成功: 結果行数=0
2025-06-28T04:16:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:07: SQL実行成功: 結果行数=1
[2025-06-28T04:16:08.748Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:08: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:16:08: [36m[2025-06-28T04:16:08.748Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:08: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:16:08: SQL実行成功: 結果行数=1
2025-06-28T04:16:08: SQL実行: 
2025-06-28T04:16:08:       SELECT 
2025-06-28T04:16:08:         COUNT(*) as total,
2025-06-28T04:16:08:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:16:08: SQL実行成功: 結果行数=1
2025-06-28T04:16:08: SQL実行: 
2025-06-28T04:16:08:       SELECT 
2025-06-28T04:16:08:         COUNT(*) as total_calls,
2025-06-28T04:16:08:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:16:08.751Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:08: SQL実行成功: 結果行数=1
2025-06-28T04:16:08: [36m[2025-06-28T04:16:08.751Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:12: SQL実行: 
2025-06-28T04:16:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:12:           FROM contacts 
2025-06-28T04:16:12:           WHERE c... パラメータ数: 1
2025-06-28T04:16:12: SQL実行成功: 結果行数=0
2025-06-28T04:16:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:12: SQL実行成功: 結果行数=1
2025-06-28T04:16:12: SQL実行: 
2025-06-28T04:16:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:12:           FROM contacts 
2025-06-28T04:16:12:           WHERE c... パラメータ数: 1
2025-06-28T04:16:12: SQL実行成功: 結果行数=0
2025-06-28T04:16:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:12: SQL実行成功: 結果行数=1
2025-06-28T04:16:12: SQL実行: 
2025-06-28T04:16:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:12:           FROM contacts 
2025-06-28T04:16:12:           WHERE c... パラメータ数: 1
2025-06-28T04:16:12: SQL実行成功: 結果行数=0
2025-06-28T04:16:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:12: SQL実行成功: 結果行数=1
2025-06-28T04:16:12: SQL実行: 
2025-06-28T04:16:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:12:           FROM contacts 
2025-06-28T04:16:12:           WHERE c... パラメータ数: 1
2025-06-28T04:16:12: SQL実行成功: 結果行数=0
2025-06-28T04:16:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:12: SQL実行成功: 結果行数=1
[2025-06-28T04:16:13.750Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:13: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:16:13: [36m[2025-06-28T04:16:13.750Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:13: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:16:13: SQL実行成功: 結果行数=1
2025-06-28T04:16:13: SQL実行: 
2025-06-28T04:16:13:       SELECT 
2025-06-28T04:16:13:         COUNT(*) as total,
2025-06-28T04:16:13:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:16:13: SQL実行成功: 結果行数=1
2025-06-28T04:16:13: SQL実行: 
2025-06-28T04:16:13:       SELECT 
2025-06-28T04:16:13:         COUNT(*) as total_calls,
2025-06-28T04:16:13:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:16:13.754Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:13: SQL実行成功: 結果行数=1
2025-06-28T04:16:13: [36m[2025-06-28T04:16:13.754Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:16: SQL実行: 
2025-06-28T04:16:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:16:16:                ci.number as ca... 
2025-06-28T04:16:16: SQL実行成功: 結果行数=82
2025-06-28T04:16:17: SQL実行: 
2025-06-28T04:16:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:17:           FROM contacts 
2025-06-28T04:16:17:           WHERE c... パラメータ数: 1
2025-06-28T04:16:17: SQL実行成功: 結果行数=0
2025-06-28T04:16:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:17: SQL実行成功: 結果行数=1
2025-06-28T04:16:17: SQL実行: 
2025-06-28T04:16:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:17:           FROM contacts 
2025-06-28T04:16:17:           WHERE c... パラメータ数: 1
2025-06-28T04:16:17: SQL実行成功: 結果行数=0
2025-06-28T04:16:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:17: SQL実行成功: 結果行数=1
2025-06-28T04:16:17: SQL実行: 
2025-06-28T04:16:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:17:           FROM contacts 
2025-06-28T04:16:17:           WHERE c... パラメータ数: 1
2025-06-28T04:16:17: SQL実行成功: 結果行数=0
2025-06-28T04:16:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:17: SQL実行成功: 結果行数=1
2025-06-28T04:16:17: SQL実行: 
2025-06-28T04:16:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:17:           FROM contacts 
2025-06-28T04:16:17:           WHERE c... パラメータ数: 1
2025-06-28T04:16:17: SQL実行成功: 結果行数=0
2025-06-28T04:16:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:17: SQL実行成功: 結果行数=1
[2025-06-28T04:16:18.751Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:18: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:16:18: [36m[2025-06-28T04:16:18.751Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:18: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:16:18: SQL実行成功: 結果行数=1
2025-06-28T04:16:18: SQL実行: 
2025-06-28T04:16:18:       SELECT 
2025-06-28T04:16:18:         COUNT(*) as total,
2025-06-28T04:16:18:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:16:18: SQL実行成功: 結果行数=1
2025-06-28T04:16:18: SQL実行: 
2025-06-28T04:16:18:       SELECT 
2025-06-28T04:16:18:         COUNT(*) as total_calls,
2025-06-28T04:16:18:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:16:18.755Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:18: SQL実行成功: 結果行数=1
2025-06-28T04:16:18: [36m[2025-06-28T04:16:18.755Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T04:16:21.256Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:16:21: SQL実行成功: 結果行数=1
2025-06-28T04:16:21: [36m[2025-06-28T04:16:21.256Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:16:22: SQL実行: 
2025-06-28T04:16:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:22:           FROM contacts 
2025-06-28T04:16:22:           WHERE c... パラメータ数: 1
2025-06-28T04:16:22: SQL実行成功: 結果行数=0
2025-06-28T04:16:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:22: SQL実行成功: 結果行数=1
2025-06-28T04:16:22: SQL実行: 
2025-06-28T04:16:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:22:           FROM contacts 
2025-06-28T04:16:22:           WHERE c... パラメータ数: 1
2025-06-28T04:16:22: SQL実行成功: 結果行数=0
2025-06-28T04:16:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:22: SQL実行成功: 結果行数=1
2025-06-28T04:16:22: SQL実行: 
2025-06-28T04:16:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:22:           FROM contacts 
2025-06-28T04:16:22:           WHERE c... パラメータ数: 1
2025-06-28T04:16:22: SQL実行成功: 結果行数=0
2025-06-28T04:16:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:22: SQL実行成功: 結果行数=1
2025-06-28T04:16:22: SQL実行: 
2025-06-28T04:16:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:22:           FROM contacts 
2025-06-28T04:16:22:           WHERE c... パラメータ数: 1
2025-06-28T04:16:22: SQL実行成功: 結果行数=0
2025-06-28T04:16:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:22: SQL実行成功: 結果行数=1
[2025-06-28T04:16:23.750Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:23: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:16:23: [36m[2025-06-28T04:16:23.750Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:23: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:16:23: SQL実行成功: 結果行数=1
2025-06-28T04:16:23: SQL実行: 
2025-06-28T04:16:23:       SELECT 
2025-06-28T04:16:23:         COUNT(*) as total,
2025-06-28T04:16:23:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:16:23: SQL実行成功: 結果行数=1
2025-06-28T04:16:23: SQL実行: 
2025-06-28T04:16:23:       SELECT 
2025-06-28T04:16:23:         COUNT(*) as total_calls,
2025-06-28T04:16:23:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:16:23.754Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:23: SQL実行成功: 結果行数=1
2025-06-28T04:16:23: [36m[2025-06-28T04:16:23.754Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:27: SQL実行: 
2025-06-28T04:16:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:27:           FROM contacts 
2025-06-28T04:16:27:           WHERE c... パラメータ数: 1
2025-06-28T04:16:27: SQL実行成功: 結果行数=0
2025-06-28T04:16:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:27: SQL実行成功: 結果行数=1
2025-06-28T04:16:27: SQL実行: 
2025-06-28T04:16:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:27:           FROM contacts 
2025-06-28T04:16:27:           WHERE c... パラメータ数: 1
2025-06-28T04:16:27: SQL実行成功: 結果行数=0
2025-06-28T04:16:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:27: SQL実行成功: 結果行数=1
2025-06-28T04:16:27: SQL実行: 
2025-06-28T04:16:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:27:           FROM contacts 
2025-06-28T04:16:27:           WHERE c... パラメータ数: 1
2025-06-28T04:16:27: SQL実行成功: 結果行数=0
2025-06-28T04:16:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:27: SQL実行成功: 結果行数=1
2025-06-28T04:16:27: SQL実行: 
2025-06-28T04:16:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:27:           FROM contacts 
2025-06-28T04:16:27:           WHERE c... パラメータ数: 1
2025-06-28T04:16:27: SQL実行成功: 結果行数=0
2025-06-28T04:16:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:27: SQL実行成功: 結果行数=1
[2025-06-28T04:16:28.751Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:28: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:16:28: [36m[2025-06-28T04:16:28.751Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:28: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:16:28: SQL実行成功: 結果行数=1
2025-06-28T04:16:28: SQL実行: 
2025-06-28T04:16:28:       SELECT 
2025-06-28T04:16:28:         COUNT(*) as total,
2025-06-28T04:16:28:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:16:28: SQL実行成功: 結果行数=1
2025-06-28T04:16:28: SQL実行: 
2025-06-28T04:16:28:       SELECT 
2025-06-28T04:16:28:         COUNT(*) as total_calls,
2025-06-28T04:16:28:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:16:28.754Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:28: SQL実行成功: 結果行数=1
2025-06-28T04:16:28: [36m[2025-06-28T04:16:28.754Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:31: SQL実行: SELECT 1... 
2025-06-28T04:16:31: SQL実行成功: 結果行数=1
2025-06-28T04:16:31: SQL実行: 
2025-06-28T04:16:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:16:31:                ci.number as ca... 
2025-06-28T04:16:31: SQL実行成功: 結果行数=82
2025-06-28T04:16:32: SQL実行: 
2025-06-28T04:16:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:32:           FROM contacts 
2025-06-28T04:16:32:           WHERE c... パラメータ数: 1
2025-06-28T04:16:32: SQL実行成功: 結果行数=0
2025-06-28T04:16:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:32: SQL実行成功: 結果行数=1
2025-06-28T04:16:32: SQL実行: 
2025-06-28T04:16:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:32:           FROM contacts 
2025-06-28T04:16:32:           WHERE c... パラメータ数: 1
2025-06-28T04:16:32: SQL実行成功: 結果行数=0
2025-06-28T04:16:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:32: SQL実行成功: 結果行数=1
2025-06-28T04:16:32: SQL実行: 
2025-06-28T04:16:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:32:           FROM contacts 
2025-06-28T04:16:32:           WHERE c... パラメータ数: 1
2025-06-28T04:16:32: SQL実行成功: 結果行数=0
2025-06-28T04:16:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:32: SQL実行成功: 結果行数=1
2025-06-28T04:16:32: SQL実行: 
2025-06-28T04:16:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:32:           FROM contacts 
2025-06-28T04:16:32:           WHERE c... パラメータ数: 1
2025-06-28T04:16:32: SQL実行成功: 結果行数=0
2025-06-28T04:16:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:32: SQL実行成功: 結果行数=1
[2025-06-28T04:16:33.753Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:33: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:16:33: [36m[2025-06-28T04:16:33.753Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:33: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:16:33: SQL実行成功: 結果行数=1
2025-06-28T04:16:33: SQL実行: 
2025-06-28T04:16:33:       SELECT 
2025-06-28T04:16:33:         COUNT(*) as total,
2025-06-28T04:16:33:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:16:33: SQL実行成功: 結果行数=1
2025-06-28T04:16:33: SQL実行: 
2025-06-28T04:16:33:       SELECT 
2025-06-28T04:16:33:         COUNT(*) as total_calls,
2025-06-28T04:16:33:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:16:33.758Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:33: SQL実行成功: 結果行数=1
2025-06-28T04:16:33: [36m[2025-06-28T04:16:33.758Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:37: SQL実行: 
2025-06-28T04:16:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:37:           FROM contacts 
2025-06-28T04:16:37:           WHERE c... パラメータ数: 1
2025-06-28T04:16:37: SQL実行成功: 結果行数=0
2025-06-28T04:16:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:37: SQL実行成功: 結果行数=1
2025-06-28T04:16:37: SQL実行: 
2025-06-28T04:16:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:37:           FROM contacts 
2025-06-28T04:16:37:           WHERE c... パラメータ数: 1
2025-06-28T04:16:37: SQL実行成功: 結果行数=0
2025-06-28T04:16:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:37: SQL実行成功: 結果行数=1
2025-06-28T04:16:37: SQL実行: 
2025-06-28T04:16:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:37:           FROM contacts 
2025-06-28T04:16:37:           WHERE c... パラメータ数: 1
2025-06-28T04:16:37: SQL実行成功: 結果行数=0
2025-06-28T04:16:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:37: SQL実行成功: 結果行数=1
2025-06-28T04:16:37: SQL実行: 
2025-06-28T04:16:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:37:           FROM contacts 
2025-06-28T04:16:37:           WHERE c... パラメータ数: 1
2025-06-28T04:16:37: SQL実行成功: 結果行数=0
2025-06-28T04:16:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:37: SQL実行成功: 結果行数=1
[2025-06-28T04:16:38.749Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:38: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:16:38: [36m[2025-06-28T04:16:38.749Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:38: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:16:38: SQL実行成功: 結果行数=1
2025-06-28T04:16:38: SQL実行: 
2025-06-28T04:16:38:       SELECT 
2025-06-28T04:16:38:         COUNT(*) as total,
2025-06-28T04:16:38:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:16:38: SQL実行成功: 結果行数=1
2025-06-28T04:16:38: SQL実行: 
2025-06-28T04:16:38:       SELECT 
2025-06-28T04:16:38:         COUNT(*) as total_calls,
2025-06-28T04:16:38:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:16:38.752Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:38: SQL実行成功: 結果行数=1
2025-06-28T04:16:38: [36m[2025-06-28T04:16:38.752Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:42: SQL実行: 
2025-06-28T04:16:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:42:           FROM contacts 
2025-06-28T04:16:42:           WHERE c... パラメータ数: 1
2025-06-28T04:16:42: SQL実行成功: 結果行数=0
2025-06-28T04:16:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:42: SQL実行成功: 結果行数=1
2025-06-28T04:16:42: SQL実行: 
2025-06-28T04:16:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:42:           FROM contacts 
2025-06-28T04:16:42:           WHERE c... パラメータ数: 1
2025-06-28T04:16:42: SQL実行成功: 結果行数=0
2025-06-28T04:16:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:42: SQL実行成功: 結果行数=1
2025-06-28T04:16:42: SQL実行: 
2025-06-28T04:16:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:42:           FROM contacts 
2025-06-28T04:16:42:           WHERE c... パラメータ数: 1
2025-06-28T04:16:42: SQL実行成功: 結果行数=0
2025-06-28T04:16:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:42: SQL実行成功: 結果行数=1
2025-06-28T04:16:42: SQL実行: 
2025-06-28T04:16:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:42:           FROM contacts 
2025-06-28T04:16:42:           WHERE c... パラメータ数: 1
2025-06-28T04:16:42: SQL実行成功: 結果行数=0
2025-06-28T04:16:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:42: SQL実行成功: 結果行数=1
[2025-06-28T04:16:43.751Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:43: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:16:43: [36m[2025-06-28T04:16:43.751Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:43: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:16:43: SQL実行成功: 結果行数=1
2025-06-28T04:16:43: SQL実行: 
2025-06-28T04:16:43:       SELECT 
2025-06-28T04:16:43:         COUNT(*) as total,
2025-06-28T04:16:43:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:16:43: SQL実行成功: 結果行数=1
2025-06-28T04:16:43: SQL実行: 
2025-06-28T04:16:43:       SELECT 
2025-06-28T04:16:43:         COUNT(*) as total_calls,
2025-06-28T04:16:43:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:16:43.755Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:43: SQL実行成功: 結果行数=1
2025-06-28T04:16:43: [36m[2025-06-28T04:16:43.755Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:46: SQL実行: 
2025-06-28T04:16:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:16:46:                ci.number as ca... 
2025-06-28T04:16:46: SQL実行成功: 結果行数=82
2025-06-28T04:16:47: SQL実行: 
2025-06-28T04:16:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:47:           FROM contacts 
2025-06-28T04:16:47:           WHERE c... パラメータ数: 1
2025-06-28T04:16:47: SQL実行成功: 結果行数=0
2025-06-28T04:16:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:47: SQL実行成功: 結果行数=1
2025-06-28T04:16:47: SQL実行: 
2025-06-28T04:16:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:47:           FROM contacts 
2025-06-28T04:16:47:           WHERE c... パラメータ数: 1
2025-06-28T04:16:47: SQL実行成功: 結果行数=0
2025-06-28T04:16:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:47: SQL実行成功: 結果行数=1
2025-06-28T04:16:47: SQL実行: 
2025-06-28T04:16:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:47:           FROM contacts 
2025-06-28T04:16:47:           WHERE c... パラメータ数: 1
2025-06-28T04:16:47: SQL実行成功: 結果行数=0
2025-06-28T04:16:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:47: SQL実行成功: 結果行数=1
2025-06-28T04:16:47: SQL実行: 
2025-06-28T04:16:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:47:           FROM contacts 
2025-06-28T04:16:47:           WHERE c... パラメータ数: 1
2025-06-28T04:16:47: SQL実行成功: 結果行数=0
2025-06-28T04:16:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:47: SQL実行成功: 結果行数=1
[2025-06-28T04:16:48.750Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:48: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:16:48: [36m[2025-06-28T04:16:48.750Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:48: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:16:48: SQL実行成功: 結果行数=1
2025-06-28T04:16:48: SQL実行: 
2025-06-28T04:16:48:       SELECT 
2025-06-28T04:16:48:         COUNT(*) as total,
2025-06-28T04:16:48:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:16:48: SQL実行成功: 結果行数=1
2025-06-28T04:16:48: SQL実行: 
2025-06-28T04:16:48:       SELECT 
2025-06-28T04:16:48:         COUNT(*) as total_calls,
2025-06-28T04:16:48:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:16:48: SQL実行成功: 結果行数=1
[2025-06-28T04:16:48.754Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:48: [36m[2025-06-28T04:16:48.754Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:52: SQL実行: 
2025-06-28T04:16:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:52:           FROM contacts 
2025-06-28T04:16:52:           WHERE c... パラメータ数: 1
2025-06-28T04:16:52: SQL実行成功: 結果行数=0
2025-06-28T04:16:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:52: SQL実行成功: 結果行数=1
2025-06-28T04:16:52: SQL実行: 
2025-06-28T04:16:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:52:           FROM contacts 
2025-06-28T04:16:52:           WHERE c... パラメータ数: 1
2025-06-28T04:16:52: SQL実行成功: 結果行数=0
2025-06-28T04:16:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:52: SQL実行成功: 結果行数=1
2025-06-28T04:16:52: SQL実行: 
2025-06-28T04:16:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:52:           FROM contacts 
2025-06-28T04:16:52:           WHERE c... パラメータ数: 1
2025-06-28T04:16:52: SQL実行成功: 結果行数=0
2025-06-28T04:16:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:52: SQL実行成功: 結果行数=1
2025-06-28T04:16:52: SQL実行: 
2025-06-28T04:16:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:52:           FROM contacts 
2025-06-28T04:16:52:           WHERE c... パラメータ数: 1
2025-06-28T04:16:52: SQL実行成功: 結果行数=0
2025-06-28T04:16:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:52: SQL実行成功: 結果行数=1
[2025-06-28T04:16:53.751Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:53: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:16:53: [36m[2025-06-28T04:16:53.751Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:53: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:16:53: SQL実行成功: 結果行数=1
2025-06-28T04:16:53: SQL実行: 
2025-06-28T04:16:53:       SELECT 
2025-06-28T04:16:53:         COUNT(*) as total,
2025-06-28T04:16:53:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:16:53: SQL実行成功: 結果行数=1
2025-06-28T04:16:53: SQL実行: 
2025-06-28T04:16:53:       SELECT 
2025-06-28T04:16:53:         COUNT(*) as total_calls,
2025-06-28T04:16:53:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:16:53: SQL実行成功: 結果行数=1
[2025-06-28T04:16:53.755Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:53: [36m[2025-06-28T04:16:53.755Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:57: SQL実行: 
2025-06-28T04:16:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:57:           FROM contacts 
2025-06-28T04:16:57:           WHERE c... パラメータ数: 1
2025-06-28T04:16:57: SQL実行成功: 結果行数=0
2025-06-28T04:16:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:57: SQL実行成功: 結果行数=1
2025-06-28T04:16:57: SQL実行: 
2025-06-28T04:16:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:57:           FROM contacts 
2025-06-28T04:16:57:           WHERE c... パラメータ数: 1
2025-06-28T04:16:57: SQL実行成功: 結果行数=0
2025-06-28T04:16:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:57: SQL実行成功: 結果行数=1
2025-06-28T04:16:57: SQL実行: 
2025-06-28T04:16:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:57:           FROM contacts 
2025-06-28T04:16:57:           WHERE c... パラメータ数: 1
2025-06-28T04:16:57: SQL実行成功: 結果行数=0
2025-06-28T04:16:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:57: SQL実行成功: 結果行数=1
2025-06-28T04:16:57: SQL実行: 
2025-06-28T04:16:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:16:57:           FROM contacts 
2025-06-28T04:16:57:           WHERE c... パラメータ数: 1
2025-06-28T04:16:57: SQL実行成功: 結果行数=0
2025-06-28T04:16:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:16:57: SQL実行成功: 結果行数=1
[2025-06-28T04:16:58.752Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:58: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:16:58: [36m[2025-06-28T04:16:58.752Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:16:58: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:16:58: SQL実行成功: 結果行数=1
2025-06-28T04:16:58: SQL実行: 
2025-06-28T04:16:58:       SELECT 
2025-06-28T04:16:58:         COUNT(*) as total,
2025-06-28T04:16:58:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:16:58: SQL実行成功: 結果行数=1
2025-06-28T04:16:58: SQL実行: 
2025-06-28T04:16:58:       SELECT 
2025-06-28T04:16:58:         COUNT(*) as total_calls,
2025-06-28T04:16:58:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:16:58: SQL実行成功: 結果行数=1
[2025-06-28T04:16:58.757Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:16:58: [36m[2025-06-28T04:16:58.757Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:01: SQL実行: SELECT 1... 
2025-06-28T04:17:01: SQL実行成功: 結果行数=1
2025-06-28T04:17:01: SQL実行: 
2025-06-28T04:17:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:17:01:                ci.number as ca... 
2025-06-28T04:17:01: SQL実行成功: 結果行数=82
2025-06-28T04:17:02: SQL実行: 
2025-06-28T04:17:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:02:           FROM contacts 
2025-06-28T04:17:02:           WHERE c... パラメータ数: 1
2025-06-28T04:17:02: SQL実行成功: 結果行数=0
2025-06-28T04:17:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:02: SQL実行成功: 結果行数=1
2025-06-28T04:17:02: SQL実行: 
2025-06-28T04:17:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:02:           FROM contacts 
2025-06-28T04:17:02:           WHERE c... パラメータ数: 1
2025-06-28T04:17:02: SQL実行成功: 結果行数=0
2025-06-28T04:17:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:02: SQL実行成功: 結果行数=1
2025-06-28T04:17:02: SQL実行: 
2025-06-28T04:17:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:02:           FROM contacts 
2025-06-28T04:17:02:           WHERE c... パラメータ数: 1
2025-06-28T04:17:02: SQL実行成功: 結果行数=0
2025-06-28T04:17:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:02: SQL実行成功: 結果行数=1
2025-06-28T04:17:02: SQL実行: 
2025-06-28T04:17:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:02:           FROM contacts 
2025-06-28T04:17:02:           WHERE c... パラメータ数: 1
2025-06-28T04:17:02: SQL実行成功: 結果行数=0
2025-06-28T04:17:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:02: SQL実行成功: 結果行数=1
[2025-06-28T04:17:03.751Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:03: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:17:03: [36m[2025-06-28T04:17:03.751Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:03: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:17:03: SQL実行成功: 結果行数=1
2025-06-28T04:17:03: SQL実行: 
2025-06-28T04:17:03:       SELECT 
2025-06-28T04:17:03:         COUNT(*) as total,
2025-06-28T04:17:03:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:17:03: SQL実行成功: 結果行数=1
2025-06-28T04:17:03: SQL実行: 
2025-06-28T04:17:03:       SELECT 
2025-06-28T04:17:03:         COUNT(*) as total_calls,
2025-06-28T04:17:03:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:17:03.756Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:03: SQL実行成功: 結果行数=1
2025-06-28T04:17:03: [36m[2025-06-28T04:17:03.756Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:07: SQL実行: 
2025-06-28T04:17:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:07:           FROM contacts 
2025-06-28T04:17:07:           WHERE c... パラメータ数: 1
2025-06-28T04:17:07: SQL実行成功: 結果行数=0
2025-06-28T04:17:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:07: SQL実行成功: 結果行数=1
2025-06-28T04:17:07: SQL実行: 
2025-06-28T04:17:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:07:           FROM contacts 
2025-06-28T04:17:07:           WHERE c... パラメータ数: 1
2025-06-28T04:17:07: SQL実行成功: 結果行数=0
2025-06-28T04:17:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:07: SQL実行成功: 結果行数=1
2025-06-28T04:17:07: SQL実行: 
2025-06-28T04:17:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:07:           FROM contacts 
2025-06-28T04:17:07:           WHERE c... パラメータ数: 1
2025-06-28T04:17:07: SQL実行成功: 結果行数=0
2025-06-28T04:17:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:07: SQL実行成功: 結果行数=1
2025-06-28T04:17:07: SQL実行: 
2025-06-28T04:17:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:07:           FROM contacts 
2025-06-28T04:17:07:           WHERE c... パラメータ数: 1
2025-06-28T04:17:07: SQL実行成功: 結果行数=0
2025-06-28T04:17:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:07: SQL実行成功: 結果行数=1
[2025-06-28T04:17:08.753Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:08: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:17:08: [36m[2025-06-28T04:17:08.753Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:08: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:17:08: SQL実行成功: 結果行数=1
2025-06-28T04:17:08: SQL実行: 
2025-06-28T04:17:08:       SELECT 
2025-06-28T04:17:08:         COUNT(*) as total,
2025-06-28T04:17:08:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:17:08: SQL実行成功: 結果行数=1
2025-06-28T04:17:08: SQL実行: 
2025-06-28T04:17:08:       SELECT 
2025-06-28T04:17:08:         COUNT(*) as total_calls,
2025-06-28T04:17:08:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:17:08.760Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:08: SQL実行成功: 結果行数=1
2025-06-28T04:17:08: [36m[2025-06-28T04:17:08.760Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:12: SQL実行: 
2025-06-28T04:17:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:12:           FROM contacts 
2025-06-28T04:17:12:           WHERE c... パラメータ数: 1
2025-06-28T04:17:12: SQL実行成功: 結果行数=0
2025-06-28T04:17:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:12: SQL実行成功: 結果行数=1
2025-06-28T04:17:12: SQL実行: 
2025-06-28T04:17:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:12:           FROM contacts 
2025-06-28T04:17:12:           WHERE c... パラメータ数: 1
2025-06-28T04:17:12: SQL実行成功: 結果行数=0
2025-06-28T04:17:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:12: SQL実行成功: 結果行数=1
2025-06-28T04:17:12: SQL実行: 
2025-06-28T04:17:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:12:           FROM contacts 
2025-06-28T04:17:12:           WHERE c... パラメータ数: 1
2025-06-28T04:17:12: SQL実行成功: 結果行数=0
2025-06-28T04:17:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:12: SQL実行成功: 結果行数=1
2025-06-28T04:17:12: SQL実行: 
2025-06-28T04:17:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:12:           FROM contacts 
2025-06-28T04:17:12:           WHERE c... パラメータ数: 1
2025-06-28T04:17:12: SQL実行成功: 結果行数=0
2025-06-28T04:17:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:12: SQL実行成功: 結果行数=1
[2025-06-28T04:17:13.758Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:13: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:17:13: [36m[2025-06-28T04:17:13.758Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:13: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:17:13: SQL実行成功: 結果行数=1
2025-06-28T04:17:13: SQL実行: 
2025-06-28T04:17:13:       SELECT 
2025-06-28T04:17:13:         COUNT(*) as total,
2025-06-28T04:17:13:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:17:13: SQL実行成功: 結果行数=1
2025-06-28T04:17:13: SQL実行: 
2025-06-28T04:17:13:       SELECT 
2025-06-28T04:17:13:         COUNT(*) as total_calls,
2025-06-28T04:17:13:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:17:13.767Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:13: SQL実行成功: 結果行数=1
2025-06-28T04:17:13: [36m[2025-06-28T04:17:13.767Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:16: SQL実行: 
2025-06-28T04:17:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:17:16:                ci.number as ca... 
2025-06-28T04:17:16: SQL実行成功: 結果行数=82
2025-06-28T04:17:17: SQL実行: 
2025-06-28T04:17:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:17:           FROM contacts 
2025-06-28T04:17:17:           WHERE c... パラメータ数: 1
2025-06-28T04:17:17: SQL実行成功: 結果行数=0
2025-06-28T04:17:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:17: SQL実行成功: 結果行数=1
2025-06-28T04:17:17: SQL実行: 
2025-06-28T04:17:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:17:           FROM contacts 
2025-06-28T04:17:17:           WHERE c... パラメータ数: 1
2025-06-28T04:17:17: SQL実行成功: 結果行数=0
2025-06-28T04:17:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:17: SQL実行成功: 結果行数=1
2025-06-28T04:17:17: SQL実行: 
2025-06-28T04:17:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:17:           FROM contacts 
2025-06-28T04:17:17:           WHERE c... パラメータ数: 1
2025-06-28T04:17:17: SQL実行成功: 結果行数=0
2025-06-28T04:17:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:17: SQL実行成功: 結果行数=1
2025-06-28T04:17:17: SQL実行: 
2025-06-28T04:17:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:17:           FROM contacts 
2025-06-28T04:17:17:           WHERE c... パラメータ数: 1
2025-06-28T04:17:17: SQL実行成功: 結果行数=0
2025-06-28T04:17:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:17: SQL実行成功: 結果行数=1
[2025-06-28T04:17:18.759Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:18: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:17:18: [36m[2025-06-28T04:17:18.759Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:18: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:17:18: SQL実行成功: 結果行数=1
2025-06-28T04:17:18: SQL実行: 
2025-06-28T04:17:18:       SELECT 
2025-06-28T04:17:18:         COUNT(*) as total,
2025-06-28T04:17:18:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:17:18: SQL実行成功: 結果行数=1
[2025-06-28T04:17:18.763Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:18: SQL実行: 
2025-06-28T04:17:18:       SELECT 
2025-06-28T04:17:18:         COUNT(*) as total_calls,
2025-06-28T04:17:18:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:17:18: SQL実行成功: 結果行数=1
2025-06-28T04:17:18: [36m[2025-06-28T04:17:18.763Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T04:17:21.258Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:17:21: SQL実行成功: 結果行数=1
2025-06-28T04:17:21: [36m[2025-06-28T04:17:21.258Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:17:22: SQL実行: 
2025-06-28T04:17:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:22:           FROM contacts 
2025-06-28T04:17:22:           WHERE c... パラメータ数: 1
2025-06-28T04:17:22: SQL実行成功: 結果行数=0
2025-06-28T04:17:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:22: SQL実行成功: 結果行数=1
2025-06-28T04:17:22: SQL実行: 
2025-06-28T04:17:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:22:           FROM contacts 
2025-06-28T04:17:22:           WHERE c... パラメータ数: 1
2025-06-28T04:17:22: SQL実行成功: 結果行数=0
2025-06-28T04:17:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:22: SQL実行成功: 結果行数=1
2025-06-28T04:17:22: SQL実行: 
2025-06-28T04:17:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:22:           FROM contacts 
2025-06-28T04:17:22:           WHERE c... パラメータ数: 1
2025-06-28T04:17:22: SQL実行成功: 結果行数=0
2025-06-28T04:17:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:22: SQL実行成功: 結果行数=1
2025-06-28T04:17:22: SQL実行: 
2025-06-28T04:17:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:22:           FROM contacts 
2025-06-28T04:17:22:           WHERE c... パラメータ数: 1
2025-06-28T04:17:22: SQL実行成功: 結果行数=0
2025-06-28T04:17:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:22: SQL実行成功: 結果行数=1
[2025-06-28T04:17:23.750Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:23: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:17:23: [36m[2025-06-28T04:17:23.750Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:23: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:17:23: SQL実行成功: 結果行数=1
2025-06-28T04:17:23: SQL実行: 
2025-06-28T04:17:23:       SELECT 
2025-06-28T04:17:23:         COUNT(*) as total,
2025-06-28T04:17:23:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:17:23: SQL実行成功: 結果行数=1
2025-06-28T04:17:23: SQL実行: 
2025-06-28T04:17:23:       SELECT 
2025-06-28T04:17:23:         COUNT(*) as total_calls,
2025-06-28T04:17:23:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:17:23.757Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:23: SQL実行成功: 結果行数=1
2025-06-28T04:17:23: [36m[2025-06-28T04:17:23.757Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:27: SQL実行: 
2025-06-28T04:17:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:27:           FROM contacts 
2025-06-28T04:17:27:           WHERE c... パラメータ数: 1
2025-06-28T04:17:27: SQL実行成功: 結果行数=0
2025-06-28T04:17:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:27: SQL実行成功: 結果行数=1
2025-06-28T04:17:27: SQL実行: 
2025-06-28T04:17:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:27:           FROM contacts 
2025-06-28T04:17:27:           WHERE c... パラメータ数: 1
2025-06-28T04:17:27: SQL実行成功: 結果行数=0
2025-06-28T04:17:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:27: SQL実行成功: 結果行数=1
2025-06-28T04:17:27: SQL実行: 
2025-06-28T04:17:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:27:           FROM contacts 
2025-06-28T04:17:27:           WHERE c... パラメータ数: 1
2025-06-28T04:17:27: SQL実行成功: 結果行数=0
2025-06-28T04:17:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:27: SQL実行成功: 結果行数=1
2025-06-28T04:17:27: SQL実行: 
2025-06-28T04:17:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:27:           FROM contacts 
2025-06-28T04:17:27:           WHERE c... パラメータ数: 1
2025-06-28T04:17:27: SQL実行成功: 結果行数=0
2025-06-28T04:17:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:27: SQL実行成功: 結果行数=1
[2025-06-28T04:17:28.757Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:28: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:17:28: [36m[2025-06-28T04:17:28.757Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:28: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:17:28: SQL実行成功: 結果行数=1
2025-06-28T04:17:28: SQL実行: 
2025-06-28T04:17:28:       SELECT 
2025-06-28T04:17:28:         COUNT(*) as total,
2025-06-28T04:17:28:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:17:28: SQL実行成功: 結果行数=1
2025-06-28T04:17:28: SQL実行: 
2025-06-28T04:17:28:       SELECT 
2025-06-28T04:17:28:         COUNT(*) as total_calls,
2025-06-28T04:17:28:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:17:28: SQL実行成功: 結果行数=1
[2025-06-28T04:17:28.764Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:28: [36m[2025-06-28T04:17:28.764Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:31: SQL実行: SELECT 1... 
2025-06-28T04:17:31: SQL実行成功: 結果行数=1
2025-06-28T04:17:31: SQL実行: 
2025-06-28T04:17:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:17:31:                ci.number as ca... 
2025-06-28T04:17:31: SQL実行成功: 結果行数=82
2025-06-28T04:17:32: SQL実行: 
2025-06-28T04:17:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:32:           FROM contacts 
2025-06-28T04:17:32:           WHERE c... パラメータ数: 1
2025-06-28T04:17:32: SQL実行成功: 結果行数=0
2025-06-28T04:17:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:32: SQL実行成功: 結果行数=1
2025-06-28T04:17:32: SQL実行: 
2025-06-28T04:17:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:32:           FROM contacts 
2025-06-28T04:17:32:           WHERE c... パラメータ数: 1
2025-06-28T04:17:32: SQL実行成功: 結果行数=0
2025-06-28T04:17:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:32: SQL実行成功: 結果行数=1
2025-06-28T04:17:32: SQL実行: 
2025-06-28T04:17:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:32:           FROM contacts 
2025-06-28T04:17:32:           WHERE c... パラメータ数: 1
2025-06-28T04:17:32: SQL実行成功: 結果行数=0
2025-06-28T04:17:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:32: SQL実行成功: 結果行数=1
2025-06-28T04:17:32: SQL実行: 
2025-06-28T04:17:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:32:           FROM contacts 
2025-06-28T04:17:32:           WHERE c... パラメータ数: 1
2025-06-28T04:17:32: SQL実行成功: 結果行数=0
2025-06-28T04:17:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:32: SQL実行成功: 結果行数=1
[2025-06-28T04:17:33.748Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:33: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:17:33: [36m[2025-06-28T04:17:33.748Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:33: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:17:33: SQL実行成功: 結果行数=1
2025-06-28T04:17:33: SQL実行: 
2025-06-28T04:17:33:       SELECT 
2025-06-28T04:17:33:         COUNT(*) as total,
2025-06-28T04:17:33:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:17:33: SQL実行成功: 結果行数=1
2025-06-28T04:17:33: SQL実行: 
2025-06-28T04:17:33:       SELECT 
2025-06-28T04:17:33:         COUNT(*) as total_calls,
2025-06-28T04:17:33:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:17:33.751Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:33: SQL実行成功: 結果行数=1
2025-06-28T04:17:33: [36m[2025-06-28T04:17:33.751Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:37: SQL実行: 
2025-06-28T04:17:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:37:           FROM contacts 
2025-06-28T04:17:37:           WHERE c... パラメータ数: 1
2025-06-28T04:17:37: SQL実行成功: 結果行数=0
2025-06-28T04:17:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:37: SQL実行成功: 結果行数=1
2025-06-28T04:17:37: SQL実行: 
2025-06-28T04:17:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:37:           FROM contacts 
2025-06-28T04:17:37:           WHERE c... パラメータ数: 1
2025-06-28T04:17:37: SQL実行成功: 結果行数=0
2025-06-28T04:17:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:37: SQL実行成功: 結果行数=1
2025-06-28T04:17:37: SQL実行: 
2025-06-28T04:17:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:37:           FROM contacts 
2025-06-28T04:17:37:           WHERE c... パラメータ数: 1
2025-06-28T04:17:37: SQL実行成功: 結果行数=0
2025-06-28T04:17:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:37: SQL実行成功: 結果行数=1
2025-06-28T04:17:37: SQL実行: 
2025-06-28T04:17:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:37:           FROM contacts 
2025-06-28T04:17:37:           WHERE c... パラメータ数: 1
2025-06-28T04:17:37: SQL実行成功: 結果行数=0
2025-06-28T04:17:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:37: SQL実行成功: 結果行数=1
[2025-06-28T04:17:38.781Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:38: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:17:38: [36m[2025-06-28T04:17:38.781Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:38: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:17:38: SQL実行成功: 結果行数=1
2025-06-28T04:17:38: SQL実行: 
2025-06-28T04:17:38:       SELECT 
2025-06-28T04:17:38:         COUNT(*) as total,
2025-06-28T04:17:38:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:17:38: SQL実行成功: 結果行数=1
2025-06-28T04:17:38: SQL実行: 
2025-06-28T04:17:38:       SELECT 
2025-06-28T04:17:38:         COUNT(*) as total_calls,
2025-06-28T04:17:38:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:17:38.800Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:38: SQL実行成功: 結果行数=1
2025-06-28T04:17:38: [36m[2025-06-28T04:17:38.800Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:42: SQL実行: 
2025-06-28T04:17:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:42:           FROM contacts 
2025-06-28T04:17:42:           WHERE c... パラメータ数: 1
2025-06-28T04:17:42: SQL実行成功: 結果行数=0
2025-06-28T04:17:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:42: SQL実行成功: 結果行数=1
2025-06-28T04:17:42: SQL実行: 
2025-06-28T04:17:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:42:           FROM contacts 
2025-06-28T04:17:42:           WHERE c... パラメータ数: 1
2025-06-28T04:17:42: SQL実行成功: 結果行数=0
2025-06-28T04:17:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:42: SQL実行成功: 結果行数=1
2025-06-28T04:17:42: SQL実行: 
2025-06-28T04:17:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:42:           FROM contacts 
2025-06-28T04:17:42:           WHERE c... パラメータ数: 1
2025-06-28T04:17:42: SQL実行成功: 結果行数=0
2025-06-28T04:17:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:42: SQL実行成功: 結果行数=1
2025-06-28T04:17:42: SQL実行: 
2025-06-28T04:17:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:42:           FROM contacts 
2025-06-28T04:17:42:           WHERE c... パラメータ数: 1
2025-06-28T04:17:42: SQL実行成功: 結果行数=0
2025-06-28T04:17:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:42: SQL実行成功: 結果行数=1
[2025-06-28T04:17:43.756Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:43: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:17:43: [36m[2025-06-28T04:17:43.756Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:43: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:17:43: SQL実行成功: 結果行数=1
2025-06-28T04:17:43: SQL実行: 
2025-06-28T04:17:43:       SELECT 
2025-06-28T04:17:43:         COUNT(*) as total,
2025-06-28T04:17:43:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:17:43: SQL実行成功: 結果行数=1
2025-06-28T04:17:43: SQL実行: 
2025-06-28T04:17:43:       SELECT 
2025-06-28T04:17:43:         COUNT(*) as total_calls,
2025-06-28T04:17:43:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:17:43.760Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:43: SQL実行成功: 結果行数=1
2025-06-28T04:17:43: [36m[2025-06-28T04:17:43.760Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:46: SQL実行: 
2025-06-28T04:17:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:17:46:                ci.number as ca... 
2025-06-28T04:17:46: SQL実行成功: 結果行数=82
2025-06-28T04:17:47: SQL実行: 
2025-06-28T04:17:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:47:           FROM contacts 
2025-06-28T04:17:47:           WHERE c... パラメータ数: 1
2025-06-28T04:17:47: SQL実行成功: 結果行数=0
2025-06-28T04:17:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:47: SQL実行成功: 結果行数=1
2025-06-28T04:17:47: SQL実行: 
2025-06-28T04:17:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:47:           FROM contacts 
2025-06-28T04:17:47:           WHERE c... パラメータ数: 1
2025-06-28T04:17:47: SQL実行成功: 結果行数=0
2025-06-28T04:17:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:47: SQL実行成功: 結果行数=1
2025-06-28T04:17:47: SQL実行: 
2025-06-28T04:17:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:47:           FROM contacts 
2025-06-28T04:17:47:           WHERE c... パラメータ数: 1
2025-06-28T04:17:47: SQL実行成功: 結果行数=0
2025-06-28T04:17:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:47: SQL実行成功: 結果行数=1
2025-06-28T04:17:47: SQL実行: 
2025-06-28T04:17:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:47:           FROM contacts 
2025-06-28T04:17:47:           WHERE c... パラメータ数: 1
2025-06-28T04:17:47: SQL実行成功: 結果行数=0
2025-06-28T04:17:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:47: SQL実行成功: 結果行数=1
[2025-06-28T04:17:48.753Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:48: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:17:48: [36m[2025-06-28T04:17:48.753Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:48: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:17:48: SQL実行成功: 結果行数=1
2025-06-28T04:17:48: SQL実行: 
2025-06-28T04:17:48:       SELECT 
2025-06-28T04:17:48:         COUNT(*) as total,
2025-06-28T04:17:48:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:17:48: SQL実行成功: 結果行数=1
2025-06-28T04:17:48: SQL実行: 
2025-06-28T04:17:48:       SELECT 
2025-06-28T04:17:48:         COUNT(*) as total_calls,
2025-06-28T04:17:48:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:17:48.756Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:48: SQL実行成功: 結果行数=1
2025-06-28T04:17:48: [36m[2025-06-28T04:17:48.756Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:52: SQL実行: 
2025-06-28T04:17:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:52:           FROM contacts 
2025-06-28T04:17:52:           WHERE c... パラメータ数: 1
2025-06-28T04:17:52: SQL実行成功: 結果行数=0
2025-06-28T04:17:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:52: SQL実行成功: 結果行数=1
2025-06-28T04:17:52: SQL実行: 
2025-06-28T04:17:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:52:           FROM contacts 
2025-06-28T04:17:52:           WHERE c... パラメータ数: 1
2025-06-28T04:17:52: SQL実行成功: 結果行数=0
2025-06-28T04:17:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:52: SQL実行成功: 結果行数=1
2025-06-28T04:17:52: SQL実行: 
2025-06-28T04:17:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:52:           FROM contacts 
2025-06-28T04:17:52:           WHERE c... パラメータ数: 1
2025-06-28T04:17:52: SQL実行成功: 結果行数=0
2025-06-28T04:17:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:52: SQL実行成功: 結果行数=1
2025-06-28T04:17:52: SQL実行: 
2025-06-28T04:17:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:52:           FROM contacts 
2025-06-28T04:17:52:           WHERE c... パラメータ数: 1
2025-06-28T04:17:52: SQL実行成功: 結果行数=0
2025-06-28T04:17:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:52: SQL実行成功: 結果行数=1
[2025-06-28T04:17:53.752Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:53: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:17:53: [36m[2025-06-28T04:17:53.752Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:53: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:17:53: SQL実行成功: 結果行数=1
2025-06-28T04:17:53: SQL実行: 
2025-06-28T04:17:53:       SELECT 
2025-06-28T04:17:53:         COUNT(*) as total,
2025-06-28T04:17:53:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:17:53: SQL実行成功: 結果行数=1
2025-06-28T04:17:53: SQL実行: 
2025-06-28T04:17:53:       SELECT 
2025-06-28T04:17:53:         COUNT(*) as total_calls,
2025-06-28T04:17:53:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:17:53: SQL実行成功: 結果行数=1
[2025-06-28T04:17:53.756Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:53: [36m[2025-06-28T04:17:53.756Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:57: SQL実行: 
2025-06-28T04:17:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:57:           FROM contacts 
2025-06-28T04:17:57:           WHERE c... パラメータ数: 1
2025-06-28T04:17:57: SQL実行成功: 結果行数=0
2025-06-28T04:17:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:57: SQL実行成功: 結果行数=1
2025-06-28T04:17:57: SQL実行: 
2025-06-28T04:17:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:57:           FROM contacts 
2025-06-28T04:17:57:           WHERE c... パラメータ数: 1
2025-06-28T04:17:57: SQL実行成功: 結果行数=0
2025-06-28T04:17:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:57: SQL実行成功: 結果行数=1
2025-06-28T04:17:57: SQL実行: 
2025-06-28T04:17:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:57:           FROM contacts 
2025-06-28T04:17:57:           WHERE c... パラメータ数: 1
2025-06-28T04:17:57: SQL実行成功: 結果行数=0
2025-06-28T04:17:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:57: SQL実行成功: 結果行数=1
2025-06-28T04:17:57: SQL実行: 
2025-06-28T04:17:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:17:57:           FROM contacts 
2025-06-28T04:17:57:           WHERE c... パラメータ数: 1
2025-06-28T04:17:57: SQL実行成功: 結果行数=0
2025-06-28T04:17:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:17:57: SQL実行成功: 結果行数=1
[2025-06-28T04:17:58.748Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:58: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:17:58: [36m[2025-06-28T04:17:58.748Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:17:58: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:17:58: SQL実行成功: 結果行数=1
2025-06-28T04:17:58: SQL実行: 
2025-06-28T04:17:58:       SELECT 
2025-06-28T04:17:58:         COUNT(*) as total,
2025-06-28T04:17:58:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:17:58: SQL実行成功: 結果行数=1
[2025-06-28T04:17:58.752Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:17:58: SQL実行: 
2025-06-28T04:17:58:       SELECT 
2025-06-28T04:17:58:         COUNT(*) as total_calls,
2025-06-28T04:17:58:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:17:58: SQL実行成功: 結果行数=1
2025-06-28T04:17:58: [36m[2025-06-28T04:17:58.752Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:01: SQL実行: SELECT 1... 
2025-06-28T04:18:01: SQL実行成功: 結果行数=1
2025-06-28T04:18:01: SQL実行: 
2025-06-28T04:18:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:18:01:                ci.number as ca... 
2025-06-28T04:18:01: SQL実行成功: 結果行数=82
2025-06-28T04:18:02: SQL実行: 
2025-06-28T04:18:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:02:           FROM contacts 
2025-06-28T04:18:02:           WHERE c... パラメータ数: 1
2025-06-28T04:18:02: SQL実行成功: 結果行数=0
2025-06-28T04:18:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:02: SQL実行成功: 結果行数=1
2025-06-28T04:18:02: SQL実行: 
2025-06-28T04:18:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:02:           FROM contacts 
2025-06-28T04:18:02:           WHERE c... パラメータ数: 1
2025-06-28T04:18:02: SQL実行成功: 結果行数=0
2025-06-28T04:18:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:02: SQL実行成功: 結果行数=1
2025-06-28T04:18:02: SQL実行: 
2025-06-28T04:18:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:02:           FROM contacts 
2025-06-28T04:18:02:           WHERE c... パラメータ数: 1
2025-06-28T04:18:02: SQL実行成功: 結果行数=0
2025-06-28T04:18:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:02: SQL実行成功: 結果行数=1
2025-06-28T04:18:02: SQL実行: 
2025-06-28T04:18:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:02:           FROM contacts 
2025-06-28T04:18:02:           WHERE c... パラメータ数: 1
2025-06-28T04:18:02: SQL実行成功: 結果行数=0
2025-06-28T04:18:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:02: SQL実行成功: 結果行数=1
[2025-06-28T04:18:03.746Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:03: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:18:03: [36m[2025-06-28T04:18:03.746Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:03: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:18:03: SQL実行成功: 結果行数=1
2025-06-28T04:18:03: SQL実行: 
2025-06-28T04:18:03:       SELECT 
2025-06-28T04:18:03:         COUNT(*) as total,
2025-06-28T04:18:03:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:18:03: SQL実行成功: 結果行数=1
2025-06-28T04:18:03: SQL実行: 
2025-06-28T04:18:03:       SELECT 
2025-06-28T04:18:03:         COUNT(*) as total_calls,
2025-06-28T04:18:03:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:18:03.752Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:03: SQL実行成功: 結果行数=1
2025-06-28T04:18:03: [36m[2025-06-28T04:18:03.752Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:07: SQL実行: 
2025-06-28T04:18:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:07:           FROM contacts 
2025-06-28T04:18:07:           WHERE c... パラメータ数: 1
2025-06-28T04:18:07: SQL実行成功: 結果行数=0
2025-06-28T04:18:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:07: SQL実行成功: 結果行数=1
2025-06-28T04:18:07: SQL実行: 
2025-06-28T04:18:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:07:           FROM contacts 
2025-06-28T04:18:07:           WHERE c... パラメータ数: 1
2025-06-28T04:18:07: SQL実行成功: 結果行数=0
2025-06-28T04:18:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:07: SQL実行成功: 結果行数=1
2025-06-28T04:18:07: SQL実行: 
2025-06-28T04:18:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:07:           FROM contacts 
2025-06-28T04:18:07:           WHERE c... パラメータ数: 1
2025-06-28T04:18:07: SQL実行成功: 結果行数=0
2025-06-28T04:18:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:07: SQL実行成功: 結果行数=1
2025-06-28T04:18:07: SQL実行: 
2025-06-28T04:18:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:07:           FROM contacts 
2025-06-28T04:18:07:           WHERE c... パラメータ数: 1
2025-06-28T04:18:07: SQL実行成功: 結果行数=0
2025-06-28T04:18:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:07: SQL実行成功: 結果行数=1
[2025-06-28T04:18:08.750Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:08: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:18:08: [36m[2025-06-28T04:18:08.750Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:08: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:18:08: SQL実行成功: 結果行数=1
2025-06-28T04:18:08: SQL実行: 
2025-06-28T04:18:08:       SELECT 
2025-06-28T04:18:08:         COUNT(*) as total,
2025-06-28T04:18:08:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:18:08: SQL実行成功: 結果行数=1
2025-06-28T04:18:08: SQL実行: 
2025-06-28T04:18:08:       SELECT 
2025-06-28T04:18:08:         COUNT(*) as total_calls,
2025-06-28T04:18:08:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:18:08.753Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:08: SQL実行成功: 結果行数=1
2025-06-28T04:18:08: [36m[2025-06-28T04:18:08.753Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:12: SQL実行: 
2025-06-28T04:18:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:12:           FROM contacts 
2025-06-28T04:18:12:           WHERE c... パラメータ数: 1
2025-06-28T04:18:12: SQL実行成功: 結果行数=0
2025-06-28T04:18:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:12: SQL実行成功: 結果行数=1
2025-06-28T04:18:12: SQL実行: 
2025-06-28T04:18:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:12:           FROM contacts 
2025-06-28T04:18:12:           WHERE c... パラメータ数: 1
2025-06-28T04:18:12: SQL実行成功: 結果行数=0
2025-06-28T04:18:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:12: SQL実行成功: 結果行数=1
2025-06-28T04:18:12: SQL実行: 
2025-06-28T04:18:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:12:           FROM contacts 
2025-06-28T04:18:12:           WHERE c... パラメータ数: 1
2025-06-28T04:18:12: SQL実行成功: 結果行数=0
2025-06-28T04:18:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:12: SQL実行成功: 結果行数=1
2025-06-28T04:18:12: SQL実行: 
2025-06-28T04:18:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:12:           FROM contacts 
2025-06-28T04:18:12:           WHERE c... パラメータ数: 1
2025-06-28T04:18:12: SQL実行成功: 結果行数=0
2025-06-28T04:18:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:12: SQL実行成功: 結果行数=1
[2025-06-28T04:18:13.752Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:13: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:18:13: [36m[2025-06-28T04:18:13.752Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:13: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:18:13: SQL実行成功: 結果行数=1
2025-06-28T04:18:13: SQL実行: 
2025-06-28T04:18:13:       SELECT 
2025-06-28T04:18:13:         COUNT(*) as total,
2025-06-28T04:18:13:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:18:13: SQL実行成功: 結果行数=1
2025-06-28T04:18:13: SQL実行: 
2025-06-28T04:18:13:       SELECT 
2025-06-28T04:18:13:         COUNT(*) as total_calls,
2025-06-28T04:18:13:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:18:13.757Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:13: SQL実行成功: 結果行数=1
2025-06-28T04:18:13: [36m[2025-06-28T04:18:13.757Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:16: SQL実行: 
2025-06-28T04:18:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:18:16:                ci.number as ca... 
2025-06-28T04:18:16: SQL実行成功: 結果行数=82
2025-06-28T04:18:17: SQL実行: 
2025-06-28T04:18:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:17:           FROM contacts 
2025-06-28T04:18:17:           WHERE c... パラメータ数: 1
2025-06-28T04:18:17: SQL実行成功: 結果行数=0
2025-06-28T04:18:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:17: SQL実行成功: 結果行数=1
2025-06-28T04:18:17: SQL実行: 
2025-06-28T04:18:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:17:           FROM contacts 
2025-06-28T04:18:17:           WHERE c... パラメータ数: 1
2025-06-28T04:18:17: SQL実行成功: 結果行数=0
2025-06-28T04:18:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:17: SQL実行成功: 結果行数=1
2025-06-28T04:18:17: SQL実行: 
2025-06-28T04:18:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:17:           FROM contacts 
2025-06-28T04:18:17:           WHERE c... パラメータ数: 1
2025-06-28T04:18:17: SQL実行成功: 結果行数=0
2025-06-28T04:18:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:17: SQL実行成功: 結果行数=1
2025-06-28T04:18:17: SQL実行: 
2025-06-28T04:18:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:17:           FROM contacts 
2025-06-28T04:18:17:           WHERE c... パラメータ数: 1
2025-06-28T04:18:17: SQL実行成功: 結果行数=0
2025-06-28T04:18:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:17: SQL実行成功: 結果行数=1
[2025-06-28T04:18:18.753Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:18: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:18:18: [36m[2025-06-28T04:18:18.753Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:18: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:18:18: SQL実行成功: 結果行数=1
2025-06-28T04:18:18: SQL実行: 
2025-06-28T04:18:18:       SELECT 
2025-06-28T04:18:18:         COUNT(*) as total,
2025-06-28T04:18:18:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:18:18: SQL実行成功: 結果行数=1
2025-06-28T04:18:18: SQL実行: 
2025-06-28T04:18:18:       SELECT 
2025-06-28T04:18:18:         COUNT(*) as total_calls,
2025-06-28T04:18:18:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:18:18.757Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:18: SQL実行成功: 結果行数=1
2025-06-28T04:18:18: [36m[2025-06-28T04:18:18.757Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T04:18:21.257Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:18:21: SQL実行成功: 結果行数=1
2025-06-28T04:18:21: [36m[2025-06-28T04:18:21.257Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:18:22: SQL実行: 
2025-06-28T04:18:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:22:           FROM contacts 
2025-06-28T04:18:22:           WHERE c... パラメータ数: 1
2025-06-28T04:18:22: SQL実行成功: 結果行数=0
2025-06-28T04:18:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:22: SQL実行成功: 結果行数=1
2025-06-28T04:18:22: SQL実行: 
2025-06-28T04:18:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:22:           FROM contacts 
2025-06-28T04:18:22:           WHERE c... パラメータ数: 1
2025-06-28T04:18:22: SQL実行成功: 結果行数=0
2025-06-28T04:18:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:22: SQL実行成功: 結果行数=1
2025-06-28T04:18:22: SQL実行: 
2025-06-28T04:18:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:22:           FROM contacts 
2025-06-28T04:18:22:           WHERE c... パラメータ数: 1
2025-06-28T04:18:22: SQL実行成功: 結果行数=0
2025-06-28T04:18:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:22: SQL実行成功: 結果行数=1
2025-06-28T04:18:22: SQL実行: 
2025-06-28T04:18:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:22:           FROM contacts 
2025-06-28T04:18:22:           WHERE c... パラメータ数: 1
2025-06-28T04:18:22: SQL実行成功: 結果行数=0
2025-06-28T04:18:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:22: SQL実行成功: 結果行数=1
[2025-06-28T04:18:23.749Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:23: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:18:23: [36m[2025-06-28T04:18:23.749Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:23: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:18:23: SQL実行成功: 結果行数=1
2025-06-28T04:18:23: SQL実行: 
2025-06-28T04:18:23:       SELECT 
2025-06-28T04:18:23:         COUNT(*) as total,
2025-06-28T04:18:23:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:18:23: SQL実行成功: 結果行数=1
2025-06-28T04:18:23: SQL実行: 
2025-06-28T04:18:23:       SELECT 
2025-06-28T04:18:23:         COUNT(*) as total_calls,
2025-06-28T04:18:23:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:18:23.753Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:23: SQL実行成功: 結果行数=1
2025-06-28T04:18:23: [36m[2025-06-28T04:18:23.753Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:27: SQL実行: 
2025-06-28T04:18:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:27:           FROM contacts 
2025-06-28T04:18:27:           WHERE c... パラメータ数: 1
2025-06-28T04:18:27: SQL実行成功: 結果行数=0
2025-06-28T04:18:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:27: SQL実行成功: 結果行数=1
2025-06-28T04:18:27: SQL実行: 
2025-06-28T04:18:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:27:           FROM contacts 
2025-06-28T04:18:27:           WHERE c... パラメータ数: 1
2025-06-28T04:18:27: SQL実行成功: 結果行数=0
2025-06-28T04:18:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:27: SQL実行成功: 結果行数=1
2025-06-28T04:18:27: SQL実行: 
2025-06-28T04:18:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:27:           FROM contacts 
2025-06-28T04:18:27:           WHERE c... パラメータ数: 1
2025-06-28T04:18:27: SQL実行成功: 結果行数=0
2025-06-28T04:18:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:27: SQL実行成功: 結果行数=1
2025-06-28T04:18:27: SQL実行: 
2025-06-28T04:18:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:27:           FROM contacts 
2025-06-28T04:18:27:           WHERE c... パラメータ数: 1
2025-06-28T04:18:27: SQL実行成功: 結果行数=0
2025-06-28T04:18:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:27: SQL実行成功: 結果行数=1
[2025-06-28T04:18:28.757Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:28: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:18:28: [36m[2025-06-28T04:18:28.757Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:28: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:18:28: SQL実行成功: 結果行数=1
2025-06-28T04:18:28: SQL実行: 
2025-06-28T04:18:28:       SELECT 
2025-06-28T04:18:28:         COUNT(*) as total,
2025-06-28T04:18:28:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:18:28: SQL実行成功: 結果行数=1
2025-06-28T04:18:28: SQL実行: 
2025-06-28T04:18:28:       SELECT 
2025-06-28T04:18:28:         COUNT(*) as total_calls,
2025-06-28T04:18:28:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:18:28.760Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:28: SQL実行成功: 結果行数=1
2025-06-28T04:18:28: [36m[2025-06-28T04:18:28.760Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:31: SQL実行: SELECT 1... 
2025-06-28T04:18:31: SQL実行成功: 結果行数=1
2025-06-28T04:18:31: SQL実行: 
2025-06-28T04:18:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:18:31:                ci.number as ca... 
2025-06-28T04:18:31: SQL実行成功: 結果行数=82
2025-06-28T04:18:32: SQL実行: 
2025-06-28T04:18:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:32:           FROM contacts 
2025-06-28T04:18:32:           WHERE c... パラメータ数: 1
2025-06-28T04:18:32: SQL実行成功: 結果行数=0
2025-06-28T04:18:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:32: SQL実行成功: 結果行数=1
2025-06-28T04:18:32: SQL実行: 
2025-06-28T04:18:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:32:           FROM contacts 
2025-06-28T04:18:32:           WHERE c... パラメータ数: 1
2025-06-28T04:18:32: SQL実行成功: 結果行数=0
2025-06-28T04:18:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:32: SQL実行成功: 結果行数=1
2025-06-28T04:18:32: SQL実行: 
2025-06-28T04:18:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:32:           FROM contacts 
2025-06-28T04:18:32:           WHERE c... パラメータ数: 1
2025-06-28T04:18:32: SQL実行成功: 結果行数=0
2025-06-28T04:18:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:32: SQL実行成功: 結果行数=1
2025-06-28T04:18:32: SQL実行: 
2025-06-28T04:18:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:32:           FROM contacts 
2025-06-28T04:18:32:           WHERE c... パラメータ数: 1
2025-06-28T04:18:32: SQL実行成功: 結果行数=0
2025-06-28T04:18:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:32: SQL実行成功: 結果行数=1
[2025-06-28T04:18:33.748Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:33: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:18:33: [36m[2025-06-28T04:18:33.748Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:33: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:18:33: SQL実行成功: 結果行数=1
2025-06-28T04:18:33: SQL実行: 
2025-06-28T04:18:33:       SELECT 
2025-06-28T04:18:33:         COUNT(*) as total,
2025-06-28T04:18:33:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:18:33: SQL実行成功: 結果行数=1
2025-06-28T04:18:33: SQL実行: 
2025-06-28T04:18:33:       SELECT 
2025-06-28T04:18:33:         COUNT(*) as total_calls,
2025-06-28T04:18:33:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:18:33.752Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:33: SQL実行成功: 結果行数=1
2025-06-28T04:18:33: [36m[2025-06-28T04:18:33.752Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:37: SQL実行: 
2025-06-28T04:18:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:37:           FROM contacts 
2025-06-28T04:18:37:           WHERE c... パラメータ数: 1
2025-06-28T04:18:37: SQL実行成功: 結果行数=0
2025-06-28T04:18:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:37: SQL実行成功: 結果行数=1
2025-06-28T04:18:37: SQL実行: 
2025-06-28T04:18:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:37:           FROM contacts 
2025-06-28T04:18:37:           WHERE c... パラメータ数: 1
2025-06-28T04:18:37: SQL実行成功: 結果行数=0
2025-06-28T04:18:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:37: SQL実行成功: 結果行数=1
2025-06-28T04:18:37: SQL実行: 
2025-06-28T04:18:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:37:           FROM contacts 
2025-06-28T04:18:37:           WHERE c... パラメータ数: 1
2025-06-28T04:18:37: SQL実行成功: 結果行数=0
2025-06-28T04:18:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:37: SQL実行成功: 結果行数=1
2025-06-28T04:18:37: SQL実行: 
2025-06-28T04:18:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:37:           FROM contacts 
2025-06-28T04:18:37:           WHERE c... パラメータ数: 1
2025-06-28T04:18:37: SQL実行成功: 結果行数=0
2025-06-28T04:18:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:37: SQL実行成功: 結果行数=1
[2025-06-28T04:18:38.748Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:38: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:18:38: [36m[2025-06-28T04:18:38.748Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:38: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:18:38: SQL実行成功: 結果行数=1
2025-06-28T04:18:38: SQL実行: 
2025-06-28T04:18:38:       SELECT 
2025-06-28T04:18:38:         COUNT(*) as total,
2025-06-28T04:18:38:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:18:38: SQL実行成功: 結果行数=1
2025-06-28T04:18:38: SQL実行: 
2025-06-28T04:18:38:       SELECT 
2025-06-28T04:18:38:         COUNT(*) as total_calls,
2025-06-28T04:18:38:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:18:38.752Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:38: SQL実行成功: 結果行数=1
2025-06-28T04:18:38: [36m[2025-06-28T04:18:38.752Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:42: SQL実行: 
2025-06-28T04:18:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:42:           FROM contacts 
2025-06-28T04:18:42:           WHERE c... パラメータ数: 1
2025-06-28T04:18:42: SQL実行成功: 結果行数=0
2025-06-28T04:18:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:42: SQL実行成功: 結果行数=1
2025-06-28T04:18:42: SQL実行: 
2025-06-28T04:18:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:42:           FROM contacts 
2025-06-28T04:18:42:           WHERE c... パラメータ数: 1
2025-06-28T04:18:42: SQL実行成功: 結果行数=0
2025-06-28T04:18:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:42: SQL実行成功: 結果行数=1
2025-06-28T04:18:42: SQL実行: 
2025-06-28T04:18:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:42:           FROM contacts 
2025-06-28T04:18:42:           WHERE c... パラメータ数: 1
2025-06-28T04:18:42: SQL実行成功: 結果行数=0
2025-06-28T04:18:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:42: SQL実行成功: 結果行数=1
2025-06-28T04:18:42: SQL実行: 
2025-06-28T04:18:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:42:           FROM contacts 
2025-06-28T04:18:42:           WHERE c... パラメータ数: 1
2025-06-28T04:18:42: SQL実行成功: 結果行数=0
2025-06-28T04:18:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:42: SQL実行成功: 結果行数=1
[2025-06-28T04:18:43.750Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:43: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:18:43: [36m[2025-06-28T04:18:43.750Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:43: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:18:43: SQL実行成功: 結果行数=1
2025-06-28T04:18:43: SQL実行: 
2025-06-28T04:18:43:       SELECT 
2025-06-28T04:18:43:         COUNT(*) as total,
2025-06-28T04:18:43:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:18:43: SQL実行成功: 結果行数=1
2025-06-28T04:18:43: SQL実行: 
2025-06-28T04:18:43:       SELECT 
2025-06-28T04:18:43:         COUNT(*) as total_calls,
2025-06-28T04:18:43:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:18:43.753Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:43: SQL実行成功: 結果行数=1
2025-06-28T04:18:43: [36m[2025-06-28T04:18:43.753Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:46: SQL実行: 
2025-06-28T04:18:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:18:46:                ci.number as ca... 
2025-06-28T04:18:46: SQL実行成功: 結果行数=82
2025-06-28T04:18:47: SQL実行: 
2025-06-28T04:18:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:47:           FROM contacts 
2025-06-28T04:18:47:           WHERE c... パラメータ数: 1
2025-06-28T04:18:47: SQL実行成功: 結果行数=0
2025-06-28T04:18:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:47: SQL実行成功: 結果行数=1
2025-06-28T04:18:47: SQL実行: 
2025-06-28T04:18:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:47:           FROM contacts 
2025-06-28T04:18:47:           WHERE c... パラメータ数: 1
2025-06-28T04:18:47: SQL実行成功: 結果行数=0
2025-06-28T04:18:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:47: SQL実行成功: 結果行数=1
2025-06-28T04:18:47: SQL実行: 
2025-06-28T04:18:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:47:           FROM contacts 
2025-06-28T04:18:47:           WHERE c... パラメータ数: 1
2025-06-28T04:18:47: SQL実行成功: 結果行数=0
2025-06-28T04:18:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:47: SQL実行成功: 結果行数=1
2025-06-28T04:18:47: SQL実行: 
2025-06-28T04:18:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:47:           FROM contacts 
2025-06-28T04:18:47:           WHERE c... パラメータ数: 1
2025-06-28T04:18:47: SQL実行成功: 結果行数=0
2025-06-28T04:18:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:47: SQL実行成功: 結果行数=1
[2025-06-28T04:18:48.757Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:48: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:18:48: [36m[2025-06-28T04:18:48.757Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:48: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:18:48: SQL実行成功: 結果行数=1
2025-06-28T04:18:48: SQL実行: 
2025-06-28T04:18:48:       SELECT 
2025-06-28T04:18:48:         COUNT(*) as total,
2025-06-28T04:18:48:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:18:48: SQL実行成功: 結果行数=1
2025-06-28T04:18:48: SQL実行: 
2025-06-28T04:18:48:       SELECT 
2025-06-28T04:18:48:         COUNT(*) as total_calls,
2025-06-28T04:18:48:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:18:48.761Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:48: SQL実行成功: 結果行数=1
2025-06-28T04:18:48: [36m[2025-06-28T04:18:48.761Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:52: SQL実行: 
2025-06-28T04:18:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:52:           FROM contacts 
2025-06-28T04:18:52:           WHERE c... パラメータ数: 1
2025-06-28T04:18:52: SQL実行成功: 結果行数=0
2025-06-28T04:18:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:52: SQL実行成功: 結果行数=1
2025-06-28T04:18:52: SQL実行: 
2025-06-28T04:18:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:52:           FROM contacts 
2025-06-28T04:18:52:           WHERE c... パラメータ数: 1
2025-06-28T04:18:52: SQL実行成功: 結果行数=0
2025-06-28T04:18:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:52: SQL実行成功: 結果行数=1
2025-06-28T04:18:52: SQL実行: 
2025-06-28T04:18:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:52:           FROM contacts 
2025-06-28T04:18:52:           WHERE c... パラメータ数: 1
2025-06-28T04:18:52: SQL実行成功: 結果行数=0
2025-06-28T04:18:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:52: SQL実行成功: 結果行数=1
2025-06-28T04:18:52: SQL実行: 
2025-06-28T04:18:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:52:           FROM contacts 
2025-06-28T04:18:52:           WHERE c... パラメータ数: 1
2025-06-28T04:18:52: SQL実行成功: 結果行数=0
2025-06-28T04:18:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:52: SQL実行成功: 結果行数=1
[2025-06-28T04:18:53.750Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:53: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:18:53: [36m[2025-06-28T04:18:53.750Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:53: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:18:53: SQL実行成功: 結果行数=1
2025-06-28T04:18:53: SQL実行: 
2025-06-28T04:18:53:       SELECT 
2025-06-28T04:18:53:         COUNT(*) as total,
2025-06-28T04:18:53:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:18:53: SQL実行成功: 結果行数=1
2025-06-28T04:18:53: SQL実行: 
2025-06-28T04:18:53:       SELECT 
2025-06-28T04:18:53:         COUNT(*) as total_calls,
2025-06-28T04:18:53:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:18:53.753Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:53: SQL実行成功: 結果行数=1
2025-06-28T04:18:53: [36m[2025-06-28T04:18:53.753Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:57: SQL実行: 
2025-06-28T04:18:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:57:           FROM contacts 
2025-06-28T04:18:57:           WHERE c... パラメータ数: 1
2025-06-28T04:18:57: SQL実行成功: 結果行数=0
2025-06-28T04:18:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:57: SQL実行成功: 結果行数=1
2025-06-28T04:18:57: SQL実行: 
2025-06-28T04:18:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:57:           FROM contacts 
2025-06-28T04:18:57:           WHERE c... パラメータ数: 1
2025-06-28T04:18:57: SQL実行成功: 結果行数=0
2025-06-28T04:18:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:57: SQL実行成功: 結果行数=1
2025-06-28T04:18:57: SQL実行: 
2025-06-28T04:18:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:57:           FROM contacts 
2025-06-28T04:18:57:           WHERE c... パラメータ数: 1
2025-06-28T04:18:57: SQL実行成功: 結果行数=0
2025-06-28T04:18:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:57: SQL実行成功: 結果行数=1
2025-06-28T04:18:57: SQL実行: 
2025-06-28T04:18:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:18:57:           FROM contacts 
2025-06-28T04:18:57:           WHERE c... パラメータ数: 1
2025-06-28T04:18:57: SQL実行成功: 結果行数=0
2025-06-28T04:18:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:18:57: SQL実行成功: 結果行数=1
[2025-06-28T04:18:58.755Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:58: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:18:58: [36m[2025-06-28T04:18:58.755Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:18:58: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:18:58: SQL実行成功: 結果行数=1
2025-06-28T04:18:58: SQL実行: 
2025-06-28T04:18:58:       SELECT 
2025-06-28T04:18:58:         COUNT(*) as total,
2025-06-28T04:18:58:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:18:58: SQL実行成功: 結果行数=1
2025-06-28T04:18:58: SQL実行: 
2025-06-28T04:18:58:       SELECT 
2025-06-28T04:18:58:         COUNT(*) as total_calls,
2025-06-28T04:18:58:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:18:58.758Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:18:58: SQL実行成功: 結果行数=1
2025-06-28T04:18:58: [36m[2025-06-28T04:18:58.758Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:01: SQL実行: SELECT 1... 
2025-06-28T04:19:01: SQL実行成功: 結果行数=1
2025-06-28T04:19:01: SQL実行: 
2025-06-28T04:19:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:19:01:                ci.number as ca... 
2025-06-28T04:19:01: SQL実行成功: 結果行数=82
2025-06-28T04:19:02: SQL実行: 
2025-06-28T04:19:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:02:           FROM contacts 
2025-06-28T04:19:02:           WHERE c... パラメータ数: 1
2025-06-28T04:19:02: SQL実行成功: 結果行数=0
2025-06-28T04:19:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:02: SQL実行成功: 結果行数=1
2025-06-28T04:19:02: SQL実行: 
2025-06-28T04:19:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:02:           FROM contacts 
2025-06-28T04:19:02:           WHERE c... パラメータ数: 1
2025-06-28T04:19:02: SQL実行成功: 結果行数=0
2025-06-28T04:19:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:02: SQL実行成功: 結果行数=1
2025-06-28T04:19:02: SQL実行: 
2025-06-28T04:19:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:02:           FROM contacts 
2025-06-28T04:19:02:           WHERE c... パラメータ数: 1
2025-06-28T04:19:02: SQL実行成功: 結果行数=0
2025-06-28T04:19:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:02: SQL実行成功: 結果行数=1
2025-06-28T04:19:02: SQL実行: 
2025-06-28T04:19:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:02:           FROM contacts 
2025-06-28T04:19:02:           WHERE c... パラメータ数: 1
2025-06-28T04:19:02: SQL実行成功: 結果行数=0
2025-06-28T04:19:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:02: SQL実行成功: 結果行数=1
[2025-06-28T04:19:03.748Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:03: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:19:03: [36m[2025-06-28T04:19:03.748Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:03: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:19:03: SQL実行成功: 結果行数=1
2025-06-28T04:19:03: SQL実行: 
2025-06-28T04:19:03:       SELECT 
2025-06-28T04:19:03:         COUNT(*) as total,
2025-06-28T04:19:03:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:19:03: SQL実行成功: 結果行数=1
2025-06-28T04:19:03: SQL実行: 
2025-06-28T04:19:03:       SELECT 
2025-06-28T04:19:03:         COUNT(*) as total_calls,
2025-06-28T04:19:03:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:19:03.753Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:03: SQL実行成功: 結果行数=1
2025-06-28T04:19:03: [36m[2025-06-28T04:19:03.753Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:07: SQL実行: 
2025-06-28T04:19:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:07:           FROM contacts 
2025-06-28T04:19:07:           WHERE c... パラメータ数: 1
2025-06-28T04:19:07: SQL実行成功: 結果行数=0
2025-06-28T04:19:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:07: SQL実行成功: 結果行数=1
2025-06-28T04:19:07: SQL実行: 
2025-06-28T04:19:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:07:           FROM contacts 
2025-06-28T04:19:07:           WHERE c... パラメータ数: 1
2025-06-28T04:19:07: SQL実行成功: 結果行数=0
2025-06-28T04:19:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:07: SQL実行成功: 結果行数=1
2025-06-28T04:19:07: SQL実行: 
2025-06-28T04:19:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:07:           FROM contacts 
2025-06-28T04:19:07:           WHERE c... パラメータ数: 1
2025-06-28T04:19:07: SQL実行成功: 結果行数=0
2025-06-28T04:19:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:07: SQL実行成功: 結果行数=1
2025-06-28T04:19:07: SQL実行: 
2025-06-28T04:19:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:07:           FROM contacts 
2025-06-28T04:19:07:           WHERE c... パラメータ数: 1
2025-06-28T04:19:07: SQL実行成功: 結果行数=0
2025-06-28T04:19:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:07: SQL実行成功: 結果行数=1
[2025-06-28T04:19:08.752Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:08: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:19:08: [36m[2025-06-28T04:19:08.752Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:08: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:19:08: SQL実行成功: 結果行数=1
2025-06-28T04:19:08: SQL実行: 
2025-06-28T04:19:08:       SELECT 
2025-06-28T04:19:08:         COUNT(*) as total,
2025-06-28T04:19:08:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:19:08: SQL実行成功: 結果行数=1
2025-06-28T04:19:08: SQL実行: 
2025-06-28T04:19:08:       SELECT 
2025-06-28T04:19:08:         COUNT(*) as total_calls,
2025-06-28T04:19:08:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:19:08.756Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:08: SQL実行成功: 結果行数=1
2025-06-28T04:19:08: [36m[2025-06-28T04:19:08.756Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:12: SQL実行: 
2025-06-28T04:19:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:12:           FROM contacts 
2025-06-28T04:19:12:           WHERE c... パラメータ数: 1
2025-06-28T04:19:12: SQL実行成功: 結果行数=0
2025-06-28T04:19:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:12: SQL実行成功: 結果行数=1
2025-06-28T04:19:12: SQL実行: 
2025-06-28T04:19:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:12:           FROM contacts 
2025-06-28T04:19:12:           WHERE c... パラメータ数: 1
2025-06-28T04:19:12: SQL実行成功: 結果行数=0
2025-06-28T04:19:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:12: SQL実行成功: 結果行数=1
2025-06-28T04:19:12: SQL実行: 
2025-06-28T04:19:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:12:           FROM contacts 
2025-06-28T04:19:12:           WHERE c... パラメータ数: 1
2025-06-28T04:19:12: SQL実行成功: 結果行数=0
2025-06-28T04:19:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:12: SQL実行成功: 結果行数=1
2025-06-28T04:19:12: SQL実行: 
2025-06-28T04:19:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:12:           FROM contacts 
2025-06-28T04:19:12:           WHERE c... パラメータ数: 1
2025-06-28T04:19:12: SQL実行成功: 結果行数=0
2025-06-28T04:19:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:12: SQL実行成功: 結果行数=1
[2025-06-28T04:19:13.749Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:13: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:19:13: [36m[2025-06-28T04:19:13.749Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:13: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:19:13: SQL実行成功: 結果行数=1
2025-06-28T04:19:13: SQL実行: 
2025-06-28T04:19:13:       SELECT 
2025-06-28T04:19:13:         COUNT(*) as total,
2025-06-28T04:19:13:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:19:13: SQL実行成功: 結果行数=1
2025-06-28T04:19:13: SQL実行: 
2025-06-28T04:19:13:       SELECT 
2025-06-28T04:19:13:         COUNT(*) as total_calls,
2025-06-28T04:19:13:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:19:13: SQL実行成功: 結果行数=1
[2025-06-28T04:19:13.752Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:13: [36m[2025-06-28T04:19:13.752Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:16: SQL実行: 
2025-06-28T04:19:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:19:16:                ci.number as ca... 
2025-06-28T04:19:16: SQL実行成功: 結果行数=82
2025-06-28T04:19:17: SQL実行: 
2025-06-28T04:19:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:17:           FROM contacts 
2025-06-28T04:19:17:           WHERE c... パラメータ数: 1
2025-06-28T04:19:17: SQL実行成功: 結果行数=0
2025-06-28T04:19:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:17: SQL実行成功: 結果行数=1
2025-06-28T04:19:17: SQL実行: 
2025-06-28T04:19:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:17:           FROM contacts 
2025-06-28T04:19:17:           WHERE c... パラメータ数: 1
2025-06-28T04:19:17: SQL実行成功: 結果行数=0
2025-06-28T04:19:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:17: SQL実行成功: 結果行数=1
2025-06-28T04:19:17: SQL実行: 
2025-06-28T04:19:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:17:           FROM contacts 
2025-06-28T04:19:17:           WHERE c... パラメータ数: 1
2025-06-28T04:19:17: SQL実行成功: 結果行数=0
2025-06-28T04:19:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:17: SQL実行成功: 結果行数=1
2025-06-28T04:19:17: SQL実行: 
2025-06-28T04:19:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:17:           FROM contacts 
2025-06-28T04:19:17:           WHERE c... パラメータ数: 1
2025-06-28T04:19:17: SQL実行成功: 結果行数=0
2025-06-28T04:19:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:17: SQL実行成功: 結果行数=1
[2025-06-28T04:19:18.751Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:18: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:19:18: [36m[2025-06-28T04:19:18.751Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:18: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:19:18: SQL実行成功: 結果行数=1
2025-06-28T04:19:18: SQL実行: 
2025-06-28T04:19:18:       SELECT 
2025-06-28T04:19:18:         COUNT(*) as total,
2025-06-28T04:19:18:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:19:18: SQL実行成功: 結果行数=1
2025-06-28T04:19:18: SQL実行: 
2025-06-28T04:19:18:       SELECT 
2025-06-28T04:19:18:         COUNT(*) as total_calls,
2025-06-28T04:19:18:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:19:18.754Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:18: SQL実行成功: 結果行数=1
2025-06-28T04:19:18: [36m[2025-06-28T04:19:18.754Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T04:19:21.257Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:19:21: SQL実行成功: 結果行数=1
2025-06-28T04:19:21: [36m[2025-06-28T04:19:21.257Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:19:22: SQL実行: 
2025-06-28T04:19:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:22:           FROM contacts 
2025-06-28T04:19:22:           WHERE c... パラメータ数: 1
2025-06-28T04:19:22: SQL実行成功: 結果行数=0
2025-06-28T04:19:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:22: SQL実行成功: 結果行数=1
2025-06-28T04:19:22: SQL実行: 
2025-06-28T04:19:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:22:           FROM contacts 
2025-06-28T04:19:22:           WHERE c... パラメータ数: 1
2025-06-28T04:19:22: SQL実行成功: 結果行数=0
2025-06-28T04:19:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:22: SQL実行成功: 結果行数=1
2025-06-28T04:19:22: SQL実行: 
2025-06-28T04:19:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:22:           FROM contacts 
2025-06-28T04:19:22:           WHERE c... パラメータ数: 1
2025-06-28T04:19:22: SQL実行成功: 結果行数=0
2025-06-28T04:19:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:22: SQL実行成功: 結果行数=1
2025-06-28T04:19:22: SQL実行: 
2025-06-28T04:19:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:22:           FROM contacts 
2025-06-28T04:19:22:           WHERE c... パラメータ数: 1
2025-06-28T04:19:22: SQL実行成功: 結果行数=0
2025-06-28T04:19:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:22: SQL実行成功: 結果行数=1
[2025-06-28T04:19:23.751Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:23: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:19:23: [36m[2025-06-28T04:19:23.751Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:23: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:19:23: SQL実行成功: 結果行数=1
2025-06-28T04:19:23: SQL実行: 
2025-06-28T04:19:23:       SELECT 
2025-06-28T04:19:23:         COUNT(*) as total,
2025-06-28T04:19:23:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:19:23: SQL実行成功: 結果行数=1
2025-06-28T04:19:23: SQL実行: 
2025-06-28T04:19:23:       SELECT 
2025-06-28T04:19:23:         COUNT(*) as total_calls,
2025-06-28T04:19:23:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:19:23.754Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:23: SQL実行成功: 結果行数=1
2025-06-28T04:19:23: [36m[2025-06-28T04:19:23.754Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:27: SQL実行: 
2025-06-28T04:19:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:27:           FROM contacts 
2025-06-28T04:19:27:           WHERE c... パラメータ数: 1
2025-06-28T04:19:27: SQL実行成功: 結果行数=0
2025-06-28T04:19:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:27: SQL実行成功: 結果行数=1
2025-06-28T04:19:27: SQL実行: 
2025-06-28T04:19:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:27:           FROM contacts 
2025-06-28T04:19:27:           WHERE c... パラメータ数: 1
2025-06-28T04:19:27: SQL実行成功: 結果行数=0
2025-06-28T04:19:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:27: SQL実行成功: 結果行数=1
2025-06-28T04:19:27: SQL実行: 
2025-06-28T04:19:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:27:           FROM contacts 
2025-06-28T04:19:27:           WHERE c... パラメータ数: 1
2025-06-28T04:19:27: SQL実行成功: 結果行数=0
2025-06-28T04:19:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:27: SQL実行成功: 結果行数=1
2025-06-28T04:19:27: SQL実行: 
2025-06-28T04:19:27:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:27:           FROM contacts 
2025-06-28T04:19:27:           WHERE c... パラメータ数: 1
2025-06-28T04:19:27: SQL実行成功: 結果行数=0
2025-06-28T04:19:27: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:27: SQL実行成功: 結果行数=1
[2025-06-28T04:19:28.748Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:28: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:19:28: [36m[2025-06-28T04:19:28.748Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:28: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:19:28: SQL実行成功: 結果行数=1
2025-06-28T04:19:28: SQL実行: 
2025-06-28T04:19:28:       SELECT 
2025-06-28T04:19:28:         COUNT(*) as total,
2025-06-28T04:19:28:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:19:28: SQL実行成功: 結果行数=1
2025-06-28T04:19:28: SQL実行: 
2025-06-28T04:19:28:       SELECT 
2025-06-28T04:19:28:         COUNT(*) as total_calls,
2025-06-28T04:19:28:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:19:28: SQL実行成功: 結果行数=1
[2025-06-28T04:19:28.752Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:28: [36m[2025-06-28T04:19:28.752Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:31: SQL実行: SELECT 1... 
2025-06-28T04:19:31: SQL実行成功: 結果行数=1
2025-06-28T04:19:31: SQL実行: 
2025-06-28T04:19:31:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:19:31:                ci.number as ca... 
2025-06-28T04:19:31: SQL実行成功: 結果行数=82
2025-06-28T04:19:32: SQL実行: 
2025-06-28T04:19:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:32:           FROM contacts 
2025-06-28T04:19:32:           WHERE c... パラメータ数: 1
2025-06-28T04:19:32: SQL実行成功: 結果行数=0
2025-06-28T04:19:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:32: SQL実行成功: 結果行数=1
2025-06-28T04:19:32: SQL実行: 
2025-06-28T04:19:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:32:           FROM contacts 
2025-06-28T04:19:32:           WHERE c... パラメータ数: 1
2025-06-28T04:19:32: SQL実行成功: 結果行数=0
2025-06-28T04:19:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:32: SQL実行成功: 結果行数=1
2025-06-28T04:19:32: SQL実行: 
2025-06-28T04:19:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:32:           FROM contacts 
2025-06-28T04:19:32:           WHERE c... パラメータ数: 1
2025-06-28T04:19:32: SQL実行成功: 結果行数=0
2025-06-28T04:19:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:32: SQL実行成功: 結果行数=1
2025-06-28T04:19:32: SQL実行: 
2025-06-28T04:19:32:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:32:           FROM contacts 
2025-06-28T04:19:32:           WHERE c... パラメータ数: 1
2025-06-28T04:19:32: SQL実行成功: 結果行数=0
2025-06-28T04:19:32: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:32: SQL実行成功: 結果行数=1
[2025-06-28T04:19:33.749Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:33: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:19:33: [36m[2025-06-28T04:19:33.749Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:33: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:19:33: SQL実行成功: 結果行数=1
2025-06-28T04:19:33: SQL実行: 
2025-06-28T04:19:33:       SELECT 
2025-06-28T04:19:33:         COUNT(*) as total,
2025-06-28T04:19:33:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:19:33: SQL実行成功: 結果行数=1
2025-06-28T04:19:33: SQL実行: 
2025-06-28T04:19:33:       SELECT 
2025-06-28T04:19:33:         COUNT(*) as total_calls,
2025-06-28T04:19:33:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:19:33.752Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:33: SQL実行成功: 結果行数=1
2025-06-28T04:19:33: [36m[2025-06-28T04:19:33.752Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:37: SQL実行: 
2025-06-28T04:19:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:37:           FROM contacts 
2025-06-28T04:19:37:           WHERE c... パラメータ数: 1
2025-06-28T04:19:37: SQL実行成功: 結果行数=0
2025-06-28T04:19:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:37: SQL実行成功: 結果行数=1
2025-06-28T04:19:37: SQL実行: 
2025-06-28T04:19:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:37:           FROM contacts 
2025-06-28T04:19:37:           WHERE c... パラメータ数: 1
2025-06-28T04:19:37: SQL実行成功: 結果行数=0
2025-06-28T04:19:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:37: SQL実行成功: 結果行数=1
2025-06-28T04:19:37: SQL実行: 
2025-06-28T04:19:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:37:           FROM contacts 
2025-06-28T04:19:37:           WHERE c... パラメータ数: 1
2025-06-28T04:19:37: SQL実行成功: 結果行数=0
2025-06-28T04:19:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:37: SQL実行成功: 結果行数=1
2025-06-28T04:19:37: SQL実行: 
2025-06-28T04:19:37:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:37:           FROM contacts 
2025-06-28T04:19:37:           WHERE c... パラメータ数: 1
2025-06-28T04:19:37: SQL実行成功: 結果行数=0
2025-06-28T04:19:37: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:37: SQL実行成功: 結果行数=1
[2025-06-28T04:19:38.751Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:38: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:19:38: [36m[2025-06-28T04:19:38.751Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:38: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:19:38: SQL実行成功: 結果行数=1
2025-06-28T04:19:38: SQL実行: 
2025-06-28T04:19:38:       SELECT 
2025-06-28T04:19:38:         COUNT(*) as total,
2025-06-28T04:19:38:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:19:38: SQL実行成功: 結果行数=1
2025-06-28T04:19:38: SQL実行: 
2025-06-28T04:19:38:       SELECT 
2025-06-28T04:19:38:         COUNT(*) as total_calls,
2025-06-28T04:19:38:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:19:38.755Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:38: SQL実行成功: 結果行数=1
2025-06-28T04:19:38: [36m[2025-06-28T04:19:38.755Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:42: SQL実行: 
2025-06-28T04:19:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:42:           FROM contacts 
2025-06-28T04:19:42:           WHERE c... パラメータ数: 1
2025-06-28T04:19:42: SQL実行成功: 結果行数=0
2025-06-28T04:19:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:42: SQL実行成功: 結果行数=1
2025-06-28T04:19:42: SQL実行: 
2025-06-28T04:19:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:42:           FROM contacts 
2025-06-28T04:19:42:           WHERE c... パラメータ数: 1
2025-06-28T04:19:42: SQL実行成功: 結果行数=0
2025-06-28T04:19:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:42: SQL実行成功: 結果行数=1
2025-06-28T04:19:42: SQL実行: 
2025-06-28T04:19:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:42:           FROM contacts 
2025-06-28T04:19:42:           WHERE c... パラメータ数: 1
2025-06-28T04:19:42: SQL実行成功: 結果行数=0
2025-06-28T04:19:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:42: SQL実行成功: 結果行数=1
2025-06-28T04:19:42: SQL実行: 
2025-06-28T04:19:42:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:42:           FROM contacts 
2025-06-28T04:19:42:           WHERE c... パラメータ数: 1
2025-06-28T04:19:42: SQL実行成功: 結果行数=0
2025-06-28T04:19:42: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:42: SQL実行成功: 結果行数=1
[2025-06-28T04:19:43.749Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:43: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:19:43: [36m[2025-06-28T04:19:43.749Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:43: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:19:43: SQL実行成功: 結果行数=1
2025-06-28T04:19:43: SQL実行: 
2025-06-28T04:19:43:       SELECT 
2025-06-28T04:19:43:         COUNT(*) as total,
2025-06-28T04:19:43:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:19:43: SQL実行成功: 結果行数=1
2025-06-28T04:19:43: SQL実行: 
2025-06-28T04:19:43:       SELECT 
2025-06-28T04:19:43:         COUNT(*) as total_calls,
2025-06-28T04:19:43:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:19:43.753Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:43: SQL実行成功: 結果行数=1
2025-06-28T04:19:43: [36m[2025-06-28T04:19:43.753Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:46: SQL実行: 
2025-06-28T04:19:46:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:19:46:                ci.number as ca... 
2025-06-28T04:19:46: SQL実行成功: 結果行数=82
2025-06-28T04:19:47: SQL実行: 
2025-06-28T04:19:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:47:           FROM contacts 
2025-06-28T04:19:47:           WHERE c... パラメータ数: 1
2025-06-28T04:19:47: SQL実行成功: 結果行数=0
2025-06-28T04:19:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:47: SQL実行成功: 結果行数=1
2025-06-28T04:19:47: SQL実行: 
2025-06-28T04:19:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:47:           FROM contacts 
2025-06-28T04:19:47:           WHERE c... パラメータ数: 1
2025-06-28T04:19:47: SQL実行成功: 結果行数=0
2025-06-28T04:19:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:47: SQL実行成功: 結果行数=1
2025-06-28T04:19:47: SQL実行: 
2025-06-28T04:19:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:47:           FROM contacts 
2025-06-28T04:19:47:           WHERE c... パラメータ数: 1
2025-06-28T04:19:47: SQL実行成功: 結果行数=0
2025-06-28T04:19:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:47: SQL実行成功: 結果行数=1
2025-06-28T04:19:47: SQL実行: 
2025-06-28T04:19:47:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:47:           FROM contacts 
2025-06-28T04:19:47:           WHERE c... パラメータ数: 1
2025-06-28T04:19:47: SQL実行成功: 結果行数=0
2025-06-28T04:19:47: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:47: SQL実行成功: 結果行数=1
[2025-06-28T04:19:48.749Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:48: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:19:48: [36m[2025-06-28T04:19:48.749Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:48: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:19:48: SQL実行成功: 結果行数=1
2025-06-28T04:19:48: SQL実行: 
2025-06-28T04:19:48:       SELECT 
2025-06-28T04:19:48:         COUNT(*) as total,
2025-06-28T04:19:48:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:19:48: SQL実行成功: 結果行数=1
2025-06-28T04:19:48: SQL実行: 
2025-06-28T04:19:48:       SELECT 
2025-06-28T04:19:48:         COUNT(*) as total_calls,
2025-06-28T04:19:48:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:19:48.751Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:48: SQL実行成功: 結果行数=1
2025-06-28T04:19:48: [36m[2025-06-28T04:19:48.751Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:52: SQL実行: 
2025-06-28T04:19:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:52:           FROM contacts 
2025-06-28T04:19:52:           WHERE c... パラメータ数: 1
2025-06-28T04:19:52: SQL実行成功: 結果行数=0
2025-06-28T04:19:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:52: SQL実行成功: 結果行数=1
2025-06-28T04:19:52: SQL実行: 
2025-06-28T04:19:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:52:           FROM contacts 
2025-06-28T04:19:52:           WHERE c... パラメータ数: 1
2025-06-28T04:19:52: SQL実行成功: 結果行数=0
2025-06-28T04:19:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:52: SQL実行成功: 結果行数=1
2025-06-28T04:19:52: SQL実行: 
2025-06-28T04:19:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:52:           FROM contacts 
2025-06-28T04:19:52:           WHERE c... パラメータ数: 1
2025-06-28T04:19:52: SQL実行成功: 結果行数=0
2025-06-28T04:19:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:52: SQL実行成功: 結果行数=1
2025-06-28T04:19:52: SQL実行: 
2025-06-28T04:19:52:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:52:           FROM contacts 
2025-06-28T04:19:52:           WHERE c... パラメータ数: 1
2025-06-28T04:19:52: SQL実行成功: 結果行数=0
2025-06-28T04:19:52: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:52: SQL実行成功: 結果行数=1
[2025-06-28T04:19:53.748Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:53: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:19:53: [36m[2025-06-28T04:19:53.748Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:53: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:19:53: SQL実行成功: 結果行数=1
2025-06-28T04:19:53: SQL実行: 
2025-06-28T04:19:53:       SELECT 
2025-06-28T04:19:53:         COUNT(*) as total,
2025-06-28T04:19:53:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:19:53: SQL実行成功: 結果行数=1
2025-06-28T04:19:53: SQL実行: 
2025-06-28T04:19:53:       SELECT 
2025-06-28T04:19:53:         COUNT(*) as total_calls,
2025-06-28T04:19:53:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:19:53.752Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:53: SQL実行成功: 結果行数=1
2025-06-28T04:19:53: [36m[2025-06-28T04:19:53.752Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:57: SQL実行: 
2025-06-28T04:19:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:57:           FROM contacts 
2025-06-28T04:19:57:           WHERE c... パラメータ数: 1
2025-06-28T04:19:57: SQL実行成功: 結果行数=0
2025-06-28T04:19:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:57: SQL実行成功: 結果行数=1
2025-06-28T04:19:57: SQL実行: 
2025-06-28T04:19:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:57:           FROM contacts 
2025-06-28T04:19:57:           WHERE c... パラメータ数: 1
2025-06-28T04:19:57: SQL実行成功: 結果行数=0
2025-06-28T04:19:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:57: SQL実行成功: 結果行数=1
2025-06-28T04:19:57: SQL実行: 
2025-06-28T04:19:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:57:           FROM contacts 
2025-06-28T04:19:57:           WHERE c... パラメータ数: 1
2025-06-28T04:19:57: SQL実行成功: 結果行数=0
2025-06-28T04:19:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:57: SQL実行成功: 結果行数=1
2025-06-28T04:19:57: SQL実行: 
2025-06-28T04:19:57:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:19:57:           FROM contacts 
2025-06-28T04:19:57:           WHERE c... パラメータ数: 1
2025-06-28T04:19:57: SQL実行成功: 結果行数=0
2025-06-28T04:19:57: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:19:57: SQL実行成功: 結果行数=1
[2025-06-28T04:19:58.748Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:58: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:19:58: [36m[2025-06-28T04:19:58.748Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:19:58: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:19:58: SQL実行成功: 結果行数=1
2025-06-28T04:19:58: SQL実行: 
2025-06-28T04:19:58:       SELECT 
2025-06-28T04:19:58:         COUNT(*) as total,
2025-06-28T04:19:58:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:19:58: SQL実行成功: 結果行数=1
2025-06-28T04:19:58: SQL実行: 
2025-06-28T04:19:58:       SELECT 
2025-06-28T04:19:58:         COUNT(*) as total_calls,
2025-06-28T04:19:58:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:19:58.751Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:19:58: SQL実行成功: 結果行数=1
2025-06-28T04:19:58: [36m[2025-06-28T04:19:58.751Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:20:01: SQL実行: SELECT 1... 
2025-06-28T04:20:01: SQL実行成功: 結果行数=1
2025-06-28T04:20:01: SQL実行: 
2025-06-28T04:20:01:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:20:01:                ci.number as ca... 
2025-06-28T04:20:01: SQL実行成功: 結果行数=82
2025-06-28T04:20:02: SQL実行: 
2025-06-28T04:20:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:02:           FROM contacts 
2025-06-28T04:20:02:           WHERE c... パラメータ数: 1
2025-06-28T04:20:02: SQL実行成功: 結果行数=0
2025-06-28T04:20:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:02: SQL実行成功: 結果行数=1
2025-06-28T04:20:02: SQL実行: 
2025-06-28T04:20:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:02:           FROM contacts 
2025-06-28T04:20:02:           WHERE c... パラメータ数: 1
2025-06-28T04:20:02: SQL実行成功: 結果行数=0
2025-06-28T04:20:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:02: SQL実行成功: 結果行数=1
2025-06-28T04:20:02: SQL実行: 
2025-06-28T04:20:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:02:           FROM contacts 
2025-06-28T04:20:02:           WHERE c... パラメータ数: 1
2025-06-28T04:20:02: SQL実行成功: 結果行数=0
2025-06-28T04:20:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:02: SQL実行成功: 結果行数=1
2025-06-28T04:20:02: SQL実行: 
2025-06-28T04:20:02:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:02:           FROM contacts 
2025-06-28T04:20:02:           WHERE c... パラメータ数: 1
2025-06-28T04:20:02: SQL実行成功: 結果行数=0
2025-06-28T04:20:02: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:02: SQL実行成功: 結果行数=1
2025-06-28T04:20:03: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
[2025-06-28T04:20:03.749Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:20:03: [36m[2025-06-28T04:20:03.749Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:20:03: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:20:03: SQL実行成功: 結果行数=1
2025-06-28T04:20:03: SQL実行: 
2025-06-28T04:20:03:       SELECT 
2025-06-28T04:20:03:         COUNT(*) as total,
2025-06-28T04:20:03:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:20:03: SQL実行成功: 結果行数=1
2025-06-28T04:20:03: SQL実行: 
2025-06-28T04:20:03:       SELECT 
2025-06-28T04:20:03:         COUNT(*) as total_calls,
2025-06-28T04:20:03:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:20:03.769Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:20:03: SQL実行成功: 結果行数=1
2025-06-28T04:20:03: [36m[2025-06-28T04:20:03.769Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:20:07: SQL実行: 
2025-06-28T04:20:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:07:           FROM contacts 
2025-06-28T04:20:07:           WHERE c... パラメータ数: 1
2025-06-28T04:20:07: SQL実行成功: 結果行数=0
2025-06-28T04:20:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:07: SQL実行成功: 結果行数=1
2025-06-28T04:20:07: SQL実行: 
2025-06-28T04:20:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:07:           FROM contacts 
2025-06-28T04:20:07:           WHERE c... パラメータ数: 1
2025-06-28T04:20:07: SQL実行成功: 結果行数=0
2025-06-28T04:20:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:07: SQL実行成功: 結果行数=1
2025-06-28T04:20:07: SQL実行: 
2025-06-28T04:20:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:07:           FROM contacts 
2025-06-28T04:20:07:           WHERE c... パラメータ数: 1
2025-06-28T04:20:07: SQL実行成功: 結果行数=0
2025-06-28T04:20:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:07: SQL実行成功: 結果行数=1
2025-06-28T04:20:07: SQL実行: 
2025-06-28T04:20:07:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:07:           FROM contacts 
2025-06-28T04:20:07:           WHERE c... パラメータ数: 1
2025-06-28T04:20:07: SQL実行成功: 結果行数=0
2025-06-28T04:20:07: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:07: SQL実行成功: 結果行数=1
[2025-06-28T04:20:08.749Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
[2025-06-28T04:20:08.756Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:20:08: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:20:08: [36m[2025-06-28T04:20:08.749Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:20:08: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:20:08: SQL実行成功: 結果行数=1
2025-06-28T04:20:08: SQL実行: 
2025-06-28T04:20:08:       SELECT 
2025-06-28T04:20:08:         COUNT(*) as total,
2025-06-28T04:20:08:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:20:08: SQL実行成功: 結果行数=1
2025-06-28T04:20:08: SQL実行: 
2025-06-28T04:20:08:       SELECT 
2025-06-28T04:20:08:         COUNT(*) as total_calls,
2025-06-28T04:20:08:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
2025-06-28T04:20:08: SQL実行成功: 結果行数=1
2025-06-28T04:20:08: [36m[2025-06-28T04:20:08.756Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:20:12: SQL実行: 
2025-06-28T04:20:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:12:           FROM contacts 
2025-06-28T04:20:12:           WHERE c... パラメータ数: 1
2025-06-28T04:20:12: SQL実行成功: 結果行数=0
2025-06-28T04:20:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:12: SQL実行成功: 結果行数=1
2025-06-28T04:20:12: SQL実行: 
2025-06-28T04:20:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:12:           FROM contacts 
2025-06-28T04:20:12:           WHERE c... パラメータ数: 1
2025-06-28T04:20:12: SQL実行成功: 結果行数=0
2025-06-28T04:20:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:12: SQL実行成功: 結果行数=1
2025-06-28T04:20:12: SQL実行: 
2025-06-28T04:20:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:12:           FROM contacts 
2025-06-28T04:20:12:           WHERE c... パラメータ数: 1
2025-06-28T04:20:12: SQL実行成功: 結果行数=0
2025-06-28T04:20:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:12: SQL実行成功: 結果行数=1
2025-06-28T04:20:12: SQL実行: 
2025-06-28T04:20:12:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:12:           FROM contacts 
2025-06-28T04:20:12:           WHERE c... パラメータ数: 1
2025-06-28T04:20:12: SQL実行成功: 結果行数=0
2025-06-28T04:20:12: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:12: SQL実行成功: 結果行数=1
[2025-06-28T04:20:13.748Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:20:13: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:20:13: [36m[2025-06-28T04:20:13.748Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:20:13: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:20:13: SQL実行成功: 結果行数=1
2025-06-28T04:20:13: SQL実行: 
2025-06-28T04:20:13:       SELECT 
2025-06-28T04:20:13:         COUNT(*) as total,
2025-06-28T04:20:13:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:20:13: SQL実行成功: 結果行数=1
2025-06-28T04:20:13: SQL実行: 
2025-06-28T04:20:13:       SELECT 
2025-06-28T04:20:13:         COUNT(*) as total_calls,
2025-06-28T04:20:13:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:20:13.752Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:20:13: SQL実行成功: 結果行数=1
2025-06-28T04:20:13: [36m[2025-06-28T04:20:13.752Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:20:16: SQL実行: 
2025-06-28T04:20:16:         SELECT c.id, c.name, c.max_concurrent_calls, c.caller_id_id,
2025-06-28T04:20:16:                ci.number as ca... 
2025-06-28T04:20:16: SQL実行成功: 結果行数=82
2025-06-28T04:20:17: SQL実行: 
2025-06-28T04:20:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:17:           FROM contacts 
2025-06-28T04:20:17:           WHERE c... パラメータ数: 1
2025-06-28T04:20:17: SQL実行成功: 結果行数=0
2025-06-28T04:20:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:17: SQL実行成功: 結果行数=1
2025-06-28T04:20:17: SQL実行: 
2025-06-28T04:20:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:17:           FROM contacts 
2025-06-28T04:20:17:           WHERE c... パラメータ数: 1
2025-06-28T04:20:17: SQL実行成功: 結果行数=0
2025-06-28T04:20:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:17: SQL実行成功: 結果行数=1
2025-06-28T04:20:17: SQL実行: 
2025-06-28T04:20:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:17:           FROM contacts 
2025-06-28T04:20:17:           WHERE c... パラメータ数: 1
2025-06-28T04:20:17: SQL実行成功: 結果行数=0
2025-06-28T04:20:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:17: SQL実行成功: 結果行数=1
2025-06-28T04:20:17: SQL実行: 
2025-06-28T04:20:17:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:17:           FROM contacts 
2025-06-28T04:20:17:           WHERE c... パラメータ数: 1
2025-06-28T04:20:17: SQL実行成功: 結果行数=0
2025-06-28T04:20:17: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:17: SQL実行成功: 結果行数=1
[2025-06-28T04:20:18.749Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:20:18: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:20:18: [36m[2025-06-28T04:20:18.749Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:20:18: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:20:18: SQL実行成功: 結果行数=1
2025-06-28T04:20:18: SQL実行: 
2025-06-28T04:20:18:       SELECT 
2025-06-28T04:20:18:         COUNT(*) as total,
2025-06-28T04:20:18:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:20:18: SQL実行成功: 結果行数=1
2025-06-28T04:20:18: SQL実行: 
2025-06-28T04:20:18:       SELECT 
2025-06-28T04:20:18:         COUNT(*) as total_calls,
2025-06-28T04:20:18:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:20:18.753Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:20:18: SQL実行成功: 結果行数=1
2025-06-28T04:20:18: [36m[2025-06-28T04:20:18.753Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:20:21: SQL実行: SELECT COUNT(*) as count FROM caller_ids WHERE active = 1... 
[2025-06-28T04:20:21.257Z] INFO  [PID:1111609] ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:20:21: SQL実行成功: 結果行数=1
2025-06-28T04:20:21: [36m[2025-06-28T04:20:21.257Z] INFO  [PID:1111609][0m ✅ データベース接続確認完了: アクティブ発信者番号 4件 {"level":"INFO"}
2025-06-28T04:20:22: SQL実行: 
2025-06-28T04:20:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:22:           FROM contacts 
2025-06-28T04:20:22:           WHERE c... パラメータ数: 1
2025-06-28T04:20:22: SQL実行成功: 結果行数=0
2025-06-28T04:20:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:22: SQL実行成功: 結果行数=1
2025-06-28T04:20:22: SQL実行: 
2025-06-28T04:20:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:22:           FROM contacts 
2025-06-28T04:20:22:           WHERE c... パラメータ数: 1
2025-06-28T04:20:22: SQL実行成功: 結果行数=0
2025-06-28T04:20:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:22: SQL実行成功: 結果行数=1
2025-06-28T04:20:22: SQL実行: 
2025-06-28T04:20:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:22:           FROM contacts 
2025-06-28T04:20:22:           WHERE c... パラメータ数: 1
2025-06-28T04:20:22: SQL実行成功: 結果行数=0
2025-06-28T04:20:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:22: SQL実行成功: 結果行数=1
2025-06-28T04:20:22: SQL実行: 
2025-06-28T04:20:22:           SELECT id, phone, name, company, attempt_count
2025-06-28T04:20:22:           FROM contacts 
2025-06-28T04:20:22:           WHERE c... パラメータ数: 1
2025-06-28T04:20:22: SQL実行成功: 結果行数=0
2025-06-28T04:20:22: SQL実行: SELECT COUNT(*) as count FROM contacts WHERE campaign_id = ? AND status = "pending"... パラメータ数: 1
2025-06-28T04:20:22: SQL実行成功: 結果行数=1
[2025-06-28T04:20:23.749Z] INFO  [PID:1111609] キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:20:23: GET /api/campaigns/173/stats - Origin: http://146.190.83.205:3003
2025-06-28T04:20:23: [36m[2025-06-28T04:20:23.749Z] INFO  [PID:1111609][0m キャンペーン統計取得: ID=173 {"level":"INFO"}
2025-06-28T04:20:23: SQL実行: SELECT * FROM campaigns WHERE id = ?... パラメータ数: 1
2025-06-28T04:20:23: SQL実行成功: 結果行数=1
2025-06-28T04:20:23: SQL実行: 
2025-06-28T04:20:23:       SELECT 
2025-06-28T04:20:23:         COUNT(*) as total,
2025-06-28T04:20:23:         SUM(CASE WHEN status = 'pending' THEN 1 ELSE 0 END... パラメータ数: 1
2025-06-28T04:20:23: SQL実行成功: 結果行数=1
2025-06-28T04:20:23: SQL実行: 
2025-06-28T04:20:23:       SELECT 
2025-06-28T04:20:23:         COUNT(*) as total_calls,
2025-06-28T04:20:23:         SUM(CASE WHEN status = 'ANSWERED' THEN 1 ELS... パラメータ数: 1
[2025-06-28T04:20:23.753Z] INFO  [PID:1111609] キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
2025-06-28T04:20:23: SQL実行成功: 結果行数=1
2025-06-28T04:20:23: [36m[2025-06-28T04:20:23.753Z] INFO  [PID:1111609][0m キャンペーン統計取得完了: ID=173, Progress=0% {"level":"INFO"}
